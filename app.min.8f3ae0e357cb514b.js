!function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){var a,b,c=Array,d=c.prototype,e=Object,f=e.prototype,g=Function,h=g.prototype,i=String,j=i.prototype,k=Number,l=k.prototype,m=d.slice,n=d.splice,o=d.push,p=d.unshift,q=d.concat,r=d.join,s=h.call,t=h.apply,u=Math.max,v=Math.min,w=f.toString,x="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,y=Function.prototype.toString,z=/^\s*class /,A=function(a){try{var b=y.call(a),c=b.replace(/\/\/.*\n/g,""),d=c.replace(/\/\*[.\s\S]*\*\//g,""),e=d.replace(/\n/gm," ").replace(/ {2}/g," ");return z.test(e)}catch(a){return!1}},B=function(a){try{return!A(a)&&(y.call(a),!0)}catch(a){return!1}},C="[object Function]",D="[object GeneratorFunction]",a=function(a){if(!a)return!1;if("function"!=typeof a&&"object"!=typeof a)return!1;if(x)return B(a);if(A(a))return!1;var b=w.call(a);return b===C||b===D},E=RegExp.prototype.exec,F=function(a){try{return E.call(a),!0}catch(a){return!1}},G="[object RegExp]";b=function(a){return"object"==typeof a&&(x?F(a):w.call(a)===G)};var H,I=String.prototype.valueOf,J=function(a){try{return I.call(a),!0}catch(a){return!1}},K="[object String]";H=function(a){return"string"==typeof a||"object"==typeof a&&(x?J(a):w.call(a)===K)};var L=e.defineProperty&&function(){try{var a={};e.defineProperty(a,"x",{enumerable:!1,value:a});for(var b in a)return!1;return a.x===a}catch(a){return!1}}(),M=function(a){var b;return b=L?function(a,b,c,d){!d&&b in a||e.defineProperty(a,b,{configurable:!0,enumerable:!1,writable:!0,value:c})}:function(a,b,c,d){!d&&b in a||(a[b]=c)},function(c,d,e){for(var f in d)a.call(d,f)&&b(c,f,d[f],e)}}(f.hasOwnProperty),N=function(a){var b=typeof a;return null===a||"object"!==b&&"function"!==b},O=k.isNaN||function(a){return a!==a},P={ToInteger:function(a){var b=+a;return O(b)?b=0:0!==b&&b!==1/0&&b!==-(1/0)&&(b=(b>0||-1)*Math.floor(Math.abs(b))),b},ToPrimitive:function(b){var c,d,e;if(N(b))return b;if(d=b.valueOf,a(d)&&(c=d.call(b),N(c)))return c;if(e=b.toString,a(e)&&(c=e.call(b),N(c)))return c;throw new TypeError},ToObject:function(a){if(null==a)throw new TypeError("can't convert "+a+" to object");return e(a)},ToUint32:function(a){return a>>>0}},Q=function(){};M(h,{bind:function(b){var c=this;if(!a(c))throw new TypeError("Function.prototype.bind called on incompatible "+c);for(var d,f=m.call(arguments,1),h=function(){if(this instanceof d){var a=t.call(c,this,q.call(f,m.call(arguments)));return e(a)===a?a:this}return t.call(c,b,q.call(f,m.call(arguments)))},i=u(0,c.length-f.length),j=[],k=0;k<i;k++)o.call(j,"$"+k);return d=g("binder","return function ("+r.call(j,",")+"){ return binder.apply(this, arguments); }")(h),c.prototype&&(Q.prototype=c.prototype,d.prototype=new Q,Q.prototype=null),d}});var R=s.bind(f.hasOwnProperty),S=s.bind(f.toString),T=s.bind(m),U=t.bind(m),V=s.bind(j.slice),W=s.bind(j.split),X=s.bind(j.indexOf),Y=s.bind(o),Z=s.bind(f.propertyIsEnumerable),$=s.bind(d.sort),_=c.isArray||function(a){return"[object Array]"===S(a)},aa=1!==[].unshift(0);M(d,{unshift:function(){return p.apply(this,arguments),this.length}},aa),M(c,{isArray:_});var ba=e("a"),ca="a"!==ba[0]||!(0 in ba),da=function(a){var b=!0,c=!0,d=!1;if(a)try{a.call("foo",function(a,c,d){"object"!=typeof d&&(b=!1)}),a.call([1],function(){"use strict";c="string"==typeof this},"x")}catch(a){d=!0}return!!a&&!d&&b&&c};M(d,{forEach:function(b){var c,d=P.ToObject(this),e=ca&&H(this)?W(this,""):d,f=-1,g=P.ToUint32(e.length);if(arguments.length>1&&(c=arguments[1]),!a(b))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++f<g;)f in e&&("undefined"==typeof c?b(e[f],f,d):b.call(c,e[f],f,d))}},!da(d.forEach)),M(d,{map:function(b){var d,e=P.ToObject(this),f=ca&&H(this)?W(this,""):e,g=P.ToUint32(f.length),h=c(g);if(arguments.length>1&&(d=arguments[1]),!a(b))throw new TypeError("Array.prototype.map callback must be a function");for(var i=0;i<g;i++)i in f&&("undefined"==typeof d?h[i]=b(f[i],i,e):h[i]=b.call(d,f[i],i,e));return h}},!da(d.map)),M(d,{filter:function(b){var c,d,e=P.ToObject(this),f=ca&&H(this)?W(this,""):e,g=P.ToUint32(f.length),h=[];if(arguments.length>1&&(d=arguments[1]),!a(b))throw new TypeError("Array.prototype.filter callback must be a function");for(var i=0;i<g;i++)i in f&&(c=f[i],("undefined"==typeof d?b(c,i,e):b.call(d,c,i,e))&&Y(h,c));return h}},!da(d.filter)),M(d,{every:function(b){var c,d=P.ToObject(this),e=ca&&H(this)?W(this,""):d,f=P.ToUint32(e.length);if(arguments.length>1&&(c=arguments[1]),!a(b))throw new TypeError("Array.prototype.every callback must be a function");for(var g=0;g<f;g++)if(g in e&&!("undefined"==typeof c?b(e[g],g,d):b.call(c,e[g],g,d)))return!1;return!0}},!da(d.every)),M(d,{some:function(b){var c,d=P.ToObject(this),e=ca&&H(this)?W(this,""):d,f=P.ToUint32(e.length);if(arguments.length>1&&(c=arguments[1]),!a(b))throw new TypeError("Array.prototype.some callback must be a function");for(var g=0;g<f;g++)if(g in e&&("undefined"==typeof c?b(e[g],g,d):b.call(c,e[g],g,d)))return!0;return!1}},!da(d.some));var ea=!1;d.reduce&&(ea="object"==typeof d.reduce.call("es5",function(a,b,c,d){return d})),M(d,{reduce:function(b){var c=P.ToObject(this),d=ca&&H(this)?W(this,""):c,e=P.ToUint32(d.length);if(!a(b))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===e&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var f,g=0;if(arguments.length>=2)f=arguments[1];else for(;;){if(g in d){f=d[g++];break}if(++g>=e)throw new TypeError("reduce of empty array with no initial value")}for(;g<e;g++)g in d&&(f=b(f,d[g],g,c));return f}},!ea);var fa=!1;d.reduceRight&&(fa="object"==typeof d.reduceRight.call("es5",function(a,b,c,d){return d})),M(d,{reduceRight:function(b){var c=P.ToObject(this),d=ca&&H(this)?W(this,""):c,e=P.ToUint32(d.length);if(!a(b))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===e&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var f,g=e-1;if(arguments.length>=2)f=arguments[1];else for(;;){if(g in d){f=d[g--];break}if(--g<0)throw new TypeError("reduceRight of empty array with no initial value")}if(g<0)return f;do g in d&&(f=b(f,d[g],g,c));while(g--);return f}},!fa);var ga=d.indexOf&&[0,1].indexOf(1,2)!==-1;M(d,{indexOf:function(a){var b=ca&&H(this)?W(this,""):P.ToObject(this),c=P.ToUint32(b.length);if(0===c)return-1;var d=0;for(arguments.length>1&&(d=P.ToInteger(arguments[1])),d=d>=0?d:u(0,c+d);d<c;d++)if(d in b&&b[d]===a)return d;return-1}},ga);var ha=d.lastIndexOf&&[0,1].lastIndexOf(0,-3)!==-1;M(d,{lastIndexOf:function(a){var b=ca&&H(this)?W(this,""):P.ToObject(this),c=P.ToUint32(b.length);if(0===c)return-1;var d=c-1;for(arguments.length>1&&(d=v(d,P.ToInteger(arguments[1]))),d=d>=0?d:c-Math.abs(d);d>=0;d--)if(d in b&&a===b[d])return d;return-1}},ha);var ia=function(){var a=[1,2],b=a.splice();return 2===a.length&&_(b)&&0===b.length}();M(d,{splice:function(a,b){return 0===arguments.length?[]:n.apply(this,arguments)}},!ia);var ja=function(){var a={};return d.splice.call(a,0,0,1),1===a.length}();M(d,{splice:function(a,b){if(0===arguments.length)return[];var c=arguments;return this.length=u(P.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof b&&(c=T(arguments),c.length<2?Y(c,this.length-a):c[1]=P.ToInteger(b)),n.apply(this,c)}},!ja);var ka=function(){var a=new c(1e5);return a[8]="x",a.splice(1,1),7===a.indexOf("x")}(),la=function(){var a=256,b=[];return b[a]="a",b.splice(a+1,0,"b"),"a"===b[a]}();M(d,{splice:function(a,b){for(var c,d=P.ToObject(this),e=[],f=P.ToUint32(d.length),g=P.ToInteger(a),h=g<0?u(f+g,0):v(g,f),j=v(u(P.ToInteger(b),0),f-h),k=0;k<j;)c=i(h+k),R(d,c)&&(e[k]=d[c]),k+=1;var l,m=T(arguments,2),n=m.length;if(n<j){k=h;for(var o=f-j;k<o;)c=i(k+j),l=i(k+n),R(d,c)?d[l]=d[c]:delete d[l],k+=1;k=f;for(var p=f-j+n;k>p;)delete d[k-1],k-=1}else if(n>j)for(k=f-j;k>h;)c=i(k+j-1),l=i(k+n-1),R(d,c)?d[l]=d[c]:delete d[l],k-=1;k=h;for(var q=0;q<m.length;++q)d[k]=m[q],k+=1;return d.length=f-j+n,e}},!ka||!la);var ma,na=d.join;try{ma="1,2,3"!==Array.prototype.join.call("123",",")}catch(a){ma=!0}ma&&M(d,{join:function(a){var b="undefined"==typeof a?",":a;return na.call(H(this)?W(this,""):this,b)}},ma);var oa="1,2"!==[1,2].join(void 0);oa&&M(d,{join:function(a){var b="undefined"==typeof a?",":a;return na.call(this,b)}},oa);var pa=function(a){for(var b=P.ToObject(this),c=P.ToUint32(b.length),d=0;d<arguments.length;)b[c+d]=arguments[d],d+=1;return b.length=c+d,c+d},qa=function(){var a={},b=Array.prototype.push.call(a,void 0);return 1!==b||1!==a.length||"undefined"!=typeof a[0]||!R(a,0)}();M(d,{push:function(a){return _(this)?o.apply(this,arguments):pa.apply(this,arguments)}},qa);var ra=function(){var a=[],b=a.push(void 0);return 1!==b||1!==a.length||"undefined"!=typeof a[0]||!R(a,0)}();M(d,{push:pa},ra),M(d,{slice:function(a,b){var c=H(this)?W(this,""):this;return U(c,arguments)}},ca);var sa=function(){try{return[1,2].sort(null),[1,2].sort({}),!0}catch(a){}return!1}(),ta=function(){try{return[1,2].sort(/a/),!1}catch(a){}return!0}(),ua=function(){try{return[1,2].sort(void 0),!0}catch(a){}return!1}();M(d,{sort:function(b){if("undefined"==typeof b)return $(this);if(!a(b))throw new TypeError("Array.prototype.sort callback must be a function");return $(this,b)}},sa||!ua||!ta);var va=!Z({toString:null},"toString"),wa=Z(function(){},"prototype"),xa=!R("x","0"),ya=function(a){var b=a.constructor;return b&&b.prototype===a},za={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$external:!0},Aa=function(){if("undefined"==typeof window)return!1;for(var a in window)try{!za["$"+a]&&R(window,a)&&null!==window[a]&&"object"==typeof window[a]&&ya(window[a])}catch(a){return!0}return!1}(),Ba=function(a){if("undefined"==typeof window||!Aa)return ya(a);try{return ya(a)}catch(a){return!1}},Ca=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Da=Ca.length,Ea=function(a){return"[object Arguments]"===S(a)},Fa=function(b){return null!==b&&"object"==typeof b&&"number"==typeof b.length&&b.length>=0&&!_(b)&&a(b.callee)},Ga=Ea(arguments)?Ea:Fa;M(e,{keys:function(b){var c=a(b),d=Ga(b),e=null!==b&&"object"==typeof b,f=e&&H(b);if(!e&&!c&&!d)throw new TypeError("Object.keys called on a non-object");var g=[],h=wa&&c;if(f&&xa||d)for(var j=0;j<b.length;++j)Y(g,i(j));if(!d)for(var k in b)h&&"prototype"===k||!R(b,k)||Y(g,i(k));if(va)for(var l=Ba(b),m=0;m<Da;m++){var n=Ca[m];l&&"constructor"===n||!R(b,n)||Y(g,n)}return g}});var Ha=e.keys&&function(){return 2===e.keys(arguments).length}(1,2),Ia=e.keys&&function(){var a=e.keys(arguments);return 1!==arguments.length||1!==a.length||1!==a[0]}(1),Ja=e.keys;M(e,{keys:function(a){return Ja(Ga(a)?T(a):a)}},!Ha||Ia);var Ka,La,Ma=0!==new Date(-0xc782b5b342b24).getUTCMonth(),Na=new Date(-0x55d318d56a724),Oa=new Date(14496624e5),Pa="Mon, 01 Jan -45875 11:59:59 GMT"!==Na.toUTCString(),Qa=Na.getTimezoneOffset();Qa<-720?(Ka="Tue Jan 02 -45875"!==Na.toDateString(),La=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Oa.toString())):(Ka="Mon Jan 01 -45875"!==Na.toDateString(),La=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Oa.toString()));var Ra=s.bind(Date.prototype.getFullYear),Sa=s.bind(Date.prototype.getMonth),Ta=s.bind(Date.prototype.getDate),Ua=s.bind(Date.prototype.getUTCFullYear),Va=s.bind(Date.prototype.getUTCMonth),Wa=s.bind(Date.prototype.getUTCDate),Xa=s.bind(Date.prototype.getUTCDay),Ya=s.bind(Date.prototype.getUTCHours),Za=s.bind(Date.prototype.getUTCMinutes),$a=s.bind(Date.prototype.getUTCSeconds),_a=s.bind(Date.prototype.getUTCMilliseconds),ab=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],bb=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],cb=function(a,b){return Ta(new Date(b,a,0))};M(Date.prototype,{getFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var a=Ra(this);return a<0&&Sa(this)>11?a+1:a},getMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var a=Ra(this),b=Sa(this);return a<0&&b>11?0:b},getDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var a=Ra(this),b=Sa(this),c=Ta(this);if(a<0&&b>11){if(12===b)return c;var d=cb(0,a+1);return d-c+1}return c},getUTCFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var a=Ua(this);return a<0&&Va(this)>11?a+1:a},getUTCMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var a=Ua(this),b=Va(this);return a<0&&b>11?0:b},getUTCDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var a=Ua(this),b=Va(this),c=Wa(this);if(a<0&&b>11){if(12===b)return c;var d=cb(0,a+1);return d-c+1}return c}},Ma),M(Date.prototype,{toUTCString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var a=Xa(this),b=Wa(this),c=Va(this),d=Ua(this),e=Ya(this),f=Za(this),g=$a(this);return ab[a]+", "+(b<10?"0"+b:b)+" "+bb[c]+" "+d+" "+(e<10?"0"+e:e)+":"+(f<10?"0"+f:f)+":"+(g<10?"0"+g:g)+" GMT"}},Ma||Pa),M(Date.prototype,{toDateString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var a=this.getDay(),b=this.getDate(),c=this.getMonth(),d=this.getFullYear();return ab[a]+" "+bb[c]+" "+(b<10?"0"+b:b)+" "+d}},Ma||Ka),(Ma||La)&&(Date.prototype.toString=function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var a=this.getDay(),b=this.getDate(),c=this.getMonth(),d=this.getFullYear(),e=this.getHours(),f=this.getMinutes(),g=this.getSeconds(),h=this.getTimezoneOffset(),i=Math.floor(Math.abs(h)/60),j=Math.floor(Math.abs(h)%60);return ab[a]+" "+bb[c]+" "+(b<10?"0"+b:b)+" "+d+" "+(e<10?"0"+e:e)+":"+(f<10?"0"+f:f)+":"+(g<10?"0"+g:g)+" GMT"+(h>0?"-":"+")+(i<10?"0"+i:i)+(j<10?"0"+j:j)},L&&e.defineProperty(Date.prototype,"toString",{configurable:!0,enumerable:!1,writable:!0}));var db=-621987552e5,eb="-000001",fb=Date.prototype.toISOString&&new Date(db).toISOString().indexOf(eb)===-1,gb=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString(),hb=s.bind(Date.prototype.getTime);M(Date.prototype,{toISOString:function(){if(!isFinite(this)||!isFinite(hb(this)))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var a=Ua(this),b=Va(this);a+=Math.floor(b/12),b=(b%12+12)%12;var c=[b+1,Wa(this),Ya(this),Za(this),$a(this)];a=(a<0?"-":a>9999?"+":"")+V("00000"+Math.abs(a),0<=a&&a<=9999?-4:-6);for(var d=0;d<c.length;++d)c[d]=V("00"+c[d],-2);return a+"-"+T(c,0,2).join("-")+"T"+T(c,2).join(":")+"."+V("000"+_a(this),-3)+"Z"}},fb||gb);var ib=function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&new Date(db).toJSON().indexOf(eb)!==-1&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(a){return!1}}();ib||(Date.prototype.toJSON=function(b){var c=e(this),d=P.ToPrimitive(c);if("number"==typeof d&&!isFinite(d))return null;var f=c.toISOString;if(!a(f))throw new TypeError("toISOString property is not callable");return f.call(c)});var jb=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),kb=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z")),lb=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(lb||kb||!jb){var mb=Math.pow(2,31)-1,nb=O(new Date(1970,0,1,0,0,0,mb+1).getTime());Date=function(a){var b=function(c,d,e,f,g,h,j){var k,l=arguments.length;if(this instanceof a){var m=h,n=j;if(nb&&l>=7&&j>mb){var o=Math.floor(j/mb)*mb,p=Math.floor(o/1e3);m+=p,n-=1e3*p}k=1===l&&i(c)===c?new a(b.parse(c)):l>=7?new a(c,d,e,f,g,m,n):l>=6?new a(c,d,e,f,g,m):l>=5?new a(c,d,e,f,g):l>=4?new a(c,d,e,f):l>=3?new a(c,d,e):l>=2?new a(c,d):l>=1?new a(c instanceof a?+c:c):new a}else k=a.apply(this,arguments);return N(k)||M(k,{constructor:b},!0),k},c=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),d=[0,31,59,90,120,151,181,212,243,273,304,334,365],e=function(a,b){var c=b>1?1:0;return d[b]+Math.floor((a-1969+c)/4)-Math.floor((a-1901+c)/100)+Math.floor((a-1601+c)/400)+365*(a-1970)},f=function(b){var c=0,d=b;if(nb&&d>mb){var e=Math.floor(d/mb)*mb,f=Math.floor(e/1e3);c+=f,d-=1e3*f}return k(new a(1970,0,1,0,0,c,d))};for(var g in a)R(a,g)&&(b[g]=a[g]);M(b,{now:a.now,UTC:a.UTC},!0),b.prototype=a.prototype,M(b.prototype,{constructor:b},!0);var h=function(b){var d=c.exec(b);if(d){var g,h=k(d[1]),i=k(d[2]||1)-1,j=k(d[3]||1)-1,l=k(d[4]||0),m=k(d[5]||0),n=k(d[6]||0),o=Math.floor(1e3*k(d[7]||0)),p=Boolean(d[4]&&!d[8]),q="-"===d[9]?1:-1,r=k(d[10]||0),s=k(d[11]||0),t=m>0||n>0||o>0;return l<(t?24:25)&&m<60&&n<60&&o<1e3&&i>-1&&i<12&&r<24&&s<60&&j>-1&&j<e(h,i+1)-e(h,i)&&(g=60*(24*(e(h,i)+j)+l+r*q),g=1e3*(60*(g+m+s*q)+n)+o,p&&(g=f(g)),-864e13<=g&&g<=864e13)?g:NaN}return a.parse.apply(this,arguments)};return M(b,{parse:h}),b}(Date)}Date.now||(Date.now=function(){return(new Date).getTime()});var ob=l.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),pb={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(a,b){for(var c=-1,d=b;++c<pb.size;)d+=a*pb.data[c],pb.data[c]=d%pb.base,d=Math.floor(d/pb.base)},divide:function(a){for(var b=pb.size,c=0;--b>=0;)c+=pb.data[b],pb.data[b]=Math.floor(c/a),c=c%a*pb.base},numToString:function(){for(var a=pb.size,b="";--a>=0;)if(""!==b||0===a||0!==pb.data[a]){var c=i(pb.data[a]);""===b?b=c:b+=V("0000000",0,7-c.length)+c}return b},pow:function a(b,c,d){return 0===c?d:c%2===1?a(b,c-1,d*b):a(b*b,c/2,d)},log:function(a){for(var b=0,c=a;c>=4096;)b+=12,c/=4096;for(;c>=2;)b+=1,c/=2;return b}},qb=function(a){var b,c,d,e,f,g,h,j;if(b=k(a),b=O(b)?0:Math.floor(b),b<0||b>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(c=k(this),O(c))return"NaN";if(c<=-1e21||c>=1e21)return i(c);if(d="",c<0&&(d="-",c=-c),e="0",c>1e-21)if(f=pb.log(c*pb.pow(2,69,1))-69,g=f<0?c*pb.pow(2,-f,1):c/pb.pow(2,f,1),g*=4503599627370496,f=52-f,f>0){for(pb.multiply(0,g),h=b;h>=7;)pb.multiply(1e7,0),h-=7;for(pb.multiply(pb.pow(10,h,1),0),h=f-1;h>=23;)pb.divide(1<<23),h-=23;pb.divide(1<<h),pb.multiply(1,1),pb.divide(2),e=pb.numToString()}else pb.multiply(0,g),pb.multiply(1<<-f,0),e=pb.numToString()+V("0.00000000000000000000",2,2+b);return b>0?(j=e.length,e=j<=b?d+V("0.0000000000000000000",0,b-j+2)+e:d+V(e,0,j-b)+"."+V(e,j-b)):e=d+e,e};M(l,{toFixed:qb},ob);var rb=function(){try{return"1"===1..toPrecision(void 0)}catch(a){return!0}}(),sb=l.toPrecision;M(l,{toPrecision:function(a){return"undefined"==typeof a?sb.call(this):sb.call(this,a)}},rb),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var a="undefined"==typeof/()??/.exec("")[1],c=Math.pow(2,32)-1;j.split=function(d,e){var f=String(this);if("undefined"==typeof d&&0===e)return[];if(!b(d))return W(this,d,e);var g,h,i,j,k=[],l=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(d.sticky?"y":""),m=0,n=new RegExp(d.source,l+"g");a||(g=new RegExp("^"+n.source+"$(?!\\s)",l));var p="undefined"==typeof e?c:P.ToUint32(e);for(h=n.exec(f);h&&(i=h.index+h[0].length,!(i>m&&(Y(k,V(f,m,h.index)),!a&&h.length>1&&h[0].replace(g,function(){for(var a=1;a<arguments.length-2;a++)"undefined"==typeof arguments[a]&&(h[a]=void 0)}),h.length>1&&h.index<f.length&&o.apply(k,T(h,1)),j=h[0].length,m=i,k.length>=p)));)n.lastIndex===h.index&&n.lastIndex++,h=n.exec(f);return m===f.length?!j&&n.test("")||Y(k,""):Y(k,V(f,m)),k.length>p?T(k,0,p):k}}():"0".split(void 0,0).length&&(j.split=function(a,b){return"undefined"==typeof a&&0===b?[]:W(this,a,b)});var tb=j.replace,ub=function(){var a=[];return"x".replace(/x(.)?/g,function(b,c){Y(a,c)}),1===a.length&&"undefined"==typeof a[0]}();ub||(j.replace=function(c,d){var e=a(d),f=b(c)&&/\)[*?]/.test(c.source);if(e&&f){var g=function(a){var b=arguments.length,e=c.lastIndex;c.lastIndex=0;var f=c.exec(a)||[];return c.lastIndex=e,Y(f,arguments[b-2],arguments[b-1]),d.apply(this,f)};return tb.call(this,c,g)}return tb.call(this,c,d)});var vb=j.substr,wb="".substr&&"b"!=="0b".substr(-1);M(j,{substr:function(a,b){var c=a;return a<0&&(c=u(this.length+a,0)),vb.call(this,c,b)}},wb);var xb="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",yb="​",zb="["+xb+"]",Ab=new RegExp("^"+zb+zb+"*"),Bb=new RegExp(zb+zb+"*$"),Cb=j.trim&&(xb.trim()||!yb.trim());M(j,{trim:function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return i(this).replace(Ab,"").replace(Bb,"")}},Cb);var Db=s.bind(String.prototype.trim),Eb=j.lastIndexOf&&"abcあい".lastIndexOf("あい",2)!==-1;M(j,{lastIndexOf:function(a){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");for(var b=i(this),c=i(a),d=arguments.length>1?k(arguments[1]):NaN,e=O(d)?1/0:P.ToInteger(d),f=v(u(e,0),b.length),g=c.length,h=f+g;h>0;){h=u(0,h-g);var j=X(V(b,h,f+g),c);if(j!==-1)return h+j}return-1}},Eb);var Fb=j.lastIndexOf;if(M(j,{lastIndexOf:function(a){return Fb.apply(this,arguments)}},1!==j.lastIndexOf.length),8===parseInt(xb+"08")&&22===parseInt(xb+"0x16")||(parseInt=function(a){var b=/^[\-+]?0[xX]/;return function(c,d){var e=Db(String(c)),f=k(d)||(b.test(e)?16:10);return a(e,f)}}(parseInt)),1/parseFloat("-0")!==-(1/0)&&(parseFloat=function(a){return function(b){var c=Db(String(b)),d=a(c);return 0===d&&"-"===V(c,0,1)?-0:d}}(parseFloat)),"RangeError: test"!==String(new RangeError("test"))){var Gb=function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");var a=this.name;"undefined"==typeof a?a="Error":"string"!=typeof a&&(a=i(a));var b=this.message;return"undefined"==typeof b?b="":"string"!=typeof b&&(b=i(b)),a?b?a+": "+b:a:b};Error.prototype.toString=Gb}if(L){var Hb=function(a,b){if(Z(a,b)){var c=Object.getOwnPropertyDescriptor(a,b);c.configurable&&(c.enumerable=!1,Object.defineProperty(a,b,c))}};Hb(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),Hb(Error.prototype,"name")}if("/a/gim"!==String(/a/gim)){var Ib=function(){var a="/"+this.source+"/";return this.global&&(a+="g"),this.ignoreCase&&(a+="i"),this.multiline&&(a+="m"),a};RegExp.prototype.toString=Ib}}),function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";var a,b=Function.call.bind(Function.apply),c=Function.call.bind(Function.call),d=Array.isArray,e=Object.keys,f=function(a){return function(){return!b(a,this,arguments)}},g=function(a){try{return a(),!1}catch(a){return!0}},h=function(a){try{return a()}catch(a){return!1}},i=f(g),j=function(){return!g(function(){Object.defineProperty({},"x",{get:function(){}})})},k=!!Object.defineProperty&&j(),l="foo"===function(){}.name,m=Function.call.bind(Array.prototype.forEach),n=Function.call.bind(Array.prototype.reduce),o=Function.call.bind(Array.prototype.filter),p=Function.call.bind(Array.prototype.some),q=function(a,b,c,d){!d&&b in a||(k?Object.defineProperty(a,b,{configurable:!0,enumerable:!1,writable:!0,value:c}):a[b]=c)},r=function(a,b,c){m(e(b),function(d){var e=b[d];q(a,d,e,!!c)})},s=Function.call.bind(Object.prototype.toString),t="function"==typeof/abc/?function(a){return"function"==typeof a&&"[object Function]"===s(a)}:function(a){return"function"==typeof a},u={getter:function(a,b,c){if(!k)throw new TypeError("getters require true ES5 support");Object.defineProperty(a,b,{configurable:!0,enumerable:!1,get:c})},proxy:function(a,b,c){if(!k)throw new TypeError("getters require true ES5 support");var d=Object.getOwnPropertyDescriptor(a,b);Object.defineProperty(c,b,{configurable:d.configurable,enumerable:d.enumerable,get:function(){return a[b]},set:function(c){a[b]=c}})},redefine:function(a,b,c){if(k){var d=Object.getOwnPropertyDescriptor(a,b);d.value=c,Object.defineProperty(a,b,d)}else a[b]=c},defineByDescriptor:function(a,b,c){k?Object.defineProperty(a,b,c):"value"in c&&(a[b]=c.value)},preserveToString:function(a,b){b&&t(b.toString)&&q(a,"toString",b.toString.bind(b),!0)}},v=Object.create||function(a,b){var c=function(){};c.prototype=a;var d=new c;return"undefined"!=typeof b&&e(b).forEach(function(a){u.defineByDescriptor(d,a,b[a])}),d},w=function(a,b){return!!Object.setPrototypeOf&&h(function(){var c=function b(c){var d=new a(c);return Object.setPrototypeOf(d,b.prototype),d};return Object.setPrototypeOf(c,a),c.prototype=v(a.prototype,{constructor:{value:c}}),b(c)})},x=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")},y=x(),z=y.isFinite,A=Function.call.bind(String.prototype.indexOf),B=Function.apply.bind(Array.prototype.indexOf),C=Function.call.bind(Array.prototype.concat),D=Function.call.bind(String.prototype.slice),E=Function.call.bind(Array.prototype.push),F=Function.apply.bind(Array.prototype.push),G=Function.call.bind(Array.prototype.shift),H=Math.max,I=Math.min,J=Math.floor,K=Math.abs,L=Math.exp,M=Math.log,N=Math.sqrt,O=Function.call.bind(Object.prototype.hasOwnProperty),P=function(){},Q=y.Symbol||{},R=Q.species||"@@species",S=Number.isNaN||function(a){return a!==a},T=Number.isFinite||function(a){return"number"==typeof a&&z(a)},U=t(Math.sign)?Math.sign:function(a){var b=Number(a);return 0===b?b:S(b)?b:b<0?-1:1},V=function(a){return"[object Arguments]"===s(a)},W=function(a){return null!==a&&"object"==typeof a&&"number"==typeof a.length&&a.length>=0&&"[object Array]"!==s(a)&&"[object Function]"===s(a.callee)},X=V(arguments)?V:W,Y={primitive:function(a){return null===a||"function"!=typeof a&&"object"!=typeof a},string:function(a){return"[object String]"===s(a)},regex:function(a){return"[object RegExp]"===s(a)},symbol:function(a){return"function"==typeof y.Symbol&&"symbol"==typeof a}},Z=function(a,b,c){var d=a[b];q(a,b,c,!0),u.preserveToString(a[b],d)},$="function"==typeof Q&&"function"==typeof Q.for&&Y.symbol(Q()),_=Y.symbol(Q.iterator)?Q.iterator:"_es6-shim iterator_";y.Set&&"function"==typeof(new y.Set)["@@iterator"]&&(_="@@iterator"),y.Reflect||q(y,"Reflect",{},!0);var aa=y.Reflect,ba=String,ca={Call:function(a,c){var d=arguments.length>2?arguments[2]:[];if(!ca.IsCallable(a))throw new TypeError(a+" is not a function");return b(a,c,d)},RequireObjectCoercible:function(a,b){if(null==a)throw new TypeError(b||"Cannot call method on "+a);return a},TypeIsObject:function(a){return void 0!==a&&null!==a&&a!==!0&&a!==!1&&("function"==typeof a||"object"==typeof a)},ToObject:function(a,b){return Object(ca.RequireObjectCoercible(a,b))},IsCallable:t,IsConstructor:function(a){return ca.IsCallable(a)},ToInt32:function(a){return ca.ToNumber(a)>>0},ToUint32:function(a){return ca.ToNumber(a)>>>0},ToNumber:function(a){if("[object Symbol]"===s(a))throw new TypeError("Cannot convert a Symbol value to a number");return+a},ToInteger:function(a){var b=ca.ToNumber(a);return S(b)?0:0!==b&&T(b)?(b>0?1:-1)*J(K(b)):b},ToLength:function(a){var b=ca.ToInteger(a);return b<=0?0:b>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:b},SameValue:function(a,b){return a===b?0!==a||1/a===1/b:S(a)&&S(b)},SameValueZero:function(a,b){return a===b||S(a)&&S(b)},IsIterable:function(a){return ca.TypeIsObject(a)&&("undefined"!=typeof a[_]||X(a))},GetIterator:function(b){if(X(b))return new a(b,"value");var c=ca.GetMethod(b,_);if(!ca.IsCallable(c))throw new TypeError("value is not an iterable");var d=ca.Call(c,b);if(!ca.TypeIsObject(d))throw new TypeError("bad iterator");return d},GetMethod:function(a,b){var c=ca.ToObject(a)[b];if(void 0!==c&&null!==c){if(!ca.IsCallable(c))throw new TypeError("Method not callable: "+b);return c}},IteratorComplete:function(a){return!!a.done},IteratorClose:function(a,b){var c=ca.GetMethod(a,"return");if(void 0!==c){var d,e;try{d=ca.Call(c,a)}catch(a){e=a}if(!b){if(e)throw e;if(!ca.TypeIsObject(d))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(a){var b=arguments.length>1?a.next(arguments[1]):a.next();if(!ca.TypeIsObject(b))throw new TypeError("bad iterator");return b},IteratorStep:function(a){var b=ca.IteratorNext(a),c=ca.IteratorComplete(b);return!c&&b},Construct:function(a,b,c,d){var e="undefined"==typeof c?a:c;if(!d&&aa.construct)return aa.construct(a,b,e);var f=e.prototype;ca.TypeIsObject(f)||(f=Object.prototype);var g=v(f),h=ca.Call(a,g,b);return ca.TypeIsObject(h)?h:g},SpeciesConstructor:function(a,b){var c=a.constructor;if(void 0===c)return b;if(!ca.TypeIsObject(c))throw new TypeError("Bad constructor");var d=c[R];if(void 0===d||null===d)return b;if(!ca.IsConstructor(d))throw new TypeError("Bad @@species");return d},CreateHTML:function(a,b,c,d){var e=ca.ToString(a),f="<"+b;if(""!==c){var g=ca.ToString(d),h=g.replace(/"/g,"&quot;");f+=" "+c+'="'+h+'"'}var i=f+">",j=i+e;return j+"</"+b+">"},IsRegExp:function(a){if(!ca.TypeIsObject(a))return!1;var b=a[Q.match];return"undefined"!=typeof b?!!b:Y.regex(a)},ToString:function(a){return ba(a)}};if(k&&$){var da=function(a){if(Y.symbol(Q[a]))return Q[a];var b=Q.for("Symbol."+a);return Object.defineProperty(Q,a,{configurable:!1,enumerable:!1,writable:!1,value:b}),b};if(!Y.symbol(Q.search)){var ea=da("search"),fa=String.prototype.search;q(RegExp.prototype,ea,function(a){return ca.Call(fa,a,[this])});var ga=function(a){var b=ca.RequireObjectCoercible(this);if(null!==a&&"undefined"!=typeof a){var c=ca.GetMethod(a,ea);if("undefined"!=typeof c)return ca.Call(c,a,[b])}return ca.Call(fa,b,[ca.ToString(a)])};Z(String.prototype,"search",ga)}if(!Y.symbol(Q.replace)){var ha=da("replace"),ia=String.prototype.replace;q(RegExp.prototype,ha,function(a,b){return ca.Call(ia,a,[this,b])});var ja=function(a,b){var c=ca.RequireObjectCoercible(this);if(null!==a&&"undefined"!=typeof a){var d=ca.GetMethod(a,ha);if("undefined"!=typeof d)return ca.Call(d,a,[c,b])}return ca.Call(ia,c,[ca.ToString(a),b])};Z(String.prototype,"replace",ja)}if(!Y.symbol(Q.split)){var ka=da("split"),la=String.prototype.split;q(RegExp.prototype,ka,function(a,b){return ca.Call(la,a,[this,b])});var ma=function(a,b){var c=ca.RequireObjectCoercible(this);if(null!==a&&"undefined"!=typeof a){var d=ca.GetMethod(a,ka);if("undefined"!=typeof d)return ca.Call(d,a,[c,b])}return ca.Call(la,c,[ca.ToString(a),b])};Z(String.prototype,"split",ma)}var na=Y.symbol(Q.match),oa=na&&function(){var a={};return a[Q.match]=function(){return 42},42!=="a".match(a)}();if(!na||oa){var pa=da("match"),qa=String.prototype.match;q(RegExp.prototype,pa,function(a){return ca.Call(qa,a,[this])});var ra=function(a){var b=ca.RequireObjectCoercible(this);if(null!==a&&"undefined"!=typeof a){var c=ca.GetMethod(a,pa);if("undefined"!=typeof c)return ca.Call(c,a,[b])}return ca.Call(qa,b,[ca.ToString(a)])};Z(String.prototype,"match",ra)}}var sa=function(a,b,c){u.preserveToString(b,a),Object.setPrototypeOf&&Object.setPrototypeOf(a,b),k?m(Object.getOwnPropertyNames(a),function(d){d in P||c[d]||u.proxy(a,d,b)}):m(Object.keys(a),function(d){d in P||c[d]||(b[d]=a[d])}),b.prototype=a.prototype,u.redefine(a.prototype,"constructor",b)},ta=function(){return this},ua=function(a){k&&!O(a,R)&&u.getter(a,R,ta)},va=function(a,b){var c=b||function(){return this};q(a,_,c),!a[_]&&Y.symbol(_)&&(a[_]=c)},wa=function(a,b,c){k?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,writable:!0,value:c}):a[b]=c},xa=function(a,b,c){if(wa(a,b,c),!ca.SameValue(a[b],c))throw new TypeError("property is nonconfigurable")},ya=function(a,b,c,d){if(!ca.TypeIsObject(a))throw new TypeError("Constructor requires `new`: "+b.name);
var e=b.prototype;ca.TypeIsObject(e)||(e=c);var f=v(e);for(var g in d)if(O(d,g)){var h=d[g];q(f,g,h,!0)}return f};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var za=String.fromCodePoint;Z(String,"fromCodePoint",function(a){return ca.Call(za,this,arguments)})}var Aa={fromCodePoint:function(a){for(var b,c=[],d=0,e=arguments.length;d<e;d++){if(b=Number(arguments[d]),!ca.SameValue(b,ca.ToInteger(b))||b<0||b>1114111)throw new RangeError("Invalid code point "+b);b<65536?E(c,String.fromCharCode(b)):(b-=65536,E(c,String.fromCharCode((b>>10)+55296)),E(c,String.fromCharCode(b%1024+56320)))}return c.join("")},raw:function(a){var b=ca.ToObject(a,"bad callSite"),c=ca.ToObject(b.raw,"bad raw value"),d=c.length,e=ca.ToLength(d);if(e<=0)return"";for(var f,g,h,i,j=[],k=0;k<e&&(f=ca.ToString(k),h=ca.ToString(c[f]),E(j,h),!(k+1>=e));)g=k+1<arguments.length?arguments[k+1]:"",i=ca.ToString(g),E(j,i),k+=1;return j.join("")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&Z(String,"raw",Aa.raw),r(String,Aa);var Ba=function a(b,c){if(c<1)return"";if(c%2)return a(b,c-1)+b;var d=a(b,c/2);return d+d},Ca=1/0,Da={repeat:function(a){var b=ca.ToString(ca.RequireObjectCoercible(this)),c=ca.ToInteger(a);if(c<0||c>=Ca)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return Ba(b,c)},startsWith:function(a){var b=ca.ToString(ca.RequireObjectCoercible(this));if(ca.IsRegExp(a))throw new TypeError('Cannot call method "startsWith" with a regex');var c,d=ca.ToString(a);arguments.length>1&&(c=arguments[1]);var e=H(ca.ToInteger(c),0);return D(b,e,e+d.length)===d},endsWith:function(a){var b=ca.ToString(ca.RequireObjectCoercible(this));if(ca.IsRegExp(a))throw new TypeError('Cannot call method "endsWith" with a regex');var c,d=ca.ToString(a),e=b.length;arguments.length>1&&(c=arguments[1]);var f="undefined"==typeof c?e:ca.ToInteger(c),g=I(H(f,0),e);return D(b,g-d.length,g)===d},includes:function(a){if(ca.IsRegExp(a))throw new TypeError('"includes" does not accept a RegExp');var b,c=ca.ToString(a);return arguments.length>1&&(b=arguments[1]),A(this,c,b)!==-1},codePointAt:function(a){var b=ca.ToString(ca.RequireObjectCoercible(this)),c=ca.ToInteger(a),d=b.length;if(c>=0&&c<d){var e=b.charCodeAt(c),f=c+1===d;if(e<55296||e>56319||f)return e;var g=b.charCodeAt(c+1);return g<56320||g>57343?e:1024*(e-55296)+(g-56320)+65536}}};if(String.prototype.includes&&"a".includes("a",1/0)!==!1&&Z(String.prototype,"includes",Da.includes),String.prototype.startsWith&&String.prototype.endsWith){var Ea=g(function(){"/a/".startsWith(/a/)}),Fa=h(function(){return"abc".startsWith("a",1/0)===!1});Ea&&Fa||(Z(String.prototype,"startsWith",Da.startsWith),Z(String.prototype,"endsWith",Da.endsWith))}if($){var Ga=h(function(){var a=/a/;return a[Q.match]=!1,"/a/".startsWith(a)});Ga||Z(String.prototype,"startsWith",Da.startsWith);var Ha=h(function(){var a=/a/;return a[Q.match]=!1,"/a/".endsWith(a)});Ha||Z(String.prototype,"endsWith",Da.endsWith);var Ia=h(function(){var a=/a/;return a[Q.match]=!1,"/a/".includes(a)});Ia||Z(String.prototype,"includes",Da.includes)}r(String.prototype,Da);var Ja=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),Ka=new RegExp("(^["+Ja+"]+)|(["+Ja+"]+$)","g"),La=function(){return ca.ToString(ca.RequireObjectCoercible(this)).replace(Ka,"")},Ma=["","​","￾"].join(""),Na=new RegExp("["+Ma+"]","g"),Oa=/^[\-+]0x[0-9a-f]+$/i,Pa=Ma.trim().length!==Ma.length;q(String.prototype,"trim",La,Pa);var Qa=function(a){return{value:a,done:0===arguments.length}},Ra=function(a){ca.RequireObjectCoercible(a),this._s=ca.ToString(a),this._i=0};Ra.prototype.next=function(){var a=this._s,b=this._i;if("undefined"==typeof a||b>=a.length)return this._s=void 0,Qa();var c,d,e=a.charCodeAt(b);return e<55296||e>56319||b+1===a.length?d=1:(c=a.charCodeAt(b+1),d=c<56320||c>57343?1:2),this._i=b+d,Qa(a.substr(b,d))},va(Ra.prototype),va(String.prototype,function(){return new Ra(this)});var Sa={from:function(a){var b,d=this;arguments.length>1&&(b=arguments[1]);var e,f;if("undefined"==typeof b)e=!1;else{if(!ca.IsCallable(b))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(f=arguments[2]),e=!0}var g,h,i,j="undefined"!=typeof(X(a)||ca.GetMethod(a,_));if(j){h=ca.IsConstructor(d)?Object(new d):[];var k,l,m=ca.GetIterator(a);for(i=0;;){if(k=ca.IteratorStep(m),k===!1)break;l=k.value;try{e&&(l="undefined"==typeof f?b(l,i):c(b,f,l,i)),h[i]=l}catch(a){throw ca.IteratorClose(m,!0),a}i+=1}g=i}else{var n=ca.ToObject(a);g=ca.ToLength(n.length),h=ca.IsConstructor(d)?Object(new d(g)):new Array(g);var o;for(i=0;i<g;++i)o=n[i],e&&(o="undefined"==typeof f?b(o,i):c(b,f,o,i)),xa(h,i,o)}return h.length=g,h},of:function(){for(var a=arguments.length,b=this,c=d(b)||!ca.IsCallable(b)?new Array(a):ca.Construct(b,[a]),e=0;e<a;++e)xa(c,e,arguments[e]);return c.length=a,c}};r(Array,Sa),ua(Array),a=function(a,b){this.i=0,this.array=a,this.kind=b},r(a.prototype,{next:function(){var b=this.i,c=this.array;if(!(this instanceof a))throw new TypeError("Not an ArrayIterator");if("undefined"!=typeof c)for(var d=ca.ToLength(c.length);b<d;b++){var e,f=this.kind;return"key"===f?e=b:"value"===f?e=c[b]:"entry"===f&&(e=[b,c[b]]),this.i=b+1,Qa(e)}return this.array=void 0,Qa()}}),va(a.prototype);var Ta=Array.of===Sa.of||function(){var a=function(a){this.length=a};a.prototype=[];var b=Array.of.apply(a,[1,2]);return b instanceof a&&2===b.length}();Ta||Z(Array,"of",Sa.of);var Ua={copyWithin:function(a,b){var c,d=ca.ToObject(this),e=ca.ToLength(d.length),f=ca.ToInteger(a),g=ca.ToInteger(b),h=f<0?H(e+f,0):I(f,e),i=g<0?H(e+g,0):I(g,e);arguments.length>2&&(c=arguments[2]);var j="undefined"==typeof c?e:ca.ToInteger(c),k=j<0?H(e+j,0):I(j,e),l=I(k-i,e-h),m=1;for(i<h&&h<i+l&&(m=-1,i+=l-1,h+=l-1);l>0;)i in d?d[h]=d[i]:delete d[h],i+=m,h+=m,l-=1;return d},fill:function(a){var b;arguments.length>1&&(b=arguments[1]);var c;arguments.length>2&&(c=arguments[2]);var d=ca.ToObject(this),e=ca.ToLength(d.length);b=ca.ToInteger("undefined"==typeof b?0:b),c=ca.ToInteger("undefined"==typeof c?e:c);for(var f=b<0?H(e+b,0):I(b,e),g=c<0?e+c:c,h=f;h<e&&h<g;++h)d[h]=a;return d},find:function(a){var b=ca.ToObject(this),d=ca.ToLength(b.length);if(!ca.IsCallable(a))throw new TypeError("Array#find: predicate must be a function");for(var e,f=arguments.length>1?arguments[1]:null,g=0;g<d;g++)if(e=b[g],f){if(c(a,f,e,g,b))return e}else if(a(e,g,b))return e},findIndex:function(a){var b=ca.ToObject(this),d=ca.ToLength(b.length);if(!ca.IsCallable(a))throw new TypeError("Array#findIndex: predicate must be a function");for(var e=arguments.length>1?arguments[1]:null,f=0;f<d;f++)if(e){if(c(a,e,b[f],f,b))return f}else if(a(b[f],f,b))return f;return-1},keys:function(){return new a(this,"key")},values:function(){return new a(this,"value")},entries:function(){return new a(this,"entry")}};if(Array.prototype.keys&&!ca.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!ca.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[_]&&(r(Array.prototype,{values:Array.prototype[_]}),Y.symbol(Q.unscopables)&&(Array.prototype[Q.unscopables].values=!0)),l&&Array.prototype.values&&"values"!==Array.prototype.values.name){var Va=Array.prototype.values;Z(Array.prototype,"values",function(){return ca.Call(Va,this,arguments)}),q(Array.prototype,_,Array.prototype.values,!0)}r(Array.prototype,Ua),1/[!0].indexOf(!0,-0)<0&&q(Array.prototype,"indexOf",function(a){var b=B(this,arguments);return 0===b&&1/b<0?0:b},!0),va(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&va(Object.getPrototypeOf([].values()));var Wa=function(){return h(function(){return 0===Array.from({length:-1}).length})}(),Xa=function(){var a=Array.from([0].entries());return 1===a.length&&d(a[0])&&0===a[0][0]&&0===a[0][1]}();Wa&&Xa||Z(Array,"from",Sa.from);var Ya=function(){return h(function(){return Array.from([0],void 0)})}();if(!Ya){var Za=Array.from;Z(Array,"from",function(a){return arguments.length>1&&"undefined"!=typeof arguments[1]?ca.Call(Za,this,arguments):c(Za,this,a)})}var $a=-(Math.pow(2,32)-1),_a=function(a,b){var d={length:$a};return d[b?(d.length>>>0)-1:0]=!0,h(function(){return c(a,d,function(){throw new RangeError("should not reach here")},[]),!0})};if(!_a(Array.prototype.forEach)){var ab=Array.prototype.forEach;Z(Array.prototype,"forEach",function(a){return ca.Call(ab,this.length>=0?this:[],arguments)},!0)}if(!_a(Array.prototype.map)){var bb=Array.prototype.map;Z(Array.prototype,"map",function(a){return ca.Call(bb,this.length>=0?this:[],arguments)},!0)}if(!_a(Array.prototype.filter)){var cb=Array.prototype.filter;Z(Array.prototype,"filter",function(a){return ca.Call(cb,this.length>=0?this:[],arguments)},!0)}if(!_a(Array.prototype.some)){var db=Array.prototype.some;Z(Array.prototype,"some",function(a){return ca.Call(db,this.length>=0?this:[],arguments)},!0)}if(!_a(Array.prototype.every)){var eb=Array.prototype.every;Z(Array.prototype,"every",function(a){return ca.Call(eb,this.length>=0?this:[],arguments)},!0)}if(!_a(Array.prototype.reduce)){var fb=Array.prototype.reduce;Z(Array.prototype,"reduce",function(a){return ca.Call(fb,this.length>=0?this:[],arguments)},!0)}if(!_a(Array.prototype.reduceRight,!0)){var gb=Array.prototype.reduceRight;Z(Array.prototype,"reduceRight",function(a){return ca.Call(gb,this.length>=0?this:[],arguments)},!0)}var hb=8!==Number("0o10"),ib=2!==Number("0b10"),jb=p(Ma,function(a){return 0===Number(a+0+a)});if(hb||ib||jb){var kb=Number,lb=/^0b[01]+$/i,mb=/^0o[0-7]+$/i,nb=lb.test.bind(lb),ob=mb.test.bind(mb),pb=function(a){var b;if("function"==typeof a.valueOf&&(b=a.valueOf(),Y.primitive(b)))return b;if("function"==typeof a.toString&&(b=a.toString(),Y.primitive(b)))return b;throw new TypeError("No default value")},qb=Na.test.bind(Na),rb=Oa.test.bind(Oa),sb=function(){var a=function(b){var c;c=arguments.length>0?Y.primitive(b)?b:pb(b,"number"):0,"string"==typeof c&&(c=ca.Call(La,c),nb(c)?c=parseInt(D(c,2),2):ob(c)?c=parseInt(D(c,2),8):(qb(c)||rb(c))&&(c=NaN));var d=this,e=h(function(){return kb.prototype.valueOf.call(d),!0});return d instanceof a&&!e?new kb(c):kb(c)};return a}();sa(kb,sb,{}),r(sb,{NaN:kb.NaN,MAX_VALUE:kb.MAX_VALUE,MIN_VALUE:kb.MIN_VALUE,NEGATIVE_INFINITY:kb.NEGATIVE_INFINITY,POSITIVE_INFINITY:kb.POSITIVE_INFINITY}),Number=sb,u.redefine(y,"Number",sb)}var tb=Math.pow(2,53)-1;r(Number,{MAX_SAFE_INTEGER:tb,MIN_SAFE_INTEGER:-tb,EPSILON:2.220446049250313e-16,parseInt:y.parseInt,parseFloat:y.parseFloat,isFinite:T,isInteger:function(a){return T(a)&&ca.ToInteger(a)===a},isSafeInteger:function(a){return Number.isInteger(a)&&K(a)<=Number.MAX_SAFE_INTEGER},isNaN:S}),q(Number,"parseInt",y.parseInt,Number.parseInt!==y.parseInt),[,1].find(function(a,b){return 0===b})||Z(Array.prototype,"find",Ua.find),0!==[,1].findIndex(function(a,b){return 0===b})&&Z(Array.prototype,"findIndex",Ua.findIndex);var ub=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),vb=function(a,b){k&&ub(a,b)&&Object.defineProperty(a,b,{enumerable:!1})},wb=function(){for(var a=Number(this),b=arguments.length,c=b-a,d=new Array(c<0?0:c),e=a;e<b;++e)d[e-a]=arguments[e];return d},xb=function(a){return function(b,c){return b[c]=a[c],b}},yb=function(a,b){var c,d=e(Object(b));return ca.IsCallable(Object.getOwnPropertySymbols)&&(c=o(Object.getOwnPropertySymbols(Object(b)),ub(b))),n(C(d,c||[]),xb(b),a)},zb={assign:function(a,b){var c=ca.ToObject(a,"Cannot convert undefined or null to object");return n(ca.Call(wb,1,arguments),yb,c)},is:function(a,b){return ca.SameValue(a,b)}},Ab=Object.assign&&Object.preventExtensions&&function(){var a=Object.preventExtensions({1:2});try{Object.assign(a,"xy")}catch(b){return"y"===a[1]}}();if(Ab&&Z(Object,"assign",zb.assign),r(Object,zb),k){var Bb={setPrototypeOf:function(a,b){var d,e=function(a,b){if(!ca.TypeIsObject(a))throw new TypeError("cannot set prototype on a non-object");if(null!==b&&!ca.TypeIsObject(b))throw new TypeError("can only set prototype to an object or null"+b)},f=function(a,b){return e(a,b),c(d,a,b),a};try{d=a.getOwnPropertyDescriptor(a.prototype,b).set,c(d,{},null)}catch(c){if(a.prototype!=={}[b])return;d=function(a){this[b]=a},f.polyfill=f(f({},null),a.prototype)instanceof a}return f}(Object,"__proto__")};r(Object,Bb)}Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&!function(){var a=Object.create(null),b=Object.getPrototypeOf,c=Object.setPrototypeOf;Object.getPrototypeOf=function(c){var d=b(c);return d===a?null:d},Object.setPrototypeOf=function(b,d){var e=null===d?a:d;return c(b,e)},Object.setPrototypeOf.polyfill=!1}();var Cb=!g(function(){Object.keys("foo")});if(!Cb){var Db=Object.keys;Z(Object,"keys",function(a){return Db(ca.ToObject(a))}),e=Object.keys}var Eb=g(function(){Object.keys(/a/g)});if(Eb){var Fb=Object.keys;Z(Object,"keys",function(a){if(Y.regex(a)){var b=[];for(var c in a)O(a,c)&&E(b,c);return b}return Fb(a)}),e=Object.keys}if(Object.getOwnPropertyNames){var Gb=!g(function(){Object.getOwnPropertyNames("foo")});if(!Gb){var Hb="object"==typeof window?Object.getOwnPropertyNames(window):[],Ib=Object.getOwnPropertyNames;Z(Object,"getOwnPropertyNames",function(a){var b=ca.ToObject(a);if("[object Window]"===s(b))try{return Ib(b)}catch(a){return C([],Hb)}return Ib(b)})}}if(Object.getOwnPropertyDescriptor){var Jb=!g(function(){Object.getOwnPropertyDescriptor("foo","bar")});if(!Jb){var Kb=Object.getOwnPropertyDescriptor;Z(Object,"getOwnPropertyDescriptor",function(a,b){return Kb(ca.ToObject(a),b)})}}if(Object.seal){var Lb=!g(function(){Object.seal("foo")});if(!Lb){var Mb=Object.seal;Z(Object,"seal",function(a){return ca.TypeIsObject(a)?Mb(a):a})}}if(Object.isSealed){var Nb=!g(function(){Object.isSealed("foo")});if(!Nb){var Ob=Object.isSealed;Z(Object,"isSealed",function(a){return!ca.TypeIsObject(a)||Ob(a)})}}if(Object.freeze){var Pb=!g(function(){Object.freeze("foo")});if(!Pb){var Qb=Object.freeze;Z(Object,"freeze",function(a){return ca.TypeIsObject(a)?Qb(a):a})}}if(Object.isFrozen){var Rb=!g(function(){Object.isFrozen("foo")});if(!Rb){var Sb=Object.isFrozen;Z(Object,"isFrozen",function(a){return!ca.TypeIsObject(a)||Sb(a)})}}if(Object.preventExtensions){var Tb=!g(function(){Object.preventExtensions("foo")});if(!Tb){var Ub=Object.preventExtensions;Z(Object,"preventExtensions",function(a){return ca.TypeIsObject(a)?Ub(a):a})}}if(Object.isExtensible){var Vb=!g(function(){Object.isExtensible("foo")});if(!Vb){var Wb=Object.isExtensible;Z(Object,"isExtensible",function(a){return!!ca.TypeIsObject(a)&&Wb(a)})}}if(Object.getPrototypeOf){var Xb=!g(function(){Object.getPrototypeOf("foo")});if(!Xb){var Yb=Object.getPrototypeOf;Z(Object,"getPrototypeOf",function(a){return Yb(ca.ToObject(a))})}}var Zb=k&&function(){var a=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return a&&ca.IsCallable(a.get)}();if(k&&!Zb){var $b=function(){if(!ca.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var a="";return this.global&&(a+="g"),this.ignoreCase&&(a+="i"),this.multiline&&(a+="m"),this.unicode&&(a+="u"),this.sticky&&(a+="y"),a};u.getter(RegExp.prototype,"flags",$b)}var _b=k&&h(function(){return"/a/i"===String(new RegExp(/a/g,"i"))}),ac=$&&k&&function(){var a=/./;return a[Q.match]=!1,RegExp(a)===a}(),bc=h(function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})}),cc=bc&&h(function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})});if(!bc||!cc){var dc=RegExp.prototype.toString;q(RegExp.prototype,"toString",function(){var a=ca.RequireObjectCoercible(this);if(Y.regex(a))return c(dc,a);var b=ba(a.source),d=ba(a.flags);return"/"+b+"/"+d},!0),u.preserveToString(RegExp.prototype.toString,dc)}if(k&&(!_b||ac)){var ec=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,fc=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},gc=function(){return this.source},hc=ca.IsCallable(fc.get)?fc.get:gc,ic=RegExp,jc=function(){return function a(b,c){var d=ca.IsRegExp(b),e=this instanceof a;if(!e&&d&&"undefined"==typeof c&&b.constructor===a)return b;var f=b,g=c;return Y.regex(b)?(f=ca.Call(hc,b),g="undefined"==typeof c?ca.Call(ec,b):c,new a(f,g)):(d&&(f=b.source,g="undefined"==typeof c?b.flags:c),new ic(b,c))}}();sa(ic,jc,{$input:!0}),RegExp=jc,u.redefine(y,"RegExp",jc)}if(k){var kc={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};m(e(kc),function(a){a in RegExp&&!(kc[a]in RegExp)&&u.getter(RegExp,kc[a],function(){return RegExp[a]})})}ua(RegExp);var lc=1/Number.EPSILON,mc=function(a){return a+lc-lc},nc=Math.pow(2,-23),oc=Math.pow(2,127)*(2-nc),pc=Math.pow(2,-126),qc=Math.E,rc=Math.LOG2E,sc=Math.LOG10E,tc=Number.prototype.clz;delete Number.prototype.clz;var uc={acosh:function(a){var b=Number(a);return S(b)||a<1?NaN:1===b?0:b===1/0?b:M(b/qc+N(b+1)*N(b-1)/qc)+1},asinh:function a(b){var c=Number(b);return 0!==c&&z(c)?c<0?-a(-c):M(c+N(c*c+1)):c},atanh:function(a){var b=Number(a);return S(b)||b<-1||b>1?NaN:b===-1?-(1/0):1===b?1/0:0===b?b:.5*M((1+b)/(1-b))},cbrt:function(a){var b=Number(a);if(0===b)return b;var c,d=b<0;return d&&(b=-b),b===1/0?c=1/0:(c=L(M(b)/3),c=(b/(c*c)+2*c)/3),d?-c:c},clz32:function(a){var b=Number(a),c=ca.ToUint32(b);return 0===c?32:tc?ca.Call(tc,c):31-J(M(c+.5)*rc)},cosh:function(a){var b=Number(a);return 0===b?1:S(b)?NaN:z(b)?(b<0&&(b=-b),b>21?L(b)/2:(L(b)+L(-b))/2):1/0},expm1:function(a){var b=Number(a);if(b===-(1/0))return-1;if(!z(b)||0===b)return b;if(K(b)>.5)return L(b)-1;for(var c=b,d=0,e=1;d+c!==d;)d+=c,e+=1,c*=b/e;return d},hypot:function(a,b){for(var c=0,d=0,e=0;e<arguments.length;++e){var f=K(Number(arguments[e]));d<f?(c*=d/f*(d/f),c+=1,d=f):c+=f>0?f/d*(f/d):f}return d===1/0?1/0:d*N(c)},log2:function(a){return M(a)*rc},log10:function(a){return M(a)*sc},log1p:function(a){var b=Number(a);return b<-1||S(b)?NaN:0===b||b===1/0?b:b===-1?-(1/0):1+b-1===0?b:b*(M(1+b)/(1+b-1))},sign:U,sinh:function(a){var b=Number(a);return z(b)&&0!==b?K(b)<1?(Math.expm1(b)-Math.expm1(-b))/2:(L(b-1)-L(-b-1))*qc/2:b},tanh:function(a){var b=Number(a);return S(b)||0===b?b:b>=20?1:b<=-20?-1:(Math.expm1(b)-Math.expm1(-b))/(L(b)+L(-b))},trunc:function(a){var b=Number(a);return b<0?-J(-b):J(b)},imul:function(a,b){var c=ca.ToUint32(a),d=ca.ToUint32(b),e=c>>>16&65535,f=65535&c,g=d>>>16&65535,h=65535&d;return f*h+(e*h+f*g<<16>>>0)|0},fround:function(a){var b=Number(a);if(0===b||b===1/0||b===-(1/0)||S(b))return b;var c=U(b),d=K(b);if(d<pc)return c*mc(d/pc/nc)*pc*nc;var e=(1+nc/Number.EPSILON)*d,f=e-(e-d);return f>oc||S(f)?c*(1/0):c*f}};r(Math,uc),q(Math,"log1p",uc.log1p,Math.log1p(-1e-17)!==-1e-17),q(Math,"asinh",uc.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),q(Math,"tanh",uc.tanh,Math.tanh(-2e-17)!==-2e-17),q(Math,"acosh",uc.acosh,Math.acosh(Number.MAX_VALUE)===1/0),q(Math,"cbrt",uc.cbrt,Math.abs(1-Math.cbrt(1e-300)/1e-100)/Number.EPSILON>8),q(Math,"sinh",uc.sinh,Math.sinh(-2e-17)!==-2e-17);var vc=Math.expm1(10);q(Math,"expm1",uc.expm1,vc>22025.465794806718||vc<22025.465794806718);var wc=Math.round,xc=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(-.5+Number.EPSILON/3.99),yc=lc+1,zc=2*lc-1,Ac=[yc,zc].every(function(a){return Math.round(a)===a});q(Math,"round",function(a){var b=J(a),c=b===-1?-0:b+1;return a-b<.5?b:c},!xc||!Ac),u.preserveToString(Math.round,wc);var Bc=Math.imul;Math.imul(4294967295,5)!==-5&&(Math.imul=uc.imul,u.preserveToString(Math.imul,Bc)),2!==Math.imul.length&&Z(Math,"imul",function(a,b){return ca.Call(Bc,Math,arguments)});var Cc=function(){var a=y.setTimeout;if("function"==typeof a||"object"==typeof a){ca.IsPromise=function(a){return!!ca.TypeIsObject(a)&&"undefined"!=typeof a._promise};var b,d=function(a){if(!ca.IsConstructor(a))throw new TypeError("Bad promise constructor");var b=this,c=function(a,c){if(void 0!==b.resolve||void 0!==b.reject)throw new TypeError("Bad Promise implementation!");b.resolve=a,b.reject=c};if(b.resolve=void 0,b.reject=void 0,b.promise=new a(c),!ca.IsCallable(b.resolve)||!ca.IsCallable(b.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&ca.IsCallable(window.postMessage)&&(b=function(){var a=[],b="zero-timeout-message",c=function(c){E(a,c),window.postMessage(b,"*")},d=function(c){if(c.source===window&&c.data===b){if(c.stopPropagation(),0===a.length)return;var d=G(a);d()}};return window.addEventListener("message",d,!0),c});var e,f,g=function(){var a=y.Promise,b=a&&a.resolve&&a.resolve();return b&&function(a){return b.then(a)}},h=ca.IsCallable(y.setImmediate)?y.setImmediate:"object"==typeof process&&process.nextTick?process.nextTick:g()||(ca.IsCallable(b)?b():function(b){a(b,0)}),i=function(a){return a},j=function(a){throw a},k=0,l=1,m=2,n=0,o=1,p=2,q={},s=function(a,b,c){h(function(){t(a,b,c)})},t=function(a,b,c){var d,e;if(b===q)return a(c);try{d=a(c),e=b.resolve}catch(a){d=a,e=b.reject}e(d)},u=function(a,b){var c=a._promise,d=c.reactionLength;if(d>0&&(s(c.fulfillReactionHandler0,c.reactionCapability0,b),c.fulfillReactionHandler0=void 0,c.rejectReactions0=void 0,c.reactionCapability0=void 0,d>1))for(var e=1,f=0;e<d;e++,f+=3)s(c[f+n],c[f+p],b),a[f+n]=void 0,a[f+o]=void 0,a[f+p]=void 0;c.result=b,c.state=l,c.reactionLength=0},v=function(a,b){var c=a._promise,d=c.reactionLength;if(d>0&&(s(c.rejectReactionHandler0,c.reactionCapability0,b),c.fulfillReactionHandler0=void 0,c.rejectReactions0=void 0,c.reactionCapability0=void 0,d>1))for(var e=1,f=0;e<d;e++,f+=3)s(c[f+o],c[f+p],b),a[f+n]=void 0,a[f+o]=void 0,a[f+p]=void 0;c.result=b,c.state=m,c.reactionLength=0},w=function(a){var b=!1,c=function(c){var d;if(!b){if(b=!0,c===a)return v(a,new TypeError("Self resolution"));if(!ca.TypeIsObject(c))return u(a,c);try{d=c.then}catch(b){return v(a,b)}return ca.IsCallable(d)?void h(function(){z(a,c,d)}):u(a,c)}},d=function(c){if(!b)return b=!0,v(a,c)};return{resolve:c,reject:d}},x=function(a,b,d,e){a===f?c(a,b,d,e,q):c(a,b,d,e)},z=function(a,b,c){var d=w(a),e=d.resolve,f=d.reject;try{x(c,b,e,f)}catch(a){f(a)}},A=function(){var a=function(b){if(!(this instanceof a))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!ca.IsCallable(b))throw new TypeError("not a valid resolver");var c=ya(this,a,e,{_promise:{result:void 0,state:k,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),d=w(c),f=d.reject;try{b(d.resolve,f)}catch(a){f(a)}return c};return a}();e=A.prototype;var B=function(a,b,c,d){var e=!1;return function(f){if(!e&&(e=!0,b[a]=f,0===--d.count)){var g=c.resolve;g(b)}}},C=function(a,b,c){for(var d,e,f=a.iterator,g=[],h={count:1},i=0;;){try{if(d=ca.IteratorStep(f),d===!1){a.done=!0;break}e=d.value}catch(b){throw a.done=!0,b}g[i]=void 0;var j=b.resolve(e),k=B(i,g,c,h);h.count+=1,x(j.then,j,k,c.reject),i+=1}if(0===--h.count){var l=c.resolve;l(g)}return c.promise},D=function(a,b,c){for(var d,e,f,g=a.iterator;;){try{if(d=ca.IteratorStep(g),d===!1){a.done=!0;break}e=d.value}catch(b){throw a.done=!0,b}f=b.resolve(e),x(f.then,f,c.resolve,c.reject)}return c.promise};return r(A,{all:function(a){var b=this;if(!ca.TypeIsObject(b))throw new TypeError("Promise is not object");var c,e,f=new d(b);try{return c=ca.GetIterator(a),e={iterator:c,done:!1},C(e,b,f)}catch(a){var g=a;if(e&&!e.done)try{ca.IteratorClose(c,!0)}catch(a){g=a}var h=f.reject;return h(g),f.promise}},race:function(a){var b=this;if(!ca.TypeIsObject(b))throw new TypeError("Promise is not object");var c,e,f=new d(b);try{return c=ca.GetIterator(a),e={iterator:c,done:!1},D(e,b,f)}catch(a){var g=a;if(e&&!e.done)try{ca.IteratorClose(c,!0)}catch(a){g=a}var h=f.reject;return h(g),f.promise}},reject:function(a){var b=this;if(!ca.TypeIsObject(b))throw new TypeError("Bad promise constructor");var c=new d(b),e=c.reject;return e(a),c.promise},resolve:function(a){var b=this;if(!ca.TypeIsObject(b))throw new TypeError("Bad promise constructor");if(ca.IsPromise(a)){var c=a.constructor;if(c===b)return a}var e=new d(b),f=e.resolve;return f(a),e.promise}}),r(e,{catch:function(a){return this.then(null,a)},then:function(a,b){var c=this;if(!ca.IsPromise(c))throw new TypeError("not a promise");var e,f=ca.SpeciesConstructor(c,A),g=arguments.length>2&&arguments[2]===q;e=g&&f===A?q:new d(f);var h,r=ca.IsCallable(a)?a:i,t=ca.IsCallable(b)?b:j,u=c._promise;if(u.state===k){if(0===u.reactionLength)u.fulfillReactionHandler0=r,u.rejectReactionHandler0=t,u.reactionCapability0=e;else{var v=3*(u.reactionLength-1);u[v+n]=r,u[v+o]=t,u[v+p]=e}u.reactionLength+=1}else if(u.state===l)h=u.result,s(r,e,h);else{if(u.state!==m)throw new TypeError("unexpected Promise state");h=u.result,s(t,e,h)}return e.promise}}),q=new d(A),f=e.then,A}}();if(y.Promise&&(delete y.Promise.accept,delete y.Promise.defer,delete y.Promise.prototype.chain),"function"==typeof Cc){r(y,{Promise:Cc});var Dc=w(y.Promise,function(a){return a.resolve(42).then(function(){})instanceof a}),Ec=!g(function(){y.Promise.reject(42).then(null,5).then(null,P)}),Fc=g(function(){y.Promise.call(3,P)}),Gc=function(a){var b=a.resolve(5);b.constructor={};var c=a.resolve(b);try{c.then(null,P).then(null,P)}catch(a){return!0}return b===c}(y.Promise),Hc=k&&function(){var a=0,b=Object.defineProperty({},"then",{get:function(){a+=1}});return Promise.resolve(b),1===a}(),Ic=function a(b){var c=new Promise(b);b(3,function(){}),this.then=c.then,this.constructor=a};Ic.prototype=Promise.prototype,Ic.all=Promise.all;var Jc=h(function(){return!!Ic.all([1,2])});if(Dc&&Ec&&Fc&&!Gc&&Hc&&!Jc||(Promise=Cc,Z(y,"Promise",Cc)),1!==Promise.all.length){var Kc=Promise.all;Z(Promise,"all",function(a){return ca.Call(Kc,this,arguments)})}if(1!==Promise.race.length){var Lc=Promise.race;Z(Promise,"race",function(a){return ca.Call(Lc,this,arguments)})}if(1!==Promise.resolve.length){var Mc=Promise.resolve;Z(Promise,"resolve",function(a){return ca.Call(Mc,this,arguments)})}if(1!==Promise.reject.length){var Nc=Promise.reject;Z(Promise,"reject",function(a){return ca.Call(Nc,this,arguments)})}vb(Promise,"all"),vb(Promise,"race"),vb(Promise,"resolve"),vb(Promise,"reject"),ua(Promise)}var Oc=function(a){var b=e(n(a,function(a,b){return a[b]=!0,a},{}));return a.join(":")===b.join(":")},Pc=Oc(["z","a","bb"]),Qc=Oc(["z",1,"a","3",2]);if(k){var Rc=function(a){return Pc?"undefined"==typeof a||null===a?"^"+ca.ToString(a):"string"==typeof a?"$"+a:"number"==typeof a?Qc?a:"n"+a:"boolean"==typeof a?"b"+a:null:null},Sc=function(){return Object.create?Object.create(null):{}},Tc=function(a,b,e){if(d(e)||Y.string(e))m(e,function(a){if(!ca.TypeIsObject(a))throw new TypeError("Iterator value "+a+" is not an entry object");b.set(a[0],a[1])});else if(e instanceof a)c(a.prototype.forEach,e,function(a,c){b.set(c,a)});else{var f,g;if(null!==e&&"undefined"!=typeof e){if(g=b.set,!ca.IsCallable(g))throw new TypeError("bad map");f=ca.GetIterator(e)}if("undefined"!=typeof f)for(;;){var h=ca.IteratorStep(f);if(h===!1)break;var i=h.value;try{if(!ca.TypeIsObject(i))throw new TypeError("Iterator value "+i+" is not an entry object");c(g,b,i[0],i[1])}catch(a){throw ca.IteratorClose(f,!0),a}}}},Uc=function(a,b,e){if(d(e)||Y.string(e))m(e,function(a){b.add(a)});else if(e instanceof a)c(a.prototype.forEach,e,function(a){b.add(a)});else{var f,g;if(null!==e&&"undefined"!=typeof e){if(g=b.add,!ca.IsCallable(g))throw new TypeError("bad set");f=ca.GetIterator(e)}if("undefined"!=typeof f)for(;;){var h=ca.IteratorStep(f);if(h===!1)break;var i=h.value;try{c(g,b,i)}catch(a){throw ca.IteratorClose(f,!0),a}}}},Vc={Map:function(){var a={},b=function(a,b){this.key=a,this.value=b,this.next=null,this.prev=null};b.prototype.isRemoved=function(){return this.key===a};var d=function(a){return!!a._es6map},e=function(a,b){if(!ca.TypeIsObject(a)||!d(a))throw new TypeError("Method Map.prototype."+b+" called on incompatible receiver "+ca.ToString(a))},f=function(a,b){e(a,"[[MapIterator]]"),this.head=a._head,this.i=this.head,this.kind=b};f.prototype={next:function(){var a=this.i,b=this.kind,c=this.head;if("undefined"==typeof this.i)return Qa();for(;a.isRemoved()&&a!==c;)a=a.prev;for(var d;a.next!==c;)if(a=a.next,!a.isRemoved())return d="key"===b?a.key:"value"===b?a.value:[a.key,a.value],this.i=a,Qa(d);return this.i=void 0,Qa()}},va(f.prototype);var g,h=function a(){if(!(this instanceof a))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var c=ya(this,a,g,{_es6map:!0,_head:null,_storage:Sc(),_size:0}),d=new b(null,null);return d.next=d.prev=d,c._head=d,arguments.length>0&&Tc(a,c,arguments[0]),c};return g=h.prototype,u.getter(g,"size",function(){if("undefined"==typeof this._size)throw new TypeError("size method called on incompatible Map");return this._size}),r(g,{get:function(a){e(this,"get");var b=Rc(a);if(null!==b){var c=this._storage[b];return c?c.value:void 0}for(var d=this._head,f=d;(f=f.next)!==d;)if(ca.SameValueZero(f.key,a))return f.value},has:function(a){e(this,"has");var b=Rc(a);if(null!==b)return"undefined"!=typeof this._storage[b];for(var c=this._head,d=c;(d=d.next)!==c;)if(ca.SameValueZero(d.key,a))return!0;return!1},set:function(a,c){e(this,"set");var d,f=this._head,g=f,h=Rc(a);if(null!==h){if("undefined"!=typeof this._storage[h])return this._storage[h].value=c,this;d=this._storage[h]=new b(a,c),g=f.prev}for(;(g=g.next)!==f;)if(ca.SameValueZero(g.key,a))return g.value=c,this;return d=d||new b(a,c),ca.SameValue(-0,a)&&(d.key=0),d.next=this._head,d.prev=this._head.prev,d.prev.next=d,d.next.prev=d,this._size+=1,this},delete:function(b){e(this,"delete");var c=this._head,d=c,f=Rc(b);if(null!==f){if("undefined"==typeof this._storage[f])return!1;d=this._storage[f].prev,delete this._storage[f]}for(;(d=d.next)!==c;)if(ca.SameValueZero(d.key,b))return d.key=d.value=a,d.prev.next=d.next,d.next.prev=d.prev,this._size-=1,!0;return!1},clear:function(){e(this,"clear"),this._size=0,this._storage=Sc();for(var b=this._head,c=b,d=c.next;(c=d)!==b;)c.key=c.value=a,d=c.next,c.next=c.prev=b;b.next=b.prev=b},keys:function(){return e(this,"keys"),new f(this,"key")},values:function(){return e(this,"values"),new f(this,"value")},entries:function(){return e(this,"entries"),new f(this,"key+value")},forEach:function(a){e(this,"forEach");for(var b=arguments.length>1?arguments[1]:null,d=this.entries(),f=d.next();!f.done;f=d.next())b?c(a,b,f.value[1],f.value[0],this):a(f.value[1],f.value[0],this)}}),va(g,g.entries),h}(),Set:function(){var a,b=function(a){return a._es6set&&"undefined"!=typeof a._storage},d=function(a,c){if(!ca.TypeIsObject(a)||!b(a))throw new TypeError("Set.prototype."+c+" called on incompatible receiver "+ca.ToString(a))},f=function b(){if(!(this instanceof b))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var c=ya(this,b,a,{_es6set:!0,"[[SetData]]":null,_storage:Sc()});if(!c._es6set)throw new TypeError("bad set");return arguments.length>0&&Uc(b,c,arguments[0]),c};a=f.prototype;var g=function(a){var b=a;if("^null"===b)return null;if("^undefined"!==b){var c=b.charAt(0);return"$"===c?D(b,1):"n"===c?+D(b,1):"b"===c?"btrue"===b:+b}},h=function(a){if(!a["[[SetData]]"]){var b=a["[[SetData]]"]=new Vc.Map;m(e(a._storage),function(a){var c=g(a);b.set(c,c)}),a["[[SetData]]"]=b}a._storage=null};return u.getter(f.prototype,"size",function(){return d(this,"size"),this._storage?e(this._storage).length:(h(this),this["[[SetData]]"].size)}),r(f.prototype,{has:function(a){d(this,"has");var b;return this._storage&&null!==(b=Rc(a))?!!this._storage[b]:(h(this),this["[[SetData]]"].has(a))},add:function(a){d(this,"add");var b;return this._storage&&null!==(b=Rc(a))?(this._storage[b]=!0,this):(h(this),this["[[SetData]]"].set(a,a),this)},delete:function(a){d(this,"delete");var b;if(this._storage&&null!==(b=Rc(a))){var c=O(this._storage,b);return delete this._storage[b]&&c}return h(this),this["[[SetData]]"].delete(a);
},clear:function(){d(this,"clear"),this._storage&&(this._storage=Sc()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function(){return d(this,"values"),h(this),this["[[SetData]]"].values()},entries:function(){return d(this,"entries"),h(this),this["[[SetData]]"].entries()},forEach:function(a){d(this,"forEach");var b=arguments.length>1?arguments[1]:null,e=this;h(e),this["[[SetData]]"].forEach(function(d,f){b?c(a,b,f,f,e):a(f,f,e)})}}),q(f.prototype,"keys",f.prototype.values,!0),va(f.prototype,f.prototype.values),f}()};if(y.Map||y.Set){var Wc=h(function(){return 2===new Map([[1,2]]).get(1)});if(!Wc){var Xc=y.Map;y.Map=function a(){if(!(this instanceof a))throw new TypeError('Constructor Map requires "new"');var b=new Xc;return arguments.length>0&&Tc(a,b,arguments[0]),delete b.constructor,Object.setPrototypeOf(b,y.Map.prototype),b},y.Map.prototype=v(Xc.prototype),q(y.Map.prototype,"constructor",y.Map,!0),u.preserveToString(y.Map,Xc)}var Yc=new Map,Zc=function(){var a=new Map([[1,0],[2,0],[3,0],[4,0]]);return a.set(-0,a),a.get(0)===a&&a.get(-0)===a&&a.has(0)&&a.has(-0)}(),$c=Yc.set(1,2)===Yc;if(!Zc||!$c){var _c=Map.prototype.set;Z(Map.prototype,"set",function(a,b){return c(_c,this,0===a?0:a,b),this})}if(!Zc){var ad=Map.prototype.get,bd=Map.prototype.has;r(Map.prototype,{get:function(a){return c(ad,this,0===a?0:a)},has:function(a){return c(bd,this,0===a?0:a)}},!0),u.preserveToString(Map.prototype.get,ad),u.preserveToString(Map.prototype.has,bd)}var cd=new Set,dd=function(a){return a.delete(0),a.add(-0),!a.has(0)}(cd),ed=cd.add(1)===cd;if(!dd||!ed){var fd=Set.prototype.add;Set.prototype.add=function(a){return c(fd,this,0===a?0:a),this},u.preserveToString(Set.prototype.add,fd)}if(!dd){var gd=Set.prototype.has;Set.prototype.has=function(a){return c(gd,this,0===a?0:a)},u.preserveToString(Set.prototype.has,gd);var hd=Set.prototype.delete;Set.prototype.delete=function(a){return c(hd,this,0===a?0:a)},u.preserveToString(Set.prototype.delete,hd)}var id=w(y.Map,function(a){var b=new a([]);return b.set(42,42),b instanceof a}),jd=Object.setPrototypeOf&&!id,kd=function(){try{return!(y.Map()instanceof y.Map)}catch(a){return a instanceof TypeError}}();if(0!==y.Map.length||jd||!kd){var ld=y.Map;y.Map=function a(){if(!(this instanceof a))throw new TypeError('Constructor Map requires "new"');var b=new ld;return arguments.length>0&&Tc(a,b,arguments[0]),delete b.constructor,Object.setPrototypeOf(b,a.prototype),b},y.Map.prototype=ld.prototype,q(y.Map.prototype,"constructor",y.Map,!0),u.preserveToString(y.Map,ld)}var md=w(y.Set,function(a){var b=new a([]);return b.add(42,42),b instanceof a}),nd=Object.setPrototypeOf&&!md,od=function(){try{return!(y.Set()instanceof y.Set)}catch(a){return a instanceof TypeError}}();if(0!==y.Set.length||nd||!od){var pd=y.Set;y.Set=function a(){if(!(this instanceof a))throw new TypeError('Constructor Set requires "new"');var b=new pd;return arguments.length>0&&Uc(a,b,arguments[0]),delete b.constructor,Object.setPrototypeOf(b,a.prototype),b},y.Set.prototype=pd.prototype,q(y.Set.prototype,"constructor",y.Set,!0),u.preserveToString(y.Set,pd)}var qd=new y.Map,rd=!h(function(){return qd.keys().next().done});if(("function"!=typeof y.Map.prototype.clear||0!==(new y.Set).size||0!==qd.size||"function"!=typeof y.Map.prototype.keys||"function"!=typeof y.Set.prototype.keys||"function"!=typeof y.Map.prototype.forEach||"function"!=typeof y.Set.prototype.forEach||i(y.Map)||i(y.Set)||"function"!=typeof qd.keys().next||rd||!id)&&r(y,{Map:Vc.Map,Set:Vc.Set},!0),y.Set.prototype.keys!==y.Set.prototype.values&&q(y.Set.prototype,"keys",y.Set.prototype.values,!0),va(Object.getPrototypeOf((new y.Map).keys())),va(Object.getPrototypeOf((new y.Set).keys())),l&&"has"!==y.Set.prototype.has.name){var sd=y.Set.prototype.has;Z(y.Set.prototype,"has",function(a){return c(sd,this,a)})}}r(y,Vc),ua(y.Map),ua(y.Set)}var td=function(a){if(!ca.TypeIsObject(a))throw new TypeError("target must be an object")},ud={apply:function(){return ca.Call(ca.Call,null,arguments)},construct:function(a,b){if(!ca.IsConstructor(a))throw new TypeError("First argument must be a constructor.");var c=arguments.length>2?arguments[2]:a;if(!ca.IsConstructor(c))throw new TypeError("new.target must be a constructor.");return ca.Construct(a,b,c,"internal")},deleteProperty:function(a,b){if(td(a),k){var c=Object.getOwnPropertyDescriptor(a,b);if(c&&!c.configurable)return!1}return delete a[b]},has:function(a,b){return td(a),b in a}};Object.getOwnPropertyNames&&Object.assign(ud,{ownKeys:function(a){td(a);var b=Object.getOwnPropertyNames(a);return ca.IsCallable(Object.getOwnPropertySymbols)&&F(b,Object.getOwnPropertySymbols(a)),b}});var vd=function(a){return!g(a)};if(Object.preventExtensions&&Object.assign(ud,{isExtensible:function(a){return td(a),Object.isExtensible(a)},preventExtensions:function(a){return td(a),vd(function(){Object.preventExtensions(a)})}}),k){var wd=function(a,b,c){var d=Object.getOwnPropertyDescriptor(a,b);if(!d){var e=Object.getPrototypeOf(a);if(null===e)return;return wd(e,b,c)}return"value"in d?d.value:d.get?ca.Call(d.get,c):void 0},xd=function(a,b,d,e){var f=Object.getOwnPropertyDescriptor(a,b);if(!f){var g=Object.getPrototypeOf(a);if(null!==g)return xd(g,b,d,e);f={value:void 0,writable:!0,enumerable:!0,configurable:!0}}if("value"in f){if(!f.writable)return!1;if(!ca.TypeIsObject(e))return!1;var h=Object.getOwnPropertyDescriptor(e,b);return h?aa.defineProperty(e,b,{value:d}):aa.defineProperty(e,b,{value:d,writable:!0,enumerable:!0,configurable:!0})}return!!f.set&&(c(f.set,e,d),!0)};Object.assign(ud,{defineProperty:function(a,b,c){return td(a),vd(function(){Object.defineProperty(a,b,c)})},getOwnPropertyDescriptor:function(a,b){return td(a),Object.getOwnPropertyDescriptor(a,b)},get:function(a,b){td(a);var c=arguments.length>2?arguments[2]:a;return wd(a,b,c)},set:function(a,b,c){td(a);var d=arguments.length>3?arguments[3]:a;return xd(a,b,c,d)}})}if(Object.getPrototypeOf){var yd=Object.getPrototypeOf;ud.getPrototypeOf=function(a){return td(a),yd(a)}}if(Object.setPrototypeOf&&ud.getPrototypeOf){var zd=function(a,b){for(var c=b;c;){if(a===c)return!0;c=ud.getPrototypeOf(c)}return!1};Object.assign(ud,{setPrototypeOf:function(a,b){if(td(a),null!==b&&!ca.TypeIsObject(b))throw new TypeError("proto must be an object or null");return b===aa.getPrototypeOf(a)||!(aa.isExtensible&&!aa.isExtensible(a))&&(!zd(a,b)&&(Object.setPrototypeOf(a,b),!0))}})}var Ad=function(a,b){if(ca.IsCallable(y.Reflect[a])){var c=h(function(){return y.Reflect[a](1),y.Reflect[a](NaN),y.Reflect[a](!0),!0});c&&Z(y.Reflect,a,b)}else q(y.Reflect,a,b)};Object.keys(ud).forEach(function(a){Ad(a,ud[a])});var Bd=y.Reflect.getPrototypeOf;if(l&&Bd&&"getPrototypeOf"!==Bd.name&&Z(y.Reflect,"getPrototypeOf",function(a){return c(Bd,y.Reflect,a)}),y.Reflect.setPrototypeOf&&h(function(){return y.Reflect.setPrototypeOf(1,{}),!0})&&Z(y.Reflect,"setPrototypeOf",ud.setPrototypeOf),y.Reflect.defineProperty&&(h(function(){var a=!y.Reflect.defineProperty(1,"test",{value:1}),b="function"!=typeof Object.preventExtensions||!y.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return a&&b})||Z(y.Reflect,"defineProperty",ud.defineProperty)),y.Reflect.construct&&(h(function(){var a=function(){};return y.Reflect.construct(function(){},[],a)instanceof a})||Z(y.Reflect,"construct",ud.construct)),"Invalid Date"!==String(new Date(NaN))){var Cd=Date.prototype.toString,Dd=function(){var a=+this;return a!==a?"Invalid Date":ca.Call(Cd,this)};Z(Date.prototype,"toString",Dd)}var Ed={anchor:function(a){return ca.CreateHTML(this,"a","name",a)},big:function(){return ca.CreateHTML(this,"big","","")},blink:function(){return ca.CreateHTML(this,"blink","","")},bold:function(){return ca.CreateHTML(this,"b","","")},fixed:function(){return ca.CreateHTML(this,"tt","","")},fontcolor:function(a){return ca.CreateHTML(this,"font","color",a)},fontsize:function(a){return ca.CreateHTML(this,"font","size",a)},italics:function(){return ca.CreateHTML(this,"i","","")},link:function(a){return ca.CreateHTML(this,"a","href",a)},small:function(){return ca.CreateHTML(this,"small","","")},strike:function(){return ca.CreateHTML(this,"strike","","")},sub:function(){return ca.CreateHTML(this,"sub","","")},sup:function(){return ca.CreateHTML(this,"sup","","")}};m(Object.keys(Ed),function(a){var b=String.prototype[a],d=!1;if(ca.IsCallable(b)){var e=c(b,"",' " '),f=C([],e.match(/"/g)).length;d=e!==e.toLowerCase()||f>2}else d=!0;d&&Z(String.prototype,a,Ed[a])});var Fd=function(){if(!$)return!1;var a="object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!a)return!1;if("undefined"!=typeof a(Q()))return!0;if("[null]"!==a([Q()]))return!0;var b={a:Q()};return b[Q()]=!0,"{}"!==a(b)}(),Gd=h(function(){return!$||"{}"===JSON.stringify(Object(Q()))&&"[{}]"===JSON.stringify([Object(Q())])});if(Fd||!Gd){var Hd=JSON.stringify;Z(JSON,"stringify",function(a){if("symbol"!=typeof a){var b;arguments.length>1&&(b=arguments[1]);var e=[a];if(d(b))e.push(b);else{var f=ca.IsCallable(b)?b:null,g=function(a,b){var d=f?c(f,this,a,b):b;if("symbol"!=typeof d)return Y.symbol(d)?xb({})(d):d};e.push(g)}return arguments.length>2&&e.push(arguments[2]),Hd.apply(this,e)}})}return y}),function(a,b){function c(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function d(a){return"undefined"==typeof a}if(a){var e={},f=a.TraceKit,g=[].slice,h="?";e.noConflict=function(){return a.TraceKit=f,e},e.wrap=function(a){function b(){try{return a.apply(this,arguments)}catch(a){throw e.report(a),a}}return b},e.report=function(){function b(a){i(),n.push(a)}function d(a){for(var b=n.length-1;b>=0;--b)n[b]===a&&n.splice(b,1)}function f(a,b){var d=null;if(!b||e.collectWindowErrors){for(var f in n)if(c(n,f))try{n[f].apply(null,[a].concat(g.call(arguments,2)))}catch(a){d=a}if(d)throw d}}function h(a,b,c,d,g){var h=null;if(q)e.computeStackTrace.augmentStackTraceWithInitialElement(q,b,c,a),j();else if(g)h=e.computeStackTrace(g),f(h,!0);else{var i={url:b,line:c,column:d};i.func=e.computeStackTrace.guessFunctionName(i.url,i.line),i.context=e.computeStackTrace.gatherContext(i.url,i.line),h={mode:"onerror",message:a,stack:[i]},f(h,!0)}return!!l&&l.apply(this,arguments)}function i(){m!==!0&&(l=a.onerror,a.onerror=h,m=!0)}function j(){var a=q,b=o;o=null,q=null,p=null,f.apply(null,[a,!1].concat(b))}function k(b){if(q){if(p===b)return;j()}var c=e.computeStackTrace(b);throw q=c,p=b,o=g.call(arguments,1),a.setTimeout(function(){p===b&&j()},c.incomplete?2e3:0),b}var l,m,n=[],o=null,p=null,q=null;return k.subscribe=b,k.unsubscribe=d,k}(),e.computeStackTrace=function(){function b(b){if(!e.remoteFetching)return"";try{var c=function(){try{return new a.XMLHttpRequest}catch(b){return new a.ActiveXObject("Microsoft.XMLHTTP")}},d=c();return d.open("GET",b,!1),d.send(""),d.responseText}catch(a){return""}}function f(d){if("string"!=typeof d)return[];if(!c(w,d)){var e="",f="";try{f=a.document.domain}catch(a){}var g=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(d);g&&g[2]===f&&(e=b(d)),w[d]=e?e.split("\n"):[]}return w[d]}function g(a,b){var c,e=/function ([^(]*)\(([^)]*)\)/,g=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,i="",j=10,k=f(a);if(!k.length)return h;for(var l=0;l<j;++l)if(i=k[b-l]+i,!d(i)){if(c=g.exec(i))return c[1];if(c=e.exec(i))return c[1]}return h}function i(a,b){var c=f(a);if(!c.length)return null;var g=[],h=Math.floor(e.linesOfContext/2),i=h+e.linesOfContext%2,j=Math.max(0,b-h-1),k=Math.min(c.length,b+i-1);b-=1;for(var l=j;l<k;++l)d(c[l])||g.push(c[l]);return g.length>0?g:null}function j(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function k(a){return j(a).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function l(a,b){for(var c,d,e=0,g=b.length;e<g;++e)if((c=f(b[e])).length&&(c=c.join("\n"),d=a.exec(c)))return{url:b[e],line:c.substring(0,d.index).split("\n").length,column:d.index-c.lastIndexOf("\n",d.index)-1};return null}function m(a,b,c){var d,e=f(b),g=new RegExp("\\b"+j(a)+"\\b");return c-=1,e&&e.length>c&&(d=g.exec(e[c]))?d.index:null}function n(b){if(!d(a&&a.document)){for(var c,e,f,g,h=[a.location.href],i=a.document.getElementsByTagName("script"),m=""+b,n=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,o=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,p=0;p<i.length;++p){var q=i[p];q.src&&h.push(q.src)}if(f=n.exec(m)){var r=f[1]?"\\s+"+f[1]:"",s=f[2].split(",").join("\\s*,\\s*");c=j(f[3]).replace(/;$/,";?"),e=new RegExp("function"+r+"\\s*\\(\\s*"+s+"\\s*\\)\\s*{\\s*"+c+"\\s*}")}else e=new RegExp(j(m).replace(/\s+/g,"\\s+"));if(g=l(e,h))return g;if(f=o.exec(m)){var t=f[1];if(c=k(f[2]),e=new RegExp("on"+t+"=[\\'\"]\\s*"+c+"\\s*[\\'\"]","i"),g=l(e,h[0]))return g;if(e=new RegExp(c),g=l(e,h))return g}return null}}function o(a){if(!a.stack)return null;for(var b,c,e=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,f=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,j=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,k=a.stack.split("\n"),l=[],n=/^(.*) is undefined$/.exec(a.message),o=0,p=k.length;o<p;++o){if(b=e.exec(k[o])){var q=b[2]&&b[2].indexOf("native")!==-1;c={url:q?null:b[2],func:b[1]||h,args:q?[b[2]]:[],line:b[3]?+b[3]:null,column:b[4]?+b[4]:null}}else if(b=j.exec(k[o]))c={url:b[2],func:b[1]||h,args:[],line:+b[3],column:b[4]?+b[4]:null};else{if(!(b=f.exec(k[o])))continue;c={url:b[3],func:b[1]||h,args:b[2]?b[2].split(","):[],line:b[4]?+b[4]:null,column:b[5]?+b[5]:null}}!c.func&&c.line&&(c.func=g(c.url,c.line)),c.line&&(c.context=i(c.url,c.line)),l.push(c)}return l.length?(l[0]&&l[0].line&&!l[0].column&&n?l[0].column=m(n[1],l[0].url,l[0].line):l[0].column||d(a.columnNumber)||(l[0].column=a.columnNumber+1),{mode:"stack",name:a.name,message:a.message,stack:l}):null}function p(a){var b=a.stacktrace;if(b){for(var c,d=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,e=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,f=b.split("\n"),h=[],j=0;j<f.length;j+=2){var k=null;if((c=d.exec(f[j]))?k={url:c[2],line:+c[1],column:null,func:c[3],args:[]}:(c=e.exec(f[j]))&&(k={url:c[6],line:+c[1],column:+c[2],func:c[3]||c[4],args:c[5]?c[5].split(","):[]}),k){if(!k.func&&k.line&&(k.func=g(k.url,k.line)),k.line)try{k.context=i(k.url,k.line)}catch(a){}k.context||(k.context=[f[j+1]]),h.push(k)}}return h.length?{mode:"stacktrace",name:a.name,message:a.message,stack:h}:null}}function q(b){var d=b.message.split("\n");if(d.length<4)return null;var e,h=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,j=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,m=/^\s*Line (\d+) of function script\s*$/i,n=[],o=a&&a.document&&a.document.getElementsByTagName("script"),p=[];for(var q in o)c(o,q)&&!o[q].src&&p.push(o[q]);for(var r=2;r<d.length;r+=2){var s=null;if(e=h.exec(d[r]))s={url:e[2],func:e[3],args:[],line:+e[1],column:null};else if(e=j.exec(d[r])){s={url:e[3],func:e[4],args:[],line:+e[1],column:null};var t=+e[1],u=p[e[2]-1];if(u){var v=f(s.url);if(v){v=v.join("\n");var w=v.indexOf(u.innerText);w>=0&&(s.line=t+v.substring(0,w).split("\n").length)}}}else if(e=m.exec(d[r])){var x=a.location.href.replace(/#.*$/,""),y=new RegExp(k(d[r+1])),z=l(y,[x]);s={url:x,func:"",args:[],line:z?z.line:e[1],column:null}}if(s){s.func||(s.func=g(s.url,s.line));var A=i(s.url,s.line),B=A?A[Math.floor(A.length/2)]:null;A&&B.replace(/^\s*/,"")===d[r+1].replace(/^\s*/,"")?s.context=A:s.context=[d[r+1]],n.push(s)}}return n.length?{mode:"multiline",name:b.name,message:d[0],stack:n}:null}function r(a,b,c,d){var e={url:b,line:c};if(e.url&&e.line){a.incomplete=!1,e.func||(e.func=g(e.url,e.line)),e.context||(e.context=i(e.url,e.line));var f=/ '([^']+)' /.exec(d);if(f&&(e.column=m(f[1],e.url,e.line)),a.stack.length>0&&a.stack[0].url===e.url){if(a.stack[0].line===e.line)return!1;if(!a.stack[0].line&&a.stack[0].func===e.func)return a.stack[0].line=e.line,a.stack[0].context=e.context,!1}return a.stack.unshift(e),a.partial=!0,!0}return a.incomplete=!0,!1}function s(a,b){for(var c,d,f,i=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,j=[],k={},l=!1,o=s.caller;o&&!l;o=o.caller)if(o!==t&&o!==e.report){if(d={url:null,func:h,args:[],line:null,column:null},o.name?d.func=o.name:(c=i.exec(o.toString()))&&(d.func=c[1]),"undefined"==typeof d.func)try{d.func=c.input.substring(0,c.input.indexOf("{"))}catch(a){}if(f=n(o)){d.url=f.url,d.line=f.line,d.func===h&&(d.func=g(d.url,d.line));var p=/ '([^']+)' /.exec(a.message||a.description);p&&(d.column=m(p[1],f.url,f.line))}k[""+o]?l=!0:k[""+o]=!0,j.push(d)}b&&j.splice(0,b);var q={mode:"callers",name:a.name,message:a.message,stack:j};return r(q,a.sourceURL||a.fileName,a.line||a.lineNumber,a.message||a.description),q}function t(a,b){var c=null;b=null==b?0:+b;try{if(c=p(a))return c}catch(a){if(v)throw a}try{if(c=o(a))return c}catch(a){if(v)throw a}try{if(c=q(a))return c}catch(a){if(v)throw a}try{if(c=s(a,b+1))return c}catch(a){if(v)throw a}return{mode:"failed"}}function u(a){a=(null==a?0:+a)+1;try{throw new Error}catch(b){return t(b,a+1)}}var v=!1,w={};return t.augmentStackTraceWithInitialElement=r,t.guessFunctionName=g,t.gatherContext=i,t.ofCaller=u,t.getSource=f,t}(),e.extendToAsynchronousCallbacks=function(){var b=function(b){var c=a[b];a[b]=function(){var a=g.call(arguments),b=a[0];return"function"==typeof b&&(a[0]=e.wrap(b)),c.apply?c.apply(this,a):c(a[0],a[1])}};b("setTimeout"),b("setInterval")},e.remoteFetching||(e.remoteFetching=!0),e.collectWindowErrors||(e.collectWindowErrors=!0),(!e.linesOfContext||e.linesOfContext<1)&&(e.linesOfContext=11),"undefined"!=typeof module&&module.exports&&this.module!==module?module.exports=e:"function"==typeof define&&define.amd?define("TraceKit",[],e):a.TraceKit=e}}("undefined"!=typeof window?window:global),function(a,b){var c,d,e;"function"==typeof define&&define.amd?define("exceptionless",["require","exports","module","TraceKit"],b):"object"==typeof d?e.exports=b(c,d,e,c("TraceKit")):a.exceptionless=b(c,d,e,a.TraceKit)}(this,function(a,b,c,d){function e(a,b){var c=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/g;if("string"==typeof b){var d=c.exec(b);if(d)return new Date(b)}return b}function f(){if(!document||!document.getElementsByTagName)return null;for(var a=document.getElementsByTagName("script"),b=0;b<a.length;b++)if(a[b].src&&a[b].src.indexOf("/exceptionless")>-1)return u.parseQueryString(a[b].src.split("?").pop());return null}function g(a,b){var c=y.default.createUnhandledException(new Error(a.message||(b||{}).status||"Script error"),"onerror");c.pluginContextData["@@_TraceKit.StackTrace"]=a,c.submit()}if(a||(a=function(a){return("undefined"!=typeof window?window:global)[a]}),!b)var b={};var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},d=a("TraceKit"),i=function(){function a(a,b){this.success=!1,this.badRequest=!1,this.serviceUnavailable=!1,this.paymentRequired=!1,this.unableToAuthenticate=!1,this.notFound=!1,this.requestEntityTooLarge=!1,this.statusCode=a,this.message=b,this.success=a>=200&&a<=299,this.badRequest=400===a,this.serviceUnavailable=503===a,this.paymentRequired=402===a,this.unableToAuthenticate=401===a||403===a,this.notFound=404===a,this.requestEntityTooLarge=413===a}return a}();b.SubmissionResponse=i;var j=function(){function a(){}return a.onChanged=function(a){!!a&&this._handlers.push(a)},a.applySavedServerSettings=function(a){if(a&&a.isValid){var b=this.getSavedServerSettings(a);a.log.info("Applying saved settings: v"+b.version),a.settings=u.merge(a.settings,b.settings),this.changed(a)}},a.getVersion=function(a){if(!a||!a.isValid)return 0;var b=this.getSavedServerSettings(a);return b.version||0},a.checkVersion=function(a,b){var c=this.getVersion(b);a<=c||(b.log.info("Updating settings from v"+c+" to v"+a),this.updateSettings(b,c))},a.updateSettings=function(b,c){var d=this;if(b&&b.enabled){var e="Unable to update settings";if(!b.isValid)return void b.log.error(e+": ApiKey is not set.");(!c||c<0)&&(c=this.getVersion(b)),b.log.info("Checking for updated settings from: v"+c+"."),b.submissionClient.getSettings(b,c,function(c){if(!(b&&c&&c.success&&c.settings))return void b.log.warn(e+": "+c.message);b.settings=u.merge(b.settings,c.settings);var f=a.getSavedServerSettings(b);for(var g in f)c.settings[g]||delete b.settings[g];var h={version:c.settingsVersion,settings:c.settings};b.storage.settings.save(h),b.log.info("Updated settings: v"+h.version),d.changed(b)})}},a.changed=function(a){for(var b=this._handlers,c=0;c<b.length;c++)try{b[c](a)}catch(b){a.log.error("Error calling onChanged handler: "+b)}},a.getSavedServerSettings=function(a){var b=a.storage.settings.get()[0];return b&&b.value&&b.value.version&&b.value.settings?b.value:{version:0,settings:{}}},a._handlers=[],a}();b.SettingsManager=j;var k=function(){function a(){this._lastReferenceId=null}return a.prototype.getLast=function(){return this._lastReferenceId},a.prototype.clearLast=function(){this._lastReferenceId=null},a.prototype.setLast=function(a){this._lastReferenceId=a},a}();b.DefaultLastReferenceIdManager=k;var l=function(){function a(){}return a.prototype.trace=function(a){this.log("trace",a)},a.prototype.info=function(a){this.log("info",a)},a.prototype.warn=function(a){this.log("warn",a)},a.prototype.error=function(a){this.log("error",a)},a.prototype.log=function(a,b){if(console){var c="["+a+"] Exceptionless: "+b;console[a]?console[a](c):console.log&&console.log(c)}},a}();b.ConsoleLog=l;var m=function(){function a(){}return a.prototype.trace=function(a){},a.prototype.info=function(a){},a.prototype.warn=function(a){},a.prototype.error=function(a){},a}();b.NullLog=m;var n=function(){function a(a,b,c){this.client=a,this.event=b,this.contextData=c?c:new x}return Object.defineProperty(a.prototype,"log",{get:function(){return this.client.config.log},enumerable:!0,configurable:!0}),a}();b.EventPluginContext=n;var o=function(){function a(){}return a.run=function(a,b){var c=function(c,d){return function(){try{a.cancelled||c.run(a,d)}catch(b){a.cancelled=!0,a.log.error("Error running plugin '"+c.name+"': "+b.message+". Discarding Event.")}a.cancelled&&b&&b(a)}},d=a.client.config.plugins,e=[];b&&(e[d.length]=c({name:"cb",priority:9007199254740992,run:b},null));for(var f=d.length-1;f>-1;f--)e[f]=c(d[f],b||f<d.length-1?e[f+1]:null);e[0]()},a.addDefaultPlugins=function(a){a.addPlugin(new z),a.addPlugin(new A),a.addPlugin(new F),a.addPlugin(new H),a.addPlugin(new B),a.addPlugin(new C),a.addPlugin(new D),a.addPlugin(new E)},a}();b.EventPluginManager=o;var p=function(){function a(a){void 0===a&&(a=3e4),this.priority=100,this.name="HeartbeatPlugin",this._interval=a}return a.prototype.run=function(a,b){clearInterval(this._intervalId);var c=a.event.data["@user"];c&&c.identity&&(this._intervalId=setInterval(function(){return a.client.submitSessionHeartbeat(c.identity)},this._interval)),b&&b()},a}();b.HeartbeatPlugin=p;var q=function(){function a(){this.priority=20,this.name="ReferenceIdPlugin"}return a.prototype.run=function(a,b){a.event.reference_id&&0!==a.event.reference_id.length||"error"!==a.event.type||(a.event.reference_id=u.guid().replace("-","").substring(0,10)),b&&b()},a}();b.ReferenceIdPlugin=q;var r=function(){function a(a){this._handlers=[],this._processingQueue=!1,this._config=a}return a.prototype.enqueue=function(a){var b="The event will not be queued.",c=this._config,d=c.log;if(!c.enabled)return void d.info("Configuration is disabled. "+b);if(!c.isValid)return void d.info("Invalid Api Key. "+b);if(this.areQueuedItemsDiscarded())return void d.info("Queue items are currently being discarded. "+b);this.ensureQueueTimer();var e=c.storage.queue.save(a),f="type="+a.type+" "+(a.reference_id?"refid="+a.reference_id:"");e?d.info("Enqueuing event: "+e+" "+f):d.error("Could not enqueue event "+f)},a.prototype.process=function(a){var b=this,c="The queue will not be processed.",d=this._config,e=d.log;if(!this._processingQueue){if(e.info("Processing queue..."),!d.enabled)return void e.info("Configuration is disabled. "+c);if(!d.isValid)return void e.info("Invalid Api Key. "+c);this._processingQueue=!0,this.ensureQueueTimer();try{var f=d.storage.queue.get(d.submissionBatchSize);if(!f||0===f.length)return void(this._processingQueue=!1);e.info("Sending "+f.length+" events to "+d.serverUrl+"."),d.submissionClient.postEvents(f.map(function(a){return a.value}),d,function(a){b.processSubmissionResponse(a,f),b.eventsPosted(f.map(function(a){return a.value}),a),e.info("Finished processing queue."),b._processingQueue=!1},a)}catch(a){e.error("Error processing queue: "+a),this.suspendProcessing(),this._processingQueue=!1}}},a.prototype.suspendProcessing=function(a,b,c){var d=this._config;(!a||a<=0)&&(a=5),d.log.info("Suspending processing for "+a+" minutes."),this._suspendProcessingUntil=new Date((new Date).getTime()+6e4*a),b&&(this._discardQueuedItemsUntil=this._suspendProcessingUntil),c&&d.storage.queue.clear()},a.prototype.onEventsPosted=function(a){!!a&&this._handlers.push(a)},a.prototype.eventsPosted=function(a,b){for(var c=this._handlers,d=0;d<c.length;d++)try{c[d](a,b)}catch(a){this._config.log.error("Error calling onEventsPosted handler: "+a)}},a.prototype.areQueuedItemsDiscarded=function(){return this._discardQueuedItemsUntil&&this._discardQueuedItemsUntil>new Date},a.prototype.ensureQueueTimer=function(){var a=this;this._queueTimer||(this._queueTimer=setInterval(function(){return a.onProcessQueue()},1e4))},a.prototype.isQueueProcessingSuspended=function(){return this._suspendProcessingUntil&&this._suspendProcessingUntil>new Date},a.prototype.onProcessQueue=function(){this.isQueueProcessingSuspended()||this._processingQueue||this.process()},a.prototype.processSubmissionResponse=function(a,b){var c="The event will not be submitted.",d=this._config,e=d.log;if(a.success)return e.info("Sent "+b.length+" events."),void this.removeEvents(b);if(a.serviceUnavailable)return e.error("Server returned service unavailable."),void this.suspendProcessing();if(a.paymentRequired)return e.info("Too many events have been submitted, please upgrade your plan."),void this.suspendProcessing(null,!0,!0);if(a.unableToAuthenticate)return e.info("Unable to authenticate, please check your configuration. "+c),this.suspendProcessing(15),void this.removeEvents(b);if(a.notFound||a.badRequest)return e.error("Error while trying to submit data: "+a.message),this.suspendProcessing(240),void this.removeEvents(b);if(a.requestEntityTooLarge){var f="Event submission discarded for being too large.";return void(d.submissionBatchSize>1?(e.error(f+" Retrying with smaller batch size."),d.submissionBatchSize=Math.max(1,Math.round(d.submissionBatchSize/1.5))):(e.error(f+" "+c),this.removeEvents(b)))}a.success||(e.error("Error submitting events: "+(a.message||"Please check the network tab for more info.")),this.suspendProcessing())},a.prototype.removeEvents=function(a){for(var b=0;b<(a||[]).length;b++)this._config.storage.queue.remove(a[b].timestamp)},a}();b.DefaultEventQueue=r;var s=function(){function a(a){void 0===a&&(a=250),this.queue=new J(a),this.settings=new J(1)}return a}();b.InMemoryStorageProvider=s;var t=function(){function a(){this.configurationVersionHeader="x-exceptionless-configversion"}return a.prototype.postEvents=function(a,b,c,d){var e=JSON.stringify(a),f=this.createRequest(b,"POST",b.serverUrl+"/api/v2/events",e),g=this.createSubmissionCallback(b,c);return b.submissionAdapter.sendRequest(f,g,d)},a.prototype.postUserDescription=function(a,b,c,d){var e=c.serverUrl+"/api/v2/events/by-ref/"+encodeURIComponent(a)+"/user-description",f=JSON.stringify(b),g=this.createRequest(c,"POST",e,f),h=this.createSubmissionCallback(c,d);return c.submissionAdapter.sendRequest(g,h)},a.prototype.getSettings=function(a,b,c){var d=this.createRequest(a,"GET",a.serverUrl+"/api/v2/projects/config?v="+b),e=function(b,d,e,f){if(200!==b)return c(new I(!1,null,-1,null,d));var g;try{g=JSON.parse(e)}catch(b){a.log.error("Unable to parse settings: '"+e+"'")}return!g||isNaN(g.version)?c(new I(!1,null,-1,null,"Invalid configuration settings.")):void c(new I(!0,g.settings||{},g.version))};return a.submissionAdapter.sendRequest(d,e)},a.prototype.sendHeartbeat=function(a,b,c){var d=this.createRequest(c,"GET",c.heartbeatServerUrl+"/api/v2/events/session/heartbeat?id="+a+"&close="+b);c.submissionAdapter.sendRequest(d)},a.prototype.createRequest=function(a,b,c,d){return void 0===d&&(d=null),{method:b,url:c,data:d,apiKey:a.apiKey,userAgent:a.userAgent}},a.prototype.createSubmissionCallback=function(a,b){var c=this;return function(d,e,f,g){var h=g&&parseInt(g[c.configurationVersionHeader],10);j.checkVersion(h,a),b(new i(d,e))}},a}();b.DefaultSubmissionClient=t;var u=function(){function a(){}return a.addRange=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];if(a||(a=[]),!b||0===b.length)return a;for(var d=0;d<b.length;d++)b[d]&&a.indexOf(b[d])<0&&a.push(b[d]);return a},a.getHashCode=function(a){if(!a||0===a.length)return 0;for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d,b|=0}return b},a.getCookies=function(b,c){for(var d={},e=(b||"").split("; "),f=0;f<e.length;f++){var g=e[f].split("=");a.isMatch(g[0],c)||(d[g[0]]=g[1])}return a.isEmpty(d)?null:d},a.guid=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},a.merge=function(a,b){var c={};for(var d in a||{})a[d]&&(c[d]=a[d]);for(var d in b||{})b[d]&&(c[d]=b[d]);return c},a.parseVersion=function(a){if(!a)return null;var b=/(v?((\d+)\.(\d+)(\.(\d+))?)(?:-([\dA-Za-z\-]+(?:\.[\dA-Za-z\-]+)*))?(?:\+([\dA-Za-z\-]+(?:\.[\dA-Za-z\-]+)*))?)/,c=b.exec(a);return c&&c.length>0?c[0]:null},a.parseQueryString=function(b,c){if(!b||0===b.length)return null;var d=b.split("&");if(0===d.length)return null;for(var e={},f=0;f<d.length;f++){var g=d[f].split("=");a.isMatch(g[0],c)||(e[decodeURIComponent(g[0])]=decodeURIComponent(g[1]))}return a.isEmpty(e)?null:e},a.randomNumber=function(){return Math.floor(9007199254740992*Math.random())},a.isMatch=function(b,c,d){if(void 0===d&&(d=!0),!b||"string"!=typeof b)return!1;var e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;return b=(d?b.toLowerCase():b).replace(e,""),(c||[]).some(function(c){if("string"!=typeof c)return!1;if(c=(d?c.toLowerCase():c).replace(e,""),c.length<=0)return!1;var f="*"===c[0];f&&(c=c.slice(1));var g="*"===c[c.length-1];return g&&(c=c.substring(0,c.length-1)),f&&g?c.length<=b.length&&b.indexOf(c,0)!==-1:f?a.endsWith(b,c):g?a.startsWith(b,c):b===c})},a.isEmpty=function(a){return null===a||"object"==typeof a&&0===Object.keys(a).length},a.startsWith=function(a,b){return a.substring(0,b.length)===b},a.endsWith=function(a,b){return a.indexOf(b,a.length-b.length)!==-1},a.stringify=function(b,c,d){function e(b,c){var d=[];return JSON.stringify(b,function(b,e){if(!a.isMatch(b,c)){if("object"==typeof e&&e){if(d.indexOf(e)!==-1)return;d.push(e)}return e}})}if("[object Object]"==={}.toString.call(b)){var f={};for(var g in b){var h=b[g];h!==b&&(f[g]=b[g])}return e(f,c)}if("[object Array]"==={}.toString.call(b)){for(var i=[],j=0;j<b.length;j++)i[j]=JSON.parse(e(b[j],c));return JSON.stringify(i)}return e(b,c)},a.toBoolean=function(a,b){if(void 0===b&&(b=!1),"boolean"==typeof a)return a;if(null===a||"number"!=typeof a&&"string"!=typeof a)return b;switch((a+"").toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1}return b},a}();b.Utils=u;var v=function(){function a(b){function c(a){return"function"==typeof a?a(this):a}this.defaultTags=[],this.defaultData={},
this.enabled=!0,this.lastReferenceIdManager=new k,this.settings={},this._serverUrl="https://collector.exceptionless.io",this._heartbeatServerUrl="https://heartbeat.exceptionless.io",this._updateSettingsWhenIdleInterval=12e4,this._dataExclusions=[],this._userAgentBotPatterns=[],this._plugins=[],this._handlers=[],b=u.merge(a.defaults,b),this.log=c(b.log)||new m,this.apiKey=b.apiKey,this.serverUrl=b.serverUrl,this.heartbeatServerUrl=b.heartbeatServerUrl,this.updateSettingsWhenIdleInterval=b.updateSettingsWhenIdleInterval,this.environmentInfoCollector=c(b.environmentInfoCollector),this.errorParser=c(b.errorParser),this.lastReferenceIdManager=c(b.lastReferenceIdManager)||new k,this.moduleCollector=c(b.moduleCollector),this.requestInfoCollector=c(b.requestInfoCollector),this.submissionBatchSize=c(b.submissionBatchSize)||50,this.submissionAdapter=c(b.submissionAdapter),this.submissionClient=c(b.submissionClient)||new t,this.storage=c(b.storage)||new s,this.queue=c(b.queue)||new r(this),j.applySavedServerSettings(this),o.addDefaultPlugins(this)}return Object.defineProperty(a.prototype,"apiKey",{get:function(){return this._apiKey},set:function(a){this._apiKey=a||null,this.log.info("apiKey: "+this._apiKey),this.changed()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isValid",{get:function(){return!!this.apiKey&&this.apiKey.length>=10},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"serverUrl",{get:function(){return this._serverUrl},set:function(a){a&&(this._serverUrl=a,this._heartbeatServerUrl=a,this.log.info("serverUrl: "+a),this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"heartbeatServerUrl",{get:function(){return this._heartbeatServerUrl},set:function(a){a&&(this._heartbeatServerUrl=a,this.log.info("heartbeatServerUrl: "+a),this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"updateSettingsWhenIdleInterval",{get:function(){return this._updateSettingsWhenIdleInterval},set:function(a){"number"==typeof a&&(a<=0?a=-1:a>0&&a<15e3&&(a=15e3),this._updateSettingsWhenIdleInterval=a,this.log.info("updateSettingsWhenIdleInterval: "+a),this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"dataExclusions",{get:function(){var a=this.settings["@@DataExclusions"];return this._dataExclusions.concat(a&&a.split(",")||[])},enumerable:!0,configurable:!0}),a.prototype.addDataExclusions=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];this._dataExclusions=u.addRange.apply(u,[this._dataExclusions].concat(a))},Object.defineProperty(a.prototype,"userAgentBotPatterns",{get:function(){var a=this.settings["@@UserAgentBotPatterns"];return this._userAgentBotPatterns.concat(a&&a.split(",")||[])},enumerable:!0,configurable:!0}),a.prototype.addUserAgentBotPatterns=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];this._userAgentBotPatterns=u.addRange.apply(u,[this._userAgentBotPatterns].concat(a))},Object.defineProperty(a.prototype,"plugins",{get:function(){return this._plugins.sort(function(a,b){return a.priority<b.priority?-1:a.priority>b.priority?1:0})},enumerable:!0,configurable:!0}),a.prototype.addPlugin=function(a,b,c){var d=c?{name:a,priority:b,run:c}:a;if(!d||!d.run)return void this.log.error("Add plugin failed: Run method not defined");d.name||(d.name=u.guid()),d.priority||(d.priority=0);for(var e=!1,f=this._plugins,g=0;g<f.length;g++)if(f[g].name===d.name){e=!0;break}e||f.push(d)},a.prototype.removePlugin=function(a){var b="string"==typeof a?a:a.name;if(!b)return void this.log.error("Remove plugin failed: Plugin name not defined");for(var c=this._plugins,d=0;d<c.length;d++)if(c[d].name===b){c.splice(d,1);break}},a.prototype.setVersion=function(a){a&&(this.defaultData["@version"]=a)},a.prototype.setUserIdentity=function(a,b){var c="@user",d="string"!=typeof a?a:{identity:a,name:b},e=!d||!d.identity&&!d.name;e?delete this.defaultData[c]:this.defaultData[c]=d,this.log.info("user identity: "+(e?"null":d.identity))},Object.defineProperty(a.prototype,"userAgent",{get:function(){return"exceptionless-js/1.4.1"},enumerable:!0,configurable:!0}),a.prototype.useSessions=function(a,b){void 0===a&&(a=!0),void 0===b&&(b=3e4),a&&this.addPlugin(new p(b))},a.prototype.useReferenceIds=function(){this.addPlugin(new q)},a.prototype.useLocalStorage=function(){},a.prototype.useDebugLogger=function(){this.log=new l},a.prototype.onChanged=function(a){!!a&&this._handlers.push(a)},a.prototype.changed=function(){for(var a=this._handlers,b=0;b<a.length;b++)try{a[b](this)}catch(a){this.log.error("Error calling onChanged handler: "+a)}},Object.defineProperty(a,"defaults",{get:function(){return null===a._defaultSettings&&(a._defaultSettings={}),a._defaultSettings},enumerable:!0,configurable:!0}),a._defaultSettings=null,a}();b.Configuration=v;var w=function(){function a(a,b,c){this._validIdentifierErrorMessage="must contain between 8 and 100 alphanumeric or '-' characters.",this.target=a,this.client=b,this.pluginContextData=c||new x}return a.prototype.setType=function(a){return a&&(this.target.type=a),this},a.prototype.setSource=function(a){return a&&(this.target.source=a),this},a.prototype.setReferenceId=function(a){if(!this.isValidIdentifier(a))throw new Error("ReferenceId "+this._validIdentifierErrorMessage);return this.target.reference_id=a,this},a.prototype.setEventReference=function(a,b){if(!a)throw new Error("Invalid name");if(!b||!this.isValidIdentifier(b))throw new Error("Id "+this._validIdentifierErrorMessage);return this.setProperty("@ref:"+a,b),this},a.prototype.setMessage=function(a){return a&&(this.target.message=a),this},a.prototype.setGeo=function(a,b){if(a<-90||a>90)throw new Error("Must be a valid latitude value between -90.0 and 90.0.");if(b<-180||b>180)throw new Error("Must be a valid longitude value between -180.0 and 180.0.");return this.target.geo=a+","+b,this},a.prototype.setUserIdentity=function(a,b){var c="string"!=typeof a?a:{identity:a,name:b};return c&&(c.identity||c.name)?(this.setProperty("@user",c),this):this},a.prototype.setUserDescription=function(a,b){return a&&b&&this.setProperty("@user_description",{email_address:a,description:b}),this},a.prototype.setManualStackingInfo=function(a,b){if(a){var c={signature_data:a};b&&(c.title=b),this.setProperty("@stack",c)}return this},a.prototype.setManualStackingKey=function(a,b){if(a){var c={ManualStackingKey:a};this.setManualStackingInfo(c,b)}return this},a.prototype.setValue=function(a){return a&&(this.target.value=a),this},a.prototype.addTags=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return this.target.tags=u.addRange.apply(u,[this.target.tags].concat(a)),this},a.prototype.setProperty=function(a,b,c,d){if(!a||void 0===b||null==b)return this;this.target.data||(this.target.data={});var e=JSON.parse(u.stringify(b,this.client.config.dataExclusions.concat(d||[]),c));return u.isEmpty(e)||(this.target.data[a]=e),this},a.prototype.markAsCritical=function(a){return a&&this.addTags("Critical"),this},a.prototype.addRequestInfo=function(a){return a&&(this.pluginContextData["@request"]=a),this},a.prototype.submit=function(a){this.client.submitEvent(this.target,this.pluginContextData,a)},a.prototype.isValidIdentifier=function(a){if(!a)return!0;if(a.length<8||a.length>100)return!1;for(var b=0;b<a.length;b++){var c=a.charCodeAt(b),d=c>=48&&c<=57,e=c>=65&&c<=90||c>=97&&c<=122,f=45===c;if(!d&&!e&&!f)return!1}return!0},a}();b.EventBuilder=w;var x=function(){function a(){}return a.prototype.setException=function(a){a&&(this["@@_Exception"]=a)},Object.defineProperty(a.prototype,"hasException",{get:function(){return!!this["@@_Exception"]},enumerable:!0,configurable:!0}),a.prototype.getException=function(){return this["@@_Exception"]||null},a.prototype.markAsUnhandledError=function(){this["@@_IsUnhandledError"]=!0},Object.defineProperty(a.prototype,"isUnhandledError",{get:function(){return!!this["@@_IsUnhandledError"]},enumerable:!0,configurable:!0}),a.prototype.setSubmissionMethod=function(a){a&&(this["@@_SubmissionMethod"]=a)},a.prototype.getSubmissionMethod=function(){return this["@@_SubmissionMethod"]||null},a}();b.ContextData=x;var y=function(){function a(a,b){var c=this;"object"==typeof a?this.config=new v(a):this.config=new v({apiKey:a,serverUrl:b}),this.updateSettingsTimer(5e3),this.config.onChanged(function(a){return c.updateSettingsTimer(c._timeoutId>0?5e3:0)}),this.config.queue.onEventsPosted(function(a,b){return c.updateSettingsTimer()})}return a.prototype.createException=function(a){var b=new x;return b.setException(a),this.createEvent(b).setType("error")},a.prototype.submitException=function(a,b){this.createException(a).submit(b)},a.prototype.createUnhandledException=function(a,b){var c=this.createException(a);return c.pluginContextData.markAsUnhandledError(),c.pluginContextData.setSubmissionMethod(b),c},a.prototype.submitUnhandledException=function(a,b,c){this.createUnhandledException(a,b).submit(c)},a.prototype.createFeatureUsage=function(a){return this.createEvent().setType("usage").setSource(a)},a.prototype.submitFeatureUsage=function(a,b){this.createFeatureUsage(a).submit(b)},a.prototype.createLog=function(a,b,c){var d=this.createEvent().setType("log");if(b&&c)d=d.setSource(a).setMessage(b).setProperty("@level",c);else if(b)d=d.setSource(a).setMessage(b);else{var e=arguments.callee.caller;d=d.setSource(e&&e.name).setMessage(a)}return d},a.prototype.submitLog=function(a,b,c,d){this.createLog(a,b,c).submit(d)},a.prototype.createNotFound=function(a){return this.createEvent().setType("404").setSource(a)},a.prototype.submitNotFound=function(a,b){this.createNotFound(a).submit(b)},a.prototype.createSessionStart=function(){return this.createEvent().setType("session")},a.prototype.submitSessionStart=function(a){this.createSessionStart().submit(a)},a.prototype.submitSessionEnd=function(a){a&&(this.config.log.info("Submitting session end: "+a),this.config.submissionClient.sendHeartbeat(a,!0,this.config))},a.prototype.submitSessionHeartbeat=function(a){a&&(this.config.log.info("Submitting session heartbeat: "+a),this.config.submissionClient.sendHeartbeat(a,!1,this.config))},a.prototype.createEvent=function(a){return new w({date:new Date},this,a)},a.prototype.submitEvent=function(a,b,c){function d(a){return a&&(a.cancelled=!0),!!c&&c(a)}var e=new n(this,a,b);return a?this.config.enabled?(a.data||(a.data={}),a.tags&&a.tags.length||(a.tags=[]),void o.run(e,function(a){var b=a.client.config,d=a.event;a.cancelled||(d.type&&0!==d.type.length||(d.type="log"),d.date||(d.date=new Date),b.queue.enqueue(d),d.reference_id&&d.reference_id.length>0&&(a.log.info("Setting last reference id '"+d.reference_id+"'"),b.lastReferenceIdManager.setLast(d.reference_id))),!!c&&c(a)})):(this.config.log.info("Event submission is currently disabled."),d(e)):d(e)},a.prototype.updateUserEmailAndDescription=function(a,b,c,d){var e=this;if(!(a&&b&&c&&this.config.enabled))return!!d&&d(new i(500,"cancelled"));var f={email_address:b,description:c};this.config.submissionClient.postUserDescription(a,f,this.config,function(b){b.success||e.config.log.error("Failed to submit user email and description for event '"+a+"': "+b.statusCode+" "+b.message),!!d&&d(b)})},a.prototype.getLastReferenceId=function(){return this.config.lastReferenceIdManager.getLast()},a.prototype.updateSettingsTimer=function(a){var b=this;this.config.log.info("Updating settings timer with delay: "+a),this._timeoutId=clearTimeout(this._timeoutId),this._timeoutId=clearInterval(this._intervalId);var c=this.config.updateSettingsWhenIdleInterval;if(c>0){var d=function(){return j.updateSettings(b.config)};a>0&&(this._timeoutId=setTimeout(d,a)),this._intervalId=setInterval(d,c)}},Object.defineProperty(a,"default",{get:function(){return null===a._instance&&(a._instance=new a(null)),a._instance},enumerable:!0,configurable:!0}),a._instance=null,a}();b.ExceptionlessClient=y;var z=function(){function a(){this.priority=10,this.name="ConfigurationDefaultsPlugin"}return a.prototype.run=function(a,b){for(var c=a.client.config,d=c.defaultTags||[],e=0;e<d.length;e++){var f=d[e];f&&a.event.tags.indexOf(f)<0&&a.event.tags.push(f)}var g=c.defaultData||{};for(var h in g)if(g[h]){var i=JSON.parse(u.stringify(g[h],c.dataExclusions));u.isEmpty(i)||(a.event.data[h]=i)}b&&b()},a}();b.ConfigurationDefaultsPlugin=z;var A=function(){function a(){this.priority=30,this.name="ErrorPlugin"}return a.prototype.run=function(a,b){var c="@error",d=["arguments","column","columnNumber","description","fileName","message","name","number","line","lineNumber","opera#sourceloc","sourceId","sourceURL","stack","stackArray","stacktrace"],e=a.contextData.getException();if(e&&(a.event.type="error",!a.event.data[c])){var f=a.client.config,g=f.errorParser;if(!g)throw new Error("No error parser was defined.");var h=g.parse(a,e);if(h){var i=JSON.parse(u.stringify(e,f.dataExclusions.concat(d)));u.isEmpty(i)||(h.data||(h.data={}),h.data["@ext"]=i),a.event.data[c]=h}}b&&b()},a}();b.ErrorPlugin=A;var B=function(){function a(){this.priority=50,this.name="ModuleInfoPlugin"}return a.prototype.run=function(a,b){var c="@error",d=a.client.config.moduleCollector;if(a.event.data[c]&&!a.event.data["@error"].modules&&d){var e=d.getModules(a);e&&e.length>0&&(a.event.data[c].modules=e)}b&&b()},a}();b.ModuleInfoPlugin=B;var C=function(){function a(){this.priority=70,this.name="RequestInfoPlugin"}return a.prototype.run=function(a,b){var c="@request",d=a.client.config,e=d.requestInfoCollector;if(!a.event.data[c]&&e){var f=e.getRequestInfo(a);f&&(u.isMatch(f.user_agent,d.userAgentBotPatterns)?(a.log.info("Cancelling event as the request user agent matches a known bot pattern"),a.cancelled=!0):a.event.data[c]=f)}b&&b()},a}();b.RequestInfoPlugin=C;var D=function(){function a(){this.priority=80,this.name="EnvironmentInfoPlugin"}return a.prototype.run=function(a,b){var c="@environment",d=a.client.config.environmentInfoCollector;if(!a.event.data[c]&&d){var e=d.getEnvironmentInfo(a);e&&(a.event.data[c]=e)}b&&b()},a}();b.EnvironmentInfoPlugin=D;var E=function(){function a(){this.priority=100,this.name="SubmissionMethodPlugin"}return a.prototype.run=function(a,b){var c=a.contextData.getSubmissionMethod();c&&(a.event.data["@submission_method"]=c),b&&b()},a}();b.SubmissionMethodPlugin=E;var F=function(){function a(a,b){var c=this;void 0===a&&(a=function(){return Date.now()}),void 0===b&&(b=3e4),this.priority=1010,this.name="DuplicateCheckerPlugin",this._mergedEvents=[],this._processedHashcodes=[],this._getCurrentTime=a,this._interval=b,setInterval(function(){for(;c._mergedEvents.length>0;)c._mergedEvents.shift().resubmit()},b)}return a.prototype.run=function(a,b){function c(a){for(var b=0;a;)a.message&&a.message.length&&(b+=397*b^u.getHashCode(a.message)),a.stack_trace&&a.stack_trace.length&&(b+=397*b^u.getHashCode(JSON.stringify(a.stack_trace))),a=a.inner;return b}var d=this,e=a.event.data["@error"],f=c(e);if(f){var g=a.event.count||1,h=this._getCurrentTime(),i=this._mergedEvents.filter(function(a){return a.hashCode===f})[0];if(i)return i.incrementCount(g),i.updateDate(a.event.date),a.log.info("Ignoring duplicate event with hash: "+f),void(a.cancelled=!0);if(this._processedHashcodes.some(function(a){return a.hash===f&&a.timestamp>=h-d._interval}))return a.log.trace("Adding event with hash: "+f),this._mergedEvents.push(new G(f,a,g)),void(a.cancelled=!0);for(a.log.trace("Enqueueing event with hash: "+f+"to cache."),this._processedHashcodes.push({hash:f,timestamp:h});this._processedHashcodes.length>50;)this._processedHashcodes.shift();b&&b()}},a}();b.DuplicateCheckerPlugin=F;var G=function(){function a(a,b,c){this.hashCode=a,this._context=b,this._count=c}return a.prototype.incrementCount=function(a){this._count+=a},a.prototype.resubmit=function(){this._context.event.count=this._count,this._context.client.config.queue.enqueue(this._context.event)},a.prototype.updateDate=function(a){a>this._context.event.date&&(this._context.event.date=a)},a}(),H=function(){function a(){this.priority=45,this.name="EventExclusionPlugin"}return a.prototype.run=function(a,b){function c(a){switch((a||"").toLowerCase().trim()){case"trace":case"true":case"1":case"yes":return 0;case"debug":return 1;case"info":return 2;case"warn":return 3;case"error":return 4;case"fatal":return 5;case"off":case"false":case"0":case"no":return 6;default:return-1}}function d(a,b){return void 0===b&&(b="*"),c(e(a,"log",b,"Trace")+"")}function e(a,b,c,d){if(void 0===a&&(a={}),void 0===d&&(d=void 0),!b)return d;var e="log"===b,f="@@"+b+":",g=a[f+c];if(g)return e?g:u.toBoolean(g);for(var h in a)if(u.startsWith(h.toLowerCase(),f.toLowerCase())&&u.isMatch(c,[h.substring(f.length)]))return e?a[h]:u.toBoolean(a[h]);return d}var f=a.event,g=a.log,h=a.client.config.settings;if("log"===f.type){var i=d(h,f.source),j=c(f.data["@level"]);j>=0&&(j>5||j<i)&&(g.info("Cancelling log event due to minimum log level."),a.cancelled=!0)}else if("error"===f.type)for(var k=f.data["@error"];!a.cancelled&&k;)e(h,f.type,k.type,!0)===!1&&(g.info("Cancelling error from excluded exception type: "+k.type),a.cancelled=!0),k=k.inner;else e(h,f.type,f.source,!0)===!1&&(g.info("Cancelling event from excluded type: "+f.type+" and source: "+f.source),a.cancelled=!0);b&&b()},a}();b.EventExclusionPlugin=H;var I=function(){function a(a,b,c,d,e){void 0===c&&(c=-1),void 0===d&&(d=null),void 0===e&&(e=null),this.success=!1,this.settingsVersion=-1,this.success=a,this.settings=b,this.settingsVersion=c,this.exception=d,this.message=e}return a}();b.SettingsResponse=I;var J=function(){function a(a){this.items=[],this.lastTimestamp=0,this.maxItems=a}return a.prototype.save=function(a){if(!a)return null;var b=this.items,c=Math.max(Date.now(),this.lastTimestamp+1),d={timestamp:c,value:a};return b.push(d)>this.maxItems&&b.shift(),this.lastTimestamp=c,d.timestamp},a.prototype.get=function(a){return this.items.slice(0,a)},a.prototype.remove=function(a){for(var b=this.items,c=0;c<b.length;c++)if(b[c].timestamp===a)return void b.splice(c,1)},a.prototype.clear=function(){this.items=[]},a}();b.InMemoryStorage=J;var K=function(){function a(a){this.lastTimestamp=0,this.maxItems=a}return a.prototype.save=function(a,b){if(!a)return null;this.ensureIndex();var c=this.items,d=Math.max(Date.now(),this.lastTimestamp+1),e=this.getKey(d),f=JSON.stringify(a);try{this.write(e,f),this.lastTimestamp=d,c.push(d)>this.maxItems&&this.delete(this.getKey(c.shift()))}catch(a){return null}return d},a.prototype.get=function(a){var b=this;return this.ensureIndex(),this.items.slice(0,a).map(function(a){var c=b.getKey(a);try{var d=b.read(c),f=JSON.parse(d,e);return{timestamp:a,value:f}}catch(a){return b.safeDelete(c),null}}).filter(function(a){return null!=a})},a.prototype.remove=function(a){this.ensureIndex();var b=this.items,c=b.indexOf(a);if(c>=0){var d=this.getKey(a);this.safeDelete(d),b.splice(c,1)}},a.prototype.clear=function(){var a=this;this.items.forEach(function(b){return a.safeDelete(a.getKey(b))}),this.items=[]},a.prototype.ensureIndex=function(){this.items||(this.items=this.createIndex(),this.lastTimestamp=Math.max.apply(Math,[0].concat(this.items))+1)},a.prototype.safeDelete=function(a){try{this.delete(a)}catch(a){}},a.prototype.createIndex=function(){var a=this;try{var b=this.readAllKeys();return b.map(function(b){try{var c=a.getTimestamp(b);return c?c:(a.safeDelete(b),null)}catch(c){return a.safeDelete(b),null}}).filter(function(a){return null!=a}).sort(function(a,b){return a-b})}catch(a){return[]}},a}();b.KeyValueStorageBase=K;var L=function(a){function b(b,c,d){void 0===c&&(c="com.exceptionless."),void 0===d&&(d=20),a.call(this,d),this.prefix=c+b+"-"}return h(b,a),b.isAvailable=function(){try{var a=window.localStorage,b="__storage_test__";return a.setItem(b,b),a.removeItem(b),!0}catch(a){return!1}},b.prototype.write=function(a,b){window.localStorage.setItem(a,b)},b.prototype.read=function(a){return window.localStorage.getItem(a)},b.prototype.readAllKeys=function(){var a=this;return Object.keys(window.localStorage).filter(function(b){return 0===b.indexOf(a.prefix)})},b.prototype.delete=function(a){window.localStorage.removeItem(a)},b.prototype.getKey=function(a){return this.prefix+a},b.prototype.getTimestamp=function(a){return parseInt(a.substr(this.prefix.length),10)},b}(K);b.BrowserStorage=L;var M=function(){function a(){}return a.prototype.parse=function(a,b){function c(a){for(var b=("string"==typeof a?[a]:a)||[],c=[],d=0;d<b.length;d++)c.push({name:b[d]});return c}function e(a){for(var b="<anonymous>",d=[],e=0;e<a.length;e++){var f=a[e];d.push({name:(f.func||b).replace("?",b),parameters:c(f.args),file_name:f.url,line_number:f.line||0,column:f.column||0})}return d}var f="@@_TraceKit.StackTrace",g=a.contextData[f]?a.contextData[f]:d.computeStackTrace(b,25);if(!g)throw new Error("Unable to parse the exceptions stack trace.");return{type:g.name,message:g.message||b.message,stack_trace:e(g.stack||[])}},a}();b.DefaultErrorParser=M;var N=function(){function a(){}return a.prototype.getModules=function(a){if(document&&document.getElementsByTagName)return null;var b=[],c=document.getElementsByTagName("script");if(c&&c.length>0)for(var d=0;d<c.length;d++)c[d].src?b.push({module_id:d,name:c[d].src,version:u.parseVersion(c[d].src)}):c[d].innerHTML&&b.push({module_id:d,name:"Script Tag",version:u.getHashCode(c[d].innerHTML).toString()});return b},a}();b.DefaultModuleCollector=N;var O=function(){function a(){}return a.prototype.getRequestInfo=function(a){if(!document||!navigator||!location)return null;var b=a.client.config.dataExclusions,c={user_agent:navigator.userAgent,is_secure:"https:"===location.protocol,host:location.hostname,port:location.port&&""!==location.port?parseInt(location.port,10):80,path:location.pathname,cookies:u.getCookies(document.cookie,b),query_string:u.parseQueryString(location.search.substring(1),b)};return document.referrer&&""!==document.referrer&&(c.referrer=document.referrer),c},a}();b.DefaultRequestInfoCollector=O;var P=function(){function a(){}return a.prototype.sendRequest=function(a,b,c){function d(c,d){function e(a){function b(a){return a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}for(var c={},d=(a||"").split("\r\n"),e=0;e<d.length;e++){var f=d[e],g=f.indexOf(": ");g>0&&(c[b(f.substring(0,g).toLowerCase())]=f.substring(g+2))}return c}if(!i){i=!0;var h=d.statusText,j=d.responseText,k=d.status;if(c===f||0===k)h="Unable to connect to server.",k=0;else if(c!==g||k){if(k<200||k>299){var l=d.responseBody;if(l&&l.message)h=l.message;else if(j&&j.indexOf("message")!==-1)try{h=JSON.parse(j).message}catch(a){h=j}}}else k="POST"===a.method?202:200;b&&b(k||500,h||"",j,e(d.getAllResponseHeaders&&d.getAllResponseHeaders()))}}function e(a,b,c){var d=new XMLHttpRequest;return h in d?(d.open(b,c,!0),d.setRequestHeader("X-Exceptionless-Client",a),"POST"===b&&d.setRequestHeader("Content-Type","application/json")):"undefined"!=typeof XDomainRequest?(j=!0,d=new XDomainRequest,d.open(b,"http:"===location.protocol?c.replace("https:","http:"):c)):d=null,d&&(d.timeout=1e4),d}var f="timeout",g="loaded",h="withCredentials",i=!1,j=!1,k=""+a.url+(a.url.indexOf("?")===-1?"?":"&")+"access_token="+encodeURIComponent(a.apiKey),l=e(a.userAgent,a.method||"POST",k);return l?(h in l&&(l.onreadystatechange=function(){4===l.readyState&&d(g,l)}),l.onprogress=function(){},l.ontimeout=function(){return d(f,l)},l.onerror=function(){return d("error",l)},l.onload=function(){return d(g,l)},void(j?setTimeout(function(){return l.send(a.data)},500):l.send(a.data))):b&&b(503,"CORS not supported.")},a}();b.DefaultSubmissionAdapter=P;var Q=function(){function a(a,b){void 0===b&&(b=250),this.queue=new L("q",a,b),this.settings=new L("settings",a,1)}return a}();b.BrowserStorageProvider=Q,v.prototype.useLocalStorage=function(){L.isAvailable()&&(this.storage=new Q,j.applySavedServerSettings(this),this.changed())};var R=v.defaults,S=f();return S&&(S.apiKey||S.serverUrl)&&(R.apiKey=S.apiKey,R.serverUrl=S.serverUrl),R.errorParser=new M,R.moduleCollector=new N,R.requestInfoCollector=new O,R.submissionAdapter=new P,d.report.subscribe(g),d.extendToAsynchronousCallbacks(),Error.stackTraceLimit=1/0,b}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return md.apply(null,arguments)}function b(a){md=a}function c(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function d(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function e(a){var b;for(b in a)return!1;return!0}function f(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function g(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function h(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function i(a,b){for(var c in b)h(b,c)&&(a[c]=b[c]);return h(b,"toString")&&(a.toString=b.toString),h(b,"valueOf")&&(a.valueOf=b.valueOf),a}function j(a,b,c,d){return qb(a,b,c,d,!0).utc()}function k(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function l(a){return null==a._pf&&(a._pf=k()),a._pf}function m(a){if(null==a._isValid){var b=l(a),c=nd.call(b.parsedDateParts,function(a){return null!=a}),d=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(d=d&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return d;a._isValid=d}return a._isValid}function n(a){var b=j(NaN);return null!=a?i(l(b),a):l(b).userInvalidated=!0,b}function o(a){return void 0===a}function p(a,b){var c,d,e;if(o(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),o(b._i)||(a._i=b._i),o(b._f)||(a._f=b._f),o(b._l)||(a._l=b._l),o(b._strict)||(a._strict=b._strict),o(b._tzm)||(a._tzm=b._tzm),o(b._isUTC)||(a._isUTC=b._isUTC),o(b._offset)||(a._offset=b._offset),o(b._pf)||(a._pf=l(b)),o(b._locale)||(a._locale=b._locale),od.length>0)for(c in od)d=od[c],e=b[d],o(e)||(a[d]=e);return a}function q(b){p(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),pd===!1&&(pd=!0,a.updateOffset(this),pd=!1)}function r(a){return a instanceof q||null!=a&&null!=a._isAMomentObject}function s(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function t(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=s(b)),c}function u(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&t(a[d])!==t(b[d]))&&g++;return g+f}function v(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function w(b,c){var d=!0;return i(function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,b),d){for(var e,f=[],g=0;g<arguments.length;g++){if(e="","object"==typeof arguments[g]){e+="\n["+g+"] ";for(var h in arguments[0])e+=h+": "+arguments[0][h]+", ";e=e.slice(0,-2)}else e=arguments[g];f.push(e)}v(b+"\nArguments: "+Array.prototype.slice.call(f).join("")+"\n"+(new Error).stack),d=!1}return c.apply(this,arguments)},c)}function x(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c),qd[b]||(v(c),qd[b]=!0)}function y(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function z(a){var b,c;for(c in a)b=a[c],y(b)?this[c]=b:this["_"+c]=b;this._config=a,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function A(a,b){var c,e=i({},a);for(c in b)h(b,c)&&(d(a[c])&&d(b[c])?(e[c]={},i(e[c],a[c]),i(e[c],b[c])):null!=b[c]?e[c]=b[c]:delete e[c]);for(c in a)h(a,c)&&!h(b,c)&&d(a[c])&&(e[c]=i({},e[c]));return e}function B(a){null!=a&&this.set(a)}function C(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return y(d)?d.call(b,c):d}function D(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function E(){return this._invalidDate}function F(a){return this._ordinal.replace("%d",a)}function G(a,b,c,d){var e=this._relativeTime[c];return y(e)?e(a,b,c,d):e.replace(/%d/i,a)}function H(a,b){var c=this._relativeTime[a>0?"future":"past"];return y(c)?c(b):c.replace(/%s/i,b)}function I(a,b){var c=a.toLowerCase();zd[c]=zd[c+"s"]=zd[b]=a}function J(a){return"string"==typeof a?zd[a]||zd[a.toLowerCase()]:void 0}function K(a){var b,c,d={};for(c in a)h(a,c)&&(b=J(c),b&&(d[b]=a[c]));return d}function L(a,b){Ad[a]=b}function M(a){var b=[];for(var c in a)b.push({unit:c,priority:Ad[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function N(b,c){return function(d){return null!=d?(P(this,b,d),a.updateOffset(this,c),this):O(this,b)}}function O(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function P(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function Q(a){return a=J(a),y(this[a])?this[a]():this}function R(a,b){if("object"==typeof a){a=K(a);for(var c=M(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=J(a),y(this[a]))return this[a](b);return this}function S(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function T(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Ed[a]=e),b&&(Ed[b[0]]=function(){return S(e.apply(this,arguments),b[1],b[2])}),c&&(Ed[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function U(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function V(a){var b,c,d=a.match(Bd);for(b=0,c=d.length;b<c;b++)Ed[d[b]]?d[b]=Ed[d[b]]:d[b]=U(d[b]);return function(b){var e,f="";for(e=0;e<c;e++)f+=d[e]instanceof Function?d[e].call(b,a):d[e];return f}}function W(a,b){return a.isValid()?(b=X(b,a.localeData()),Dd[b]=Dd[b]||V(b),Dd[b](a)):a.localeData().invalidDate()}function X(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Cd.lastIndex=0;d>=0&&Cd.test(a);)a=a.replace(Cd,c),Cd.lastIndex=0,d-=1;return a}function Y(a,b,c){Wd[a]=y(b)?b:function(a,d){return a&&c?c:b}}function Z(a,b){return h(Wd,a)?Wd[a](b._strict,b._locale):new RegExp($(a))}function $(a){return _(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function _(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function aa(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=t(a)}),c=0;c<a.length;c++)Xd[a[c]]=d}function ba(a,b){aa(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function ca(a,b,c){null!=b&&h(Xd,a)&&Xd[a](b,c._a,c,a)}function da(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function ea(a,b){return a?c(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||fe).test(b)?"format":"standalone"][a.month()]:this._months}function fa(a,b){return a?c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[fe.test(b)?"format":"standalone"][a.month()]:this._monthsShort}function ga(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)f=j([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=sd.call(this._shortMonthsParse,g),e!==-1?e:null):(e=sd.call(this._longMonthsParse,g),e!==-1?e:null):"MMM"===b?(e=sd.call(this._shortMonthsParse,g),e!==-1?e:(e=sd.call(this._longMonthsParse,g),e!==-1?e:null)):(e=sd.call(this._longMonthsParse,g),e!==-1?e:(e=sd.call(this._shortMonthsParse,g),e!==-1?e:null))}function ha(a,b,c){var d,e,f;if(this._monthsParseExact)return ga.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],
this._shortMonthsParse=[]),d=0;d<12;d++){if(e=j([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function ia(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=t(b);else if(b=a.localeData().monthsParse(b),"number"!=typeof b)return a;return c=Math.min(a.date(),da(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function ja(b){return null!=b?(ia(this,b),a.updateOffset(this,!0),this):O(this,"Month")}function ka(){return da(this.year(),this.month())}function la(a){return this._monthsParseExact?(h(this,"_monthsRegex")||na.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=ie),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function ma(a){return this._monthsParseExact?(h(this,"_monthsRegex")||na.call(this),a?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=je),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function na(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;b<12;b++)c=j([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;b<12;b++)d[b]=_(d[b]),e[b]=_(e[b]);for(b=0;b<24;b++)f[b]=_(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function oa(a){return pa(a)?366:365}function pa(a){return a%4===0&&a%100!==0||a%400===0}function qa(){return pa(this.year())}function ra(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return a<100&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function sa(a){var b=new Date(Date.UTC.apply(null,arguments));return a<100&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function ta(a,b,c){var d=7+b-c,e=(7+sa(a,0,d).getUTCDay()-b)%7;return-e+d-1}function ua(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=ta(a,d,e),j=1+7*(b-1)+h+i;return j<=0?(f=a-1,g=oa(f)+j):j>oa(a)?(f=a+1,g=j-oa(a)):(f=a,g=j),{year:f,dayOfYear:g}}function va(a,b,c){var d,e,f=ta(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return g<1?(e=a.year()-1,d=g+wa(e,b,c)):g>wa(a.year(),b,c)?(d=g-wa(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function wa(a,b,c){var d=ta(a,b,c),e=ta(a+1,b,c);return(oa(a)-d+e)/7}function xa(a){return va(a,this._week.dow,this._week.doy).week}function ya(){return this._week.dow}function za(){return this._week.doy}function Aa(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Ba(a){var b=va(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Ca(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Da(a,b){return"string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Ea(a,b){return a?c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]:this._weekdays}function Fa(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort}function Ga(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin}function Ha(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)f=j([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=sd.call(this._weekdaysParse,g),e!==-1?e:null):"ddd"===b?(e=sd.call(this._shortWeekdaysParse,g),e!==-1?e:null):(e=sd.call(this._minWeekdaysParse,g),e!==-1?e:null):"dddd"===b?(e=sd.call(this._weekdaysParse,g),e!==-1?e:(e=sd.call(this._shortWeekdaysParse,g),e!==-1?e:(e=sd.call(this._minWeekdaysParse,g),e!==-1?e:null))):"ddd"===b?(e=sd.call(this._shortWeekdaysParse,g),e!==-1?e:(e=sd.call(this._weekdaysParse,g),e!==-1?e:(e=sd.call(this._minWeekdaysParse,g),e!==-1?e:null))):(e=sd.call(this._minWeekdaysParse,g),e!==-1?e:(e=sd.call(this._weekdaysParse,g),e!==-1?e:(e=sd.call(this._shortWeekdaysParse,g),e!==-1?e:null)))}function Ia(a,b,c){var d,e,f;if(this._weekdaysParseExact)return Ha.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(e=j([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function Ja(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Ca(a,this.localeData()),this.add(a-b,"d")):b}function Ka(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function La(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=Da(a,this.localeData());return this.day(this.day()%7?b:b-7)}return this.day()||7}function Ma(a){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Pa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=pe),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Na(a){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Pa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qe),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Oa(a){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Pa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=re),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Pa(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],h=[],i=[],k=[];for(b=0;b<7;b++)c=j([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),h.push(e),i.push(f),k.push(d),k.push(e),k.push(f);for(g.sort(a),h.sort(a),i.sort(a),k.sort(a),b=0;b<7;b++)h[b]=_(h[b]),i[b]=_(i[b]),k[b]=_(k[b]);this._weekdaysRegex=new RegExp("^("+k.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Qa(){return this.hours()%12||12}function Ra(){return this.hours()||24}function Sa(a,b){T(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Ta(a,b){return b._meridiemParse}function Ua(a){return"p"===(a+"").toLowerCase().charAt(0)}function Va(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Wa(a){return a?a.toLowerCase().replace("_","-"):a}function Xa(a){for(var b,c,d,e,f=0;f<a.length;){for(e=Wa(a[f]).split("-"),b=e.length,c=Wa(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=Ya(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&u(e,c,!0)>=b-1)break;b--}f++}return null}function Ya(a){var b=null;if(!we[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=se._abbr,require("./locale/"+a),Za(b)}catch(a){}return we[a]}function Za(a,b){var c;return a&&(c=o(b)?ab(a):$a(a,b),c&&(se=c)),se._abbr}function $a(a,b){if(null!==b){var c=ve;return b.abbr=a,null!=we[a]?(x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=we[a]._config):null!=b.parentLocale&&(null!=we[b.parentLocale]?c=we[b.parentLocale]._config:x("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),we[a]=new B(A(c,b)),Za(a),we[a]}return delete we[a],null}function _a(a,b){if(null!=b){var c,d=ve;null!=we[a]&&(d=we[a]._config),b=A(d,b),c=new B(b),c.parentLocale=we[a],we[a]=c,Za(a)}else null!=we[a]&&(null!=we[a].parentLocale?we[a]=we[a].parentLocale:null!=we[a]&&delete we[a]);return we[a]}function ab(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return se;if(!c(a)){if(b=Ya(a))return b;a=[a]}return Xa(a)}function bb(){return rd(we)}function cb(a){var b,c=a._a;return c&&l(a).overflow===-2&&(b=c[Zd]<0||c[Zd]>11?Zd:c[$d]<1||c[$d]>da(c[Yd],c[Zd])?$d:c[_d]<0||c[_d]>24||24===c[_d]&&(0!==c[ae]||0!==c[be]||0!==c[ce])?_d:c[ae]<0||c[ae]>59?ae:c[be]<0||c[be]>59?be:c[ce]<0||c[ce]>999?ce:-1,l(a)._overflowDayOfYear&&(b<Yd||b>$d)&&(b=$d),l(a)._overflowWeeks&&b===-1&&(b=de),l(a)._overflowWeekday&&b===-1&&(b=ee),l(a).overflow=b),a}function db(a){var b,c,d,e,f,g,h=a._i,i=xe.exec(h)||ye.exec(h);if(i){for(l(a).iso=!0,b=0,c=Ae.length;b<c;b++)if(Ae[b][1].exec(i[1])){e=Ae[b][0],d=Ae[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Be.length;b<c;b++)if(Be[b][1].exec(i[3])){f=(i[2]||" ")+Be[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!ze.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),jb(a)}else a._isValid=!1}function eb(b){var c=Ce.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(db(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function fb(a,b,c){return null!=a?a:null!=b?b:c}function gb(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function hb(a){var b,c,d,e,f=[];if(!a._d){for(d=gb(a),a._w&&null==a._a[$d]&&null==a._a[Zd]&&ib(a),a._dayOfYear&&(e=fb(a._a[Yd],d[Yd]),a._dayOfYear>oa(e)&&(l(a)._overflowDayOfYear=!0),c=sa(e,0,a._dayOfYear),a._a[Zd]=c.getUTCMonth(),a._a[$d]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;b<7;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[_d]&&0===a._a[ae]&&0===a._a[be]&&0===a._a[ce]&&(a._nextDay=!0,a._a[_d]=0),a._d=(a._useUTC?sa:ra).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[_d]=24)}}function ib(a){var b,c,d,e,f,g,h,i;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=fb(b.GG,a._a[Yd],va(rb(),1,4).year),d=fb(b.W,1),e=fb(b.E,1),(e<1||e>7)&&(i=!0)):(f=a._locale._week.dow,g=a._locale._week.doy,c=fb(b.gg,a._a[Yd],va(rb(),f,g).year),d=fb(b.w,1),null!=b.d?(e=b.d,(e<0||e>6)&&(i=!0)):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f),d<1||d>wa(c,f,g)?l(a)._overflowWeeks=!0:null!=i?l(a)._overflowWeekday=!0:(h=ua(c,d,e,f,g),a._a[Yd]=h.year,a._dayOfYear=h.dayOfYear)}function jb(b){if(b._f===a.ISO_8601)return void db(b);b._a=[],l(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=X(b._f,b._locale).match(Bd)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(Z(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&l(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Ed[f]?(d?l(b).empty=!1:l(b).unusedTokens.push(f),ca(f,d,b)):b._strict&&!d&&l(b).unusedTokens.push(f);l(b).charsLeftOver=i-j,h.length>0&&l(b).unusedInput.push(h),b._a[_d]<=12&&l(b).bigHour===!0&&b._a[_d]>0&&(l(b).bigHour=void 0),l(b).parsedDateParts=b._a.slice(0),l(b).meridiem=b._meridiem,b._a[_d]=kb(b._locale,b._a[_d],b._meridiem),hb(b),cb(b)}function kb(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&b<12&&(b+=12),d||12!==b||(b=0),b):b}function lb(a){var b,c,d,e,f;if(0===a._f.length)return l(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=p({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],jb(b),m(b)&&(f+=l(b).charsLeftOver,f+=10*l(b).unusedTokens.length,l(b).score=f,(null==d||f<d)&&(d=f,c=b));i(a,c||b)}function mb(a){if(!a._d){var b=K(a._i);a._a=g([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),hb(a)}}function nb(a){var b=new q(cb(ob(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function ob(a){var b=a._i,d=a._f;return a._locale=a._locale||ab(a._l),null===b||void 0===d&&""===b?n({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),r(b)?new q(cb(b)):(c(d)?lb(a):f(b)?a._d=b:d?jb(a):pb(a),m(a)||(a._d=null),a))}function pb(b){var d=b._i;void 0===d?b._d=new Date(a.now()):f(d)?b._d=new Date(d.valueOf()):"string"==typeof d?eb(b):c(d)?(b._a=g(d.slice(0),function(a){return parseInt(a,10)}),hb(b)):"object"==typeof d?mb(b):"number"==typeof d?b._d=new Date(d):a.createFromInputFallback(b)}function qb(a,b,f,g,h){var i={};return"boolean"==typeof f&&(g=f,f=void 0),(d(a)&&e(a)||c(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=f,i._i=a,i._f=b,i._strict=g,nb(i)}function rb(a,b,c,d){return qb(a,b,c,d,!1)}function sb(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return rb();for(d=b[0],e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](d)||(d=b[e]);return d}function tb(){var a=[].slice.call(arguments,0);return sb("isBefore",a)}function ub(){var a=[].slice.call(arguments,0);return sb("isAfter",a)}function vb(a){var b=K(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=ab(),this._bubble()}function wb(a){return a instanceof vb}function xb(a){return a<0?Math.round(-1*a)*-1:Math.round(a)}function yb(a,b){T(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+S(~~(a/60),2)+b+S(~~a%60,2)})}function zb(a,b){var c=(b||"").match(a)||[],d=c[c.length-1]||[],e=(d+"").match(Ge)||["-",0,0],f=+(60*e[1])+t(e[2]);return"+"===e[0]?f:-f}function Ab(b,c){var d,e;return c._isUTC?(d=c.clone(),e=(r(b)||f(b)?b.valueOf():rb(b).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),a.updateOffset(d,!1),d):rb(b).local()}function Bb(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Cb(b,c){var d,e=this._offset||0;return this.isValid()?null!=b?("string"==typeof b?b=zb(Td,b):Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Bb(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?Sb(this,Nb(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Bb(this):null!=b?this:NaN}function Db(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Eb(a){return this.utcOffset(0,a)}function Fb(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Bb(this),"m")),this}function Gb(){if(this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var a=zb(Sd,this._i);0===a?this.utcOffset(0,!0):this.utcOffset(zb(Sd,this._i))}return this}function Hb(a){return!!this.isValid()&&(a=a?rb(a).utcOffset():0,(this.utcOffset()-a)%60===0)}function Ib(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Jb(){if(!o(this._isDSTShifted))return this._isDSTShifted;var a={};if(p(a,this),a=ob(a),a._a){var b=a._isUTC?j(a._a):rb(a._a);this._isDSTShifted=this.isValid()&&u(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Kb(){return!!this.isValid()&&!this._isUTC}function Lb(){return!!this.isValid()&&this._isUTC}function Mb(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Nb(a,b){var c,d,e,f=a,g=null;return wb(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(g=He.exec(a))?(c="-"===g[1]?-1:1,f={y:0,d:t(g[$d])*c,h:t(g[_d])*c,m:t(g[ae])*c,s:t(g[be])*c,ms:t(xb(1e3*g[ce]))*c}):(g=Ie.exec(a))?(c="-"===g[1]?-1:1,f={y:Ob(g[2],c),M:Ob(g[3],c),w:Ob(g[4],c),d:Ob(g[5],c),h:Ob(g[6],c),m:Ob(g[7],c),s:Ob(g[8],c)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(e=Qb(rb(f.from),rb(f.to)),f={},f.ms=e.milliseconds,f.M=e.months),d=new vb(f),wb(a)&&h(a,"_locale")&&(d._locale=a._locale),d}function Ob(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Pb(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Qb(a,b){var c;return a.isValid()&&b.isValid()?(b=Ab(b,a),a.isBefore(b)?c=Pb(a,b):(c=Pb(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function Rb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(x(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Nb(c,d),Sb(this,e,a),this}}function Sb(b,c,d,e){var f=c._milliseconds,g=xb(c._days),h=xb(c._months);b.isValid()&&(e=null==e||e,f&&b._d.setTime(b._d.valueOf()+f*d),g&&P(b,"Date",O(b,"Date")+g*d),h&&ia(b,O(b,"Month")+h*d),e&&a.updateOffset(b,g||h))}function Tb(a,b){var c=a.diff(b,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function Ub(b,c){var d=b||rb(),e=Ab(d,this).startOf("day"),f=a.calendarFormat(this,e)||"sameElse",g=c&&(y(c[f])?c[f].call(this,d):c[f]);return this.format(g||this.localeData().calendar(f,this,rb(d)))}function Vb(){return new q(this)}function Wb(a,b){var c=r(a)?a:rb(a);return!(!this.isValid()||!c.isValid())&&(b=J(o(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())}function Xb(a,b){var c=r(a)?a:rb(a);return!(!this.isValid()||!c.isValid())&&(b=J(o(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf())}function Yb(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))}function Zb(a,b){var c,d=r(a)?a:rb(a);return!(!this.isValid()||!d.isValid())&&(b=J(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf()))}function $b(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function _b(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function ac(a,b,c){var d,e,f,g;return this.isValid()?(d=Ab(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=J(b),"year"===b||"month"===b||"quarter"===b?(g=bc(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:s(g)):NaN):NaN}function bc(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return b-f<0?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)||0}function cc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function dc(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?y(Date.prototype.toISOString)?this.toDate().toISOString():W(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):W(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ec(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var c=W(this,b);return this.localeData().postformat(c)}function fc(a,b){return this.isValid()&&(r(a)&&a.isValid()||rb(a).isValid())?Nb({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function gc(a){return this.from(rb(),a)}function hc(a,b){return this.isValid()&&(r(a)&&a.isValid()||rb(a).isValid())?Nb({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ic(a){return this.to(rb(),a)}function jc(a){var b;return void 0===a?this._locale._abbr:(b=ab(a),null!=b&&(this._locale=b),this)}function kc(){return this._locale}function lc(a){switch(a=J(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function mc(a){return a=J(a),void 0===a||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))}function nc(){return this._d.valueOf()-6e4*(this._offset||0)}function oc(){return Math.floor(this.valueOf()/1e3)}function pc(){return new Date(this.valueOf())}function qc(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function rc(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function sc(){return this.isValid()?this.toISOString():null}function tc(){return m(this)}function uc(){return i({},l(this))}function vc(){return l(this).overflow}function wc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function xc(a,b){T(0,[a,a.length],0,b)}function yc(a){return Cc.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function zc(a){return Cc.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Ac(){return wa(this.year(),1,4)}function Bc(){var a=this.localeData()._week;return wa(this.year(),a.dow,a.doy)}function Cc(a,b,c,d,e){var f;return null==a?va(this,d,e).year:(f=wa(a,d,e),b>f&&(b=f),Dc.call(this,a,b,c,d,e))}function Dc(a,b,c,d,e){var f=ua(a,b,c,d,e),g=sa(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Ec(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Fc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function Gc(a,b){b[ce]=t(1e3*("0."+a))}function Hc(){return this._isUTC?"UTC":""}function Ic(){return this._isUTC?"Coordinated Universal Time":""}function Jc(a){return rb(1e3*a)}function Kc(){return rb.apply(null,arguments).parseZone()}function Lc(a){return a}function Mc(a,b,c,d){var e=ab(),f=j().set(d,b);return e[c](f,a)}function Nc(a,b,c){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return Mc(a,b,c,"month");var d,e=[];for(d=0;d<12;d++)e[d]=Mc(a,d,c,"month");return e}function Oc(a,b,c,d){"boolean"==typeof a?("number"==typeof b&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,"number"==typeof b&&(c=b,b=void 0),b=b||"");var e=ab(),f=a?e._week.dow:0;if(null!=c)return Mc(b,(c+f)%7,d,"day");var g,h=[];for(g=0;g<7;g++)h[g]=Mc(b,(g+f)%7,d,"day");return h}function Pc(a,b){return Nc(a,b,"months")}function Qc(a,b){return Nc(a,b,"monthsShort")}function Rc(a,b,c){return Oc(a,b,c,"weekdays")}function Sc(a,b,c){return Oc(a,b,c,"weekdaysShort")}function Tc(a,b,c){return Oc(a,b,c,"weekdaysMin")}function Uc(){var a=this._data;return this._milliseconds=Ue(this._milliseconds),this._days=Ue(this._days),this._months=Ue(this._months),a.milliseconds=Ue(a.milliseconds),a.seconds=Ue(a.seconds),a.minutes=Ue(a.minutes),a.hours=Ue(a.hours),a.months=Ue(a.months),a.years=Ue(a.years),this}function Vc(a,b,c,d){var e=Nb(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function Wc(a,b){return Vc(this,a,b,1)}function Xc(a,b){return Vc(this,a,b,-1)}function Yc(a){return a<0?Math.floor(a):Math.ceil(a)}function Zc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||f<=0&&g<=0&&h<=0||(f+=864e5*Yc(_c(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=s(f/1e3),i.seconds=a%60,b=s(a/60),i.minutes=b%60,c=s(b/60),i.hours=c%24,g+=s(c/24),e=s($c(g)),h+=e,g-=Yc(_c(e)),d=s(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function $c(a){return 4800*a/146097}function _c(a){return 146097*a/4800}function ad(a){var b,c,d=this._milliseconds;if(a=J(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+$c(b),"month"===a?c:c/12;switch(b=this._days+Math.round(_c(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function bd(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*t(this._months/12)}function cd(a){return function(){return this.as(a)}}function dd(a){return a=J(a),this[a+"s"]()}function ed(a){return function(){return this._data[a]}}function fd(){return s(this.days()/7)}function gd(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function hd(a,b,c){var d=Nb(a).abs(),e=jf(d.as("s")),f=jf(d.as("m")),g=jf(d.as("h")),h=jf(d.as("d")),i=jf(d.as("M")),j=jf(d.as("y")),k=e<kf.s&&["s",e]||f<=1&&["m"]||f<kf.m&&["mm",f]||g<=1&&["h"]||g<kf.h&&["hh",g]||h<=1&&["d"]||h<kf.d&&["dd",h]||i<=1&&["M"]||i<kf.M&&["MM",i]||j<=1&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,gd.apply(null,k)}function id(a){return void 0===a?jf:"function"==typeof a&&(jf=a,!0)}function jd(a,b){return void 0!==kf[a]&&(void 0===b?kf[a]:(kf[a]=b,!0))}function kd(a){var b=this.localeData(),c=hd(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function ld(){var a,b,c,d=lf(this._milliseconds)/1e3,e=lf(this._days),f=lf(this._months);a=s(d/60),b=s(a/60),d%=60,a%=60,c=s(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(m<0?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var md,nd;nd=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var od=a.momentProperties=[],pd=!1,qd={};a.suppressDeprecationWarnings=!1,a.deprecationHandler=null;var rd;rd=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)h(a,b)&&c.push(b);return c};var sd,td={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ud={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},vd="Invalid date",wd="%d",xd=/\d{1,2}/,yd={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},zd={},Ad={},Bd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Cd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Dd={},Ed={},Fd=/\d/,Gd=/\d\d/,Hd=/\d{3}/,Id=/\d{4}/,Jd=/[+-]?\d{6}/,Kd=/\d\d?/,Ld=/\d\d\d\d?/,Md=/\d\d\d\d\d\d?/,Nd=/\d{1,3}/,Od=/\d{1,4}/,Pd=/[+-]?\d{1,6}/,Qd=/\d+/,Rd=/[+-]?\d+/,Sd=/Z|[+-]\d\d:?\d\d/gi,Td=/Z|[+-]\d\d(?::?\d\d)?/gi,Ud=/[+-]?\d+(\.\d{1,3})?/,Vd=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Wd={},Xd={},Yd=0,Zd=1,$d=2,_d=3,ae=4,be=5,ce=6,de=7,ee=8;sd=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1},T("M",["MM",2],"Mo",function(){return this.month()+1}),T("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),T("MMMM",0,0,function(a){return this.localeData().months(this,a)}),I("month","M"),L("month",8),Y("M",Kd),Y("MM",Kd,Gd),Y("MMM",function(a,b){return b.monthsShortRegex(a)}),Y("MMMM",function(a,b){return b.monthsRegex(a)}),aa(["M","MM"],function(a,b){b[Zd]=t(a)-1}),aa(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[Zd]=e:l(c).invalidMonth=a});var fe=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,ge="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),he="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ie=Vd,je=Vd;T("Y",0,0,function(){var a=this.year();return a<=9999?""+a:"+"+a}),T(0,["YY",2],0,function(){return this.year()%100}),T(0,["YYYY",4],0,"year"),T(0,["YYYYY",5],0,"year"),T(0,["YYYYYY",6,!0],0,"year"),I("year","y"),L("year",1),Y("Y",Rd),Y("YY",Kd,Gd),Y("YYYY",Od,Id),Y("YYYYY",Pd,Jd),Y("YYYYYY",Pd,Jd),aa(["YYYYY","YYYYYY"],Yd),aa("YYYY",function(b,c){c[Yd]=2===b.length?a.parseTwoDigitYear(b):t(b)}),aa("YY",function(b,c){c[Yd]=a.parseTwoDigitYear(b)}),aa("Y",function(a,b){b[Yd]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return t(a)+(t(a)>68?1900:2e3)};var ke=N("FullYear",!0);T("w",["ww",2],"wo","week"),T("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),L("week",5),L("isoWeek",5),Y("w",Kd),Y("ww",Kd,Gd),Y("W",Kd),Y("WW",Kd,Gd),ba(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=t(a)});var le={dow:0,doy:6};T("d",0,"do","day"),T("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),T("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),T("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),T("e",0,0,"weekday"),T("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),Y("d",Kd),Y("e",Kd),Y("E",Kd),Y("dd",function(a,b){return b.weekdaysMinRegex(a)}),Y("ddd",function(a,b){return b.weekdaysShortRegex(a)}),Y("dddd",function(a,b){return b.weekdaysRegex(a)}),ba(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:l(c).invalidWeekday=a}),ba(["d","e","E"],function(a,b,c,d){b[d]=t(a)});var me="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ne="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),oe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),pe=Vd,qe=Vd,re=Vd;T("H",["HH",2],0,"hour"),T("h",["hh",2],0,Qa),T("k",["kk",2],0,Ra),T("hmm",0,0,function(){return""+Qa.apply(this)+S(this.minutes(),2)}),T("hmmss",0,0,function(){return""+Qa.apply(this)+S(this.minutes(),2)+S(this.seconds(),2)}),T("Hmm",0,0,function(){return""+this.hours()+S(this.minutes(),2)}),T("Hmmss",0,0,function(){return""+this.hours()+S(this.minutes(),2)+S(this.seconds(),2)}),Sa("a",!0),Sa("A",!1),I("hour","h"),L("hour",13),Y("a",Ta),Y("A",Ta),Y("H",Kd),Y("h",Kd),Y("HH",Kd,Gd),Y("hh",Kd,Gd),Y("hmm",Ld),Y("hmmss",Md),Y("Hmm",Ld),Y("Hmmss",Md),aa(["H","HH"],_d),aa(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),aa(["h","hh"],function(a,b,c){b[_d]=t(a),l(c).bigHour=!0}),aa("hmm",function(a,b,c){var d=a.length-2;b[_d]=t(a.substr(0,d)),b[ae]=t(a.substr(d)),l(c).bigHour=!0}),aa("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[_d]=t(a.substr(0,d)),b[ae]=t(a.substr(d,2)),b[be]=t(a.substr(e)),l(c).bigHour=!0}),aa("Hmm",function(a,b,c){var d=a.length-2;b[_d]=t(a.substr(0,d)),b[ae]=t(a.substr(d));
}),aa("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[_d]=t(a.substr(0,d)),b[ae]=t(a.substr(d,2)),b[be]=t(a.substr(e))});var se,te=/[ap]\.?m?\.?/i,ue=N("Hours",!0),ve={calendar:td,longDateFormat:ud,invalidDate:vd,ordinal:wd,ordinalParse:xd,relativeTime:yd,months:ge,monthsShort:he,week:le,weekdays:me,weekdaysMin:oe,weekdaysShort:ne,meridiemParse:te},we={},xe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ye=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ze=/Z|[+-]\d\d(?::?\d\d)?/,Ae=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Be=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ce=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=w("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),a.ISO_8601=function(){};var De=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=rb.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:n()}),Ee=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=rb.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:n()}),Fe=function(){return Date.now?Date.now():+new Date};yb("Z",":"),yb("ZZ",""),Y("Z",Td),Y("ZZ",Td),aa(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=zb(Td,a)});var Ge=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var He=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ie=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Nb.fn=vb.prototype;var Je=Rb(1,"add"),Ke=Rb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Le=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});T(0,["gg",2],0,function(){return this.weekYear()%100}),T(0,["GG",2],0,function(){return this.isoWeekYear()%100}),xc("gggg","weekYear"),xc("ggggg","weekYear"),xc("GGGG","isoWeekYear"),xc("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),Y("G",Rd),Y("g",Rd),Y("GG",Kd,Gd),Y("gg",Kd,Gd),Y("GGGG",Od,Id),Y("gggg",Od,Id),Y("GGGGG",Pd,Jd),Y("ggggg",Pd,Jd),ba(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=t(a)}),ba(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),T("Q",0,"Qo","quarter"),I("quarter","Q"),L("quarter",7),Y("Q",Fd),aa("Q",function(a,b){b[Zd]=3*(t(a)-1)}),T("D",["DD",2],"Do","date"),I("date","D"),L("date",9),Y("D",Kd),Y("DD",Kd,Gd),Y("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),aa(["D","DD"],$d),aa("Do",function(a,b){b[$d]=t(a.match(Kd)[0],10)});var Me=N("Date",!0);T("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),L("dayOfYear",4),Y("DDD",Nd),Y("DDDD",Hd),aa(["DDD","DDDD"],function(a,b,c){c._dayOfYear=t(a)}),T("m",["mm",2],0,"minute"),I("minute","m"),L("minute",14),Y("m",Kd),Y("mm",Kd,Gd),aa(["m","mm"],ae);var Ne=N("Minutes",!1);T("s",["ss",2],0,"second"),I("second","s"),L("second",15),Y("s",Kd),Y("ss",Kd,Gd),aa(["s","ss"],be);var Oe=N("Seconds",!1);T("S",0,0,function(){return~~(this.millisecond()/100)}),T(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),T(0,["SSS",3],0,"millisecond"),T(0,["SSSS",4],0,function(){return 10*this.millisecond()}),T(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),T(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),T(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),T(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),T(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),I("millisecond","ms"),L("millisecond",16),Y("S",Nd,Fd),Y("SS",Nd,Gd),Y("SSS",Nd,Hd);var Pe;for(Pe="SSSS";Pe.length<=9;Pe+="S")Y(Pe,Qd);for(Pe="S";Pe.length<=9;Pe+="S")aa(Pe,Gc);var Qe=N("Milliseconds",!1);T("z",0,0,"zoneAbbr"),T("zz",0,0,"zoneName");var Re=q.prototype;Re.add=Je,Re.calendar=Ub,Re.clone=Vb,Re.diff=ac,Re.endOf=mc,Re.format=ec,Re.from=fc,Re.fromNow=gc,Re.to=hc,Re.toNow=ic,Re.get=Q,Re.invalidAt=vc,Re.isAfter=Wb,Re.isBefore=Xb,Re.isBetween=Yb,Re.isSame=Zb,Re.isSameOrAfter=$b,Re.isSameOrBefore=_b,Re.isValid=tc,Re.lang=Le,Re.locale=jc,Re.localeData=kc,Re.max=Ee,Re.min=De,Re.parsingFlags=uc,Re.set=R,Re.startOf=lc,Re.subtract=Ke,Re.toArray=qc,Re.toObject=rc,Re.toDate=pc,Re.toISOString=dc,Re.toJSON=sc,Re.toString=cc,Re.unix=oc,Re.valueOf=nc,Re.creationData=wc,Re.year=ke,Re.isLeapYear=qa,Re.weekYear=yc,Re.isoWeekYear=zc,Re.quarter=Re.quarters=Ec,Re.month=ja,Re.daysInMonth=ka,Re.week=Re.weeks=Aa,Re.isoWeek=Re.isoWeeks=Ba,Re.weeksInYear=Bc,Re.isoWeeksInYear=Ac,Re.date=Me,Re.day=Re.days=Ja,Re.weekday=Ka,Re.isoWeekday=La,Re.dayOfYear=Fc,Re.hour=Re.hours=ue,Re.minute=Re.minutes=Ne,Re.second=Re.seconds=Oe,Re.millisecond=Re.milliseconds=Qe,Re.utcOffset=Cb,Re.utc=Eb,Re.local=Fb,Re.parseZone=Gb,Re.hasAlignedHourOffset=Hb,Re.isDST=Ib,Re.isLocal=Kb,Re.isUtcOffset=Lb,Re.isUtc=Mb,Re.isUTC=Mb,Re.zoneAbbr=Hc,Re.zoneName=Ic,Re.dates=w("dates accessor is deprecated. Use date instead.",Me),Re.months=w("months accessor is deprecated. Use month instead",ja),Re.years=w("years accessor is deprecated. Use year instead",ke),Re.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Db),Re.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Jb);var Se=Re,Te=B.prototype;Te.calendar=C,Te.longDateFormat=D,Te.invalidDate=E,Te.ordinal=F,Te.preparse=Lc,Te.postformat=Lc,Te.relativeTime=G,Te.pastFuture=H,Te.set=z,Te.months=ea,Te.monthsShort=fa,Te.monthsParse=ha,Te.monthsRegex=ma,Te.monthsShortRegex=la,Te.week=xa,Te.firstDayOfYear=za,Te.firstDayOfWeek=ya,Te.weekdays=Ea,Te.weekdaysMin=Ga,Te.weekdaysShort=Fa,Te.weekdaysParse=Ia,Te.weekdaysRegex=Ma,Te.weekdaysShortRegex=Na,Te.weekdaysMinRegex=Oa,Te.isPM=Ua,Te.meridiem=Va,Za("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===t(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=w("moment.lang is deprecated. Use moment.locale instead.",Za),a.langData=w("moment.langData is deprecated. Use moment.localeData instead.",ab);var Ue=Math.abs,Ve=cd("ms"),We=cd("s"),Xe=cd("m"),Ye=cd("h"),Ze=cd("d"),$e=cd("w"),_e=cd("M"),af=cd("y"),bf=ed("milliseconds"),cf=ed("seconds"),df=ed("minutes"),ef=ed("hours"),ff=ed("days"),gf=ed("months"),hf=ed("years"),jf=Math.round,kf={s:45,m:45,h:22,d:26,M:11},lf=Math.abs,mf=vb.prototype;mf.abs=Uc,mf.add=Wc,mf.subtract=Xc,mf.as=ad,mf.asMilliseconds=Ve,mf.asSeconds=We,mf.asMinutes=Xe,mf.asHours=Ye,mf.asDays=Ze,mf.asWeeks=$e,mf.asMonths=_e,mf.asYears=af,mf.valueOf=bd,mf._bubble=Zc,mf.get=dd,mf.milliseconds=bf,mf.seconds=cf,mf.minutes=df,mf.hours=ef,mf.days=ff,mf.weeks=fd,mf.months=gf,mf.years=hf,mf.humanize=kd,mf.toISOString=ld,mf.toString=ld,mf.toJSON=ld,mf.locale=jc,mf.localeData=kc,mf.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ld),mf.lang=Le,T("X",0,0,"unix"),T("x",0,0,"valueOf"),Y("x",Rd),Y("X",Ud),aa("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),aa("x",function(a,b,c){c._d=new Date(t(a))}),a.version="2.15.1",b(rb),a.fn=Se,a.min=tb,a.max=ub,a.now=Fe,a.utc=j,a.unix=Jc,a.months=Pc,a.isDate=f,a.locale=Za,a.invalid=n,a.duration=Nb,a.isMoment=r,a.weekdays=Rc,a.parseZone=Kc,a.localeData=ab,a.isDuration=wb,a.monthsShort=Qc,a.weekdaysMin=Tc,a.defineLocale=$a,a.updateLocale=_a,a.locales=bb,a.weekdaysShort=Sc,a.normalizeUnits=J,a.relativeTimeRounding=id,a.relativeTimeThreshold=jd,a.calendarFormat=Tb,a.prototype=Se;var nf=a;return nf}),function(a,b){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(c,d){return a.daterangepicker=b(c,d)});else if("object"==typeof module&&module.exports){var c="undefined"!=typeof window?window.jQuery:void 0;c||(c=require("jquery"),c.fn||(c.fn={})),module.exports=b(require("moment"),c)}else a.daterangepicker=b(a.moment,a.jQuery)}(this,function(a,b){var c=function(c,d,e){if(this.parentEl="body",this.element=b(c),this.startDate=a().startOf("day"),this.endDate=a().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={direction:"ltr",format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:a.weekdaysMin(),monthNames:a.monthsShort(),firstDay:a.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof d&&null!==d||(d={}),d=b.extend(this.element.data(),d),"string"==typeof d.template||d.template instanceof b||(d.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=b(d.parentEl&&b(d.parentEl).length?d.parentEl:this.parentEl),this.container=b(d.template).appendTo(this.parentEl),"object"==typeof d.locale&&("string"==typeof d.locale.direction&&(this.locale.direction=d.locale.direction),"string"==typeof d.locale.format&&(this.locale.format=d.locale.format),"string"==typeof d.locale.separator&&(this.locale.separator=d.locale.separator),"object"==typeof d.locale.daysOfWeek&&(this.locale.daysOfWeek=d.locale.daysOfWeek.slice()),"object"==typeof d.locale.monthNames&&(this.locale.monthNames=d.locale.monthNames.slice()),"number"==typeof d.locale.firstDay&&(this.locale.firstDay=d.locale.firstDay),"string"==typeof d.locale.applyLabel&&(this.locale.applyLabel=d.locale.applyLabel),"string"==typeof d.locale.cancelLabel&&(this.locale.cancelLabel=d.locale.cancelLabel),"string"==typeof d.locale.weekLabel&&(this.locale.weekLabel=d.locale.weekLabel),"string"==typeof d.locale.customRangeLabel&&(this.locale.customRangeLabel=d.locale.customRangeLabel)),this.container.addClass(this.locale.direction),"string"==typeof d.startDate&&(this.startDate=a(d.startDate,this.locale.format)),"string"==typeof d.endDate&&(this.endDate=a(d.endDate,this.locale.format)),"string"==typeof d.minDate&&(this.minDate=a(d.minDate,this.locale.format)),"string"==typeof d.maxDate&&(this.maxDate=a(d.maxDate,this.locale.format)),"object"==typeof d.startDate&&(this.startDate=a(d.startDate)),"object"==typeof d.endDate&&(this.endDate=a(d.endDate)),"object"==typeof d.minDate&&(this.minDate=a(d.minDate)),"object"==typeof d.maxDate&&(this.maxDate=a(d.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof d.applyClass&&(this.applyClass=d.applyClass),"string"==typeof d.cancelClass&&(this.cancelClass=d.cancelClass),"object"==typeof d.dateLimit&&(this.dateLimit=d.dateLimit),"string"==typeof d.opens&&(this.opens=d.opens),"string"==typeof d.drops&&(this.drops=d.drops),"boolean"==typeof d.showWeekNumbers&&(this.showWeekNumbers=d.showWeekNumbers),"boolean"==typeof d.showISOWeekNumbers&&(this.showISOWeekNumbers=d.showISOWeekNumbers),"string"==typeof d.buttonClasses&&(this.buttonClasses=d.buttonClasses),"object"==typeof d.buttonClasses&&(this.buttonClasses=d.buttonClasses.join(" ")),"boolean"==typeof d.showDropdowns&&(this.showDropdowns=d.showDropdowns),"boolean"==typeof d.showCustomRangeLabel&&(this.showCustomRangeLabel=d.showCustomRangeLabel),"boolean"==typeof d.singleDatePicker&&(this.singleDatePicker=d.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof d.timePicker&&(this.timePicker=d.timePicker),"boolean"==typeof d.timePickerSeconds&&(this.timePickerSeconds=d.timePickerSeconds),"number"==typeof d.timePickerIncrement&&(this.timePickerIncrement=d.timePickerIncrement),"boolean"==typeof d.timePicker24Hour&&(this.timePicker24Hour=d.timePicker24Hour),"boolean"==typeof d.autoApply&&(this.autoApply=d.autoApply),"boolean"==typeof d.autoUpdateInput&&(this.autoUpdateInput=d.autoUpdateInput),"boolean"==typeof d.linkedCalendars&&(this.linkedCalendars=d.linkedCalendars),"function"==typeof d.isInvalidDate&&(this.isInvalidDate=d.isInvalidDate),"function"==typeof d.isCustomDate&&(this.isCustomDate=d.isCustomDate),"boolean"==typeof d.alwaysShowCalendars&&(this.alwaysShowCalendars=d.alwaysShowCalendars),0!=this.locale.firstDay)for(var f=this.locale.firstDay;f>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),f--;var g,h,i;if("undefined"==typeof d.startDate&&"undefined"==typeof d.endDate&&b(this.element).is("input[type=text]")){var j=b(this.element).val(),k=j.split(this.locale.separator);g=h=null,2==k.length?(g=a(k[0],this.locale.format),h=a(k[1],this.locale.format)):this.singleDatePicker&&""!==j&&(g=a(j,this.locale.format),h=a(j,this.locale.format)),null!==g&&null!==h&&(this.setStartDate(g),this.setEndDate(h))}if("object"==typeof d.ranges){for(i in d.ranges){g="string"==typeof d.ranges[i][0]?a(d.ranges[i][0],this.locale.format):a(d.ranges[i][0]),h="string"==typeof d.ranges[i][1]?a(d.ranges[i][1],this.locale.format):a(d.ranges[i][1]),this.minDate&&g.isBefore(this.minDate)&&(g=this.minDate.clone());var l=this.maxDate;if(this.dateLimit&&l&&g.clone().add(this.dateLimit).isAfter(l)&&(l=g.clone().add(this.dateLimit)),l&&h.isAfter(l)&&(h=l.clone()),!(this.minDate&&h.isBefore(this.minDate,this.timepicker?"minute":"day")||l&&g.isAfter(l,this.timepicker?"minute":"day"))){var m=document.createElement("textarea");m.innerHTML=i;var n=m.value;this.ranges[n]=[g,h]}}var o="<ul>";for(i in this.ranges)o+='<li data-range-key="'+i+'">'+i+"</li>";this.showCustomRangeLabel&&(o+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),o+="</ul>",this.container.find(".ranges").prepend(o)}"function"==typeof e&&(this.callback=e),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof d.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(),this.timePicker?this.container.find(".ranges ul").hide():this.container.find(".ranges").hide()),("undefined"==typeof d.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),"undefined"!=typeof d.ranges&&"right"==this.opens&&this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent()),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",b.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",b.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",b.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",b.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",b.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",b.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",b.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",b.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",b.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",b.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",b.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",b.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",b.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",b.proxy(this.clickCancel,this)).on("click.daterangepicker","li",b.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",b.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",b.proxy(this.updateFormInputs,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":b.proxy(this.show,this),"focus.daterangepicker":b.proxy(this.show,this),"keyup.daterangepicker":b.proxy(this.elementChanged,this),"keydown.daterangepicker":b.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",b.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return c.prototype={constructor:c,setStartDate:function(b){"string"==typeof b&&(this.startDate=a(b,this.locale.format)),"object"==typeof b&&(this.startDate=a(b)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate,this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate,this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(b){"string"==typeof b&&(this.endDate=a(b,this.locale.format)),"object"==typeof b&&(this.endDate=a(b)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var a,b,c;if(this.endDate){if(a=parseInt(this.container.find(".left .hourselect").val(),10),b=parseInt(this.container.find(".left .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var d=this.container.find(".left .ampmselect").val();"PM"===d&&a<12&&(a+=12),"AM"===d&&12===a&&(a=0)}}else if(a=parseInt(this.container.find(".right .hourselect").val(),10),b=parseInt(this.container.find(".right .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var d=this.container.find(".right .ampmselect").val();"PM"===d&&a<12&&(a+=12),"AM"===d&&12===a&&(a=0)}this.leftCalendar.month.hour(a).minute(b).second(c),this.rightCalendar.month.hour(a).minute(b).second(c)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(c){var d="left"==c?this.leftCalendar:this.rightCalendar,e=d.month.month(),f=d.month.year(),g=d.month.hour(),h=d.month.minute(),i=d.month.second(),j=a([f,e]).daysInMonth(),k=a([f,e,1]),l=a([f,e,j]),m=a(k).subtract(1,"month").month(),n=a(k).subtract(1,"month").year(),o=a([n,m]).daysInMonth(),p=k.day(),d=[];d.firstDay=k,d.lastDay=l;for(var q=0;q<6;q++)d[q]=[];var r=o-p+this.locale.firstDay+1;r>o&&(r-=7),p==this.locale.firstDay&&(r=o-6);for(var s,t,u=a([n,m,r,12,h,i]),q=0,s=0,t=0;q<42;q++,s++,u=a(u).add(24,"hour"))q>0&&s%7===0&&(s=0,t++),d[t][s]=u.clone().hour(g).minute(h).second(i),u.hour(12),this.minDate&&d[t][s].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&d[t][s].isBefore(this.minDate)&&"left"==c&&(d[t][s]=this.minDate.clone()),this.maxDate&&d[t][s].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&d[t][s].isAfter(this.maxDate)&&"right"==c&&(d[t][s]=this.maxDate.clone());"left"==c?this.leftCalendar.calendar=d:this.rightCalendar.calendar=d;var v="left"==c?this.minDate:this.startDate,w=this.maxDate,x=("left"==c?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"}),y='<table class="table-condensed">';y+="<thead>",y+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(y+="<th></th>"),y+=v&&!v.isBefore(d.firstDay)||this.linkedCalendars&&"left"!=c?"<th></th>":'<th class="prev available"><i class="fa fa-'+x.left+" glyphicon glyphicon-"+x.left+'"></i></th>';var z=this.locale.monthNames[d[1][1].month()]+d[1][1].format(" YYYY");if(this.showDropdowns){for(var A=d[1][1].month(),B=d[1][1].year(),C=w&&w.year()||B+5,D=v&&v.year()||B-50,E=B==D,F=B==C,G='<select class="monthselect">',H=0;H<12;H++)G+=(!E||H>=v.month())&&(!F||H<=w.month())?"<option value='"+H+"'"+(H===A?" selected='selected'":"")+">"+this.locale.monthNames[H]+"</option>":"<option value='"+H+"'"+(H===A?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[H]+"</option>";G+="</select>";for(var I='<select class="yearselect">',J=D;J<=C;J++)I+='<option value="'+J+'"'+(J===B?' selected="selected"':"")+">"+J+"</option>";I+="</select>",z=G+I}if(y+='<th colspan="5" class="month">'+z+"</th>",y+=w&&!w.isAfter(d.lastDay)||this.linkedCalendars&&"right"!=c&&!this.singleDatePicker?"<th></th>":'<th class="next available"><i class="fa fa-'+x.right+" glyphicon glyphicon-"+x.right+'"></i></th>',y+="</tr>",y+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(y+='<th class="week">'+this.locale.weekLabel+"</th>"),b.each(this.locale.daysOfWeek,function(a,b){y+="<th>"+b+"</th>"}),y+="</tr>",y+="</thead>",y+="<tbody>",null==this.endDate&&this.dateLimit){var K=this.startDate.clone().add(this.dateLimit).endOf("day");w&&!K.isBefore(w)||(w=K)}for(var t=0;t<6;t++){y+="<tr>",this.showWeekNumbers?y+='<td class="week">'+d[t][0].week()+"</td>":this.showISOWeekNumbers&&(y+='<td class="week">'+d[t][0].isoWeek()+"</td>");for(var s=0;s<7;s++){var L=[];d[t][s].isSame(new Date,"day")&&L.push("today"),d[t][s].isoWeekday()>5&&L.push("weekend"),d[t][s].month()!=d[1][1].month()&&L.push("off"),this.minDate&&d[t][s].isBefore(this.minDate,"day")&&L.push("off","disabled"),w&&d[t][s].isAfter(w,"day")&&L.push("off","disabled"),this.isInvalidDate(d[t][s])&&L.push("off","disabled"),d[t][s].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&L.push("active","start-date"),null!=this.endDate&&d[t][s].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&L.push("active","end-date"),null!=this.endDate&&d[t][s]>this.startDate&&d[t][s]<this.endDate&&L.push("in-range");var M=this.isCustomDate(d[t][s]);M!==!1&&("string"==typeof M?L.push(M):Array.prototype.push.apply(L,M));for(var N="",O=!1,q=0;q<L.length;q++)N+=L[q]+" ","disabled"==L[q]&&(O=!0);O||(N+="available"),y+='<td class="'+N.replace(/^\s+|\s+$/g,"")+'" data-title="r'+t+"c"+s+'">'+d[t][s].date()+"</td>"}y+="</tr>"}y+="</tbody>",y+="</table>",this.container.find(".calendar."+c+" .calendar-table").html(y)},renderTimePicker:function(a){if("right"!=a||this.endDate){var b,c,d,e=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(e=this.startDate.clone().add(this.dateLimit)),"left"==a)c=this.startDate.clone(),d=this.minDate;else if("right"==a){c=this.endDate.clone(),d=this.startDate;var f=this.container.find(".calendar.right .calendar-time div");if(!this.endDate&&""!=f.html()&&(c.hour(f.find(".hourselect option:selected").val()||c.hour()),c.minute(f.find(".minuteselect option:selected").val()||c.minute()),c.second(f.find(".secondselect option:selected").val()||c.second()),!this.timePicker24Hour)){var g=f.find(".ampmselect option:selected").val();"PM"===g&&c.hour()<12&&c.hour(c.hour()+12),"AM"===g&&12===c.hour()&&c.hour(0)}c.isBefore(this.startDate)&&(c=this.startDate.clone()),e&&c.isAfter(e)&&(c=e.clone())}b='<select class="hourselect">';for(var h=this.timePicker24Hour?0:1,i=this.timePicker24Hour?23:12,j=h;j<=i;j++){var k=j;this.timePicker24Hour||(k=c.hour()>=12?12==j?12:j+12:12==j?0:j);var l=c.clone().hour(k),m=!1;d&&l.minute(59).isBefore(d)&&(m=!0),e&&l.minute(0).isAfter(e)&&(m=!0),b+=k!=c.hour()||m?m?'<option value="'+j+'" disabled="disabled" class="disabled">'+j+"</option>":'<option value="'+j+'">'+j+"</option>":'<option value="'+j+'" selected="selected">'+j+"</option>"}b+="</select> ",b+=': <select class="minuteselect">';for(var j=0;j<60;j+=this.timePickerIncrement){var n=j<10?"0"+j:j,l=c.clone().minute(j),m=!1;d&&l.second(59).isBefore(d)&&(m=!0),e&&l.second(0).isAfter(e)&&(m=!0),b+=c.minute()!=j||m?m?'<option value="'+j+'" disabled="disabled" class="disabled">'+n+"</option>":'<option value="'+j+'">'+n+"</option>":'<option value="'+j+'" selected="selected">'+n+"</option>"}if(b+="</select> ",this.timePickerSeconds){b+=': <select class="secondselect">';for(var j=0;j<60;j++){var n=j<10?"0"+j:j,l=c.clone().second(j),m=!1;d&&l.isBefore(d)&&(m=!0),e&&l.isAfter(e)&&(m=!0),b+=c.second()!=j||m?m?'<option value="'+j+'" disabled="disabled" class="disabled">'+n+"</option>":'<option value="'+j+'">'+n+"</option>":'<option value="'+j+'" selected="selected">'+n+"</option>"}b+="</select> "}if(!this.timePicker24Hour){b+='<select class="ampmselect">';var o="",p="";d&&c.clone().hour(12).minute(0).second(0).isBefore(d)&&(o=' disabled="disabled" class="disabled"'),e&&c.clone().hour(0).minute(0).second(0).isAfter(e)&&(p=' disabled="disabled" class="disabled"'),b+=c.hour()>=12?'<option value="AM"'+o+'>AM</option><option value="PM" selected="selected"'+p+">PM</option>":'<option value="AM" selected="selected"'+o+'>AM</option><option value="PM"'+p+">PM</option>",b+="</select>"}this.container.find(".calendar."+a+" .calendar-time div").html(b)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var a,c={top:0,left:0},d=b(window).width();this.parentEl.is("body")||(c={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()
},d=this.parentEl[0].clientWidth+this.parentEl.offset().left),a="up"==this.drops?this.element.offset().top-this.container.outerHeight()-c.top:this.element.offset().top+this.element.outerHeight()-c.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:a,right:d-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:a,left:this.element.offset().left-c.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:a,left:this.element.offset().left-c.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>b(window).width()&&this.container.css({left:"auto",right:0}))},show:function(a){this.isShowing||(this._outsideClickProxy=b.proxy(function(a){this.outsideClick(a)},this),b(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),b(window).on("resize.daterangepicker",b.proxy(function(a){this.move(a)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(a){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),b(document).off(".daterangepicker"),b(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(a){this.isShowing?this.hide():this.show()},outsideClick:function(a){var c=b(a.target);"focusin"==a.type||c.closest(this.element).length||c.closest(this.container).length||c.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(a){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var b=a.target.getAttribute("data-range-key");if(b==this.locale.customRangeLabel)this.updateView();else{var c=this.ranges[b];this.container.find("input[name=daterangepicker_start]").val(c[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(c[1].format(this.locale.format))}}},clickRange:function(a){var b=a.target.getAttribute("data-range-key");if(this.chosenLabel=b,b==this.locale.customRangeLabel)this.showCalendars();else{var c=this.ranges[b];this.startDate=c[0],this.endDate=c[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(a){var c=b(a.target).parents(".calendar");c.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(a){var c=b(a.target).parents(".calendar");c.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(a){if(b(a.target).hasClass("available")){var c=b(a.target).attr("data-title"),d=c.substr(1,1),e=c.substr(3,1),f=b(a.target).parents(".calendar"),g=f.hasClass("left")?this.leftCalendar.calendar[d][e]:this.rightCalendar.calendar[d][e];this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(g.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(g.format(this.locale.format));var h=this.leftCalendar,i=this.rightCalendar,j=this.startDate;this.endDate||this.container.find(".calendar td").each(function(a,c){if(!b(c).hasClass("week")){var d=b(c).attr("data-title"),e=d.substr(1,1),f=d.substr(3,1),k=b(c).parents(".calendar"),l=k.hasClass("left")?h.calendar[e][f]:i.calendar[e][f];l.isAfter(j)&&l.isBefore(g)||l.isSame(g,"day")?b(c).addClass("in-range"):b(c).removeClass("in-range")}})}},clickDate:function(a){if(b(a.target).hasClass("available")){var c=b(a.target).attr("data-title"),d=c.substr(1,1),e=c.substr(3,1),f=b(a.target).parents(".calendar"),g=f.hasClass("left")?this.leftCalendar.calendar[d][e]:this.rightCalendar.calendar[d][e];if(this.endDate||g.isBefore(this.startDate,"day")){if(this.timePicker){var h=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var i=this.container.find(".left .ampmselect").val();"PM"===i&&h<12&&(h+=12),"AM"===i&&12===h&&(h=0)}var j=parseInt(this.container.find(".left .minuteselect").val(),10),k=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;g=g.clone().hour(h).minute(j).second(k)}this.endDate=null,this.setStartDate(g.clone())}else if(!this.endDate&&g.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var h=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var i=this.container.find(".right .ampmselect").val();"PM"===i&&h<12&&(h+=12),"AM"===i&&12===h&&(h=0)}var j=parseInt(this.container.find(".right .minuteselect").val(),10),k=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;g=g.clone().hour(h).minute(j).second(k)}this.setEndDate(g.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),a.stopPropagation()}},calculateChosenLabel:function(){var a=!0,b=0;for(var c in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[c][0])&&this.endDate.isSame(this.ranges[c][1])){a=!1,this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[c][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[c][1].format("YYYY-MM-DD")){a=!1,this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").html();break}b++}a&&this.showCustomRangeLabel&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},clickApply:function(a){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(a){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(a){var c=b(a.target).closest(".calendar").hasClass("left"),d=c?"left":"right",e=this.container.find(".calendar."+d),f=parseInt(e.find(".monthselect").val(),10),g=e.find(".yearselect").val();c||(g<this.startDate.year()||g==this.startDate.year()&&f<this.startDate.month())&&(f=this.startDate.month(),g=this.startDate.year()),this.minDate&&(g<this.minDate.year()||g==this.minDate.year()&&f<this.minDate.month())&&(f=this.minDate.month(),g=this.minDate.year()),this.maxDate&&(g>this.maxDate.year()||g==this.maxDate.year()&&f>this.maxDate.month())&&(f=this.maxDate.month(),g=this.maxDate.year()),c?(this.leftCalendar.month.month(f).year(g),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(f).year(g),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(a){var c=b(a.target).closest(".calendar"),d=c.hasClass("left"),e=parseInt(c.find(".hourselect").val(),10),f=parseInt(c.find(".minuteselect").val(),10),g=this.timePickerSeconds?parseInt(c.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var h=c.find(".ampmselect").val();"PM"===h&&e<12&&(e+=12),"AM"===h&&12===e&&(e=0)}if(d){var i=this.startDate.clone();i.hour(e),i.minute(f),i.second(g),this.setStartDate(i),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&this.endDate.isBefore(i)&&this.setEndDate(i.clone())}else if(this.endDate){var j=this.endDate.clone();j.hour(e),j.minute(f),j.second(g),this.setEndDate(j)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(c){var d=b(c.target).closest(".calendar").hasClass("right"),e=a(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),f=a(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);e.isValid()&&f.isValid()&&(d&&f.isBefore(e)&&(e=f.clone()),this.setStartDate(e),this.setEndDate(f),d?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(a){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active"),b(a.target).addClass("active");var c=b(a.target).closest(".calendar").hasClass("right");c&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(b){if(!this.endDate){var c=this.container.find('input[name="daterangepicker_end"]').val(),d=a(c,this.locale.format);d.isValid()&&(this.setEndDate(d),this.updateView())}},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var b=this.element.val().split(this.locale.separator),c=null,d=null;2===b.length&&(c=a(b[0],this.locale.format),d=a(b[1],this.locale.format)),(this.singleDatePicker||null===c||null===d)&&(c=a(this.element.val(),this.locale.format),d=c),c.isValid()&&d.isValid()&&(this.setStartDate(c),this.setEndDate(d),this.updateView())}},keydown:function(a){9!==a.keyCode&&13!==a.keyCode||this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},b.fn.daterangepicker=function(a,d){return this.each(function(){var e=b(this);e.data("daterangepicker")&&e.data("daterangepicker").remove(),e.data("daterangepicker",new c(e,a,d))}),this},c}),function(){var a,b,c,d=[].slice;return a="undefined"!=typeof module&&null!==module&&null!=module.exports,b=function(a){return"[object Array]"===Object.prototype.toString.call(a)},c=function(a){var c;if(null==a)throw new Error("Can't find moment");return c=function(){function c(b,c,d,e){var f;null==e&&(e={}),"string"!=typeof d&&(e=null!=d?d:{},d=null),"boolean"==typeof e&&(e={allDay:e}),this._oStart=a(b,d,e.parseStrict),this._oEnd=a(c,d,e.parseStrict),this.allDay=null!=(f=e.allDay)&&f,this._mutated()}return c._extend=function(){var a,b,c,e,f,g;for(b=arguments[0],g=2<=arguments.length?d.call(arguments,1):[],c=0,e=g.length;c<e;c++){f=g[c];for(a in f)"undefined"!=typeof f[a]&&(b[a]=f[a])}return b},c.prototype.start=function(){return this._start.clone()},c.prototype.end=function(){return this._end.clone()},c.prototype.isSame=function(a){return this._start.isSame(this._end,a)},c.prototype.length=function(a){return this._displayEnd.diff(this._start,a)},c.prototype.count=function(a){var b,c;return c=this.start().startOf(a),b=this.end().startOf(a),b.diff(c,a)+1},c.prototype.countInner=function(a){var b,c,d;return c=this._inner(a),d=c[0],b=c[1],d>=b?0:b.diff(d,a)},c.prototype.iterate=function(a,b,c){var d,e,f,g;return f=this._prepIterateInputs(a,b,c),a=f[0],b=f[1],c=f[2],g=this.start().startOf(b),d=this.end().startOf(b),this.allDay&&(d=d.add(1,"d")),e=function(a){return function(){return!a.allDay&&g<=d&&(!c||!g.isSame(d)||a._end.hours()>c)||a.allDay&&g<d}}(this),this._iterateHelper(b,g,e,a)},c.prototype.iterateInner=function(a,b){var c,d,e,f,g;return e=this._prepIterateInputs(a,b),a=e[0],b=e[1],f=this._inner(b,a),g=f[0],c=f[1],d=function(){return g<c},this._iterateHelper(b,g,d,a)},c.prototype.humanizeLength=function(){return this.allDay?this.isSame("d")?"all day":this._start.from(this.end().add(1,"d"),!0):this._start.from(this._end,!0)},c.prototype.asDuration=function(b){var c;return c=this._end.diff(this._start),a.duration(c)},c.prototype.isPast=function(){return this._lastMilli<a()},c.prototype.isFuture=function(){return this._start>a()},c.prototype.isCurrent=function(){return!this.isPast()&&!this.isFuture()},c.prototype.contains=function(b){return a.isMoment(b)||(b=a(b)),this._start<=b&&this._lastMilli>=b},c.prototype.isEmpty=function(){return this._start.isSame(this._displayEnd)},c.prototype.overlaps=function(a){return this._displayEnd.isAfter(a._start)&&this._start.isBefore(a._displayEnd)},c.prototype.engulfs=function(a){return this._start<=a._start&&this._displayEnd>=a._displayEnd},c.prototype.union=function(a){var b,d,e;return b=this.allDay&&a.allDay,e=this._start<a._start?this._start:a._start,d=this._lastMilli>a._lastMilli?b?this._end:this._displayEnd:b?a._end:a._displayEnd,new c(e,d,b)},c.prototype.intersection=function(a){var b,d,e;return b=this.allDay&&a.allDay,e=this._start>a._start?this._start:a._start,d=this._lastMilli<a._lastMilli?b?this._end:this._displayEnd:b?a._end:a._displayEnd,new c(e,d,b)},c.prototype.xor=function(){var a,b,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;for(p=1<=arguments.length?d.call(arguments,0):[],n=0,s=null,r=[],a=function(){var a,b,c;for(c=[],a=0,b=p.length;a<b;a++)m=p[a],m.allDay&&c.push(m);return c}().length===p.length,b=[],q=[this].concat(p),f=h=0,k=q.length;h<k;f=++h)g=q[f],b.push({time:g._start,i:f,type:0}),b.push({time:g._displayEnd,i:f,type:1});for(b=b.sort(function(a,b){return a.time-b.time}),i=0,l=b.length;i<l;i++)o=b[i],1===o.type&&(n-=1),n===o.type&&(s=o.time),n===(o.type+1)%2&&(s&&(j=r[r.length-1],j&&j._end.isSame(s)?(j._oEnd=o.time,j._mutated()):(e=a?o.time.clone().subtract(1,"d"):o.time,t=new c(s,e,a),t.isEmpty()||r.push(t))),s=null),0===o.type&&(n+=1);return r},c.prototype.difference=function(){var a,b,c,e,f,g;for(c=1<=arguments.length?d.call(arguments,0):[],e=this.xor.apply(this,c).map(function(a){return function(b){return a.intersection(b)}}(this)),f=[],a=0,b=e.length;a<b;a++)g=e[a],!g.isEmpty()&&g.isValid()&&f.push(g);return f},c.prototype.split=function(){var c,e,f,g,h,i,j,k,l,m;if(c=1<=arguments.length?d.call(arguments,0):[],f=j=this.start(),a.isDuration(c[0])?e=c[0]:!a.isMoment(c[0])&&!b(c[0])&&"object"==typeof c[0]||"number"==typeof c[0]&&"string"==typeof c[1]?e=a.duration(c[0],c[1]):l=b(c[0])?c[0]:c,l&&(l=function(){var b,c,d;for(d=[],b=0,c=l.length;b<c;b++)k=l[b],d.push(a(k));return d}(),l=function(){var a,b,c;for(c=[],a=0,b=l.length;a<b;a++)i=l[a],i.isValid()&&i>=j&&c.push(i);return c}().sort()),e&&0===e.asMilliseconds()||l&&0===l.length)return[this];for(m=[],h=0,g=this._displayEnd;j<g&&(null==l||l[h]);)f=e?j.clone().add(e):l[h].clone(),f=a.min(g,f),j.isSame(f)||m.push(a.twix(j,f)),j=f,h+=1;return!f.isSame(this._displayEnd)&&l&&m.push(a.twix(f,this._displayEnd)),m},c.prototype.divide=function(a){return this.split(this.length()/a,"ms").slice(0,+(a-1)+1||9e9)},c.prototype.isValid=function(){return this._start.isValid()&&this._end.isValid()&&this._start<=this._displayEnd},c.prototype.equals=function(a){return a instanceof c&&this.allDay===a.allDay&&this._start.valueOf()===a._start.valueOf()&&this._end.valueOf()===a._end.valueOf()},c.prototype.toString=function(){return"{start: "+this._start.format()+", end: "+this._end.format()+", allDay: "+(this.allDay?"true":"false")+"}"},c.prototype.simpleFormat=function(a,b){var d,e;return d={allDay:"(all day)",template:c.formatTemplate},c._extend(d,b||{}),e=d.template(this._start.format(a),this._end.format(a)),this.allDay&&d.allDay&&(e+=" "+d.allDay),e},c.prototype.format=function(b){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(this.isEmpty())return"";for(n=this._start.localeData()._longDateFormat.LT[0],q={groupMeridiems:!0,spaceBeforeMeridiem:!0,showDayOfWeek:!1,hideTime:!1,hideYear:!1,implicitMinutes:!0,implicitDate:!1,implicitYear:!0,yearFormat:"YYYY",monthFormat:"MMM",weekdayFormat:"ddd",dayFormat:"D",meridiemFormat:"A",hourFormat:n,minuteFormat:"mm",allDay:"all day",explicitAllDay:!1,lastNightEndsAt:0,template:c.formatTemplate},c._extend(q,b||{}),i=[],p=q.hourFormat&&"h"===q.hourFormat[0],k=q.lastNightEndsAt>0&&!this.allDay&&this.end().startOf("d").valueOf()===this.start().add(1,"d").startOf("d").valueOf()&&this._start.hours()>12&&this._end.hours()<q.lastNightEndsAt,o=!(q.hideDate||q.implicitDate&&this.start().startOf("d").valueOf()===a().startOf("d").valueOf()&&(this.isSame("d")||k)),d=!(this.allDay||q.hideTime),this.allDay&&this.isSame("d")&&(q.implicitDate||q.explicitAllDay)&&i.push({name:"all day simple",fn:function(){return q.allDay},pre:" ",slot:0}),!o||q.hideYear||q.implicitYear&&this._start.year()===a().year()&&this.isSame("y")||i.push({name:"year",fn:function(a){return a.format(q.yearFormat)},pre:", ",slot:4}),d&&o&&i.push({name:"month-date",fn:function(a){return a.format(q.monthFormat+" "+q.dayFormat)},ignoreEnd:function(){return k},pre:" ",slot:2}),!d&&o&&i.push({name:"month",fn:function(a){return a.format(q.monthFormat)},pre:" ",slot:2}),!d&&o&&i.push({name:"date",fn:function(a){return a.format(q.dayFormat)},pre:" ",slot:3}),o&&q.showDayOfWeek&&i.push({name:"day of week",fn:function(a){return a.format(q.weekdayFormat)},pre:" ",slot:1}),q.groupMeridiems&&p&&!this.allDay&&!q.hideTime&&i.push({name:"meridiem",fn:function(a){return a.format(q.meridiemFormat)},slot:6,pre:q.spaceBeforeMeridiem?" ":""}),this.allDay||q.hideTime||i.push({name:"time",fn:function(a){var b;return b=0===a.minutes()&&q.implicitMinutes&&p?a.format(q.hourFormat):a.format(q.hourFormat+":"+q.minuteFormat),!q.groupMeridiems&&p&&(q.spaceBeforeMeridiem&&(b+=" "),b+=a.format(q.meridiemFormat)),b},slot:5,pre:", "}),s=[],f=[],e=[],t=!0,r=function(a){return function(b){var c,d,h;return h=b.fn(a._start),c=b.ignoreEnd&&b.ignoreEnd()?h:b.fn(a._end),d={format:b,value:function(){return h}},c===h&&t?e.push(d):(t&&(t=!1,e.push({format:{slot:b.slot,pre:""},value:function(){return q.template(g(s),g(f,!0).trim())}})),s.push(d),f.push({format:b,value:function(){return c}}))}}(this),l=0,m=i.length;l<m;l++)h=i[l],r(h);return j=!0,(g=function(a,b){var c,d,e,f,g,h;for(e=!0,h="",f=a.sort(function(a,b){return a.format.slot-b.format.slot}),c=0,d=f.length;c<d;c++)g=f[c],j||(h+=e&&b?" ":g.format.pre),h+=g.value(),j=!1,e=!1;return h})(e)},c.prototype._iterateHelper=function(a,b,c,d){return{next:function(){var e;return c()?(e=b.clone(),b.add(d,a),e):null},hasNext:c}},c.prototype._prepIterateInputs=function(){var b,c,e,f,g,h;return b=1<=arguments.length?d.call(arguments,0):[],"number"==typeof b[0]?b:("string"==typeof b[0]&&(f=b.shift(),c=null!=(g=b.pop())?g:1,b.length&&(e=null!=(h=b[0])&&h)),a.isDuration(b[0])&&(f="ms",c=b[0].as(f)),[c,f,e])},c.prototype._inner=function(a,b){var c,d,e,f,g;return null==a&&(a="ms"),null==b&&(b=1),g=this.start(),e=this._displayEnd.clone(),g>g.clone().startOf(a)&&g.startOf(a).add(b,a),e<e.clone().endOf(a)&&e.startOf(a),d=g.twix(e).asDuration(a),c=d.get(a),f=c%b,e.subtract(f,a),[g,e]},c.prototype._mutated=function(){return this._start=this.allDay?this._oStart.clone().startOf("d"):this._oStart,this._lastMilli=this.allDay?this._oEnd.clone().endOf("d"):this._oEnd,this._end=this.allDay?this._oEnd.clone().startOf("d"):this._oEnd,this._displayEnd=this.allDay?this._end.clone().add(1,"d"):this._end},c}(),c._extend(a.locale(),{_twix:c.defaults}),c.formatTemplate=function(a,b){return a+" - "+b},a.twix=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(c,arguments,function(){})},a.fn.twix=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(c,[this].concat(d.call(arguments)),function(){})},a.fn.forDuration=function(a,b){return new c(this,this.clone().add(a),b)},a.duration.fn&&(a.duration.fn.afterMoment=function(b,d){return new c(b,a(b).clone().add(this),d)},a.duration.fn.beforeMoment=function(b,d){return new c(a(b).clone().subtract(this),b,d)}),a.twixClass=c,c},a?module.exports=c(require("moment")):("function"==typeof define&&define("twix",["moment"],function(a){return c(a)}),void(this.moment?this.Twix=c(this.moment):"undefined"!=typeof moment&&null!==moment&&(this.Twix=c(moment))))}.call(this),function(){var a=function(){function b(){return this instanceof a?void("object"==typeof arguments[0]?(this.timestamp=arguments[0].timestamp,this.machine=arguments[0].machine,this.pid=arguments[0].pid,this.increment=arguments[0].increment):"string"==typeof arguments[0]&&24==arguments[0].length?(this.timestamp=Number("0x"+arguments[0].substr(0,8)),this.machine=Number("0x"+arguments[0].substr(8,6)),this.pid=Number("0x"+arguments[0].substr(14,4)),this.increment=Number("0x"+arguments[0].substr(18,6))):4==arguments.length&&null!=arguments[0]?(this.timestamp=arguments[0],this.machine=arguments[1],this.pid=arguments[2],this.increment=arguments[3]):(this.timestamp=Math.floor((new Date).valueOf()/1e3),this.machine=e,this.pid=d,this.increment=c++,c>16777215&&(c=0))):new a(arguments[0],arguments[1],arguments[2],arguments[3]).toString()}var c=0,d=Math.floor(32767*Math.random()),e=Math.floor(16777216*Math.random());if("undefined"!=typeof localStorage){var f=parseInt(localStorage.mongoMachineId);f>=0&&f<=16777215&&(e=Math.floor(localStorage.mongoMachineId)),localStorage.mongoMachineId=e,document.cookie="mongoMachineId="+e+";expires=Tue, 19 Jan 2038 05:00:00 GMT"}else{var g=document.cookie.split("; ");for(var h in g){var i=g[h].split("=");if("mongoMachineId"==i[0]&&i[1]>=0&&i[1]<=16777215){e=i[1];break}}document.cookie="mongoMachineId="+e+";expires=Tue, 19 Jan 2038 05:00:00 GMT"}return b}();a.prototype.getDate=function(){return new Date(1e3*this.timestamp)},a.prototype.toArray=function(){var a,b=this.toString(),c=[];for(a=0;a<12;a++)c[a]=parseInt(b.slice(2*a,2*a+2),16);return c},a.prototype.toString=function(){var a=this.timestamp.toString(16),b=this.machine.toString(16),c=this.pid.toString(16),d=this.increment.toString(16);return"00000000".substr(0,8-a.length)+a+"000000".substr(0,6-b.length)+b+"0000".substr(0,4-c.length)+c+"000000".substr(0,6-d.length)+d},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=a),exports.ObjectId=a):this.ObjectId=a}.call(this),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.Handlebars=b():a.Handlebars=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(){var a=r();return a.compile=function(b,c){return k.compile(b,c,a)},a.precompile=function(b,c){return k.precompile(b,c,a)},a.AST=i.default,a.Compiler=k.Compiler,a.JavaScriptCompiler=m.default,a.Parser=j.parser,a.parse=j.parse,a}var e=c(1).default;b.__esModule=!0;var f=c(2),g=e(f),h=c(21),i=e(h),j=c(22),k=c(27),l=c(28),m=e(l),n=c(25),o=e(n),p=c(20),q=e(p),r=g.default.create,s=d();s.create=d,q.default(s),s.Visitor=o.default,s.default=s,b.default=s,a.exports=b.default},function(a,b){"use strict";b.default=function(a){return a&&a.__esModule?a:{default:a}},b.__esModule=!0},function(a,b,c){"use strict";function d(){var a=new h.HandlebarsEnvironment;return n.extend(a,h),a.SafeString=j.default,a.Exception=l.default,a.Utils=n,a.escapeExpression=n.escapeExpression,a.VM=p,a.template=function(b){return p.template(b,a)},a}var e=c(3).default,f=c(1).default;b.__esModule=!0;var g=c(4),h=e(g),i=c(18),j=f(i),k=c(6),l=f(k),m=c(5),n=e(m),o=c(19),p=e(o),q=c(20),r=f(q),s=d();s.create=d,r.default(s),s.default=s,b.default=s,a.exports=b.default},function(a,b){"use strict";b.default=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b},b.__esModule=!0},function(a,b,c){"use strict";function d(a,b,c){this.helpers=a||{},this.partials=b||{},this.decorators=c||{},i.registerDefaultHelpers(this),j.registerDefaultDecorators(this)}var e=c(1).default;b.__esModule=!0,b.HandlebarsEnvironment=d;var f=c(5),g=c(6),h=e(g),i=c(7),j=c(15),k=c(17),l=e(k),m="4.0.5";b.VERSION=m;var n=7;b.COMPILER_REVISION=n;var o={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};b.REVISION_CHANGES=o;var p="[object Object]";d.prototype={constructor:d,logger:l.default,log:l.default.log,registerHelper:function(a,b){if(f.toString.call(a)===p){if(b)throw new h.default("Arg not supported with multiple helpers");f.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if(f.toString.call(a)===p)f.extend(this.partials,a);else{if("undefined"==typeof b)throw new h.default('Attempting to register a partial called "'+a+'" as undefined');this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,b){if(f.toString.call(a)===p){if(b)throw new h.default("Arg not supported with multiple decorators");f.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]}};var q=l.default.log;b.log=q,b.createFrame=f.createFrame,b.logger=l.default},function(a,b){"use strict";function c(a){return k[a]}function d(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function e(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}function f(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return m.test(a)?a.replace(l,c):a}function g(a){return!a&&0!==a||!(!p(a)||0!==a.length)}function h(a){var b=d({},a);return b._parent=a,b}function i(a,b){return a.path=b,a}function j(a,b){return(a?a+".":"")+b}b.__esModule=!0,b.extend=d,b.indexOf=e,b.escapeExpression=f,b.isEmpty=g,b.createFrame=h,b.blockParams=i,b.appendContextPath=j;var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},l=/[&<>"'`=]/g,m=/[&<>"'`=]/,n=Object.prototype.toString;b.toString=n;var o=function(a){return"function"==typeof a};o(/x/)&&(b.isFunction=o=function(a){return"function"==typeof a&&"[object Function]"===n.call(a)}),b.isFunction=o;var p=Array.isArray||function(a){return!(!a||"object"!=typeof a)&&"[object Array]"===n.call(a)};b.isArray=p},function(a,b){"use strict";function c(a,b){var e=b&&b.loc,f=void 0,g=void 0;e&&(f=e.start.line,g=e.start.column,a+=" - "+f+":"+g);for(var h=Error.prototype.constructor.call(this,a),i=0;i<d.length;i++)this[d[i]]=h[d[i]];Error.captureStackTrace&&Error.captureStackTrace(this,c),e&&(this.lineNumber=f,this.column=g)}b.__esModule=!0;var d=["description","fileName","lineNumber","message","name","number","stack"];c.prototype=new Error,b.default=c,a.exports=b.default},function(a,b,c){"use strict";function d(a){g.default(a),i.default(a),k.default(a),m.default(a),o.default(a),q.default(a),s.default(a)}var e=c(1).default;b.__esModule=!0,b.registerDefaultHelpers=d;var f=c(8),g=e(f),h=c(9),i=e(h),j=c(10),k=e(j),l=c(11),m=e(l),n=c(12),o=e(n),p=c(13),q=e(p),r=c(14),s=e(r)},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b.default=function(a){a.registerHelper("blockHelperMissing",function(b,c){var e=c.inverse,f=c.fn;if(b===!0)return f(this);if(b===!1||null==b)return e(this);if(d.isArray(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):e(this);if(c.data&&c.ids){var g=d.createFrame(c.data);g.contextPath=d.appendContextPath(c.data.contextPath,c.name),c={data:g}}return f(b,c)})},a.exports=b.default},function(a,b,c){"use strict";var d=c(1).default;b.__esModule=!0;var e=c(5),f=c(6),g=d(f);b.default=function(a){a.registerHelper("each",function(a,b){function c(b,c,f){j&&(j.key=b,j.index=c,j.first=0===c,j.last=!!f,k&&(j.contextPath=k+b)),i+=d(a[b],{data:j,blockParams:e.blockParams([a[b],b],[k+b,null])})}if(!b)throw new g.default("Must pass iterator to #each");var d=b.fn,f=b.inverse,h=0,i="",j=void 0,k=void 0;if(b.data&&b.ids&&(k=e.appendContextPath(b.data.contextPath,b.ids[0])+"."),e.isFunction(a)&&(a=a.call(this)),b.data&&(j=e.createFrame(b.data)),a&&"object"==typeof a)if(e.isArray(a))for(var l=a.length;h<l;h++)h in a&&c(h,h,h===a.length-1);else{var m=void 0;for(var n in a)a.hasOwnProperty(n)&&(void 0!==m&&c(m,h-1),m=n,h++);void 0!==m&&c(m,h-1,!0)}return 0===h&&(i=f(this)),i})},a.exports=b.default},function(a,b,c){"use strict";var d=c(1).default;b.__esModule=!0;var e=c(6),f=d(e);b.default=function(a){a.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new f.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},a.exports=b.default},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b.default=function(a){a.registerHelper("if",function(a,b){return d.isFunction(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||d.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers.if.call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})})},a.exports=b.default},function(a,b){"use strict";b.__esModule=!0,b.default=function(a){a.registerHelper("log",function(){for(var b=[void 0],c=arguments[arguments.length-1],d=0;d<arguments.length-1;d++)b.push(arguments[d]);var e=1;null!=c.hash.level?e=c.hash.level:c.data&&null!=c.data.level&&(e=c.data.level),b[0]=e,a.log.apply(a,b)})},a.exports=b.default},function(a,b){"use strict";b.__esModule=!0,b.default=function(a){a.registerHelper("lookup",function(a,b){return a&&a[b]})},a.exports=b.default},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b.default=function(a){a.registerHelper("with",function(a,b){d.isFunction(a)&&(a=a.call(this));var c=b.fn;if(d.isEmpty(a))return b.inverse(this);var e=b.data;return b.data&&b.ids&&(e=d.createFrame(b.data),e.contextPath=d.appendContextPath(b.data.contextPath,b.ids[0])),c(a,{data:e,blockParams:d.blockParams([a],[e&&e.contextPath])})})},a.exports=b.default},function(a,b,c){"use strict";function d(a){g.default(a)}var e=c(1).default;b.__esModule=!0,b.registerDefaultDecorators=d;var f=c(16),g=e(f)},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b.default=function(a){a.registerDecorator("inline",function(a,b,c,e){var f=a;return b.partials||(b.partials={},f=function(e,f){var g=c.partials;c.partials=d.extend({},g,b.partials);var h=a(e,f);return c.partials=g,h}),b.partials[e.args[0]]=e.fn,f})},a.exports=b.default},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5),e={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if("string"==typeof a){var b=d.indexOf(e.methodMap,a.toLowerCase());
a=b>=0?b:parseInt(a,10)}return a},log:function(a){if(a=e.lookupLevel(a),"undefined"!=typeof console&&e.lookupLevel(e.level)<=a){var b=e.methodMap[a];console[b]||(b="log");for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];console[b].apply(console,d)}}};b.default=e,a.exports=b.default},function(a,b){"use strict";function c(a){this.string=a}b.__esModule=!0,c.prototype.toString=c.prototype.toHTML=function(){return""+this.string},b.default=c,a.exports=b.default},function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=r.COMPILER_REVISION;if(b!==c){if(b<c){var d=r.REVISION_CHANGES[c],e=r.REVISION_CHANGES[b];throw new q.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new q.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){function c(c,d,e){e.hash&&(d=o.extend({},d,e.hash),e.ids&&(e.ids[0]=!0)),c=b.VM.resolvePartial.call(this,c,d,e);var f=b.VM.invokePartial.call(this,c,d,e);if(null==f&&b.compile&&(e.partials[e.name]=b.compile(c,a.compilerOptions,b),f=e.partials[e.name](d,e)),null!=f){if(e.indent){for(var g=f.split("\n"),h=0,i=g.length;h<i&&(g[h]||h+1!==i);h++)g[h]=e.indent+g[h];f=g.join("\n")}return f}throw new q.default("The partial "+e.name+" could not be compiled when running in runtime-only mode")}function d(b){function c(b){return""+a.main(e,b,e.helpers,e.partials,g,i,h)}var f=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],g=f.data;d._setup(f),!f.partial&&a.useData&&(g=j(b,g));var h=void 0,i=a.useBlockParams?[]:void 0;return a.useDepths&&(h=f.depths?b!==f.depths[0]?[b].concat(f.depths):f.depths:[b]),(c=k(a.main,c,e,f.depths||[],g,i))(b,f)}if(!b)throw new q.default("No environment passed to template");if(!a||!a.main)throw new q.default("Unknown template object: "+typeof a);a.main.decorator=a.main_d,b.VM.checkRevision(a.compiler);var e={strict:function(a,b){if(!(b in a))throw new q.default('"'+b+'" not defined in '+a);return a[b]},lookup:function(a,b){for(var c=a.length,d=0;d<c;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:o.escapeExpression,invokePartial:c,fn:function(b){var c=a[b];return c.decorator=a[b+"_d"],c},programs:[],program:function(a,b,c,d,e){var g=this.programs[a],h=this.fn(a);return b||e||d||c?g=f(this,a,h,b,c,d,e):g||(g=this.programs[a]=f(this,a,h)),g},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=o.extend({},b,a)),c},noop:b.VM.noop,compilerInfo:a.compiler};return d.isTop=!0,d._setup=function(c){c.partial?(e.helpers=c.helpers,e.partials=c.partials,e.decorators=c.decorators):(e.helpers=e.merge(c.helpers,b.helpers),a.usePartial&&(e.partials=e.merge(c.partials,b.partials)),(a.usePartial||a.useDecorators)&&(e.decorators=e.merge(c.decorators,b.decorators)))},d._child=function(b,c,d,g){if(a.useBlockParams&&!d)throw new q.default("must pass block params");if(a.useDepths&&!g)throw new q.default("must pass parent depths");return f(e,b,a[b],c,0,d,g)},d}function f(a,b,c,d,e,f,g){function h(b){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],h=g;return g&&b!==g[0]&&(h=[b].concat(g)),c(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),h)}return h=k(c,h,a,g,d,f),h.program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function g(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a="@partial-block"===c.name?c.data["partial-block"]:c.partials[c.name],a}function h(a,b,c){c.partial=!0,c.ids&&(c.data.contextPath=c.ids[0]||c.data.contextPath);var d=void 0;if(c.fn&&c.fn!==i&&(c.data=r.createFrame(c.data),d=c.data["partial-block"]=c.fn,d.partials&&(c.partials=o.extend({},c.partials,d.partials))),void 0===a&&d&&(a=d),void 0===a)throw new q.default("The partial "+c.name+" could not be found");if(a instanceof Function)return a(b,c)}function i(){return""}function j(a,b){return b&&"root"in b||(b=b?r.createFrame(b):{},b.root=a),b}function k(a,b,c,d,e,f){if(a.decorator){var g={};b=a.decorator(b,g,c,d&&d[0],e,f,d),o.extend(b,g)}return b}var l=c(3).default,m=c(1).default;b.__esModule=!0,b.checkRevision=d,b.template=e,b.wrapProgram=f,b.resolvePartial=g,b.invokePartial=h,b.noop=i;var n=c(5),o=l(n),p=c(6),q=m(p),r=c(4)},function(a,b){(function(c){"use strict";b.__esModule=!0,b.default=function(a){var b="undefined"!=typeof c?c:window,d=b.Handlebars;a.noConflict=function(){return b.Handlebars===a&&(b.Handlebars=d),a}},a.exports=b.default}).call(b,function(){return this}())},function(a,b){"use strict";b.__esModule=!0;var c={helpers:{helperExpression:function(a){return"SubExpression"===a.type||("MustacheStatement"===a.type||"BlockStatement"===a.type)&&!!(a.params&&a.params.length||a.hash)},scopedId:function(a){return/^\.|this\b/.test(a.original)},simpleId:function(a){return 1===a.parts.length&&!c.helpers.scopedId(a)&&!a.depth}}};b.default=c,a.exports=b.default},function(a,b,c){"use strict";function d(a,b){if("Program"===a.type)return a;h.default.yy=n,n.locInfo=function(a){return new n.SourceLocation(b&&b.srcName,a)};var c=new j.default(b);return c.accept(h.default.parse(a))}var e=c(1).default,f=c(3).default;b.__esModule=!0,b.parse=d;var g=c(23),h=e(g),i=c(24),j=e(i),k=c(26),l=f(k),m=c(5);b.parser=h.default;var n={};m.extend(n,l)},function(a,b){"use strict";var c=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h-1];case 2:this.$=d.prepareProgram(f[h]);break;case 3:this.$=f[h];break;case 4:this.$=f[h];break;case 5:this.$=f[h];break;case 6:this.$=f[h];break;case 7:this.$=f[h];break;case 8:this.$=f[h];break;case 9:this.$={type:"CommentStatement",value:d.stripComment(f[h]),strip:d.stripFlags(f[h],f[h]),loc:d.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:f[h],value:f[h],loc:d.locInfo(this._$)};break;case 11:this.$=d.prepareRawBlock(f[h-2],f[h-1],f[h],this._$);break;case 12:this.$={path:f[h-3],params:f[h-2],hash:f[h-1]};break;case 13:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!1,this._$);break;case 14:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!0,this._$);break;case 15:this.$={open:f[h-5],path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 16:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 17:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 18:this.$={strip:d.stripFlags(f[h-1],f[h-1]),program:f[h]};break;case 19:var i=d.prepareBlock(f[h-2],f[h-1],f[h],f[h],!1,this._$),j=d.prepareProgram([i],f[h-1].loc);j.chained=!0,this.$={strip:f[h-2].strip,program:j,chain:!0};break;case 20:this.$=f[h];break;case 21:this.$={path:f[h-1],strip:d.stripFlags(f[h-2],f[h])};break;case 22:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 23:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 24:this.$={type:"PartialStatement",name:f[h-3],params:f[h-2],hash:f[h-1],indent:"",strip:d.stripFlags(f[h-4],f[h]),loc:d.locInfo(this._$)};break;case 25:this.$=d.preparePartialBlock(f[h-2],f[h-1],f[h],this._$);break;case 26:this.$={path:f[h-3],params:f[h-2],hash:f[h-1],strip:d.stripFlags(f[h-4],f[h])};break;case 27:this.$=f[h];break;case 28:this.$=f[h];break;case 29:this.$={type:"SubExpression",path:f[h-3],params:f[h-2],hash:f[h-1],loc:d.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:f[h],loc:d.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:d.id(f[h-2]),value:f[h],loc:d.locInfo(this._$)};break;case 32:this.$=d.id(f[h-1]);break;case 33:this.$=f[h];break;case 34:this.$=f[h];break;case 35:this.$={type:"StringLiteral",value:f[h],original:f[h],loc:d.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(f[h]),original:Number(f[h]),loc:d.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===f[h],original:"true"===f[h],loc:d.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:d.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:d.locInfo(this._$)};break;case 40:this.$=f[h];break;case 41:this.$=f[h];break;case 42:this.$=d.preparePath(!0,f[h],this._$);break;case 43:this.$=d.preparePath(!1,f[h],this._$);break;case 44:f[h-2].push({part:d.id(f[h]),original:f[h],separator:f[h-1]}),this.$=f[h-2];break;case 45:this.$=[{part:d.id(f[h]),original:f[h]}];break;case 46:this.$=[];break;case 47:f[h-1].push(f[h]);break;case 48:this.$=[f[h]];break;case 49:f[h-1].push(f[h]);break;case 50:this.$=[];break;case 51:f[h-1].push(f[h]);break;case 58:this.$=[];break;case 59:f[h-1].push(f[h]);break;case 64:this.$=[];break;case 65:f[h-1].push(f[h]);break;case 70:this.$=[];break;case 71:f[h-1].push(f[h]);break;case 78:this.$=[];break;case 79:f[h-1].push(f[h]);break;case 82:this.$=[];break;case 83:f[h-1].push(f[h]);break;case 86:this.$=[];break;case 87:f[h-1].push(f[h]);break;case 90:this.$=[];break;case 91:f[h-1].push(f[h]);break;case 94:this.$=[];break;case 95:f[h-1].push(f[h]);break;case 98:this.$=[f[h]];break;case 99:f[h-1].push(f[h]);break;case 100:this.$=[f[h]];break;case 101:f[h-1].push(f[h])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(a,b){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:(null!==n&&"undefined"!=typeof n||(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(b.yytext=b.yytext.substr(5,b.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(b.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return b.yytext=e(1,2).replace(/\\"/g,'"'),80;case 32:return b.yytext=e(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return b.yytext=b.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],
inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();b.__esModule=!0,b.default=c},function(a,b,c){"use strict";function d(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=a}function e(a,b,c){void 0===b&&(b=a.length);var d=a[b-1],e=a[b-2];return d?"ContentStatement"===d.type?(e||!c?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(d.original):void 0:c}function f(a,b,c){void 0===b&&(b=-1);var d=a[b+1],e=a[b+2];return d?"ContentStatement"===d.type?(e||!c?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(d.original):void 0:c}function g(a,b,c){var d=a[null==b?0:b+1];if(d&&"ContentStatement"===d.type&&(c||!d.rightStripped)){var e=d.value;d.value=d.value.replace(c?/^\s+/:/^[ \t]*\r?\n?/,""),d.rightStripped=d.value!==e}}function h(a,b,c){var d=a[null==b?a.length-1:b-1];if(d&&"ContentStatement"===d.type&&(c||!d.leftStripped)){var e=d.value;return d.value=d.value.replace(c?/\s+$/:/[ \t]+$/,""),d.leftStripped=d.value!==e,d.leftStripped}}var i=c(1).default;b.__esModule=!0;var j=c(25),k=i(j);d.prototype=new k.default,d.prototype.Program=function(a){var b=!this.options.ignoreStandalone,c=!this.isRootSeen;this.isRootSeen=!0;for(var d=a.body,i=0,j=d.length;i<j;i++){var k=d[i],l=this.accept(k);if(l){var m=e(d,i,c),n=f(d,i,c),o=l.openStandalone&&m,p=l.closeStandalone&&n,q=l.inlineStandalone&&m&&n;l.close&&g(d,i,!0),l.open&&h(d,i,!0),b&&q&&(g(d,i),h(d,i)&&"PartialStatement"===k.type&&(k.indent=/([ \t]+$)/.exec(d[i-1].original)[1])),b&&o&&(g((k.program||k.inverse).body),h(d,i)),b&&p&&(g(d,i),h((k.inverse||k.program).body))}}return a},d.prototype.BlockStatement=d.prototype.DecoratorBlock=d.prototype.PartialBlockStatement=function(a){this.accept(a.program),this.accept(a.inverse);var b=a.program||a.inverse,c=a.program&&a.inverse,d=c,i=c;if(c&&c.chained)for(d=c.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var j={open:a.openStrip.open,close:a.closeStrip.close,openStandalone:f(b.body),closeStandalone:e((d||b).body)};if(a.openStrip.close&&g(b.body,null,!0),c){var k=a.inverseStrip;k.open&&h(b.body,null,!0),k.close&&g(d.body,null,!0),a.closeStrip.open&&h(i.body,null,!0),!this.options.ignoreStandalone&&e(b.body)&&f(d.body)&&(h(b.body),g(d.body))}else a.closeStrip.open&&h(b.body,null,!0);return j},d.prototype.Decorator=d.prototype.MustacheStatement=function(a){return a.strip},d.prototype.PartialStatement=d.prototype.CommentStatement=function(a){var b=a.strip||{};return{inlineStandalone:!0,open:b.open,close:b.close}},b.default=d,a.exports=b.default},function(a,b,c){"use strict";function d(){this.parents=[]}function e(a){this.acceptRequired(a,"path"),this.acceptArray(a.params),this.acceptKey(a,"hash")}function f(a){e.call(this,a),this.acceptKey(a,"program"),this.acceptKey(a,"inverse")}function g(a){this.acceptRequired(a,"name"),this.acceptArray(a.params),this.acceptKey(a,"hash")}var h=c(1).default;b.__esModule=!0;var i=c(6),j=h(i);d.prototype={constructor:d,mutating:!1,acceptKey:function(a,b){var c=this.accept(a[b]);if(this.mutating){if(c&&!d.prototype[c.type])throw new j.default('Unexpected node type "'+c.type+'" found when accepting '+b+" on "+a.type);a[b]=c}},acceptRequired:function(a,b){if(this.acceptKey(a,b),!a[b])throw new j.default(a.type+" requires "+b)},acceptArray:function(a){for(var b=0,c=a.length;b<c;b++)this.acceptKey(a,b),a[b]||(a.splice(b,1),b--,c--)},accept:function(a){if(a){if(!this[a.type])throw new j.default("Unknown type: "+a.type,a);this.current&&this.parents.unshift(this.current),this.current=a;var b=this[a.type](a);return this.current=this.parents.shift(),!this.mutating||b?b:b!==!1?a:void 0}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:e,Decorator:e,BlockStatement:f,DecoratorBlock:f,PartialStatement:g,PartialBlockStatement:function(a){g.call(this,a),this.acceptKey(a,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:e,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}},b.default=d,a.exports=b.default},function(a,b,c){"use strict";function d(a,b){if(b=b.path?b.path.original:b,a.path.original!==b){var c={loc:a.path.loc};throw new q.default(a.path.original+" doesn't match "+b,c)}}function e(a,b){this.source=a,this.start={line:b.first_line,column:b.first_column},this.end={line:b.last_line,column:b.last_column}}function f(a){return/^\[.*\]$/.test(a)?a.substr(1,a.length-2):a}function g(a,b){return{open:"~"===a.charAt(2),close:"~"===b.charAt(b.length-3)}}function h(a){return a.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function i(a,b,c){c=this.locInfo(c);for(var d=a?"@":"",e=[],f=0,g="",h=0,i=b.length;h<i;h++){var j=b[h].part,k=b[h].original!==j;if(d+=(b[h].separator||"")+j,k||".."!==j&&"."!==j&&"this"!==j)e.push(j);else{if(e.length>0)throw new q.default("Invalid path: "+d,{loc:c});".."===j&&(f++,g+="../")}}return{type:"PathExpression",data:a,depth:f,parts:e,original:d,loc:c}}function j(a,b,c,d,e,f){var g=d.charAt(3)||d.charAt(2),h="{"!==g&&"&"!==g,i=/\*/.test(d);return{type:i?"Decorator":"MustacheStatement",path:a,params:b,hash:c,escaped:h,strip:e,loc:this.locInfo(f)}}function k(a,b,c,e){d(a,c),e=this.locInfo(e);var f={type:"Program",body:b,strip:{},loc:e};return{type:"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:f,openStrip:{},inverseStrip:{},closeStrip:{},loc:e}}function l(a,b,c,e,f,g){e&&e.path&&d(a,e);var h=/\*/.test(a.open);b.blockParams=a.blockParams;var i=void 0,j=void 0;if(c){if(h)throw new q.default("Unexpected inverse block on decorator",c);c.chain&&(c.program.body[0].closeStrip=e.strip),j=c.strip,i=c.program}return f&&(f=i,i=b,b=f),{type:h?"DecoratorBlock":"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:b,inverse:i,openStrip:a.strip,inverseStrip:j,closeStrip:e&&e.strip,loc:this.locInfo(g)}}function m(a,b){if(!b&&a.length){var c=a[0].loc,d=a[a.length-1].loc;c&&d&&(b={source:c.source,start:{line:c.start.line,column:c.start.column},end:{line:d.end.line,column:d.end.column}})}return{type:"Program",body:a,strip:{},loc:b}}function n(a,b,c,e){return d(a,c),{type:"PartialBlockStatement",name:a.path,params:a.params,hash:a.hash,program:b,openStrip:a.strip,closeStrip:c&&c.strip,loc:this.locInfo(e)}}var o=c(1).default;b.__esModule=!0,b.SourceLocation=e,b.id=f,b.stripFlags=g,b.stripComment=h,b.preparePath=i,b.prepareMustache=j,b.prepareRawBlock=k,b.prepareBlock=l,b.prepareProgram=m,b.preparePartialBlock=n;var p=c(6),q=o(p)},function(a,b,c){"use strict";function d(){}function e(a,b,c){if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new k.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var d=c.parse(a,b),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function f(a,b,c){function d(){var d=c.parse(a,b),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}function e(a,b){return f||(f=d()),f.call(this,a,b)}if(void 0===b&&(b={}),null==a||"string"!=typeof a&&"Program"!==a.type)throw new k.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var f=void 0;return e._setup=function(a){return f||(f=d()),f._setup(a)},e._child=function(a,b,c,e){return f||(f=d()),f._child(a,b,c,e)},e}function g(a,b){if(a===b)return!0;if(l.isArray(a)&&l.isArray(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!g(a[c],b[c]))return!1;return!0}}function h(a){if(!a.path.parts){var b=a.path;a.path={type:"PathExpression",data:!1,depth:0,parts:[b.original+""],original:b.original+"",loc:b.loc}}}var i=c(1).default;b.__esModule=!0,b.Compiler=d,b.precompile=e,b.compile=f;var j=c(6),k=i(j),l=c(5),m=c(21),n=i(m),o=[].slice;d.prototype={compiler:d,equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;c<b;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||!g(d.args,e.args))return!1}b=this.children.length;for(var c=0;c<b;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=b,this.stringParams=b.stringParams,this.trackIds=b.trackIds,b.blockParams=b.blockParams||[];var c=b.knownHelpers;if(b.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},c)for(var d in c)d in c&&(b.knownHelpers[d]=c[d]);return this.accept(a)},compileProgram:function(a){var b=new this.compiler,c=b.compile(a,this.options),d=this.guid++;return this.usePartial=this.usePartial||c.usePartial,this.children[d]=c,this.useDepths=this.useDepths||c.useDepths,d},accept:function(a){if(!this[a.type])throw new k.default("Unknown type: "+a.type,a);this.sourceNode.unshift(a);var b=this[a.type](a);return this.sourceNode.shift(),b},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var b=a.body,c=b.length,d=0;d<c;d++)this.accept(b[d]);return this.options.blockParams.shift(),this.isSimple=1===c,this.blockParams=a.blockParams?a.blockParams.length:0,this},BlockStatement:function(a){h(a);var b=a.program,c=a.inverse;b=b&&this.compileProgram(b),c=c&&this.compileProgram(c);var d=this.classifySexpr(a);"helper"===d?this.helperSexpr(a,b,c):"simple"===d?(this.simpleSexpr(a),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue",a.path.original)):(this.ambiguousSexpr(a,b,c),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(a){var b=a.program&&this.compileProgram(a.program),c=this.setupFullMustacheParams(a,b,void 0),d=a.path;this.useDecorators=!0,this.opcode("registerDecorator",c.length,d.original)},PartialStatement:function(a){this.usePartial=!0;var b=a.program;b&&(b=this.compileProgram(a.program));var c=a.params;if(c.length>1)throw new k.default("Unsupported number of partial arguments: "+c.length,a);c.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):c.push({type:"PathExpression",parts:[],depth:0}));var d=a.name.original,e="SubExpression"===a.name.type;e&&this.accept(a.name),this.setupFullMustacheParams(a,b,void 0,!0);var f=a.indent||"";this.options.preventIndent&&f&&(this.opcode("appendContent",f),f=""),this.opcode("invokePartial",e,d,f),this.opcode("append")},PartialBlockStatement:function(a){this.PartialStatement(a)},MustacheStatement:function(a){this.SubExpression(a),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(a){this.DecoratorBlock(a)},ContentStatement:function(a){a.value&&this.opcode("appendContent",a.value)},CommentStatement:function(){},SubExpression:function(a){h(a);var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ambiguousSexpr:function(a,b,c){var d=a.path,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),d.strict=!0,this.accept(d),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.path;b.strict=!0,this.accept(b),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.path,f=e.parts[0];if(this.options.knownHelpers[f])this.opcode("invokeKnownHelper",d.length,f);else{if(this.options.knownHelpersOnly)throw new k.default("You specified knownHelpersOnly, but used the unknown helper "+f,a);e.strict=!0,e.falsy=!0,this.accept(e),this.opcode("invokeHelper",d.length,e.original,n.default.helpers.simpleId(e))}},PathExpression:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0],c=n.default.helpers.scopedId(a),d=!a.depth&&!c&&this.blockParamIndex(b);d?this.opcode("lookupBlockParam",d,a.parts):b?a.data?(this.options.data=!0,this.opcode("lookupData",a.depth,a.parts,a.strict)):this.opcode("lookupOnContext",a.parts,a.falsy,a.strict,c):this.opcode("pushContext")},StringLiteral:function(a){this.opcode("pushString",a.value)},NumberLiteral:function(a){this.opcode("pushLiteral",a.value)},BooleanLiteral:function(a){this.opcode("pushLiteral",a.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(a){var b=a.pairs,c=0,d=b.length;for(this.opcode("pushHash");c<d;c++)this.pushParam(b[c].value);for(;c--;)this.opcode("assignToHash",b[c].key);this.opcode("popHash")},opcode:function(a){this.opcodes.push({opcode:a,args:o.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var b=n.default.helpers.simpleId(a.path),c=b&&!!this.blockParamIndex(a.path.parts[0]),d=!c&&n.default.helpers.helperExpression(a),e=!c&&(d||b);if(e&&!d){var f=a.path.parts[0],g=this.options;g.knownHelpers[f]?d=!0:g.knownHelpersOnly&&(e=!1)}return d?"helper":e?"ambiguous":"simple"},pushParams:function(a){for(var b=0,c=a.length;b<c;b++)this.pushParam(a[b])},pushParam:function(a){var b=null!=a.value?a.value:a.original||"";if(this.stringParams)b.replace&&(b=b.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),a.depth&&this.addDepth(a.depth),this.opcode("getContext",a.depth||0),this.opcode("pushStringParam",b,a.type),"SubExpression"===a.type&&this.accept(a);else{if(this.trackIds){var c=void 0;if(!a.parts||n.default.helpers.scopedId(a)||a.depth||(c=this.blockParamIndex(a.parts[0])),c){var d=a.parts.slice(1).join(".");this.opcode("pushId","BlockParam",c,d)}else b=a.original||b,b.replace&&(b=b.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",a.type,b)}this.accept(a)}},setupFullMustacheParams:function(a,b,c,d){var e=a.params;return this.pushParams(e),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.accept(a.hash):this.opcode("emptyHash",d),e},blockParamIndex:function(a){for(var b=0,c=this.options.blockParams.length;b<c;b++){var d=this.options.blockParams[b],e=d&&l.indexOf(d,a);if(d&&e>=0)return[b,e]}}}},function(a,b,c){"use strict";function d(a){this.value=a}function e(){}function f(a,b,c,d){var e=b.popStack(),f=0,g=c.length;for(a&&g--;f<g;f++)e=b.nameLookup(e,c[f],d);return a?[b.aliasable("container.strict"),"(",e,", ",b.quotedString(c[f]),")"]:e}var g=c(1).default;b.__esModule=!0;var h=c(4),i=c(6),j=g(i),k=c(5),l=c(29),m=g(l);e.prototype={nameLookup:function(a,b){return e.isValidJavaScriptVariableName(b)?[a,".",b]:[a,"[",JSON.stringify(b),"]"]},depthedLookup:function(a){return[this.aliasable("container.lookup"),'(depths, "',a,'")']},compilerInfo:function(){var a=h.COMPILER_REVISION,b=h.REVISION_CHANGES[a];return[a,b]},appendToBuffer:function(a,b,c){return k.isArray(a)||(a=[a]),a=this.source.wrap(a,b),this.environment.isSimple?["return ",a,";"]:c?["buffer += ",a,";"]:(a.appendToBuffer=!0,a)},initializeBuffer:function(){return this.quotedString("")},compile:function(a,b,c,d){this.environment=a,this.options=b,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!d,this.name=this.environment.name,this.isChild=!!c,this.context=c||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(a,b),this.useDepths=this.useDepths||a.useDepths||a.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||a.useBlockParams;var e=a.opcodes,f=void 0,g=void 0,h=void 0,i=void 0;for(h=0,i=e.length;h<i;h++)f=e[h],this.source.currentLocation=f.loc,g=g||f.loc,this[f.opcode].apply(this,f.args);if(this.source.currentLocation=g,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new j.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),d?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var k=this.createFunctionContext(d);if(this.isChild)return k;var l={compiler:this.compilerInfo(),main:k};this.decorators&&(l.main_d=this.decorators,l.useDecorators=!0);var m=this.context,n=m.programs,o=m.decorators;for(h=0,i=n.length;h<i;h++)n[h]&&(l[h]=n[h],o[h]&&(l[h+"_d"]=o[h],l.useDecorators=!0));return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.useBlockParams&&(l.useBlockParams=!0),this.options.compat&&(l.compat=!0),d?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),b.srcName?(l=l.toStringWithSourceMap({file:b.destName}),l.map=l.map&&l.map.toString()):l=l.toString()),l},preamble:function(){this.lastContext=0,this.source=new m.default(this.options.srcName),this.decorators=new m.default(this.options.srcName)},createFunctionContext:function(a){var b="",c=this.stackVars.concat(this.registers.list);c.length>0&&(b+=", "+c.join(", "));var d=0;for(var e in this.aliases){var f=this.aliases[e];this.aliases.hasOwnProperty(e)&&f.children&&f.referenceCount>1&&(b+=", alias"+ ++d+"="+e,f.children[0]="alias"+d)}var g=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&g.push("blockParams"),this.useDepths&&g.push("depths");var h=this.mergeSource(b);return a?(g.push(h),Function.apply(this,g)):this.source.wrap(["function(",g.join(","),") {\n  ",h,"}"])},mergeSource:function(a){var b=this.environment.isSimple,c=!this.forceBuffer,d=void 0,e=void 0,f=void 0,g=void 0;return this.source.each(function(a){a.appendToBuffer?(f?a.prepend("  + "):f=a,g=a):(f&&(e?f.prepend("buffer += "):d=!0,g.add(";"),f=g=void 0),e=!0,b||(c=!1))}),c?f?(f.prepend("return "),g.add(";")):e||this.source.push('return "";'):(a+=", buffer = "+(d?"":this.initializeBuffer()),f?(f.prepend("return buffer + "),g.add(";")):this.source.push("return buffer;")),a&&this.source.prepend("var "+a.substring(2)+(d?"":";\n")),this.source.merge()},blockValue:function(a){var b=this.aliasable("helpers.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs(a,0,c);var d=this.popStack();c.splice(1,0,d),this.push(this.source.functionCall(b,"call",c))},ambiguousBlockValue:function(){var a=this.aliasable("helpers.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0),this.flushInline();var c=this.topStack();b.splice(1,0,c),this.pushSource(["if (!",this.lastHelper,") { ",c," = ",this.source.functionCall(a,"call",b),"}"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation,this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[" != null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var a=this.popStack();this.pushSource(["if (",a," != null) { ",this.appendToBuffer(a,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,b,c,d){var e=0;d||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[e++])),this.resolvePath("context",a,e,b,c)},lookupBlockParam:function(a,b){this.useBlockParams=!0,this.push(["blockParams[",a[0],"][",a[1],"]"]),this.resolvePath("context",b,1)},lookupData:function(a,b,c){a?this.pushStackLiteral("container.data(data, "+a+")"):this.pushStackLiteral("data"),this.resolvePath("data",b,0,!0,c)},resolvePath:function(a,b,c,d,e){var g=this;if(this.options.strict||this.options.assumeObjects)return void this.push(f(this.options.strict&&e,this,b,a));for(var h=b.length;c<h;c++)this.replaceStack(function(e){var f=g.nameLookup(e,b[c],a);return d?[" && ",f]:[" != null ? ",f," : ",e]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(a,b){this.pushContext(),this.pushString(b),"SubExpression"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(a){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(a?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(a.ids)),this.stringParams&&(this.push(this.objectLiteral(a.contexts)),this.push(this.objectLiteral(a.types))),this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},registerDecorator:function(a,b){var c=this.nameLookup("decorators",b,"decorator"),d=this.setupHelperArgs(b,a);this.decorators.push(["fn = ",this.decorators.functionCall(c,"",["fn","props","container",d])," || fn;"])},invokeHelper:function(a,b,c){var d=this.popStack(),e=this.setupHelper(a,b),f=c?[e.name," || "]:"",g=["("].concat(f,d);this.options.strict||g.push(" || ",this.aliasable("helpers.helperMissing")),g.push(")"),this.push(this.source.functionCall(g,"call",e.callParams))},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(this.source.functionCall(c.name,"call",c.callParams))},invokeAmbiguous:function(a,b){this.useRegister("helper");var c=this.popStack();this.emptyHash();var d=this.setupHelper(0,a,b),e=this.lastHelper=this.nameLookup("helpers",a,"helper"),f=["(","(helper = ",e," || ",c,")"];this.options.strict||(f[0]="(helper = ",f.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",f,d.paramsInit?["),(",d.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",d.callParams)," : helper))"])},invokePartial:function(a,b,c){var d=[],e=this.setupParams(b,1,d);a&&(b=this.popStack(),delete e.name),c&&(e.indent=JSON.stringify(c)),e.helpers="helpers",e.partials="partials",e.decorators="container.decorators",a?d.unshift(b):d.unshift(this.nameLookup("partials",b,"partial")),this.options.compat&&(e.depths="depths"),e=this.objectLiteral(e),d.push(e),this.push(this.source.functionCall("container.invokePartial","",d))},assignToHash:function(a){var b=this.popStack(),c=void 0,d=void 0,e=void 0;this.trackIds&&(e=this.popStack()),this.stringParams&&(d=this.popStack(),c=this.popStack());var f=this.hash;c&&(f.contexts[a]=c),d&&(f.types[a]=d),e&&(f.ids[a]=e),f.values[a]=b},pushId:function(a,b,c){"BlockParam"===a?this.pushStackLiteral("blockParams["+b[0]+"].path["+b[1]+"]"+(c?" + "+JSON.stringify("."+c):"")):"PathExpression"===a?this.pushString(b):"SubExpression"===a?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:e,compileChildren:function(a,b){for(var c=a.children,d=void 0,e=void 0,f=0,g=c.length;f<g;f++){d=c[f],e=new this.compiler;var h=this.matchExistingProgram(d);null==h?(this.context.programs.push(""),h=this.context.programs.length,d.index=h,d.name="program"+h,this.context.programs[h]=e.compile(d,b,this.context,!this.precompile),this.context.decorators[h]=e.decorators,this.context.environments[h]=d,this.useDepths=this.useDepths||e.useDepths,this.useBlockParams=this.useBlockParams||e.useBlockParams):(d.index=h,d.name="program"+h,this.useDepths=this.useDepths||d.useDepths,this.useBlockParams=this.useBlockParams||d.useBlockParams)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;b<c;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){var b=this.environment.children[a],c=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&c.push("blockParams"),this.useDepths&&c.push("depths"),"container.program("+c.join(", ")+")"},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},push:function(a){return a instanceof d||(a=this.source.wrap(a)),this.inlineStack.push(a),a},pushStackLiteral:function(a){this.push(new d(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),a&&this.source.push(a)},replaceStack:function(a){var b=["("],c=void 0,e=void 0,f=void 0;if(!this.isInline())throw new j.default("replaceStack on non-inline");var g=this.popStack(!0);if(g instanceof d)c=[g.value],b=["(",c],f=!0;else{e=!0;var h=this.incrStack();b=["((",this.push(h)," = ",g,")"],c=this.topStack()}var i=a.call(this,c);f||this.popStack(),e&&this.stackSlot--,this.push(b.concat(i,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var b=0,c=a.length;b<c;b++){var e=a[b];if(e instanceof d)this.compileStack.push(e);else{var f=this.incrStack();this.pushSource([f," = ",e,";"]),this.compileStack.push(f)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof d)return c.value;if(!b){if(!this.stackSlot)throw new j.default("Invalid stack pop");this.stackSlot--}return c},topStack:function(){var a=this.isInline()?this.inlineStack:this.compileStack,b=a[a.length-1];return b instanceof d?b.value:b},contextName:function(a){return this.useDepths&&a?"depths["+a+"]":"depth"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var b=this.aliases[a];return b?(b.referenceCount++,b):(b=this.aliases[a]=this.source.wrap(a),b.aliasable=!0,b.referenceCount=1,b)},setupHelper:function(a,b,c){var d=[],e=this.setupHelperArgs(b,a,d,c),f=this.nameLookup("helpers",b,"helper"),g=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:d,paramsInit:e,name:f,callParams:[g].concat(d)}},setupParams:function(a,b,c){var d={},e=[],f=[],g=[],h=!c,i=void 0;h&&(c=[]),d.name=this.quotedString(a),d.hash=this.popStack(),this.trackIds&&(d.hashIds=this.popStack()),this.stringParams&&(d.hashTypes=this.popStack(),d.hashContexts=this.popStack());var j=this.popStack(),k=this.popStack();(k||j)&&(d.fn=k||"container.noop",d.inverse=j||"container.noop");for(var l=b;l--;)i=this.popStack(),c[l]=i,this.trackIds&&(g[l]=this.popStack()),this.stringParams&&(f[l]=this.popStack(),e[l]=this.popStack());return h&&(d.args=this.source.generateArray(c)),this.trackIds&&(d.ids=this.source.generateArray(g)),this.stringParams&&(d.types=this.source.generateArray(f),d.contexts=this.source.generateArray(e)),this.options.data&&(d.data="data"),this.useBlockParams&&(d.blockParams="blockParams"),d},setupHelperArgs:function(a,b,c,d){var e=this.setupParams(a,b,c);return e=this.objectLiteral(e),d?(this.useRegister("options"),c.push("options"),["options=",e]):c?(c.push(e),""):e}},function(){for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),b=e.RESERVED_WORDS={},c=0,d=a.length;c<d;c++)b[a[c]]=!0}(),e.isValidJavaScriptVariableName=function(a){return!e.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)},b.default=e,a.exports=b.default},function(a,b,c){"use strict";function d(a,b,c){if(f.isArray(a)){for(var d=[],e=0,g=a.length;e<g;e++)d.push(b.wrap(a[e],c));return d}return"boolean"==typeof a||"number"==typeof a?a+"":a}function e(a){this.srcFile=a,this.source=[]}b.__esModule=!0;var f=c(5),g=void 0;try{}catch(a){}g||(g=function(a,b,c,d){this.src="",d&&this.add(d)},g.prototype={add:function(a){f.isArray(a)&&(a=a.join("")),this.src+=a},prepend:function(a){f.isArray(a)&&(a=a.join("")),this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),e.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,b){this.source.unshift(this.wrap(a,b))},push:function(a,b){this.source.push(this.wrap(a,b))},merge:function(){var a=this.empty();return this.each(function(b){a.add(["  ",b,"\n"])}),a},each:function(a){for(var b=0,c=this.source.length;b<c;b++)a(this.source[b])},empty:function(){var a=this.currentLocation||{start:{}};return new g(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var b=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return a instanceof g?a:(a=d(a,this,b),new g(b.start.line,b.start.column,this.srcFile,a))},functionCall:function(a,b,c){return c=this.generateList(c),this.wrap([a,b?"."+b+"(":"(",c,")"])},quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c)){var e=d(a[c],this);"undefined"!==e&&b.push([this.quotedString(c),":",e])}var f=this.generateList(b);return f.prepend("{"),f.add("}"),f},generateList:function(a){for(var b=this.empty(),c=0,e=a.length;c<e;c++)c&&b.add(","),b.add(d(a[c],this));return b},generateArray:function(a){var b=this.generateList(a);return b.prepend("["),b.add("]"),b}},b.default=e,a.exports=b.default}])}),function(a){function b(b){this.$element=a(b),this.original_text=this.$element.html().trim(),this.settings=a.extend({},a.fn.trunk8.defaults)}function c(a){var b=document.createElement("DIV");return b.innerHTML=a,"undefined"!=typeof b.textContent?b.textContent:b.innerText}function d(a){if(c(a)===a)return a.split(/\s/g);for(var b,e,f=[],g=/<([a-z]+)([^<]*)(?:>(.*?(?!<\1>)*)<\/\1>|\s+\/>)(['.?!,]*)|((?:[^<>\s])+['.?!,]*\w?|<br\s?\/?>)/gi,h=g.exec(a);h&&b!==g.lastIndex;)b=g.lastIndex,h[5]?f.push(h[5]):h[1]&&f.push({tag:h[1],attribs:h[2],content:h[3],after:h[4]}),h=g.exec(a);for(e=0;e<f.length;e++)"string"!=typeof f[e]&&f[e].content&&(f[e].content=d(f[e].content));return f}function e(b,c,d){b=b.replace(d,"");var e=function(c,f){var g,h,i,j,k="";for(j=0;j<c.length;j++)g=c[j],i=a.trim(b).split(" ").length,a.trim(b).length&&("string"==typeof g?(/<br\s*\/?>/.test(g)||(1===i&&a.trim(b).length<=g.length?(g=b,"p"!==f&&"div"!==f||(g+=d),b=""):b=b.replace(g,"")),k+=a.trim(g)+(j===c.length-1||i<=1?"":" ")):(h=e(g.content,g.tag),g.after&&(b=b.replace(g.after,"")),h&&(g.after||(g.after=" "),k+="<"+g.tag+g.attribs+">"+h+"</"+g.tag+">"+g.after)));return k},f=e(c);return f.slice(f.length-d.length)===d&&(f+=d),f}function f(){var b,f,g,i,k,l,m=this.data("trunk8"),n=m.settings,o=n.width,p=n.side,q=n.fill,r=n.parseHTML,s=h.getLineHeight(this)*n.lines,t=m.original_text,u=t.length,v="";
if(this.html(t),k=this.text(),r&&c(t)!==t&&(l=d(t),t=c(t),u=t.length),o===j.auto){if(this.height()<=s)return;for(b=0,f=u-1;b<=f;)g=b+(f-b>>1),i=h.eatStr(t,p,u-g,q),r&&l&&(i=e(i,l,q)),this.html(i),this.height()>s?f=g-1:(b=g+1,v=v.length>i.length?v:i);this.html(""),this.html(v),n.tooltip&&this.attr("title",k)}else{if(isNaN(o))return void a.error('Invalid width "'+o+'".');g=u-o,i=h.eatStr(t,p,g,q),this.html(i),n.tooltip&&this.attr("title",t)}n.onTruncate()}var g,h,i={center:"center",left:"left",right:"right"},j={auto:"auto"};b.prototype.updateSettings=function(b){this.settings=a.extend(this.settings,b)},g={init:function(c){return this.each(function(){var d=a(this),e=d.data("trunk8");e||d.data("trunk8",e=new b(this)),e.updateSettings(c),f.call(d)})},update:function(b){return this.each(function(){var c=a(this);b&&(c.data("trunk8").original_text=b),f.call(c)})},revert:function(){return this.each(function(){var b=a(this).data("trunk8").original_text;a(this).html(b)})},getSettings:function(){return a(this.get(0)).data("trunk8").settings}},h={eatStr:function(b,c,d,e){var f,g,j=b.length,k=h.eatStr.generateKey.apply(null,arguments);if(h.eatStr.cache[k])return h.eatStr.cache[k];if("string"==typeof b&&0!==j||a.error('Invalid source string "'+b+'".'),d<0||d>j)a.error('Invalid bite size "'+d+'".');else if(0===d)return b;switch("string"!=typeof(e+"")&&a.error("Fill unable to be converted to a string."),c){case i.right:return h.eatStr.cache[k]=a.trim(b.substr(0,j-d))+e;case i.left:return h.eatStr.cache[k]=e+a.trim(b.substr(d));case i.center:return f=j>>1,g=d>>1,h.eatStr.cache[k]=a.trim(h.eatStr(b.substr(0,j-f),i.right,d-g,""))+e+a.trim(h.eatStr(b.substr(j-f),i.left,g,""));default:a.error('Invalid side "'+c+'".')}},getLineHeight:function(b){var c=a(b).css("float");"none"!==c&&a(b).css("float","none");var d=a(b).css("position");"absolute"===d&&a(b).css("position","static");var e,f=a(b).html(),g="line-height-test";return a(b).html("i").wrap('<div id="'+g+'" />'),e=a("#"+g).innerHeight(),a(b).html(f).css({float:c,position:d}).unwrap(),e}},h.eatStr.cache={},h.eatStr.generateKey=function(){return Array.prototype.join.call(arguments,"")},a.fn.trunk8=function(b){return g[b]?g[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.trunk8"):g.init.apply(this,arguments)},a.fn.trunk8.defaults={fill:"&hellip;",lines:1,side:i.right,tooltip:!0,width:j.auto,parseHTML:!1,onTruncate:function(){}}}(jQuery),function(a){"use strict";function b(a,b){return b=b||Error,function(){var c,d,e=2,f=arguments,g=f[0],h="["+(a?a+":":"")+g+"] ",i=f[1];for(h+=i.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1),c=b+e;return c<f.length?sa(f[c]):a}),h+="\nhttp://errors.angularjs.org/1.5.8/"+(a?a+"/":"")+g,d=e,c="?";d<f.length;d++,c="&")h+=c+"p"+(d-e)+"="+encodeURIComponent(sa(f[d]));return new b(h)}}function c(a){if(null==a||A(a))return!1;if(Wd(a)||v(a)||Ld&&a instanceof Ld)return!0;var b="length"in Object(a)&&a.length;return w(b)&&(b>=0&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function d(a,b,e){var f,g;if(a)if(y(a))for(f in a)"prototype"==f||"length"==f||"name"==f||a.hasOwnProperty&&!a.hasOwnProperty(f)||b.call(e,a[f],f,a);else if(Wd(a)||c(a)){var h="object"!=typeof a;for(f=0,g=a.length;f<g;f++)(h||f in a)&&b.call(e,a[f],f,a)}else if(a.forEach&&a.forEach!==d)a.forEach(b,e,a);else if(u(a))for(f in a)b.call(e,a[f],f,a);else if("function"==typeof a.hasOwnProperty)for(f in a)a.hasOwnProperty(f)&&b.call(e,a[f],f,a);else for(f in a)Fd.call(a,f)&&b.call(e,a[f],f,a);return a}function e(a,b,c){for(var d=Object.keys(a).sort(),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function f(a){return function(b,c){a(c,b)}}function g(){return++Vd}function h(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function i(a,b,c){for(var d=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(t(g)||y(g))for(var j=Object.keys(g),k=0,l=j.length;k<l;k++){var m=j[k],n=g[m];c&&t(n)?x(n)?a[m]=new Date(n.valueOf()):z(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):J(n)?a[m]=n.clone():(t(a[m])||(a[m]=Wd(n)?[]:{}),i(a[m],[n],!0)):a[m]=n}}return h(a,d),a}function j(a){return i(a,Od.call(arguments,1),!1)}function k(a){return i(a,Od.call(arguments,1),!0)}function l(a){return parseInt(a,10)}function m(a,b){return j(Object.create(a),b)}function n(){}function o(a){return a}function p(a){return function(){return a}}function q(a){return y(a.toString)&&a.toString!==Rd}function r(a){return"undefined"==typeof a}function s(a){return"undefined"!=typeof a}function t(a){return null!==a&&"object"==typeof a}function u(a){return null!==a&&"object"==typeof a&&!Sd(a)}function v(a){return"string"==typeof a}function w(a){return"number"==typeof a}function x(a){return"[object Date]"===Rd.call(a)}function y(a){return"function"==typeof a}function z(a){return"[object RegExp]"===Rd.call(a)}function A(a){return a&&a.window===a}function B(a){return a&&a.$evalAsync&&a.$watch}function C(a){return"[object File]"===Rd.call(a)}function D(a){return"[object FormData]"===Rd.call(a)}function E(a){return"[object Blob]"===Rd.call(a)}function F(a){return"boolean"==typeof a}function G(a){return a&&y(a.then)}function H(a){return a&&w(a.length)&&Xd.test(Rd.call(a))}function I(a){return"[object ArrayBuffer]"===Rd.call(a)}function J(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function K(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function L(a){return Gd(a.nodeName||a[0]&&a[0].nodeName)}function M(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),c}function N(a,b){function c(a,b){var c,d=b.$$hashKey;if(Wd(a))for(var f=0,g=a.length;f<g;f++)b.push(e(a[f]));else if(u(a))for(c in a)b[c]=e(a[c]);else if(a&&"function"==typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&(b[c]=e(a[c]));else for(c in a)Fd.call(a,c)&&(b[c]=e(a[c]));return h(b,d),b}function e(a){if(!t(a))return a;var b=g.indexOf(a);if(b!==-1)return i[b];if(A(a)||B(a))throw Td("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var d=!1,e=f(a);return void 0===e&&(e=Wd(a)?[]:Object.create(Sd(a)),d=!0),g.push(a),i.push(e),d?c(a,e):e}function f(a){switch(Rd.call(a)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new a.constructor(e(a.buffer),a.byteOffset,a.length);case"[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);return new Uint8Array(b).set(new Uint8Array(a)),b}return a.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new a.constructor(a.valueOf());case"[object RegExp]":var c=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]);return c.lastIndex=a.lastIndex,c;case"[object Blob]":return new a.constructor([a],{type:a.type})}if(y(a.cloneNode))return a.cloneNode(!0)}var g=[],i=[];if(b){if(H(b)||I(b))throw Td("cpta","Can't copy! TypedArray destination cannot be mutated.");if(a===b)throw Td("cpi","Can't copy! Source and destination are identical.");return Wd(b)?b.length=0:d(b,function(a,c){"$$hashKey"!==c&&delete b[c]}),g.push(a),i.push(b),c(a,b)}return e(a)}function O(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c,d,e,f=typeof a,g=typeof b;if(f==g&&"object"==f){if(!Wd(a)){if(x(a))return!!x(b)&&O(a.getTime(),b.getTime());if(z(a))return!!z(b)&&a.toString()==b.toString();if(B(a)||B(b)||A(a)||A(b)||Wd(b)||x(b)||z(b))return!1;e=oa();for(d in a)if("$"!==d.charAt(0)&&!y(a[d])){if(!O(a[d],b[d]))return!1;e[d]=!0}for(d in b)if(!(d in e)&&"$"!==d.charAt(0)&&s(b[d])&&!y(b[d]))return!1;return!0}if(!Wd(b))return!1;if((c=a.length)==b.length){for(d=0;d<c;d++)if(!O(a[d],b[d]))return!1;return!0}}return!1}function P(a,b,c){return a.concat(Od.call(b,c))}function Q(a,b){return Od.call(a,b||0)}function R(a,b){var c=arguments.length>2?Q(arguments,2):[];return!y(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,P(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function S(b,c){var d=c;return"string"==typeof b&&"$"===b.charAt(0)&&"$"===b.charAt(1)?d=void 0:A(c)?d="$WINDOW":c&&a.document===c?d="$DOCUMENT":B(c)&&(d="$SCOPE"),d}function T(a,b){if(!r(a))return w(b)||(b=b?2:null),JSON.stringify(a,S,b)}function U(a){return v(a)?JSON.parse(a):a}function V(a,b){a=a.replace(ae,"");var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function W(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function X(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset(),e=V(b,d);return W(a,c*(e-d))}function Y(a){a=Ld(a).clone();try{a.empty()}catch(a){}var b=Ld("<div>").append(a).html();try{return a[0].nodeType===ge?Gd(b):b.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+Gd(b)})}catch(a){return Gd(b)}}function Z(a){try{return decodeURIComponent(a)}catch(a){}}function $(a){var b={};return d((a||"").split("&"),function(a){var c,d,e;a&&(d=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),c!==-1&&(d=a.substring(0,c),e=a.substring(c+1)),d=Z(d),s(d)&&(e=!s(e)||Z(e),Fd.call(b,d)?Wd(b[d])?b[d].push(e):b[d]=[b[d],e]:b[d]=e))}),b}function _(a){var b=[];return d(a,function(a,c){Wd(a)?d(a,function(a){b.push(ba(c,!0)+(a===!0?"":"="+ba(a,!0)))}):b.push(ba(c,!0)+(a===!0?"":"="+ba(a,!0)))}),b.length?b.join("&"):""}function aa(a){return ba(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ba(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function ca(a,b){var c,d,e=be.length;for(d=0;d<e;++d)if(c=be[d]+b,v(c=a.getAttribute(c)))return c;return null}function da(a,b){var c,e,f={};d(be,function(b){var d=b+"app";!c&&a.hasAttribute&&a.hasAttribute(d)&&(c=a,e=a.getAttribute(d))}),d(be,function(b){var d,f=b+"app";!c&&(d=a.querySelector("["+f.replace(":","\\:")+"]"))&&(c=d,e=d.getAttribute(f))}),c&&(f.strictDi=null!==ca(c,"strict-di"),b(c,e?[e]:[],f))}function ea(b,c,e){t(e)||(e={});var f={strictDi:!1};e=j(f,e);var g=function(){if(b=Ld(b),b.injector()){var d=b[0]===a.document?"document":Y(b);throw Td("btstrpd","App already bootstrapped with this element '{0}'",d.replace(/</,"&lt;").replace(/>/,"&gt;"))}c=c||[],c.unshift(["$provide",function(a){a.value("$rootElement",b)}]),e.debugInfoEnabled&&c.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),c.unshift("ng");var f=db(c,e.strictDi);return f.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),f},h=/^NG_ENABLE_DEBUG_INFO!/,i=/^NG_DEFER_BOOTSTRAP!/;return a&&h.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(h,"")),a&&!i.test(a.name)?g():(a.name=a.name.replace(i,""),Ud.resumeBootstrap=function(a){return d(a,function(a){c.push(a)}),g()},void(y(Ud.resumeDeferredBootstrap)&&Ud.resumeDeferredBootstrap()))}function fa(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function ga(a){var b=Ud.element(a).injector();if(!b)throw Td("test","no injector found for element argument to getTestability");return b.get("$$testability")}function ha(a,b){return b=b||"_",a.replace(ce,function(a,c){return(c?b:"")+a.toLowerCase()})}function ia(){var b;if(!de){var c=_d();Md=r(c)?a.jQuery:c?a[c]:void 0,Md&&Md.fn.on?(Ld=Md,j(Md.fn,{scope:ze.scope,isolateScope:ze.isolateScope,controller:ze.controller,injector:ze.injector,inheritedData:ze.inheritedData}),b=Md.cleanData,Md.cleanData=function(a){for(var c,d,e=0;null!=(d=a[e]);e++)c=Md._data(d,"events"),c&&c.$destroy&&Md(d).triggerHandler("$destroy");b(a)}):Ld=Da,Ud.element=Ld,de=!0}}function ja(a,b,c){if(!a)throw Td("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function ka(a,b,c){return c&&Wd(a)&&(a=a[a.length-1]),ja(y(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function la(a,b){if("hasOwnProperty"===a)throw Td("badname","hasOwnProperty is not a valid {0} name",b)}function ma(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;h<g;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&y(a)?R(f,a):a}function na(a){for(var b,c=a[0],d=a[a.length-1],e=1;c!==d&&(c=c.nextSibling);e++)(b||a[e]!==c)&&(b||(b=Ld(Od.call(a,0,e))),b.push(c));return b||a}function oa(){return Object.create(null)}function pa(a){function c(a,b,c){return a[b]||(a[b]=c())}var d=b("$injector"),e=b("ng"),f=c(a,"angular",Object);return f.$$minErr=f.$$minErr||b,c(f,"module",function(){var a={};return function(b,f,g){var h=function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)};return h(b,"module"),f&&a.hasOwnProperty(b)&&(a[b]=null),c(a,b,function(){function a(a,b,c,d){return d||(d=e),function(){return d[c||"push"]([a,b,arguments]),k}}function c(a,c){return function(d,f){return f&&y(f)&&(f.$$moduleName=b),e.push([a,c,arguments]),k}}if(!f)throw d("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",b);var e=[],h=[],i=[],j=a("$injector","invoke","push",h),k={_invokeQueue:e,_configBlocks:h,_runBlocks:i,requires:f,name:b,provider:c("$provide","provider"),factory:c("$provide","factory"),service:c("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:c("$provide","decorator"),animation:c("$animateProvider","register"),filter:c("$filterProvider","register"),controller:c("$controllerProvider","register"),directive:c("$compileProvider","directive"),component:c("$compileProvider","component"),config:j,run:function(a){return i.push(a),this}};return g&&j(g),k})}})}function qa(a,b){if(Wd(a)){b=b||[];for(var c=0,d=a.length;c<d;c++)b[c]=a[c]}else if(t(a)){b=b||{};for(var e in a)"$"===e.charAt(0)&&"$"===e.charAt(1)||(b[e]=a[e])}return b||a}function ra(a){var b=[];return JSON.stringify(a,function(a,c){if(c=S(a,c),t(c)){if(b.indexOf(c)>=0)return"...";b.push(c)}return c})}function sa(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):r(a)?"undefined":"string"!=typeof a?ra(a):a}function ta(c){j(c,{bootstrap:ea,copy:N,extend:j,merge:k,equals:O,element:Ld,forEach:d,injector:db,noop:n,bind:R,toJson:T,fromJson:U,identity:o,isUndefined:r,isDefined:s,isString:v,isFunction:y,isObject:t,isNumber:w,isElement:J,isArray:Wd,version:ke,isDate:x,lowercase:Gd,uppercase:Hd,callbacks:{$$counter:0},getTestability:ga,$$minErr:b,$$csp:$d,reloadWithDebugInfo:fa}),(Nd=pa(a))("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:yc}),a.provider("$compile",ob).directive({a:If,input:_f,textarea:_f,form:Nf,script:Wg,select:Zg,style:_g,option:$g,ngBind:cg,ngBindHtml:eg,ngBindTemplate:dg,ngClass:gg,ngClassEven:ig,ngClassOdd:hg,ngCloak:jg,ngController:kg,ngForm:Of,ngHide:Pg,ngIf:ng,ngInclude:og,ngInit:qg,ngNonBindable:Gg,ngPluralize:Kg,ngRepeat:Lg,ngShow:Og,ngStyle:Qg,ngSwitch:Rg,ngSwitchWhen:Sg,ngSwitchDefault:Tg,ngOptions:Jg,ngTransclude:Vg,ngModel:Dg,ngList:rg,ngChange:fg,pattern:bh,ngPattern:bh,required:ah,ngRequired:ah,minlength:dh,ngMinlength:dh,maxlength:ch,ngMaxlength:ch,ngValue:bg,ngModelOptions:Fg}).directive({ngInclude:pg}).directive(Jf).directive(lg),a.provider({$anchorScroll:eb,$animate:Pe,$animateCss:Se,$$animateJs:Ne,$$animateQueue:Oe,$$AnimateRunner:Re,$$animateAsyncRun:Qe,$browser:kb,$cacheFactory:lb,$controller:ub,$document:vb,$exceptionHandler:wb,$filter:Mc,$$forceReflow:Ye,$interpolate:Kb,$interval:Lb,$http:Gb,$httpParamSerializer:yb,$httpParamSerializerJQLike:zb,$httpBackend:Ib,$xhrFactory:Hb,$jsonpCallbacks:ff,$location:$b,$log:_b,$parse:sc,$rootScope:xc,$q:tc,$$q:uc,$sce:Cc,$sceDelegate:Bc,$sniffer:Dc,$templateCache:mb,$templateRequest:Ec,$$testability:Fc,$timeout:Gc,$window:Jc,$$rAF:wc,$$jqLite:Ya,$$HashMap:De,$$cookieReader:Lc})}])}function ua(){return++me}function va(a){return a.replace(pe,function(a,b,c,d){return d?c.toUpperCase():c}).replace(qe,"Moz$1")}function wa(a){return!ue.test(a)}function xa(a){var b=a.nodeType;return b===ee||!b||b===ie}function ya(a){for(var b in le[a.ng339])return!0;return!1}function za(a){for(var b=0,c=a.length;b<c;b++)Ha(a[b])}function Aa(a,b){var c,e,f,g,h=b.createDocumentFragment(),i=[];if(wa(a))i.push(b.createTextNode(a));else{for(c=h.appendChild(b.createElement("div")),e=(ve.exec(a)||["",""])[1].toLowerCase(),f=xe[e]||xe._default,c.innerHTML=f[1]+a.replace(we,"<$1></$2>")+f[2],g=f[0];g--;)c=c.lastChild;i=P(i,c.childNodes),c=h.firstChild,c.textContent=""}return h.textContent="",h.innerHTML="",d(i,function(a){h.appendChild(a)}),h}function Ba(b,c){c=c||a.document;var d;return(d=te.exec(b))?[c.createElement(d[1])]:(d=Aa(b,c))?d.childNodes:[]}function Ca(a,b){var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)}function Da(a){if(a instanceof Da)return a;var b;if(v(a)&&(a=Yd(a),b=!0),!(this instanceof Da)){if(b&&"<"!=a.charAt(0))throw se("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Da(a)}b?Na(this,Ba(a)):Na(this,a)}function Ea(a){return a.cloneNode(!0)}function Fa(a,b){if(b||Ha(a),a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;d<e;d++)Ha(c[d])}function Ga(a,b,c,e){if(s(e))throw se("offargs","jqLite#off() does not support the `selector` argument");var f=Ia(a),g=f&&f.events,h=f&&f.handle;if(h)if(b){var i=function(b){var d=g[b];s(c)&&M(d||[],c),s(c)&&d&&d.length>0||(oe(a,b,h),delete g[b])};d(b.split(" "),function(a){i(a),re[a]&&i(re[a])})}else for(b in g)"$destroy"!==b&&oe(a,b,h),delete g[b]}function Ha(a,b){var c=a.ng339,d=c&&le[c];if(d){if(b)return void delete d.data[b];d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),Ga(a)),delete le[c],a.ng339=void 0}}function Ia(a,b){var c=a.ng339,d=c&&le[c];return b&&!d&&(a.ng339=c=ua(),d=le[c]={events:{},data:{},handle:void 0}),d}function Ja(a,b,c){if(xa(a)){var d=s(c),e=!d&&b&&!t(b),f=!b,g=Ia(a,!e),h=g&&g.data;if(d)h[b]=c;else{if(f)return h;if(e)return h&&h[b];j(h,b)}}}function Ka(a,b){return!!a.getAttribute&&(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1}function La(a,b){b&&a.setAttribute&&d(b.split(" "),function(b){a.setAttribute("class",Yd((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Yd(b)+" "," ")))})}function Ma(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");d(b.split(" "),function(a){a=Yd(a),c.indexOf(" "+a+" ")===-1&&(c+=a+" ")}),a.setAttribute("class",Yd(c))}}function Na(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;d<c;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function Oa(a,b){return Pa(a,"$"+(b||"ngController")+"Controller")}function Pa(a,b,c){a.nodeType==ie&&(a=a.documentElement);for(var d=Wd(b)?b:[b];a;){for(var e=0,f=d.length;e<f;e++)if(s(c=Ld.data(a,d[e])))return c;a=a.parentNode||a.nodeType===je&&a.host}}function Qa(a){for(Fa(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Ra(a,b){b||Fa(a);var c=a.parentNode;c&&c.removeChild(a)}function Sa(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):Ld(c).on("load",b)}function Ta(a,b){var c=Ae[b.toLowerCase()];return c&&Be[L(a)]&&c}function Ua(a){return Ce[a]}function Va(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(r(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return c.immediatePropagationStopped===!0};var h=e.specialHandlerWrapper||Wa;f>1&&(e=qa(e));for(var i=0;i<f;i++)c.isImmediatePropagationStopped()||h(a,c,e[i])}};return c.elem=a,c}function Wa(a,b,c){c.call(a,b)}function Xa(a,b,c){var d=b.relatedTarget;d&&(d===a||ye.call(a,d))||c.call(a,b)}function Ya(){this.$get=function(){return j(Da,{hasClass:function(a,b){return a.attr&&(a=a[0]),Ka(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Ma(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),La(a,b)}})}}function Za(a,b){var c=a&&a.$$hashKey;if(c)return"function"==typeof c&&(c=a.$$hashKey()),c;var d=typeof a;return c="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||g)():d+":"+a}function $a(a,b){if(b){var c=0;this.nextUid=function(){return++c}}d(a,this.put,this)}function _a(a){return Function.prototype.toString.call(a)+" "}function ab(a){var b=_a(a).replace(Ie,""),c=b.match(Ee)||b.match(Fe);return c}function bb(a){var b=ab(a);return b?"function("+(b[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function cb(a,b,c){var e,f,g;if("function"==typeof a){if(!(e=a.$inject)){if(e=[],a.length){if(b)throw v(c)&&c||(c=a.name||bb(a)),Je("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",c);f=ab(a),d(f[1].split(Ge),function(a){a.replace(He,function(a,b,c){e.push(c)})})}a.$inject=e}}else Wd(a)?(g=a.length-1,ka(a[g],"fn"),e=a.slice(0,g)):ka(a,"fn",!0);return e}function db(a,b){function c(a){return function(b,c){return t(b)?void d(b,f(a)):a(b,c)}}function e(a,b){if(la(a,"service"),(y(b)||Wd(b))&&(b=x.instantiate(b)),!b.$get)throw Je("pget","Provider '{0}' must define $get factory method.",a);return w[a+q]=b}function g(a,b){return function(){var c=B.invoke(b,this);if(r(c))throw Je("undef","Provider '{0}' must return a value from $get factory method.",a);return c}}function h(a,b,c){return e(a,{$get:c!==!1?g(a,b):b})}function i(a,b){return h(a,["$injector",function(a){return a.instantiate(b)}])}function j(a,b){return h(a,p(b),!1)}function k(a,b){la(a,"constant"),w[a]=b,z[a]=b}function l(a,b){var c=x.get(a+q),d=c.$get;c.$get=function(){var a=B.invoke(d,c);return B.invoke(b,null,{$delegate:a})}}function m(a){ja(r(a)||Wd(a),"modulesToLoad","not an array");var b,c=[];return d(a,function(a){function d(a){var b,c;for(b=0,c=a.length;b<c;b++){var d=a[b],e=x.get(d[0]);e[d[1]].apply(e,d[2])}}if(!u.get(a)){u.put(a,!0);try{v(a)?(b=Nd(a),c=c.concat(m(b.requires)).concat(b._runBlocks),d(b._invokeQueue),d(b._configBlocks)):y(a)?c.push(x.invoke(a)):Wd(a)?c.push(x.invoke(a)):ka(a,"module")}catch(b){throw Wd(a)&&(a=a[a.length-1]),b.message&&b.stack&&b.stack.indexOf(b.message)==-1&&(b=b.message+"\n"+b.stack),Je("modulerr","Failed to instantiate module {0} due to:\n{1}",a,b.stack||b.message||b)}}}),c}function n(a,c){function d(b,d){if(a.hasOwnProperty(b)){if(a[b]===o)throw Je("cdep","Circular dependency found: {0}",b+" <- "+s.join(" <- "));return a[b]}try{return s.unshift(b),a[b]=o,a[b]=c(b,d)}catch(c){throw a[b]===o&&delete a[b],c}finally{s.shift()}}function e(a,c,e){for(var f=[],g=db.$$annotate(a,b,e),h=0,i=g.length;h<i;h++){var j=g[h];if("string"!=typeof j)throw Je("itkn","Incorrect injection token! Expected service name as string, got {0}",j);f.push(c&&c.hasOwnProperty(j)?c[j]:d(j,e))}return f}function f(a){return!(Kd<=11)&&("function"==typeof a&&/^(?:class\b|constructor\()/.test(_a(a)))}function g(a,b,c,d){"string"==typeof c&&(d=c,c=null);var g=e(a,c,d);return Wd(a)&&(a=a[a.length-1]),f(a)?(g.unshift(null),new(Function.prototype.bind.apply(a,g))):a.apply(b,g)}function h(a,b,c){var d=Wd(a)?a[a.length-1]:a,f=e(a,b,c);return f.unshift(null),new(Function.prototype.bind.apply(d,f))}return{invoke:g,instantiate:h,get:d,annotate:db.$$annotate,has:function(b){return w.hasOwnProperty(b+q)||a.hasOwnProperty(b)}}}b=b===!0;var o={},q="Provider",s=[],u=new $a([],!0),w={$provide:{provider:c(e),factory:c(h),service:c(i),value:c(j),constant:c(k),decorator:l}},x=w.$injector=n(w,function(a,b){throw Ud.isString(b)&&s.push(b),Je("unpr","Unknown provider: {0}",s.join(" <- "))}),z={},A=n(z,function(a,b){var c=x.get(a+q,b);return B.invoke(c.$get,c,void 0,a)}),B=A;w["$injector"+q]={$get:p(A)};var C=m(a);return B=A.get("$injector"),B.strictDi=b,d(C,function(a){a&&B.invoke(a)}),B}function eb(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){if("a"===L(a))return b=a,!0}),b}function f(){var a=h.yOffset;if(y(a))a=a();else if(J(a)){var c=a[0],d=b.getComputedStyle(c);a="fixed"!==d.position?0:c.getBoundingClientRect().bottom}else w(a)||(a=0);return a}function g(a){if(a){a.scrollIntoView();var c=f();if(c){var d=a.getBoundingClientRect().top;b.scrollBy(0,d-c)}}else b.scrollTo(0,0)}function h(a){a=v(a)?a:c.hash();var b;a?(b=i.getElementById(a))?g(b):(b=e(i.getElementsByName(a)))?g(b):"top"===a&&g(null):g(null)}var i=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||Sa(function(){d.$evalAsync(h)})}),h}]}function fb(a,b){return a||b?a?b?(Wd(a)&&(a=a.join(" ")),Wd(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function gb(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType===Le)return c}}function hb(a){v(a)&&(a=a.split(" "));var b=oa();return d(a,function(a){a.length&&(b[a]=!0)}),b}function ib(a){return t(a)?a:{}}function jb(a,b,c,e){function f(a){try{a.apply(null,Q(arguments,1))}finally{if(s--,0===s)for(;t.length;)try{t.pop()()}catch(a){c.error(a)}}}function g(a){var b=a.indexOf("#");return b===-1?"":a.substr(b)}function h(){y=null,i(),j()}function i(){u=z(),u=r(u)?null:u,O(u,C)&&(u=C),C=u}function j(){w===k.url()&&v===u||(w=k.url(),v=u,d(A,function(a){a(k.url(),u)}))}var k=this,l=a.location,m=a.history,o=a.setTimeout,p=a.clearTimeout,q={};k.isMock=!1;var s=0,t=[];k.$$completeOutstandingRequest=f,k.$$incOutstandingRequestCount=function(){s++},k.notifyWhenNoOutstandingRequests=function(a){0===s?a():t.push(a)};var u,v,w=l.href,x=b.find("base"),y=null,z=e.history?function(){try{return m.state}catch(a){}}:n;i(),v=u,k.url=function(b,c,d){if(r(d)&&(d=null),l!==a.location&&(l=a.location),m!==a.history&&(m=a.history),b){var f=v===d;if(w===b&&(!e.history||f))return k;var h=w&&Rb(w)===Rb(b);return w=b,v=d,!e.history||h&&f?(h||(y=b),c?l.replace(b):h?l.hash=g(b):l.href=b,l.href!==b&&(y=b)):(m[c?"replaceState":"pushState"](d,"",b),i(),v=u),y&&(y=b),k}return y||l.href.replace(/%27/g,"'")},k.state=function(){return u};var A=[],B=!1,C=null;k.onUrlChange=function(b){return B||(e.history&&Ld(a).on("popstate",h),Ld(a).on("hashchange",h),B=!0),A.push(b),b},k.$$applicationDestroyed=function(){Ld(a).off("hashchange popstate",h)},k.$$checkUrlChange=j,k.baseHref=function(){var a=x.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""},k.defer=function(a,b){var c;return s++,c=o(function(){delete q[c],f(a)},b||0),q[c]=!0,c},k.defer.cancel=function(a){return!!q[a]&&(delete q[a],p(a),f(n),!0)}}function kb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new jb(a,d,b,c)}]}function lb(){this.$get=function(){function a(a,d){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in c)throw b("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=j({},d,{id:a}),i=oa(),k=d&&d.capacity||Number.MAX_VALUE,l=oa(),m=null,n=null;return c[a]={put:function(a,b){if(!r(b)){if(k<Number.MAX_VALUE){var c=l[a]||(l[a]={key:a});e(c)}return a in i||g++,i[a]=b,g>k&&this.remove(n.key),b}},get:function(a){if(k<Number.MAX_VALUE){var b=l[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(k<Number.MAX_VALUE){var b=l[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete l[a]}a in i&&(delete i[a],g--)},removeAll:function(){i=oa(),g=0,l=oa(),m=n=null},destroy:function(){i=null,h=null,l=null,delete c[a]},info:function(){return j({},h,{size:g})}}}var c={};return a.info=function(){var a={};return d(c,function(b,c){a[c]=b.info()}),a},a.get=function(a){return c[a]},a}}function mb(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function nb(){}function ob(b,c){function e(a,b,c){var e=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,f=oa();return d(a,function(a,d){if(a in A)return void(f[d]=A[a]);var g=a.match(e);if(!g)throw Te("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",b,d,a,c?"controller bindings definition":"isolate scope definition");f[d]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||d},g[4]&&(A[a]=f[d])}),f}function g(a,b){var c={isolateScope:null,bindToController:null};if(t(a.scope)&&(a.bindToController===!0?(c.bindToController=e(a.scope,b,!0),c.isolateScope={}):c.isolateScope=e(a.scope,b,!1)),t(a.bindToController)&&(c.bindToController=e(a.bindToController,b,!0)),t(c.bindToController)){var d=a.controller,f=a.controllerAs;if(!d)throw Te("noctrl","Cannot bind to controller without directive '{0}'s controller.",b);if(!tb(d,f))throw Te("noident","Cannot bind to controller without identifier for directive '{0}'.",b)}return c}function h(a){var b=a.charAt(0);if(!b||b!==Gd(b))throw Te("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",a);if(a!==a.trim())throw Te("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",a)}function i(a){var b=a.require||a.controller&&a.name;return!Wd(b)&&t(b)&&d(b,function(a,c){var d=a.match(x),e=a.substring(d[0].length);e||(b[c]=d[0]+c)}),b}var k={},l="Directive",q=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?:\:([^;]+))?;?)/,w=K("ngSrc,ngSrcset,src,srcset"),x=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,z=/^(on[a-z]+|formaction)$/,A=oa();this.directive=function a(c,e){return la(c,"directive"),v(c)?(h(c),ja(e,"directiveFactory"),k.hasOwnProperty(c)||(k[c]=[],b.factory(c+l,["$injector","$exceptionHandler",function(a,b){var e=[];return d(k[c],function(d,f){try{var g=a.invoke(d);y(g)?g={compile:p(g)}:!g.compile&&g.link&&(g.compile=p(g.link)),g.priority=g.priority||0,g.index=f,g.name=g.name||c,g.require=i(g),g.restrict=g.restrict||"EA",g.$$moduleName=d.$$moduleName,e.push(g)}catch(a){b(a)}}),e}])),k[c].push(e)):d(c,f(a)),this},this.component=function(a,b){function c(a){function c(b){return y(b)||Wd(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"",g={controller:e,controllerAs:tb(b.controller)||b.controllerAs||"$ctrl",template:c(f),templateUrl:c(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};return d(b,function(a,b){"$"===b.charAt(0)&&(g[b]=a)}),g}var e=b.controller||function(){};return d(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,y(e)&&(e[b]=a))}),c.$inject=["$injector"],this.directive(a,c)},this.aHrefSanitizationWhitelist=function(a){return s(a)?(c.aHrefSanitizationWhitelist(a),this):c.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(c.imgSrcSanitizationWhitelist(a),this):c.imgSrcSanitizationWhitelist()};var C=!0;this.debugInfoEnabled=function(a){return s(a)?(C=a,this):C};var D=10;this.onChangesTtl=function(a){return arguments.length?(D=a,this):D},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(b,c,e,f,h,i,p,A,E,G){function H(){try{if(!--xa)throw ta=void 0,Te("infchng","{0} $onChanges() iterations reached. Aborting!\n",D);p.$apply(function(){for(var a=[],b=0,c=ta.length;b<c;++b)try{ta[b]()}catch(b){a.push(b)}if(ta=void 0,a.length)throw a})}finally{xa++}}function I(a,b){if(b){var c,d,e,f=Object.keys(b);for(c=0,d=f.length;c<d;c++)e=f[c],this[e]=b[e]}else this.$attr={};this.$$element=a}function J(a,b,c){va.innerHTML="<span "+b+">";var d=va.firstChild.attributes,e=d[0];d.removeNamedItem(e.name),e.value=c,a.attributes.setNamedItem(e)}function K(a,b){try{a.addClass(b)}catch(a){}}function N(b,c,d,e,f){b instanceof Ld||(b=Ld(b));for(var g=/\S+/,h=0,i=b.length;h<i;h++){var j=b[h];j.nodeType===ge&&j.nodeValue.match(g)&&Ca(j,b[h]=a.document.createElement("span"))}var k=S(b,c,b,d,e,f);N.$$addScopeClass(b);var l=null;return function(a,c,d){ja(a,"scope"),f&&f.needsNewScope&&(a=a.$parent.$new()),
d=d||{};var e=d.parentBoundTranscludeFn,g=d.transcludeControllers,h=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude),l||(l=P(h));var i;if(i="html"!==l?Ld(la(l,Ld("<div>").append(b).html())):c?ze.clone.call(b):b,g)for(var j in g)i.data("$"+j+"Controller",g[j].instance);return N.$$addScopeInfo(i,a),c&&c(i,a),k&&k(a,i,i,e),i}}function P(a){var b=a&&a[0];return b&&"foreignobject"!==L(b)&&Rd.call(b).match(/SVG/)?"svg":"html"}function S(a,b,c,d,e,f){function g(a,c,d,e){var f,g,h,i,j,k,l,m,p;if(n){var q=c.length;for(p=new Array(q),j=0;j<o.length;j+=3)l=o[j],p[l]=c[l]}else p=c;for(j=0,k=o.length;j<k;)h=p[o[j++]],f=o[j++],g=o[j++],f?(f.scope?(i=a.$new(),N.$$addScopeInfo(Ld(h),i)):i=a,m=f.transcludeOnThisElement?T(a,f.transclude,e):!f.templateOnThisElement&&e?e:!e&&b?T(a,b):null,f(g,i,h,d,m)):g&&g(a,h.childNodes,void 0,e)}for(var h,i,j,k,l,m,n,o=[],p=0;p<a.length;p++)h=new I,i=U(a[p],[],h,0===p?d:void 0,e),j=i.length?$(i,a[p],h,b,c,null,[],[],f):null,j&&j.scope&&N.$$addScopeClass(h.$$element),l=j&&j.terminal||!(k=a[p].childNodes)||!k.length?null:S(k,j?(j.transcludeOnThisElement||!j.templateOnThisElement)&&j.transclude:b),(j||l)&&(o.push(p,j,l),m=!0,n=n||j),f=null;return m?g:null}function T(a,b,c){function d(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}var e=d.$$slots=oa();for(var f in b.$$slots)b.$$slots[f]?e[f]=T(a,b.$$slots[f],c):e[f]=null;return d}function U(a,b,c,d,e){var f,g,h=a.nodeType,i=c.$attr;switch(h){case ee:ca(b,qb(L(a)),"E",d,e);for(var j,k,l,m,n,o,p=a.attributes,q=0,r=p&&p.length;q<r;q++){var s=!1,w=!1;j=p[q],k=j.name,n=Yd(j.value),m=qb(k),(o=Ba.test(m))&&(k=k.replace(Ve,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));var x=m.match(Da);x&&da(x[1])&&(s=k,w=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6)),l=qb(k.toLowerCase()),i[l]=k,!o&&c.hasOwnProperty(l)||(c[l]=n,Ta(a,l)&&(c[l]=!0)),na(a,b,n,l,o),ca(b,l,"A",d,e,s,w)}if(g=a.className,t(g)&&(g=g.animVal),v(g)&&""!==g)for(;f=u.exec(g);)l=qb(f[2]),ca(b,l,"C",d,e)&&(c[l]=Yd(f[3])),g=g.substr(f.index+f[0].length);break;case ge:if(11===Kd)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===ge;)a.nodeValue=a.nodeValue+a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);ka(b,a.nodeValue);break;case he:V(a,b,c,d,e)}return b.sort(ga),b}function V(a,b,c,d,e){try{var f=q.exec(a.nodeValue);if(f){var g=qb(f[1]);ca(b,g,"M",d,e)&&(c[g]=Yd(f[2]))}}catch(a){}}function W(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw Te("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);a.nodeType==ee&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return Ld(d)}function X(a,b,c){return function(d,e,f,g,h){return e=W(e[0],b,c),a(d,e,f,g,h)}}function Z(a,b,c,d,e,f){var g;return a?N(b,c,d,e,f):function(){return g||(g=N(b,c,d,e,f),b=c=f=null),g.apply(this,arguments)}}function $(a,b,c,f,g,h,i,k,l){function m(a,b,c,d){a&&(c&&(a=X(a,c,d)),a.require=o.require,a.directiveName=p,(z===o||o.$$isolateScope)&&(a=qa(a,{isolateScope:!0})),i.push(a)),b&&(c&&(b=X(b,c,d)),b.require=o.require,b.directiveName=p,(z===o||o.$$isolateScope)&&(b=qa(b,{isolateScope:!0})),k.push(b))}function n(a,f,g,h,l){function m(a,b,c,d){var e;if(B(a)||(d=c,c=b,b=a,a=void 0),F&&(e=u),c||(c=F?C.parent():C),!d)return l(a,b,e,c,M);var f=l.$$slots[d];if(f)return f(a,b,e,c,M);if(r(f))throw Te("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',d,Y(C))}var n,o,p,q,s,u,v,C,D,E;b===g?(D=c,C=c.$$element):(C=Ld(g),D=new I(C,c)),s=f,z?q=f.$new(!0):w&&(s=f.$parent),l&&(v=m,v.$$boundTransclude=l,v.isSlotFilled=function(a){return!!l.$$slots[a]}),x&&(u=aa(C,D,v,x,q,f,z)),z&&(N.$$addScopeInfo(C,q,!0,!(A&&(A===z||A===z.$$originalDirective))),N.$$addScopeClass(C,!0),q.$$isolateBindings=z.$$isolateBindings,E=sa(f,D,q,q.$$isolateBindings,z),E.removeWatches&&q.$on("$destroy",E.removeWatches));for(var G in u){var H=x[G],J=u[G],K=H.$$bindings.bindToController;J.identifier&&K?J.bindingInfo=sa(s,D,J.instance,K,H):J.bindingInfo={};var L=J();L!==J.instance&&(J.instance=L,C.data("$"+H.name+"Controller",L),J.bindingInfo.removeWatches&&J.bindingInfo.removeWatches(),J.bindingInfo=sa(s,D,J.instance,K,H))}for(d(x,function(a,b){var c=a.require;a.bindToController&&!Wd(c)&&t(c)&&j(u[b].instance,_(b,c,C,u))}),d(u,function(a){var b=a.instance;if(y(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(a){e(a)}if(y(b.$onInit))try{b.$onInit()}catch(a){e(a)}y(b.$doCheck)&&(s.$watch(function(){b.$doCheck()}),b.$doCheck()),y(b.$onDestroy)&&s.$on("$destroy",function(){b.$onDestroy()})}),n=0,o=i.length;n<o;n++)p=i[n],ra(p,p.isolateScope?q:f,C,D,p.require&&_(p.directiveName,p.require,C,u),v);var M=f;for(z&&(z.template||null===z.templateUrl)&&(M=q),a&&a(M,g.childNodes,void 0,l),n=k.length-1;n>=0;n--)p=k[n],ra(p,p.isolateScope?q:f,C,D,p.require&&_(p.directiveName,p.require,C,u),v);d(u,function(a){var b=a.instance;y(b.$postLink)&&b.$postLink()})}l=l||{};for(var o,p,q,s,u,v=-Number.MAX_VALUE,w=l.newScopeDirective,x=l.controllerDirectives,z=l.newIsolateScopeDirective,A=l.templateDirective,C=l.nonTlbTranscludeDirective,D=!1,E=!1,F=l.hasElementTranscludeDirective,G=c.$$element=Ld(b),H=h,J=f,K=!1,M=!1,O=0,P=a.length;O<P;O++){o=a[O];var S=o.$$start,T=o.$$end;if(S&&(G=W(b,S,T)),q=void 0,v>o.priority)break;if((u=o.scope)&&(o.templateUrl||(t(u)?(ia("new/isolated scope",z||w,o,G),z=o):ia("new/isolated scope",z,o,G)),w=w||o),p=o.name,!K&&(o.replace&&(o.templateUrl||o.template)||o.transclude&&!o.$$tlb)){for(var V,$=O+1;V=a[$++];)if(V.transclude&&!V.$$tlb||V.replace&&(V.templateUrl||V.template)){M=!0;break}K=!0}if(!o.templateUrl&&o.controller&&(u=o.controller,x=x||oa(),ia("'"+p+"' controller",x[p],o,G),x[p]=o),u=o.transclude)if(D=!0,o.$$tlb||(ia("transclusion",C,o,G),C=o),"element"==u)F=!0,v=o.priority,q=G,G=c.$$element=Ld(N.$$createComment(p,c[p])),b=G[0],pa(g,Q(q),b),q[0].$$parentNode=q[0].parentNode,J=Z(M,q,f,v,H&&H.name,{nonTlbTranscludeDirective:C});else{var ca=oa();if(q=Ld(Ea(b)).contents(),t(u)){q=[];var da=oa(),ga=oa();d(u,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a,da[a]=b,ca[b]=null,ga[b]=c}),d(G.contents(),function(a){var b=da[qb(L(a))];b?(ga[b]=!0,ca[b]=ca[b]||[],ca[b].push(a)):q.push(a)}),d(ga,function(a,b){if(!a)throw Te("reqslot","Required transclusion slot `{0}` was not filled.",b)});for(var ha in ca)ca[ha]&&(ca[ha]=Z(M,ca[ha],f))}G.empty(),J=Z(M,q,f,void 0,void 0,{needsNewScope:o.$$isolateScope||o.$$newScope}),J.$$slots=ca}if(o.template)if(E=!0,ia("template",A,o,G),A=o,u=y(o.template)?o.template(G,c):o.template,u=Aa(u),o.replace){if(H=o,q=wa(u)?[]:sb(la(o.templateNamespace,Yd(u))),b=q[0],1!=q.length||b.nodeType!==ee)throw Te("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p,"");pa(g,G,b);var ja={$attr:{}},ka=U(b,[],ja),ma=a.splice(O+1,a.length-(O+1));(z||w)&&ba(ka,z,w),a=a.concat(ka).concat(ma),ea(c,ja),P=a.length}else G.html(u);if(o.templateUrl)E=!0,ia("template",A,o,G),A=o,o.replace&&(H=o),n=fa(a.splice(O,a.length-O),G,c,g,D&&J,i,k,{controllerDirectives:x,newScopeDirective:w!==o&&w,newIsolateScopeDirective:z,templateDirective:A,nonTlbTranscludeDirective:C}),P=a.length;else if(o.compile)try{s=o.compile(G,c,J);var na=o.$$originalDirective||o;y(s)?m(null,R(na,s),S,T):s&&m(R(na,s.pre),R(na,s.post),S,T)}catch(a){e(a,Y(G))}o.terminal&&(n.terminal=!0,v=Math.max(v,o.priority))}return n.scope=w&&w.scope===!0,n.transcludeOnThisElement=D,n.templateOnThisElement=E,n.transclude=J,l.hasElementTranscludeDirective=F,n}function _(a,b,c,e){var f;if(v(b)){var g=b.match(x),h=b.substring(g[0].length),i=g[1]||g[3],j="?"===g[2];if("^^"===i?c=c.parent():(f=e&&e[h],f=f&&f.instance),!f){var k="$"+h+"Controller";f=i?c.inheritedData(k):c.data(k)}if(!f&&!j)throw Te("ctreq","Controller '{0}', required by directive '{1}', can't be found!",h,a)}else if(Wd(b)){f=[];for(var l=0,m=b.length;l<m;l++)f[l]=_(a,b[l],c,e)}else t(b)&&(f={},d(b,function(b,d){f[d]=_(a,b,c,e)}));return f||null}function aa(a,b,c,d,e,f,g){var h=oa();for(var j in d){var k=d[j],l={$scope:k===g||k.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},m=k.controller;"@"==m&&(m=b[k.name]);var n=i(m,l,!0,k.controllerAs);h[k.name]=n,a.data("$"+k.name+"Controller",n.instance)}return h}function ba(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=m(a[d],{$$isolateScope:b,$$newScope:c})}function ca(a,c,d,f,h,i,j){if(c===h)return null;var n=null;if(k.hasOwnProperty(c))for(var o,p=b.get(c+l),q=0,s=p.length;q<s;q++)try{if(o=p[q],(r(f)||f>o.priority)&&o.restrict.indexOf(d)!=-1){if(i&&(o=m(o,{$$start:i,$$end:j})),!o.$$bindings){var u=o.$$bindings=g(o,o.name);t(u.isolateScope)&&(o.$$isolateBindings=u.isolateScope)}a.push(o),n=o}}catch(a){e(a)}return n}function da(a){if(k.hasOwnProperty(a))for(var c,d=b.get(a+l),e=0,f=d.length;e<f;e++)if(c=d[e],c.multiElement)return!0;return!1}function ea(a,b){var c=b.$attr,e=a.$attr;a.$$element;d(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),d(b,function(b,d){a.hasOwnProperty(d)||"$"===d.charAt(0)||(a[d]=b,"class"!==d&&"style"!==d&&(e[d]=c[d]))})}function fa(a,b,c,e,g,h,i,j){var k,l,n=[],o=b[0],p=a.shift(),q=m(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),r=y(p.templateUrl)?p.templateUrl(b,c):p.templateUrl,s=p.templateNamespace;return b.empty(),f(r).then(function(f){var m,u,v,w;if(f=Aa(f),p.replace){if(v=wa(f)?[]:sb(la(s,Yd(f))),m=v[0],1!=v.length||m.nodeType!==ee)throw Te("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,r);u={$attr:{}},pa(e,b,m);var x=U(m,[],u);t(p.scope)&&ba(x,!0),a=x.concat(a),ea(c,u)}else m=o,b.html(f);for(a.unshift(q),k=$(a,m,c,g,b,p,h,i,j),d(e,function(a,c){a==m&&(e[c]=b[0])}),l=S(b[0].childNodes,g);n.length;){var y=n.shift(),z=n.shift(),A=n.shift(),B=n.shift(),C=b[0];if(!y.$$destroyed){if(z!==o){var D=z.className;j.hasElementTranscludeDirective&&p.replace||(C=Ea(m)),pa(A,Ld(z),C),K(Ld(C),D)}w=k.transcludeOnThisElement?T(y,k.transclude,B):B,k(l,y,C,e,w)}}n=null}),function(a,b,c,d,e){var f=e;b.$$destroyed||(n?n.push(b,c,d,f):(k.transcludeOnThisElement&&(f=T(b,k.transclude,e)),k(l,b,c,d,f)))}}function ga(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function ia(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw Te("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,Y(d))}function ka(a,b){var d=c(b,!0);d&&a.push({priority:0,compile:function(a){var b=a.parent(),c=!!b.length;return c&&N.$$addBindingClass(b),function(a,b){var e=b.parent();c||N.$$addBindingClass(e),N.$$addBindingInfo(e,d.expressions),a.$watch(d,function(a){b[0].nodeValue=a})}}})}function la(b,c){switch(b=Gd(b||"html")){case"svg":case"math":var d=a.document.createElement("div");return d.innerHTML="<"+b+">"+c+"</"+b+">",d.childNodes[0].childNodes;default:return c}}function ma(a,b){if("srcdoc"==b)return A.HTML;var c=L(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?A.RESOURCE_URL:void 0}function na(a,b,d,e,f){var g=ma(a,e);f=w[e]||f;var h=c(d,!0,g,f);if(h){if("multiple"===e&&"select"===L(a))throw Te("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Y(a));b.push({priority:100,compile:function(){return{pre:function(a,b,i){var j=i.$$observers||(i.$$observers=oa());if(z.test(e))throw Te("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var k=i[e];k!==d&&(h=k&&c(k,!0,g,f),d=k),h&&(i[e]=h(a),(j[e]||(j[e]=[])).$$inter=!0,(i.$$observers&&i.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?i.$updateClass(a,b):i.$set(e,a)}))}}}})}}function pa(b,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(b)for(e=0,f=b.length;e<f;e++)if(b[e]==g){b[e++]=d;for(var j=e,k=j+h-1,l=b.length;j<l;j++,k++)k<l?b[j]=b[k]:delete b[j];b.length-=h-1,b.context===g&&(b.context=d);break}i&&i.replaceChild(d,g);var m=a.document.createDocumentFragment();for(e=0;e<h;e++)m.appendChild(c[e]);for(Ld.hasData(g)&&(Ld.data(d,Ld.data(g)),Ld(g).off("$destroy")),Ld.cleanData(m.querySelectorAll("*")),e=1;e<h;e++)delete c[e];c[0]=d,c.length=1}function qa(a,b){return j(function(){return a.apply(null,arguments)},a,b)}function ra(a,b,c,d,f,g){try{a(b,c,d,f,g)}catch(a){e(a,Y(c))}}function sa(a,b,e,f,g){function i(b,c,d){y(e.$onChanges)&&c!==d&&(ta||(a.$$postDigest(H),ta=[]),k||(k={},ta.push(j)),k[b]&&(d=k[b].previousValue),k[b]=new pb(d,c))}function j(){e.$onChanges(k),k=void 0}var k,l=[],m={};return d(f,function(d,f){var j,k,o,p,q,r=d.attrName,s=d.optional,t=d.mode;switch(t){case"@":s||Fd.call(b,r)||(e[f]=b[r]=void 0),b.$observe(r,function(a){if(v(a)||F(a)){var b=e[f];i(f,a,b),e[f]=a}}),b.$$observers[r].$$scope=a,j=b[r],v(j)?e[f]=c(j)(a):F(j)&&(e[f]=j),m[f]=new pb(Ue,e[f]);break;case"=":if(!Fd.call(b,r)){if(s)break;b[r]=void 0}if(s&&!b[r])break;k=h(b[r]),p=k.literal?O:function(a,b){return a===b||a!==a&&b!==b},o=k.assign||function(){throw j=e[f]=k(a),Te("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",b[r],r,g.name)},j=e[f]=k(a);var u=function(b){return p(b,e[f])||(p(b,j)?o(a,b=e[f]):e[f]=b),j=b};u.$stateful=!0,q=d.collection?a.$watchCollection(b[r],u):a.$watch(h(b[r],u),null,k.literal),l.push(q);break;case"<":if(!Fd.call(b,r)){if(s)break;b[r]=void 0}if(s&&!b[r])break;k=h(b[r]);var w=e[f]=k(a);m[f]=new pb(Ue,e[f]),q=a.$watch(k,function(a,b){if(b===a){if(b===w)return;b=w}i(f,a,b),e[f]=a},k.literal),l.push(q);break;case"&":if(k=b.hasOwnProperty(r)?h(b[r]):n,k===n&&s)break;e[f]=function(b){return k(a,b)}}}),{initialChanges:m,removeWatches:l.length&&function(){for(var a=0,b=l.length;a<b;++a)l[a]()}}}var ta,ua=/^\w/,va=a.document.createElement("div"),xa=D;I.prototype={$normalize:qb,$addClass:function(a){a&&a.length>0&&E.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&E.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=rb(a,b);c&&c.length&&E.addClass(this.$$element,c);var d=rb(b,a);d&&d.length&&E.removeClass(this.$$element,d)},$set:function(a,b,c,f){var g,h=this.$$element[0],i=Ta(h,a),j=Ua(a),k=a;if(i?(this.$$element.prop(a,b),f=i):j&&(this[j]=b,k=j),this[a]=b,f?this.$attr[a]=f:(f=this.$attr[a],f||(this.$attr[a]=f=ha(a,"-"))),g=L(this.$$element),"a"===g&&("href"===a||"xlinkHref"===a)||"img"===g&&"src"===a)this[a]=b=G(b,"src"===a);else if("img"===g&&"srcset"===a&&s(b)){for(var l="",m=Yd(b),n=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,o=/\s/.test(m)?n:/(,)/,p=m.split(o),q=Math.floor(p.length/2),t=0;t<q;t++){var u=2*t;l+=G(Yd(p[u]),!0),l+=" "+Yd(p[u+1])}var v=Yd(p[2*t]).split(/\s/);l+=G(Yd(v[0]),!0),2===v.length&&(l+=" "+Yd(v[1])),this[a]=b=l}c!==!1&&(null===b||r(b)?this.$$element.removeAttr(f):ua.test(f)?this.$$element.attr(f,b):J(this.$$element[0],f,b));var w=this.$$observers;w&&d(w[k],function(a){try{a(b)}catch(a){e(a)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=oa()),e=d[a]||(d[a]=[]);return e.push(b),p.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||r(c[a])||b(c[a])}),function(){M(e,b)}}};var ya=c.startSymbol(),za=c.endSymbol(),Aa="{{"==ya&&"}}"==za?o:function(a){return a.replace(/\{\{/g,ya).replace(/}}/g,za)},Ba=/^ngAttr[A-Z]/,Da=/^(.+)Start$/;return N.$$addBindingInfo=C?function(a,b){var c=a.data("$binding")||[];Wd(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:n,N.$$addBindingClass=C?function(a){K(a,"ng-binding")}:n,N.$$addScopeInfo=C?function(a,b,c,d){var e=c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope";a.data(e,b)}:n,N.$$addScopeClass=C?function(a,b){K(a,b?"ng-isolate-scope":"ng-scope")}:n,N.$$createComment=function(b,c){var d="";return C&&(d=" "+(b||"")+": ",c&&(d+=c+" ")),a.document.createComment(d)},N}]}function pb(a,b){this.previousValue=a,this.currentValue=b}function qb(a){return va(a.replace(Ve,""))}function rb(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function sb(a){a=Ld(a);var b=a.length;if(b<=1)return a;for(;b--;){var c=a[b];c.nodeType===he&&Pd.call(a,b,1)}return a}function tb(a,b){if(b&&v(b))return b;if(v(a)){var c=Xe.exec(a);if(c)return c[3]}}function ub(){var a={},c=!1;this.has=function(b){return a.hasOwnProperty(b)},this.register=function(b,c){la(b,"controller"),t(b)?j(a,b):a[b]=c},this.allowGlobals=function(){c=!0},this.$get=["$injector","$window",function(d,e){function f(a,c,d,e){if(!a||!t(a.$scope))throw b("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",e,c);a.$scope[c]=d}return function(b,g,h,i){var k,l,m,n;if(h=h===!0,i&&v(i)&&(n=i),v(b)){if(l=b.match(Xe),!l)throw We("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",b);m=l[1],n=n||l[3],b=a.hasOwnProperty(m)?a[m]:ma(g.$scope,m,!0)||(c?ma(e,m,!0):void 0),ka(b,m,!0)}if(h){var o=(Wd(b)?b[b.length-1]:b).prototype;k=Object.create(o||null),n&&f(g,n,k,m||b.name);var p;return p=j(function(){var a=d.invoke(b,k,g,m);return a!==k&&(t(a)||y(a))&&(k=a,n&&f(g,n,k,m||b.name)),k},{instance:k,identifier:n})}return k=d.instantiate(b,g,m),n&&f(g,n,k,m||b.name),k}}]}function vb(){this.$get=["$window",function(a){return Ld(a.document)}]}function wb(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function xb(a){return t(a)?x(a)?a.toISOString():T(a):a}function yb(){this.$get=function(){return function(a){if(!a)return"";var b=[];return e(a,function(a,c){null===a||r(a)||(Wd(a)?d(a,function(a){b.push(ba(c)+"="+ba(xb(a)))}):b.push(ba(c)+"="+ba(xb(a))))}),b.join("&")}}}function zb(){this.$get=function(){return function(a){function b(a,f,g){null===a||r(a)||(Wd(a)?d(a,function(a,c){b(a,f+"["+(t(a)?c:"")+"]")}):t(a)&&!x(a)?e(a,function(a,c){b(a,f+(g?"":"[")+c+(g?"":"]"))}):c.push(ba(f)+"="+ba(xb(a))))}if(!a)return"";var c=[];return b(a,"",!0),c.join("&")}}}function Ab(a,b){if(v(a)){var c=a.replace(bf,"").trim();if(c){var d=b("Content-Type");(d&&0===d.indexOf(Ze)||Bb(c))&&(a=U(c))}}return a}function Bb(a){var b=a.match(_e);return b&&af[b[0]].test(a)}function Cb(a){function b(a,b){a&&(e[a]=e[a]?e[a]+", "+b:b)}var c,e=oa();return v(a)?d(a.split("\n"),function(a){c=a.indexOf(":"),b(Gd(Yd(a.substr(0,c))),Yd(a.substr(c+1)))}):t(a)&&d(a,function(a,c){b(Gd(c),Yd(a))}),e}function Db(a){var b;return function(c){if(b||(b=Cb(a)),c){var d=b[Gd(c)];return void 0===d&&(d=null),d}return b}}function Eb(a,b,c,e){return y(e)?e(a,b,c):(d(e,function(d){a=d(a,b,c)}),a)}function Fb(a){return 200<=a&&a<300}function Gb(){var a=this.defaults={transformResponse:[Ab],transformRequest:[function(a){return!t(a)||C(a)||E(a)||D(a)?a:T(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:qa($e),put:qa($e),patch:qa($e)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},c=!1;this.useApplyAsync=function(a){return s(a)?(c=!!a,this):c};var e=!0;this.useLegacyPromiseExtensions=function(a){return s(a)?(e=!!a,this):e};var f=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(g,h,i,k,l,m){function n(c){function f(a,b){for(var c=0,d=b.length;c<d;){var e=b[c++],f=b[c++];a=a.then(e,f)}return b.length=0,a}function g(a,b){var c,e={};return d(a,function(a,d){y(a)?(c=a(b),null!=c&&(e[d]=c)):e[d]=a}),e}function h(b){var c,d,e,f=a.headers,h=j({},b.headers);f=j({},f.common,f[Gd(b.method)]);a:for(c in f){d=Gd(c);for(e in h)if(Gd(e)===d)continue a;h[c]=f[c]}return g(h,qa(b))}function i(b){var c=b.headers,e=Eb(b.data,Db(c),void 0,b.transformRequest);return r(e)&&d(c,function(a,b){"content-type"===Gd(b)&&delete c[b]}),r(b.withCredentials)&&!r(a.withCredentials)&&(b.withCredentials=a.withCredentials),q(b,e).then(k,k)}function k(a){var b=j({},a);return b.data=Eb(a.data,a.headers,a.status,n.transformResponse),Fb(a.status)?b:l.reject(b)}if(!t(c))throw b("$http")("badreq","Http request configuration must be an object.  Received: {0}",c);if(!v(c.url))throw b("$http")("badreq","Http request configuration url must be a string.  Received: {0}",c.url);var n=j({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},c);n.headers=h(c),n.method=Hd(n.method),n.paramSerializer=v(n.paramSerializer)?m.get(n.paramSerializer):n.paramSerializer;var o=[],p=[],s=l.when(n);return d(x,function(a){(a.request||a.requestError)&&o.unshift(a.request,a.requestError),(a.response||a.responseError)&&p.push(a.response,a.responseError)}),s=f(s,o),s=s.then(i),s=f(s,p),e?(s.success=function(a){return ka(a,"fn"),s.then(function(b){a(b.data,b.status,b.headers,n)}),s},s.error=function(a){return ka(a,"fn"),s.then(null,function(b){a(b.data,b.status,b.headers,n)}),s}):(s.success=df("success"),s.error=df("error")),s}function o(a){d(arguments,function(a){n[a]=function(b,c){return n(j({},c||{},{method:a,url:b}))}})}function p(a){d(arguments,function(a){n[a]=function(b,c,d){return n(j({},d||{},{method:a,url:b,data:c}))}})}function q(b,e){function f(a){if(a){var b={};return d(a,function(a,d){b[d]=function(b){function d(){a(b)}c?k.$applyAsync(d):k.$$phase?d():k.$apply(d)}}),b}}function i(a,b,d,e){function f(){j(b,a,d,e)}p&&(Fb(a)?p.put(z,[a,b,Cb(d),e]):p.remove(z)),c?k.$applyAsync(f):(f(),k.$$phase||k.$apply())}function j(a,c,d,e){c=c>=-1?c:0,(Fb(c)?v.resolve:v.reject)({data:a,status:c,headers:Db(d),config:b,statusText:e})}function m(a){j(a.data,a.status,qa(a.headers()),a.statusText)}function o(){var a=n.pendingRequests.indexOf(b);a!==-1&&n.pendingRequests.splice(a,1)}var p,q,v=l.defer(),x=v.promise,y=b.headers,z=u(b.url,b.paramSerializer(b.params));if(n.pendingRequests.push(b),x.then(o,o),!b.cache&&!a.cache||b.cache===!1||"GET"!==b.method&&"JSONP"!==b.method||(p=t(b.cache)?b.cache:t(a.cache)?a.cache:w),p&&(q=p.get(z),s(q)?G(q)?q.then(m,m):Wd(q)?j(q[1],q[0],qa(q[2]),q[3]):j(q,200,{},"OK"):p.put(z,x)),r(q)){var A=Ic(b.url)?h()[b.xsrfCookieName||a.xsrfCookieName]:void 0;A&&(y[b.xsrfHeaderName||a.xsrfHeaderName]=A),g(b.method,z,e,i,y,b.timeout,b.withCredentials,b.responseType,f(b.eventHandlers),f(b.uploadEventHandlers))}return x}function u(a,b){return b.length>0&&(a+=(a.indexOf("?")==-1?"?":"&")+b),a}var w=i("$http");a.paramSerializer=v(a.paramSerializer)?m.get(a.paramSerializer):a.paramSerializer;var x=[];return d(f,function(a){x.unshift(v(a)?m.get(a):m.invoke(a))}),n.pendingRequests=[],o("get","delete","head","jsonp"),p("post","put","patch"),n.defaults=a,n}]}function Hb(){this.$get=function(){return function(){return new a.XMLHttpRequest}}}function Ib(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,c,d){return Jb(a,d,a.defer,b,c[0])}]}function Jb(a,b,c,e,f){function g(a,b,c){a=a.replace("JSON_CALLBACK",b);var d=f.createElement("script"),g=null;return d.type="text/javascript",d.src=a,d.async=!0,g=function(a){oe(d,"load",g),oe(d,"error",g),f.body.removeChild(d),d=null;var h=-1,i="unknown";a&&("load"!==a.type||e.wasCalled(b)||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},ne(d,"load",g),ne(d,"error",g),f.body.appendChild(d),g}return function(f,h,i,j,k,l,m,o,p,q){function t(){w&&w(),x&&x.abort()}function u(b,d,e,f,g){s(z)&&c.cancel(z),w=x=null,b(d,e,f,g),a.$$completeOutstandingRequest(n)}if(a.$$incOutstandingRequestCount(),h=h||a.url(),"jsonp"===Gd(f))var v=e.createCallback(h),w=g(h,v,function(a,b){var c=200===a&&e.getResponse(v);u(j,a,c,"",b),e.removeCallback(v)});else{var x=b(f,h);x.open(f,h,!0),d(k,function(a,b){s(a)&&x.setRequestHeader(b,a)}),x.onload=function(){var a=x.statusText||"",b="response"in x?x.response:x.responseText,c=1223===x.status?204:x.status;0===c&&(c=b?200:"file"==Hc(h).protocol?404:0),u(j,c,b,x.getAllResponseHeaders(),a)};var y=function(){u(j,-1,null,null,"")};if(x.onerror=y,x.onabort=y,d(p,function(a,b){x.addEventListener(b,a)}),d(q,function(a,b){x.upload.addEventListener(b,a)}),m&&(x.withCredentials=!0),o)try{x.responseType=o}catch(a){if("json"!==o)throw a}x.send(r(i)?null:i)}if(l>0)var z=c(t,l);else G(l)&&l.then(t)}}function Kb(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(o,b)}function h(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=T(a)}return a}function i(a,b,c,d){var e;return e=a.$watch(function(a){return e(),d(a)},b,c)}function k(f,k,n,o){function q(a){try{return a=G(a),o&&!s(a)?a:h(a)}catch(a){d(ef.interr(f,a))}}if(!f.length||f.indexOf(a)===-1){var t;if(!k){var u=g(f);t=p(u),t.exp=f,t.expressions=[],t.$$watchDelegate=i}return t}o=!!o;for(var v,w,x,z=0,A=[],B=[],C=f.length,D=[],E=[];z<C;){if((v=f.indexOf(a,z))==-1||(w=f.indexOf(b,v+l))==-1){z!==C&&D.push(g(f.substring(z)));break}z!==v&&D.push(g(f.substring(z,v))),x=f.substring(v+l,w),A.push(x),B.push(c(x,q)),z=w+m,E.push(D.length),D.push("")}if(n&&D.length>1&&ef.throwNoconcat(f),!k||A.length){var F=function(a){for(var b=0,c=A.length;b<c;b++){if(o&&r(a[b]))return;D[E[b]]=a[b]}return D.join("")},G=function(a){return n?e.getTrusted(n,a):e.valueOf(a)};return j(function(a){var b=0,c=A.length,e=new Array(c);try{for(;b<c;b++)e[b]=B[b](a);return F(e)}catch(a){d(ef.interr(f,a))}},{exp:f,expressions:A,$$watchDelegate:function(a,b){var c;return a.$watchGroup(B,function(d,e){var f=F(d);y(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var l=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),"g"),o=new RegExp(b.replace(/./g,f),"g");return k.startSymbol=function(){return a},k.endSymbol=function(){return b},k}]}function Lb(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,c,d,e){function f(f,h,i,j){function k(){l?f.apply(null,m):f(p)}var l=arguments.length>4,m=l?Q(arguments,4):[],n=b.setInterval,o=b.clearInterval,p=0,q=s(j)&&!j,r=(q?d:c).defer(),t=r.promise;return i=s(i)?i:0,t.$$intervalId=n(function(){q?e.defer(k):a.$evalAsync(k),r.notify(p++),i>0&&p>=i&&(r.resolve(p),o(t.$$intervalId),delete g[t.$$intervalId]),q||a.$apply()},h),g[t.$$intervalId]=r,t}var g={};return f.cancel=function(a){return!!(a&&a.$$intervalId in g)&&(g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0)},f}]}function Mb(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=aa(b[c]);return b.join("/")}function Nb(a,b){var c=Hc(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=l(c.port)||hf[c.protocol]||null}function Ob(a,b){var c="/"!==a.charAt(0);c&&(a="/"+a);var d=Hc(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),b.$$search=$(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function Pb(a,b){return 0===a.lastIndexOf(b,0)}function Qb(a,b){if(Pb(b,a))return b.substr(a.length)}function Rb(a){var b=a.indexOf("#");return b==-1?a:a.substr(0,b)}function Sb(a){return a.replace(/(#.+)|#$/,"$1")}function Tb(a){return a.substr(0,Rb(a).lastIndexOf("/")+1)}function Ub(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function Vb(a,b,c){this.$$html5=!0,c=c||"",Nb(a,this),this.$$parse=function(a){var c=Qb(b,a);if(!v(c))throw jf("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,b);Ob(c,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=_(this.$$search),c=this.$$hash?"#"+aa(this.$$hash):"";this.$$url=Mb(this.$$path)+(a?"?"+a:"")+c,this.$$absUrl=b+this.$$url.substr(1)},this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g,h;return s(f=Qb(a,d))?(g=f,h=s(f=Qb(c,f))?b+(Qb("/",f)||f):a+g):s(f=Qb(b,d))?h=b+f:b==d+"/"&&(h=b),h&&this.$$parse(h),!!h}}function Wb(a,b,c){Nb(a,this),this.$$parse=function(d){function e(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return Pb(b,c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}var f,g=Qb(a,d)||Qb(b,d);r(g)||"#"!==g.charAt(0)?this.$$html5?f=g:(f="",r(g)&&(a=d,this.replace())):(f=Qb(c,g),r(f)&&(f=g)),Ob(f,this),this.$$path=e(this.$$path,f,a),this.$$compose()},this.$$compose=function(){var b=_(this.$$search),d=this.$$hash?"#"+aa(this.$$hash):"";this.$$url=Mb(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+(this.$$url?c+this.$$url:"")},this.$$parseLinkUrl=function(b,c){return Rb(a)==Rb(b)&&(this.$$parse(b),!0)}}function Xb(a,b,c){this.$$html5=!0,Wb.apply(this,arguments),this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a==Rb(d)?f=d:(g=Qb(b,d))?f=a+c+g:b===d+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$compose=function(){var b=_(this.$$search),d=this.$$hash?"#"+aa(this.$$hash):"";this.$$url=Mb(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+c+this.$$url}}function Yb(a){return function(){return this[a]}}function Zb(a,b){return function(c){return r(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function $b(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return s(b)?(a=b,this):a},this.html5Mode=function(a){return F(a)?(b.enabled=a,this):t(a)?(F(a.enabled)&&(b.enabled=a.enabled),F(a.requireBase)&&(b.requireBase=a.requireBase),F(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=j.url(),f=j.$$state;try{d.url(a,b,c),j.$$state=d.state()}catch(a){throw j.url(e),j.$$state=f,a}}function i(a,b){c.$broadcast("$locationChangeSuccess",j.absUrl(),a,j.$$state,b)}var j,k,l,m=d.baseHref(),n=d.url();if(b.enabled){if(!m&&b.requireBase)throw jf("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=Ub(n)+(m||"/"),k=e.history?Vb:Xb}else l=Rb(n),k=Wb;var o=Tb(l);j=new k(l,o,"#"+a),j.$$parseLinkUrl(n,n),j.$$state=d.state();var p=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=Ld(a.target);"a"!==L(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");t(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Hc(h.animVal).href),p.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||j.$$parseLinkUrl(h,i)&&(a.preventDefault(),j.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),Sb(j.absUrl())!=Sb(n)&&d.url(j.absUrl(),!0);var q=!0;return d.onUrlChange(function(a,b){return r(Qb(o,a))?void(g.location.href=a):(c.$evalAsync(function(){var d,e=j.absUrl(),f=j.$$state;a=Sb(a),j.$$parse(a),j.$$state=b,d=c.$broadcast("$locationChangeStart",a,e,b,f).defaultPrevented,j.absUrl()===a&&(d?(j.$$parse(e),j.$$state=f,h(e,!1,f)):(q=!1,i(e,f)))}),void(c.$$phase||c.$digest()))}),c.$watch(function(){var a=Sb(d.url()),b=Sb(j.absUrl()),f=d.state(),g=j.$$replace,k=a!==b||j.$$html5&&e.history&&f!==j.$$state;(q||k)&&(q=!1,c.$evalAsync(function(){var b=j.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,j.$$state,f).defaultPrevented;j.absUrl()===b&&(d?(j.$$parse(a),j.$$state=f):(k&&h(b,g,f===j.$$state?null:j.$$state),i(a,f)))})),j.$$replace=!1}),j}]}function _b(){var a=!0,b=this;this.debugEnabled=function(b){return s(b)?(a=b,this):a},this.$get=["$window",function(c){function e(a){return a instanceof Error&&(a.stack?a=a.message&&a.stack.indexOf(a.message)===-1?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function f(a){var b=c.console||{},f=b[a]||b.log||n,g=!1;try{g=!!f.apply}catch(a){}return g?function(){var a=[];return d(arguments,function(b){a.push(e(b))}),f.apply(b,a)}:function(a,b){f(a,null==b?"":b)}}return{log:f("log"),info:f("info"),warn:f("warn"),error:f("error"),debug:function(){var c=f("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function ac(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw lf("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);
return a}function bc(a){return a+""}function cc(a,b){if(a){if(a.constructor===a)throw lf("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.window===a)throw lf("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw lf("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw lf("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function dc(a,b){if(a){if(a.constructor===a)throw lf("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===mf||a===nf||a===of)throw lf("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function ec(a,b){if(a&&(a===(0).constructor||a===(!1).constructor||a==="".constructor||a==={}.constructor||a===[].constructor||a===Function.constructor))throw lf("isecaf","Assigning to a constructor is disallowed! Expression: {0}",b)}function fc(a,b){return"undefined"!=typeof a?a:b}function gc(a,b){return"undefined"==typeof a?b:"undefined"==typeof b?a:a+b}function hc(a,b){var c=a(b);return!c.$stateful}function ic(a,b){var c,e;switch(a.type){case sf.Program:c=!0,d(a.body,function(a){ic(a.expression,b),c=c&&a.expression.constant}),a.constant=c;break;case sf.Literal:a.constant=!0,a.toWatch=[];break;case sf.UnaryExpression:ic(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case sf.BinaryExpression:ic(a.left,b),ic(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case sf.LogicalExpression:ic(a.left,b),ic(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case sf.ConditionalExpression:ic(a.test,b),ic(a.alternate,b),ic(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case sf.Identifier:a.constant=!1,a.toWatch=[a];break;case sf.MemberExpression:ic(a.object,b),a.computed&&ic(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case sf.CallExpression:c=!!a.filter&&hc(b,a.callee.name),e=[],d(a.arguments,function(a){ic(a,b),c=c&&a.constant,a.constant||e.push.apply(e,a.toWatch)}),a.constant=c,a.toWatch=a.filter&&hc(b,a.callee.name)?e:[a];break;case sf.AssignmentExpression:ic(a.left,b),ic(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case sf.ArrayExpression:c=!0,e=[],d(a.elements,function(a){ic(a,b),c=c&&a.constant,a.constant||e.push.apply(e,a.toWatch)}),a.constant=c,a.toWatch=e;break;case sf.ObjectExpression:c=!0,e=[],d(a.properties,function(a){ic(a.value,b),c=c&&a.value.constant&&!a.computed,a.value.constant||e.push.apply(e,a.value.toWatch)}),a.constant=c,a.toWatch=e;break;case sf.ThisExpression:a.constant=!1,a.toWatch=[];break;case sf.LocalsExpression:a.constant=!1,a.toWatch=[]}}function jc(a){if(1==a.length){var b=a[0].expression,c=b.toWatch;return 1!==c.length?c:c[0]!==b?c:void 0}}function kc(a){return a.type===sf.Identifier||a.type===sf.MemberExpression}function lc(a){if(1===a.body.length&&kc(a.body[0].expression))return{type:sf.AssignmentExpression,left:a.body[0].expression,right:{type:sf.NGValueParameter},operator:"="}}function mc(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===sf.Literal||a.body[0].expression.type===sf.ArrayExpression||a.body[0].expression.type===sf.ObjectExpression)}function nc(a){return a.constant}function oc(a,b){this.astBuilder=a,this.$filter=b}function pc(a,b){this.astBuilder=a,this.$filter=b}function qc(a){return"constructor"==a}function rc(a){return y(a.valueOf)?a.valueOf():uf.call(a)}function sc(){var a,b,c=oa(),e=oa(),f={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(a,b){f[a]=b},this.setIdentifierFns=function(c,d){return a=c,b=d,this},this.$get=["$filter",function(g){function h(a,b,d){var f,h,j;switch(d=d||u,typeof a){case"string":a=a.trim(),j=a;var q=d?e:c;if(f=q[j],!f){":"===a.charAt(0)&&":"===a.charAt(1)&&(h=!0,a=a.substring(2));var s=d?t:r,v=new rf(s),w=new tf(v,g,s);f=w.parse(a),f.constant?f.$$watchDelegate=o:h?f.$$watchDelegate=f.literal?m:l:f.inputs&&(f.$$watchDelegate=k),d&&(f=i(f)),q[j]=f}return p(f,b);case"function":return p(a,b);default:return p(n,b)}}function i(a){function b(b,c,d,e){var f=u;u=!0;try{return a(b,c,d,e)}finally{u=f}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate,b.assign=i(a.assign),b.constant=a.constant,b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=i(a.inputs[c]);return b.inputs=a.inputs,b}function j(a,b){return null==a||null==b?a===b:("object"!=typeof a||(a=rc(a),"object"!=typeof a))&&(a===b||a!==a&&b!==b)}function k(a,b,c,d,e){var f,g=d.inputs;if(1===g.length){var h=j;return g=g[0],a.$watch(function(a){var b=g(a);return j(b,h)||(f=d(a,void 0,void 0,[b]),h=b&&rc(b)),f},b,c,e)}for(var i=[],k=[],l=0,m=g.length;l<m;l++)i[l]=j,k[l]=null;return a.$watch(function(a){for(var b=!1,c=0,e=g.length;c<e;c++){var h=g[c](a);(b||(b=!j(h,i[c])))&&(k[c]=h,i[c]=h&&rc(h))}return b&&(f=d(a,void 0,void 0,k)),f},b,c,e)}function l(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,y(b)&&b.apply(this,arguments),s(a)&&d.$$postDigest(function(){s(f)&&e()})},c)}function m(a,b,c,e){function f(a){var b=!0;return d(a,function(a){s(a)||(b=!1)}),b}var g,h;return g=a.$watch(function(a){return e(a)},function(a,c,d){h=a,y(b)&&b.call(this,a,c,d),f(a)&&d.$$postDigest(function(){f(h)&&g()})},c)}function o(a,b,c,d){var e;return e=a.$watch(function(a){return e(),d(a)},b,c)}function p(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,e=c!==m&&c!==l,f=e?function(c,e,f,g){var h=d&&g?g[0]:a(c,e,f,g);return b(h,c,e)}:function(c,d,e,f){var g=a(c,d,e,f),h=b(g,c,d);return s(g)?h:g};return a.$$watchDelegate&&a.$$watchDelegate!==k?f.$$watchDelegate=a.$$watchDelegate:b.$stateful||(f.$$watchDelegate=k,d=!a.inputs,f.inputs=a.inputs?a.inputs:[a]),f}var q=$d().noUnsafeEval,r={csp:q,expensiveChecks:!1,literals:N(f),isIdentifierStart:y(a)&&a,isIdentifierContinue:y(b)&&b},t={csp:q,expensiveChecks:!0,literals:N(f),isIdentifierStart:y(a)&&a,isIdentifierContinue:y(b)&&b},u=!1;return h.$$runningExpensiveChecks=function(){return u},h}]}function tc(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return vc(function(b){a.$evalAsync(b)},b)}]}function uc(){this.$get=["$browser","$exceptionHandler",function(a,b){return vc(function(b){a.defer(b)},b)}]}function vc(a,c){function e(){this.$$state={status:0}}function f(a,b){return function(c){b.call(a,c)}}function g(a){var b,d,e;e=a.pending,a.processScheduled=!1,a.pending=void 0;for(var f=0,g=e.length;f<g;++f){d=e[f][0],b=e[f][a.status];try{y(b)?d.resolve(b(a.value)):1===a.status?d.resolve(a.value):d.reject(a.value)}catch(a){d.reject(a),c(a)}}}function h(b){!b.processScheduled&&b.pending&&(b.processScheduled=!0,a(function(){g(b)}))}function i(){this.promise=new e}function k(a){var b=new i,c=0,e=Wd(a)?[]:{};return d(a,function(a,d){c++,s(a).then(function(a){e.hasOwnProperty(d)||(e[d]=a,--c||b.resolve(e))},function(a){e.hasOwnProperty(d)||b.reject(a)})}),0===c&&b.resolve(e),b.promise}function l(a){var b=n();return d(a,function(a){s(a).then(b.resolve,b.reject)}),b.promise}var m=b("$q",TypeError),n=function(){var a=new i;return a.resolve=f(a,a.resolve),a.reject=f(a,a.reject),a.notify=f(a,a.notify),a};j(e.prototype,{then:function(a,b,c){if(r(a)&&r(b)&&r(c))return this;var d=new i;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),this.$$state.status>0&&h(this.$$state),d.promise},catch:function(a){return this.then(null,a)},finally:function(a,b){return this.then(function(b){return q(b,!0,a)},function(b){return q(b,!1,a)},b)}}),j(i.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(m("qcycle","Expected promise to be resolved with value other than itself '{0}'",a)):this.$$resolve(a))},$$resolve:function(a){function b(a){i||(i=!0,g.$$resolve(a))}function d(a){i||(i=!0,g.$$reject(a))}var e,g=this,i=!1;try{(t(a)||y(a))&&(e=a&&a.then),y(e)?(this.promise.$$state.status=-1,e.call(a,b,d,f(this,this.notify))):(this.promise.$$state.value=a,this.promise.$$state.status=1,h(this.promise.$$state))}catch(a){d(a),c(a)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,h(this.promise.$$state)},notify:function(b){var d=this.promise.$$state.pending;this.promise.$$state.status<=0&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;f<g;f++){e=d[f][0],a=d[f][3];try{e.notify(y(a)?a(b):b)}catch(a){c(a)}}})}});var o=function(a){var b=new i;return b.reject(a),b.promise},p=function(a,b){var c=new i;return b?c.resolve(a):c.reject(a),c.promise},q=function(a,b,c){var d=null;try{y(c)&&(d=c())}catch(a){return p(a,!1)}return G(d)?d.then(function(){return p(a,b)},function(a){return p(a,!1)}):p(a,b)},s=function(a,b,c,d){var e=new i;return e.resolve(a),e.promise.then(b,c,d)},u=s,v=function(a){function b(a){d.resolve(a)}function c(a){d.reject(a)}if(!y(a))throw m("norslvr","Expected resolverFn, got '{0}'",a);var d=new i;return a(b,c),d.promise};return v.prototype=e.prototype,v.defer=n,v.reject=o,v.when=s,v.resolve=u,v.all=k,v.race=l,v}function wc(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function xc(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=g(),this.$$ChildScope=null}return b.prototype=a,b}var e=10,f=b("$rootScope"),h=null,i=null;this.digestTtl=function(a){return arguments.length&&(e=a),e},this.$get=["$exceptionHandler","$parse","$browser",function(b,j,k){function l(a){a.currentScope.$$destroyed=!0}function m(a){9===Kd&&(a.$$childHead&&m(a.$$childHead),a.$$nextSibling&&m(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function o(){this.$id=g(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(a){if(z.$$phase)throw f("inprog","{0} already in progress",z.$$phase);z.$$phase=a}function q(){z.$$phase=null}function s(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function u(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function v(){}function w(){for(;C.length;)try{C.shift()()}catch(a){b(a)}i=null}function x(){null===i&&(i=k.defer(function(){z.$apply(w)}))}o.prototype={constructor:o,$new:function(b,c){var d;return c=c||this,b?(d=new o,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!=this)&&d.$on("$destroy",l),d},$watch:function(a,b,c,d){var e=j(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e,a);var f=this,g=f.$$watchers,i={fn:b,last:v,get:e,exp:d||a,eq:!!c};return h=null,y(b)||(i.fn=n),g||(g=f.$$watchers=[]),g.unshift(i),s(this,1),function(){M(g,i)>=0&&s(f,-1),h=null}},$watchGroup:function(a,b){function c(){i=!1,j?(j=!1,b(f,f,h)):b(f,e,h)}var e=new Array(a.length),f=new Array(a.length),g=[],h=this,i=!1,j=!0;if(!a.length){var k=!0;return h.$evalAsync(function(){k&&b(f,f,h)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,d){f[0]=a,e[0]=c,b(f,a===c?f:e,d)}):(d(a,function(a,b){var d=h.$watch(a,function(a,d){f[b]=a,e[b]=d,i||(i=!0,h.$evalAsync(c))});g.push(d)}),function(){for(;g.length;)g.shift()()})},$watchCollection:function(a,b){function d(a){f=a;var b,d,e,h,i;if(!r(f)){if(t(f))if(c(f)){g!==n&&(g=n,q=g.length=0,l++),b=f.length,q!==b&&(l++,g.length=q=b);for(var j=0;j<b;j++)i=g[j],h=f[j],e=i!==i&&h!==h,e||i===h||(l++,g[j]=h)}else{g!==o&&(g=o={},q=0,l++),b=0;for(d in f)Fd.call(f,d)&&(b++,h=f[d],i=g[d],d in g?(e=i!==i&&h!==h,e||i===h||(l++,g[d]=h)):(q++,g[d]=h,l++));if(q>b){l++;for(d in g)Fd.call(f,d)||(q--,delete g[d])}}else g!==f&&(g=f,l++);return l}}function e(){if(p?(p=!1,b(f,f,i)):b(f,h,i),k)if(t(f))if(c(f)){h=new Array(f.length);for(var a=0;a<f.length;a++)h[a]=f[a]}else{h={};for(var d in f)Fd.call(f,d)&&(h[d]=f[d])}else h=f}d.$stateful=!0;var f,g,h,i=this,k=b.length>1,l=0,m=j(a,d),n=[],o={},p=!0,q=0;return this.$watch(m,e)},$digest:function(){var a,c,d,g,j,l,m,n,o,r,s,t,u=e,x=this,C=[];p("$digest"),k.$$checkUrlChange(),this===z&&null!==i&&(k.defer.cancel(i),w()),h=null;do{n=!1,r=x;for(var E=0;E<A.length;E++){try{t=A[E],t.scope.$eval(t.expression,t.locals)}catch(a){b(a)}h=null}A.length=0;a:do{if(l=r.$$watchers)for(m=l.length;m--;)try{if(a=l[m])if(j=a.get,(c=j(r))===(d=a.last)||(a.eq?O(c,d):"number"==typeof c&&"number"==typeof d&&isNaN(c)&&isNaN(d))){if(a===h){n=!1;break a}}else n=!0,h=a,a.last=a.eq?N(c,null):c,g=a.fn,g(c,d===v?c:d,r),u<5&&(s=4-u,C[s]||(C[s]=[]),C[s].push({msg:y(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:c,oldVal:d}))}catch(a){b(a)}if(!(o=r.$$watchersCount&&r.$$childHead||r!==x&&r.$$nextSibling))for(;r!==x&&!(o=r.$$nextSibling);)r=r.$parent}while(r=o);if((n||A.length)&&!u--)throw q(),f("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,C)}while(n||A.length);for(q();D<B.length;)try{B[D++]()}catch(a){b(a)}B.length=D=0},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===z&&k.$$applicationDestroyed(),s(this,-this.$$watchersCount);for(var b in this.$$listenerCount)u(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=n,this.$on=this.$watch=this.$watchGroup=function(){return n},this.$$listeners={},this.$$nextSibling=null,m(this)}},$eval:function(a,b){return j(a)(this,b)},$evalAsync:function(a,b){z.$$phase||A.length||k.defer(function(){A.length&&z.$digest()}),A.push({scope:this,expression:j(a),locals:b})},$$postDigest:function(a){B.push(a)},$apply:function(a){try{p("$apply");try{return this.$eval(a)}finally{q()}}catch(a){b(a)}finally{try{z.$digest()}catch(a){throw b(a),a}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&C.push(b),a=j(a),x()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);d!==-1&&(c[d]=null,u(e,1,a))}},$emit:function(a,c){var d,e,f,g=[],h=this,i=!1,j={name:a,targetScope:h,stopPropagation:function(){i=!0},preventDefault:function(){j.defaultPrevented=!0},defaultPrevented:!1},k=P([j],arguments,1);do{for(d=h.$$listeners[a]||g,j.currentScope=h,e=0,f=d.length;e<f;e++)if(d[e])try{d[e].apply(null,k)}catch(a){b(a)}else d.splice(e,1),e--,f--;if(i)return j.currentScope=null,j;h=h.$parent}while(h);return j.currentScope=null,j},$broadcast:function(a,c){var d=this,e=d,f=d,g={name:a,targetScope:d,preventDefault:function(){g.defaultPrevented=!0},defaultPrevented:!1};if(!d.$$listenerCount[a])return g;for(var h,i,j,k=P([g],arguments,1);e=f;){for(g.currentScope=e,h=e.$$listeners[a]||[],i=0,j=h.length;i<j;i++)if(h[i])try{h[i].apply(null,k)}catch(a){b(a)}else h.splice(i,1),i--,j--;if(!(f=e.$$listenerCount[a]&&e.$$childHead||e!==d&&e.$$nextSibling))for(;e!==d&&!(f=e.$$nextSibling);)e=e.$parent}return g.currentScope=null,g}};var z=new o,A=z.$$asyncQueue=[],B=z.$$postDigestQueue=[],C=z.$$applyAsyncQueue=[],D=0;return z}]}function yc(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return s(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return e=Hc(c).href,""===e||e.match(f)?c:"unsafe:"+e}}}function zc(a){if("self"===a)return a;if(v(a)){if(a.indexOf("***")>-1)throw vf("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=Zd(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(z(a))return new RegExp("^"+a.source+"$");throw vf("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Ac(a){var b=[];return s(a)&&d(a,function(a){b.push(zc(a))}),b}function Bc(){this.SCE_CONTEXTS=wf;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Ac(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Ac(a)),b},this.$get=["$injector",function(c){function d(a,b){return"self"===a?Ic(b):!!a.exec(b.href)}function e(c){var e,f,g=Hc(c.toString()),h=!1;for(e=0,f=a.length;e<f;e++)if(d(a[e],g)){h=!0;break}if(h)for(e=0,f=b.length;e<f;e++)if(d(b[e],g)){h=!1;break}return h}function f(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function g(a,b){var c=l.hasOwnProperty(a)?l[a]:null;if(!c)throw vf("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||r(b)||""===b)return b;if("string"!=typeof b)throw vf("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new c(b)}function h(a){return a instanceof k?a.$$unwrapTrustedValue():a}function i(a,b){if(null===b||r(b)||""===b)return b;var c=l.hasOwnProperty(a)?l[a]:null;if(c&&b instanceof c)return b.$$unwrapTrustedValue();if(a===wf.RESOURCE_URL){if(e(b))return b;throw vf("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===wf.HTML)return j(b);throw vf("unsafe","Attempting to use an unsafe value in a safe context.")}var j=function(a){throw vf("unsafe","Attempting to use an unsafe value in a safe context.")};c.has("$sanitize")&&(j=c.get("$sanitize"));var k=f(),l={};return l[wf.HTML]=f(k),l[wf.CSS]=f(k),l[wf.URL]=f(k),l[wf.JS]=f(k),l[wf.RESOURCE_URL]=f(l[wf.URL]),{trustAs:g,getTrusted:i,valueOf:h}}]}function Cc(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&Kd<8)throw vf("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var e=qa(wf);e.isEnabled=function(){return a},e.trustAs=c.trustAs,e.getTrusted=c.getTrusted,e.valueOf=c.valueOf,a||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=o),e.parseAs=function(a,c){var d=b(c);return d.literal&&d.constant?d:b(c,function(b){return e.getTrusted(a,b)})};var f=e.parseAs,g=e.getTrusted,h=e.trustAs;return d(wf,function(a,b){var c=Gd(b);e[va("parse_as_"+c)]=function(b){return f(a,b)},e[va("get_trusted_"+c)]=function(b){return g(a,b)},e[va("trust_as_"+c)]=function(b){return h(a,b)}}),e}]}function Dc(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=a.chrome&&a.chrome.app&&a.chrome.app.runtime,g=!f&&a.history&&a.history.pushState,h=l((/android (\d+)/.exec(Gd((a.navigator||{}).userAgent))||[])[1]),i=/Boxee/i.test((a.navigator||{}).userAgent),j=b[0]||{},k=/^(Moz|webkit|ms)(?=[A-Z])/,m=j.body&&j.body.style,n=!1,o=!1;if(m){for(var p in m)if(d=k.exec(p)){c=d[0],c=c[0].toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in m&&"webkit"),n=!!("transition"in m||c+"Transition"in m),o=!!("animation"in m||c+"Animation"in m),!h||n&&o||(n=v(m.webkitTransition),o=v(m.webkitAnimation))}return{history:!(!g||h<4||i),hasEvent:function(a){if("input"===a&&Kd<=11)return!1;if(r(e[a])){var b=j.createElement("div");e[a]="on"+a in b}return e[a]},csp:$d(),vendorPrefix:c,transitions:n,animations:o,android:h}}]}function Ec(){var a;this.httpOptions=function(b){return b?(a=b,this):a},this.$get=["$templateCache","$http","$q","$sce",function(b,c,d,e){function f(g,h){function i(a){if(!h)throw xf("tpload","Failed to load template: {0} (HTTP status: {1} {2})",g,a.status,a.statusText);return d.reject(a)}f.totalPendingRequests++,v(g)&&!r(b.get(g))||(g=e.getTrustedResourceUrl(g));var k=c.defaults&&c.defaults.transformResponse;return Wd(k)?k=k.filter(function(a){return a!==Ab}):k===Ab&&(k=null),c.get(g,j({cache:b,transformResponse:k},a)).finally(function(){f.totalPendingRequests--}).then(function(a){return b.put(g,a.data),a.data},i)}return f.totalPendingRequests=0,f}]}function Fc(){this.$get=["$rootScope","$browser","$location",function(a,b,c){var e={};return e.findBindings=function(a,b,c){var e=a.getElementsByClassName("ng-binding"),f=[];return d(e,function(a){var e=Ud.element(a).data("$binding");e&&d(e,function(d){if(c){var e=new RegExp("(^|\\s)"+Zd(b)+"(\\s|\\||$)");e.test(d)&&f.push(a)}else d.indexOf(b)!=-1&&f.push(a)})}),f},e.findModels=function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=c?"=":"*=",g="["+d[e]+"model"+f+'"'+b+'"]',h=a.querySelectorAll(g);if(h.length)return h}},e.getLocation=function(){return c.url()},e.setLocation=function(b){b!==c.url()&&(c.url(b),a.$digest())},e.whenStable=function(a){b.notifyWhenNoOutstandingRequests(a)},e}]}function Gc(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(f,h,i){y(f)||(i=h,h=f,f=n);var j,k=Q(arguments,3),l=s(i)&&!i,m=(l?d:c).defer(),o=m.promise;return j=b.defer(function(){try{m.resolve(f.apply(null,k))}catch(a){m.reject(a),e(a)}finally{delete g[o.$$timeoutId]}l||a.$apply()},h),o.$$timeoutId=j,g[j]=m,o}var g={};return f.cancel=function(a){return!!(a&&a.$$timeoutId in g)&&(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId))},f}]}function Hc(a){var b=a;return Kd&&(yf.setAttribute("href",b),b=yf.href),yf.setAttribute("href",b),{href:yf.href,protocol:yf.protocol?yf.protocol.replace(/:$/,""):"",host:yf.host,search:yf.search?yf.search.replace(/^\?/,""):"",hash:yf.hash?yf.hash.replace(/^#/,""):"",hostname:yf.hostname,port:yf.port,pathname:"/"===yf.pathname.charAt(0)?yf.pathname:"/"+yf.pathname}}function Ic(a){var b=v(a)?Hc(a):a;return b.protocol===zf.protocol&&b.host===zf.host}function Jc(){this.$get=p(a)}function Kc(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var c=a[0]||{},d={},e="";return function(){var a,f,g,h,i,j=c.cookie||"";if(j!==e)for(e=j,a=e.split("; "),d={},g=0;g<a.length;g++)f=a[g],h=f.indexOf("="),h>0&&(i=b(f.substring(0,h)),r(d[i])&&(d[i]=b(f.substring(h+1))));return d}}function Lc(){this.$get=Kc}function Mc(a){function b(e,f){if(t(e)){var g={};return d(e,function(a,c){g[c]=b(c,a)}),g}return a.factory(e+c,f)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",Rc),b("date",ed),b("filter",Nc),b("json",fd),b("limitTo",gd),b("lowercase",Gf),b("number",Sc),b("orderBy",id),b("uppercase",Hf)}function Nc(){return function(a,d,e,f){if(!c(a)){if(null==a)return a;throw b("filter")("notarray","Expected array but received: {0}",a)}f=f||"$";var g,h,i=Qc(d);switch(i){case"function":g=d;break;case"boolean":case"null":case"number":case"string":h=!0;case"object":g=Oc(d,e,f,h);break;default:return a}return Array.prototype.filter.call(a,g)}}function Oc(a,b,c,d){var e,f=t(a)&&c in a;return b===!0?b=O:y(b)||(b=function(a,b){return!r(a)&&(null===a||null===b?a===b:!(t(b)||t(a)&&!q(a))&&(a=Gd(""+a),b=Gd(""+b),a.indexOf(b)!==-1))}),e=function(e){return f&&!t(e)?Pc(e,a[c],b,c,!1):Pc(e,a,b,c,d)}}function Pc(a,b,c,d,e,f){var g=Qc(a),h=Qc(b);if("string"===h&&"!"===b.charAt(0))return!Pc(a,b.substring(1),c,d,e);if(Wd(a))return a.some(function(a){return Pc(a,b,c,d,e)});switch(g){case"object":var i;if(e){for(i in a)if("$"!==i.charAt(0)&&Pc(a[i],b,c,d,!0))return!0;return!f&&Pc(a,b,c,d,!1)}if("object"===h){for(i in b){var j=b[i];if(!y(j)&&!r(j)){var k=i===d,l=k?a:a[i];if(!Pc(l,j,c,d,k,k))return!1}}return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function Qc(a){return null===a?"null":typeof a}function Rc(a){var b=a.NUMBER_FORMATS;return function(a,c,d){return r(c)&&(c=b.CURRENCY_SYM),r(d)&&(d=b.PATTERNS[1].maxFrac),null==a?a:Vc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function Sc(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Vc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Tc(a){var b,c,d,e,f,g=0;for((c=a.indexOf(Bf))>-1&&(a=a.replace(Bf,"")),(d=a.search(/e/i))>0?(c<0&&(c=d),c+=+a.slice(d+1),a=a.substring(0,d)):c<0&&(c=a.length),d=0;a.charAt(d)==Cf;d++);if(d==(f=a.length))b=[0],c=1;else{for(f--;a.charAt(f)==Cf;)f--;for(c-=d,b=[],e=0;d<=f;d++,e++)b[e]=+a.charAt(d)}return c>Af&&(b=b.splice(0,Af-1),g=c-1,c=1),{d:b,e:g,i:c}}function Uc(a,b,c,d){var e=a.d,f=e.length-a.i;b=r(b)?Math.min(Math.max(c,f),d):+b;var g=b+a.i,h=e[g];if(g>0){e.splice(Math.max(a.i,g));for(var i=g;i<e.length;i++)e[i]=0}else{f=Math.max(0,f),a.i=1,e.length=Math.max(1,g=b+1),e[0]=0;for(var j=1;j<g;j++)e[j]=0}if(h>=5)if(g-1<0){for(var k=0;k>g;k--)e.unshift(0),a.i++;e.unshift(1),a.i++}else e[g-1]++;for(;f<Math.max(0,b);f++)e.push(0);var l=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0);l&&(e.unshift(l),a.i++)}function Vc(a,b,c,d,e){if(!v(a)&&!w(a)||isNaN(a))return"";var f,g=!isFinite(a),h=!1,i=Math.abs(a)+"",j="";if(g)j="∞";else{f=Tc(i),Uc(f,e,b.minFrac,b.maxFrac);var k=f.d,l=f.i,m=f.e,n=[];for(h=k.reduce(function(a,b){return a&&!b},!0);l<0;)k.unshift(0),l++;l>0?n=k.splice(l,k.length):(n=k,k=[0]);var o=[];for(k.length>=b.lgSize&&o.unshift(k.splice(-b.lgSize,k.length).join(""));k.length>b.gSize;)o.unshift(k.splice(-b.gSize,k.length).join(""));k.length&&o.unshift(k.join("")),j=o.join(c),n.length&&(j+=d+n.join("")),m&&(j+="e+"+m)}return a<0&&!h?b.negPre+j+b.negSuf:b.posPre+j+b.posSuf}function Wc(a,b,c,d){var e="";for((a<0||d&&a<=0)&&(d?a=-a+1:(a=-a,e="-")),a=""+a;a.length<b;)a=Cf+a;return c&&(a=a.substr(a.length-b)),e+a}function Xc(a,b,c,d,e){return c=c||0,function(f){var g=f["get"+a]();return(c>0||g>-c)&&(g+=c),0===g&&c==-12&&(g=12),Wc(g,b,d,e)}}function Yc(a,b,c){return function(d,e){var f=d["get"+a](),g=(c?"STANDALONE":"")+(b?"SHORT":""),h=Hd(g+a);return e[h][f]}}function Zc(a,b,c){var d=-1*c,e=d>=0?"+":"";return e+=Wc(Math[d>0?"floor":"ceil"](d/60),2)+Wc(Math.abs(d%60),2)}function $c(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(b<=4?5:12)-b)}function _c(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function ad(a){return function(b){var c=$c(b.getFullYear()),d=_c(b),e=+d-+c,f=1+Math.round(e/6048e5);return Wc(f,a)}}function bd(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function cd(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function dd(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}function ed(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=l(b[9]+b[10]),f=l(b[9]+b[11])),g.call(d,l(b[1]),l(b[2])-1,l(b[3]));var i=l(b[4]||0)-e,j=l(b[5]||0)-f,k=l(b[6]||0),m=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,m),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e,f){var g,h,i="",j=[];if(e=e||"mediumDate",e=a.DATETIME_FORMATS[e]||e,v(c)&&(c=Ff.test(c)?l(c):b(c)),w(c)&&(c=new Date(c)),!x(c)||!isFinite(c.getTime()))return c;for(;e;)h=Ef.exec(e),h?(j=P(j,h,1),e=j.pop()):(j.push(e),e=null);var k=c.getTimezoneOffset();return f&&(k=V(f,k),c=X(c,f,!0)),d(j,function(b){g=Df[b],i+=g?g(c,a.DATETIME_FORMATS,k):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function fd(){return function(a,b){return r(b)&&(b=2),T(a,b)}}function gd(){return function(a,b,d){return b=Math.abs(Number(b))===1/0?Number(b):l(b),isNaN(b)?a:(w(a)&&(a=a.toString()),c(a)?(d=!d||isNaN(d)?0:l(d),d=d<0?Math.max(0,a.length+d):d,b>=0?hd(a,d,d+b):0===d?hd(a,b,a.length):hd(a,Math.max(0,d+b),d)):a)}}function hd(a,b,c){return v(a)?a.slice(b,c):Od.call(a,b,c)}function id(a){function d(b){return b.map(function(b){var c=1,d=o;if(y(b))d=b;else if(v(b)&&("+"!=b.charAt(0)&&"-"!=b.charAt(0)||(c="-"==b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(d=a(b),d.constant))){var e=d();d=function(a){return a[e]}}return{get:d,descending:c}})}function e(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function f(a){return y(a.valueOf)&&(a=a.valueOf(),e(a))?a:q(a)&&(a=a.toString(),e(a))?a:a}function g(a,b){var c=typeof a;return null===a?(c="string",a="null"):"object"===c&&(a=f(a)),{value:a,type:c,index:b}}function h(a,b){var c=0,d=a.type,e=b.type;if(d===e){var f=a.value,g=b.value;"string"===d?(f=f.toLowerCase(),g=g.toLowerCase()):"object"===d&&(t(f)&&(f=a.index),t(g)&&(g=b.index)),f!==g&&(c=f<g?-1:1)}else c=d<e?-1:1;return c}return function(a,e,f,i){function j(a,b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:l.map(function(c){return g(c.get(a),b)})}}function k(a,b){for(var c=0,d=l.length;c<d;c++){var e=n(a.predicateValues[c],b.predicateValues[c]);if(e)return e*l[c].descending*m}return n(a.tieBreaker,b.tieBreaker)*m}if(null==a)return a;if(!c(a))throw b("orderBy")("notarray","Expected array but received: {0}",a);Wd(e)||(e=[e]),0===e.length&&(e=["+"]);var l=d(e),m=f?-1:1,n=y(i)?i:h,o=Array.prototype.map.call(a,j);return o.sort(k),a=o.map(function(a){return a.value})}}function jd(a){return y(a)&&(a={link:a}),a.restrict=a.restrict||"AC",p(a)}function kd(a,b){a.$name=b}function ld(a,b,c,e,f){var g=this,h=[];g.$error={},g.$$success={},g.$pending=void 0,g.$name=f(b.name||b.ngForm||"")(c),g.$dirty=!1,g.$pristine=!0,g.$valid=!0,g.$invalid=!1,g.$submitted=!1,g.$$parentForm=Kf,g.$rollbackViewValue=function(){d(h,function(a){a.$rollbackViewValue()})},g.$commitViewValue=function(){d(h,function(a){a.$commitViewValue()})},g.$addControl=function(a){la(a.$name,"input"),h.push(a),a.$name&&(g[a.$name]=a),a.$$parentForm=g},g.$$renameControl=function(a,b){var c=a.$name;g[c]===a&&delete g[c],g[b]=a,a.$name=b},g.$removeControl=function(a){a.$name&&g[a.$name]===a&&delete g[a.$name],d(g.$pending,function(b,c){g.$setValidity(c,null,a)}),d(g.$error,function(b,c){g.$setValidity(c,null,a)}),d(g.$$success,function(b,c){g.$setValidity(c,null,a)}),M(h,a),a.$$parentForm=Kf},Ad({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];if(d){var e=d.indexOf(c);e===-1&&d.push(c)}else a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(M(d,c),0===d.length&&delete a[b])},$animate:e}),g.$setDirty=function(){e.removeClass(a,ug),e.addClass(a,vg),g.$dirty=!0,g.$pristine=!1,g.$$parentForm.$setDirty()},g.$setPristine=function(){e.setClass(a,ug,vg+" "+Lf),g.$dirty=!1,g.$pristine=!0,g.$submitted=!1,d(h,function(a){a.$setPristine()})},g.$setUntouched=function(){d(h,function(a){a.$setUntouched()})},g.$setSubmitted=function(){e.addClass(a,Lf),g.$submitted=!0,g.$$parentForm.$setSubmitted()}}function md(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function nd(a,b,c,d,e,f){od(a,b,c,d,e,f),md(d)}function od(a,b,c,d,e,f){var g=Gd(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(){h=!0;
}),b.on("compositionend",function(){h=!1,j()})}var i,j=function(a){if(i&&(f.defer.cancel(i),i=null),!h){var e=b.val(),j=a&&a.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=Yd(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,j)}};if(e.hasEvent("input"))b.on("input",j);else{var k=function(a,b,c){i||(i=f.defer(function(){i=null,b&&b.value===c||j(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&b<19||37<=b&&b<=40||k(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",k)}b.on("change",j),Zf[g]&&d.$$hasNativeValidators&&g===c.type&&b.on(Yf,function(a){if(!i){var b=this[Ed],c=b.badInput,d=b.typeMismatch;i=f.defer(function(){i=null,b.badInput===c&&b.typeMismatch===d||j(a)})}}),d.$render=function(){var a=d.$isEmpty(d.$viewValue)?"":d.$viewValue;b.val()!==a&&b.val(a)}}function pd(a,b){if(x(a))return a;if(v(a)){Vf.lastIndex=0;var c=Vf.exec(a);if(c){var d=+c[1],e=+c[2],f=0,g=0,h=0,i=0,j=$c(d),k=7*(e-1);return b&&(f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=b.getMilliseconds()),new Date(d,0,j.getDate()+k,f,g,h,i)}}return NaN}function qd(a,b){return function(c,e){var f,g;if(x(c))return c;if(v(c)){if('"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),Pf.test(c))return new Date(c);if(a.lastIndex=0,f=a.exec(c))return f.shift(),g=e?{yyyy:e.getFullYear(),MM:e.getMonth()+1,dd:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds(),sss:e.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},d(f,function(a,c){c<b.length&&(g[b[c]]=+a)}),new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1e3*g.sss||0)}return NaN}}function rd(a,b,c,d){return function(e,f,g,h,i,j,k){function l(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function m(a){return s(a)&&!x(a)?c(a)||void 0:a}sd(e,f,g,h),od(e,f,g,h,i,j);var n,o=h&&h.$options&&h.$options.timezone;if(h.$$parserName=a,h.$parsers.push(function(a){if(h.$isEmpty(a))return null;if(b.test(a)){var d=c(a,n);return o&&(d=X(d,o)),d}}),h.$formatters.push(function(a){if(a&&!x(a))throw Bg("datefmt","Expected `{0}` to be a date",a);return l(a)?(n=a,n&&o&&(n=X(n,o,!0)),k("date")(a,d,o)):(n=null,"")}),s(g.min)||g.ngMin){var p;h.$validators.min=function(a){return!l(a)||r(p)||c(a)>=p},g.$observe("min",function(a){p=m(a),h.$validate()})}if(s(g.max)||g.ngMax){var q;h.$validators.max=function(a){return!l(a)||r(q)||c(a)<=q},g.$observe("max",function(a){q=m(a),h.$validate()})}}}function sd(a,b,c,d){var e=b[0],f=d.$$hasNativeValidators=t(e.validity);f&&d.$parsers.push(function(a){var c=b.prop(Ed)||{};return c.badInput||c.typeMismatch?void 0:a})}function td(a,b,c,d,e,f){if(sd(a,b,c,d),od(a,b,c,d,e,f),d.$$parserName="number",d.$parsers.push(function(a){return d.$isEmpty(a)?null:Sf.test(a)?parseFloat(a):void 0}),d.$formatters.push(function(a){if(!d.$isEmpty(a)){if(!w(a))throw Bg("numfmt","Expected `{0}` to be a number",a);a=a.toString()}return a}),s(c.min)||c.ngMin){var g;d.$validators.min=function(a){return d.$isEmpty(a)||r(g)||a>=g},c.$observe("min",function(a){s(a)&&!w(a)&&(a=parseFloat(a)),g=w(a)&&!isNaN(a)?a:void 0,d.$validate()})}if(s(c.max)||c.ngMax){var h;d.$validators.max=function(a){return d.$isEmpty(a)||r(h)||a<=h},c.$observe("max",function(a){s(a)&&!w(a)&&(a=parseFloat(a)),h=w(a)&&!isNaN(a)?a:void 0,d.$validate()})}}function ud(a,b,c,d,e,f){od(a,b,c,d,e,f),md(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||Qf.test(c)}}function vd(a,b,c,d,e,f){od(a,b,c,d,e,f),md(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||Rf.test(c)}}function wd(a,b,c,d){r(c.name)&&b.attr("name",g());var e=function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)};b.on("click",e),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function xd(a,b,c,d,e){var f;if(s(d)){if(f=a(d),!f.constant)throw Bg("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",c,d);return f(b)}return e}function yd(a,b,c,d,e,f,g,h){var i=xd(h,a,"ngTrueValue",c.ngTrueValue,!0),j=xd(h,a,"ngFalseValue",c.ngFalseValue,!1),k=function(a){d.$setViewValue(b[0].checked,a&&a.type)};b.on("click",k),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a===!1},d.$formatters.push(function(a){return O(a,i)}),d.$parsers.push(function(a){return a?i:j})}function zd(a,b){return a="ngClass"+a,["$animate",function(c){function e(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function f(a){var b=[];return Wd(a)?(d(a,function(a){b=b.concat(f(a))}),b):v(a)?a.split(" "):t(a)?(d(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(g,h,i){function j(a){var b=l(a,1);i.$addClass(b)}function k(a){var b=l(a,-1);i.$removeClass(b)}function l(a,b){var c=h.data("$classCounts")||oa(),e=[];return d(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&e.push(a))}),h.data("$classCounts",c),e.join(" ")}function m(a,b){var d=e(b,a),f=e(a,b);d=l(d,1),f=l(f,-1),d&&d.length&&c.addClass(h,d),f&&f.length&&c.removeClass(h,f)}function n(a){if(b===!0||(1&g.$index)===b){var c=f(a||[]);if(o){if(!O(a,o)){var d=f(o);m(d,c)}}else j(c)}o=Wd(a)?a.map(function(a){return qa(a)}):qa(a)}var o;g.$watch(i[a],n,!0),i.$observe("class",function(b){n(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var e=1&c;if(e!==(1&d)){var h=f(g.$eval(i[a]));e===b?j(h):k(h)}})}}}]}function Ad(a){function b(a,b,h){r(b)?c("$pending",a,h):d("$pending",a,h),F(b)?b?(k(g.$error,a,h),j(g.$$success,a,h)):(j(g.$error,a,h),k(g.$$success,a,h)):(k(g.$error,a,h),k(g.$$success,a,h)),g.$pending?(e(yg,!0),g.$valid=g.$invalid=void 0,f("",null)):(e(yg,!1),g.$valid=Bd(g.$error),g.$invalid=!g.$valid,f("",g.$valid));var i;i=g.$pending&&g.$pending[a]?void 0:!g.$error[a]&&(!!g.$$success[a]||null),f(a,i),g.$$parentForm.$setValidity(a,i,g)}function c(a,b,c){g[a]||(g[a]={}),j(g[a],b,c)}function d(a,b,c){g[a]&&k(g[a],b,c),Bd(g[a])&&(g[a]=void 0)}function e(a,b){b&&!i[a]?(l.addClass(h,a),i[a]=!0):!b&&i[a]&&(l.removeClass(h,a),i[a]=!1)}function f(a,b){a=a?"-"+ha(a,"-"):"",e(sg+a,b===!0),e(tg+a,b===!1)}var g=a.ctrl,h=a.$element,i={},j=a.set,k=a.unset,l=a.$animate;i[tg]=!(i[sg]=h.hasClass(sg)),g.$setValidity=b}function Bd(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function Cd(a){a[0].hasAttribute("selected")&&(a[0].selected=!0)}var Dd=/^\/(.+)\/([a-z]*)$/,Ed="validity",Fd=Object.prototype.hasOwnProperty,Gd=function(a){return v(a)?a.toLowerCase():a},Hd=function(a){return v(a)?a.toUpperCase():a},Id=function(a){return v(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},Jd=function(a){return v(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(a.charCodeAt(0)&-33)}):a};"i"!=="I".toLowerCase()&&(Gd=Id,Hd=Jd);var Kd,Ld,Md,Nd,Od=[].slice,Pd=[].splice,Qd=[].push,Rd=Object.prototype.toString,Sd=Object.getPrototypeOf,Td=b("ng"),Ud=a.angular||(a.angular={}),Vd=0;Kd=a.document.documentMode,n.$inject=[],o.$inject=[];var Wd=Array.isArray,Xd=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Yd=function(a){return v(a)?a.trim():a},Zd=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},$d=function(){function b(){try{return new Function(""),!1}catch(a){return!0}}if(!s($d.rules)){var c=a.document.querySelector("[ng-csp]")||a.document.querySelector("[data-ng-csp]");if(c){var d=c.getAttribute("ng-csp")||c.getAttribute("data-ng-csp");$d.rules={noUnsafeEval:!d||d.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!d||d.indexOf("no-inline-style")!==-1}}else $d.rules={noUnsafeEval:b(),noInlineStyle:!1}}return $d.rules},_d=function(){if(s(_d.name_))return _d.name_;var b,c,d,e,f=be.length;for(c=0;c<f;++c)if(d=be[c],b=a.document.querySelector("["+d.replace(":","\\:")+"jq]")){e=b.getAttribute(d+"jq");break}return _d.name_=e},ae=/:/g,be=["ng-","data-ng-","ng:","x-ng-"],ce=/[A-Z]/g,de=!1,ee=1,fe=2,ge=3,he=8,ie=9,je=11,ke={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};Da.expando="ng339";var le=Da.cache={},me=1,ne=function(a,b,c){a.addEventListener(b,c,!1)},oe=function(a,b,c){a.removeEventListener(b,c,!1)};Da._data=function(a){return this.cache[a[this.expando]]||{}};var pe=/([\:\-\_]+(.))/g,qe=/^moz([A-Z])/,re={mouseleave:"mouseout",mouseenter:"mouseover"},se=b("jqLite"),te=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ue=/<|&#?\w+;/,ve=/<([\w:-]+)/,we=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,xe={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};xe.optgroup=xe.option,xe.tbody=xe.tfoot=xe.colgroup=xe.caption=xe.thead,xe.th=xe.td;var ye=a.Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))},ze=Da.prototype={ready:function(b){function c(){d||(d=!0,b())}var d=!1;"complete"===a.document.readyState?a.setTimeout(c):(this.on("DOMContentLoaded",c),Da(a).on("load",c))},toString:function(){var a=[];return d(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return Ld(a>=0?this[a]:this[this.length+a])},length:0,push:Qd,sort:[].sort,splice:[].splice},Ae={};d("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){Ae[Gd(a)]=a});var Be={};d("input,select,option,textarea,button,form,details".split(","),function(a){Be[a]=!0});var Ce={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};d({data:Ja,removeData:Ha,hasData:ya,cleanData:za},function(a,b){Da[b]=a}),d({data:Ja,inheritedData:Pa,scope:function(a){return Ld.data(a,"$scope")||Pa(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return Ld.data(a,"$isolateScope")||Ld.data(a,"$isolateScopeNoTemplate")},controller:Oa,injector:function(a){return Pa(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Ka,css:function(a,b,c){return b=va(b),s(c)?void(a.style[b]=c):a.style[b]},attr:function(a,b,c){var d=a.nodeType;if(d!==ge&&d!==fe&&d!==he){var e=Gd(b);if(Ae[e]){if(!s(c))return a[b]||(a.attributes.getNamedItem(b)||n).specified?e:void 0;c?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e))}else if(s(c))a.setAttribute(b,c);else if(a.getAttribute){var f=a.getAttribute(b,2);return null===f?void 0:f}}},prop:function(a,b,c){return s(c)?void(a[b]=c):a[b]},text:function(){function a(a,b){if(r(b)){var c=a.nodeType;return c===ee||c===ge?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(r(b)){if(a.multiple&&"select"===L(a)){var c=[];return d(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){return r(b)?a.innerHTML:(Fa(a,!0),void(a.innerHTML=b))},empty:Qa},function(a,b){Da.prototype[b]=function(b,c){var d,e,f=this.length;if(a!==Qa&&r(2==a.length&&a!==Ka&&a!==Oa?b:c)){if(t(b)){for(d=0;d<f;d++)if(a===Ja)a(this[d],b);else for(e in b)a(this[d],e,b[e]);return this}for(var g=a.$dv,h=r(g)?Math.min(f,1):f,i=0;i<h;i++){var j=a(this[i],b,c);g=g?g+j:j}return g}for(d=0;d<f;d++)a(this[d],b,c);return this}}),d({removeData:Ha,on:function(a,b,c,d){if(s(d))throw se("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(xa(a)){var e=Ia(a,!0),f=e.events,g=e.handle;g||(g=e.handle=Va(a,f));for(var h=b.indexOf(" ")>=0?b.split(" "):[b],i=h.length,j=function(b,d,e){var h=f[b];h||(h=f[b]=[],h.specialHandlerWrapper=d,"$destroy"===b||e||ne(a,b,g)),h.push(c)};i--;)b=h[i],re[b]?(j(re[b],Xa),j(b,void 0,!0)):j(b)}},off:Ga,one:function(a,b,c){a=Ld(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,e=a.parentNode;Fa(a),d(new Da(b),function(b){c?e.insertBefore(b,c.nextSibling):e.replaceChild(b,a),c=b})},children:function(a){var b=[];return d(a.childNodes,function(a){a.nodeType===ee&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c===ee||c===je){b=new Da(b);for(var d=0,e=b.length;d<e;d++){var f=b[d];a.appendChild(f)}}},prepend:function(a,b){if(a.nodeType===ee){var c=a.firstChild;d(new Da(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){Ca(a,Ld(b).eq(0).clone()[0])},remove:Ra,detach:function(a){Ra(a,!0)},after:function(a,b){var c=a,d=a.parentNode;b=new Da(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}},addClass:Ma,removeClass:La,toggleClass:function(a,b,c){b&&d(b.split(" "),function(b){var d=c;r(d)&&(d=!Ka(a,b)),(d?Ma:La)(a,b)})},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==je?b:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Ea,triggerHandler:function(a,b,c){var e,f,g,h=b.type||b,i=Ia(a),k=i&&i.events,l=k&&k[h];l&&(e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:n,type:h,target:a},b.type&&(e=j(e,b)),f=qa(l),g=c?[e].concat(c):[e],d(f,function(b){e.isImmediatePropagationStopped()||b.apply(a,g)}))}},function(a,b){Da.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;f<g;f++)r(e)?(e=a(this[f],b,c,d),s(e)&&(e=Ld(e))):Na(e,a(this[f],b,c,d));return s(e)?e:this},Da.prototype.bind=Da.prototype.on,Da.prototype.unbind=Da.prototype.off}),$a.prototype={put:function(a,b){this[Za(a,this.nextUid)]=b},get:function(a){return this[Za(a,this.nextUid)]},remove:function(a){var b=this[a=Za(a,this.nextUid)];return delete this[a],b}};var De=[function(){this.$get=[function(){return $a}]}],Ee=/^([^\(]+?)=>/,Fe=/^[^\(]*\(\s*([^\)]*)\)/m,Ge=/,/,He=/^\s*(_?)(\S+?)\1\s*$/,Ie=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Je=b("$injector");db.$$annotate=cb;var Ke=b("$animate"),Le=1,Me="ng-animate",Ne=function(){this.$get=n},Oe=function(){var a=new $a,b=[];this.$get=["$$AnimateRunner","$rootScope",function(c,e){function f(a,b,c){var e=!1;return b&&(b=v(b)?b.split(" "):Wd(b)?b:[],d(b,function(b){b&&(e=!0,a[b]=c)})),e}function g(){d(b,function(b){var c=a.get(b);if(c){var e=hb(b.attr("class")),f="",g="";d(c,function(a,b){var c=!!e[b];a!==c&&(a?f+=(f.length?" ":"")+b:g+=(g.length?" ":"")+b)}),d(b,function(a){f&&Ma(a,f),g&&La(a,g)}),a.remove(b)}}),b.length=0}function h(c,d,h){var i=a.get(c)||{},j=f(i,d,!0),k=f(i,h,!1);(j||k)&&(a.put(c,i),b.push(c),1===b.length&&e.$$postDigest(g))}return{enabled:n,on:n,off:n,pin:n,push:function(a,b,d,e){e&&e(),d=d||{},d.from&&a.css(d.from),d.to&&a.css(d.to),(d.addClass||d.removeClass)&&h(a,d.addClass,d.removeClass);var f=new c;return f.complete(),f}}}]},Pe=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&&"."!==c.charAt(0))throw Ke("notcsel","Expecting class selector starting with '.' got '{0}'.",c);var e=c+"-animation";b.$$registeredAnimations[c.substr(1)]=e,a.factory(e,d)},this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null,this.$$classNameFilter)){var b=new RegExp("(\\s+|\\/)"+Me+"(\\s+|\\/)");if(b.test(this.$$classNameFilter.toString()))throw Ke("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Me)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(a){function b(a,b,c){if(c){var d=gb(c);!d||d.parentNode||d.previousElementSibling||(c=null)}c?c.after(a):b.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(c,d,e,f){return d=d&&Ld(d),e=e&&Ld(e),d=d||e.parent(),b(c,d,e),a.push(c,"enter",ib(f))},move:function(c,d,e,f){return d=d&&Ld(d),e=e&&Ld(e),d=d||e.parent(),b(c,d,e),a.push(c,"move",ib(f))},leave:function(b,c){return a.push(b,"leave",ib(c),function(){b.remove()})},addClass:function(b,c,d){return d=ib(d),d.addClass=fb(d.addclass,c),a.push(b,"addClass",d)},removeClass:function(b,c,d){return d=ib(d),d.removeClass=fb(d.removeClass,c),a.push(b,"removeClass",d)},setClass:function(b,c,d,e){return e=ib(e),e.addClass=fb(e.addClass,c),e.removeClass=fb(e.removeClass,d),a.push(b,"setClass",e)},animate:function(b,c,d,e,f){return f=ib(f),f.from=f.from?j(f.from,c):c,f.to=f.to?j(f.to,d):d,e=e||"ng-inline-animate",f.tempClasses=fb(f.tempClasses,e),a.push(b,"animate",f)}}}]}],Qe=function(){this.$get=["$$rAF",function(a){function b(b){c.push(b),c.length>1||a(function(){for(var a=0;a<c.length;a++)c[a]();c=[]})}var c=[];return function(){var a=!1;return b(function(){a=!0}),function(c){a?c():b(c)}}}]},Re=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,c,e,f){function g(a){this.setHost(a);var b=c(),d=function(a){f(a,0,!1)};this._doneCallbacks=[],this._tick=function(a){var c=e[0];c&&c.hidden?d(a):b(a)},this._state=0}var h=0,i=1,j=2;return g.chain=function(a,b){function c(){return d===a.length?void b(!0):void a[d](function(a){return a===!1?void b(!1):(d++,void c())})}var d=0;c()},g.all=function(a,b){function c(c){f=f&&c,++e===a.length&&b(f)}var e=0,f=!0;d(a,function(a){a.done(c)})},g.prototype={setHost:function(a){this.host=a||{}},done:function(a){this._state===j?a():this._doneCallbacks.push(a)},progress:n,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){b===!1?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},catch:function(a){return this.getPromise().catch(a)},finally:function(a){return this.getPromise().finally(a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;b._state===h&&(b._state=i,b._tick(function(){b._resolve(a)}))},_resolve:function(a){this._state!==j&&(d(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=j)}},g}]},Se=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,c){return function(b,d){function e(){return a(function(){f(),h||i.complete(),h=!0}),i}function f(){g.addClass&&(b.addClass(g.addClass),g.addClass=null),g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null),g.to&&(b.css(g.to),g.to=null)}var g=d||{};g.$$prepared||(g=N(g)),g.cleanupStyles&&(g.from=g.to=null),g.from&&(b.css(g.from),g.from=null);var h,i=new c;return{start:e,end:e}}}]},Te=b("$compile"),Ue=new nb;ob.$inject=["$provide","$$sanitizeUriProvider"],pb.prototype.isFirstChange=function(){return this.previousValue===Ue};var Ve=/^((?:x|data)[\:\-_])/i,We=b("$controller"),Xe=/^(\S+)(\s+as\s+([\w$]+))?$/,Ye=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof Ld&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},Ze="application/json",$e={"Content-Type":Ze+";charset=utf-8"},_e=/^\[|^\{(?!\{)/,af={"[":/]$/,"{":/}$/},bf=/^\)\]\}',?\n/,cf=b("$http"),df=function(a){return function(){throw cf("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",a)}},ef=Ud.$interpolateMinErr=b("$interpolate");ef.throwNoconcat=function(a){throw ef("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a)},ef.interr=function(a,b){return ef("interr","Can't interpolate: {0}\n{1}",a,b.toString())};var ff=function(){this.$get=["$window",function(a){function b(a){var b=function(a){b.data=a,b.called=!0};return b.id=a,b}var c=a.angular.callbacks,d={};return{createCallback:function(a){var e="_"+(c.$$counter++).toString(36),f="angular.callbacks."+e,g=b(e);return d[f]=c[e]=g,f},wasCalled:function(a){return d[a].called},getResponse:function(a){return d[a].data},removeCallback:function(a){var b=d[a];delete c[b.id],delete d[a]}}}]},gf=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,hf={http:80,https:443,ftp:21},jf=b("$location"),kf={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Yb("$$absUrl"),url:function(a){if(r(a))return this.$$url;var b=gf.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Yb("$$protocol"),host:Yb("$$host"),port:Yb("$$port"),path:Zb("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(v(a)||w(a))a=a.toString(),this.$$search=$(a);else{if(!t(a))throw jf("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");a=N(a,{}),d(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:r(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:Zb("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};d([Xb,Wb,Vb],function(a){a.prototype=Object.create(kf),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==Vb||!this.$$html5)throw jf("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=r(b)?null:b,this}});var lf=b("$parse"),mf=Function.prototype.call,nf=Function.prototype.apply,of=Function.prototype.bind,pf=oa();d("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){pf[a]=!0});var qf={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},rf=function(a){this.options=a};rf.prototype={constructor:rf,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;){var b=this.text.charAt(this.index);if('"'===b||"'"===b)this.readString(b);else if(this.isNumber(b)||"."===b&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(b,"(){}[].,;:?"))this.tokens.push({index:this.index,text:b}),this.index++;else if(this.isWhitespace(b))this.index++;else{var c=b+this.peek(),d=c+this.peek(2),e=pf[b],f=pf[c],g=pf[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:!0}),this.index+=h.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(a,b){return b.indexOf(a)!==-1},peek:function(a){var b=a||1;return this.index+b<this.text.length&&this.text.charAt(this.index+b)},isNumber:function(a){return"0"<=a&&a<="9"&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||" "===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"<=a&&a<="z"||"A"<=a&&a<="Z"||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var c=a.charCodeAt(0),d=b.charCodeAt(0);return c>=55296&&c<=56319&&d>=56320&&d<=57343?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=s(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw lf("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=Gd(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=qf[f];c+=h||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var sf=function(a,b){this.lexer=a,this.options=b};sf.Program="Program",sf.ExpressionStatement="ExpressionStatement",sf.AssignmentExpression="AssignmentExpression",sf.ConditionalExpression="ConditionalExpression",sf.LogicalExpression="LogicalExpression",sf.BinaryExpression="BinaryExpression",sf.UnaryExpression="UnaryExpression",sf.CallExpression="CallExpression",sf.MemberExpression="MemberExpression",sf.Identifier="Identifier",sf.Literal="Literal",sf.ArrayExpression="ArrayExpression",sf.Property="Property",sf.ObjectExpression="ObjectExpression",sf.ThisExpression="ThisExpression",sf.LocalsExpression="LocalsExpression",sf.NGValueParameter="NGValueParameter",sf.prototype={ast:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b},program:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:sf.Program,body:a}},expressionStatement:function(){return{type:sf.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a,b=this.expression();a=this.expect("|");)b=this.filter(b);return b},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();return this.expect("=")&&(a={type:sf.AssignmentExpression,left:a,right:this.assignment(),operator:"="}),a},ternary:function(){var a,b,c=this.logicalOR();return this.expect("?")&&(a=this.expression(),this.consume(":"))?(b=this.expression(),{type:sf.ConditionalExpression,test:c,alternate:a,consequent:b}):c},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:sf.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:sf.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a,b=this.relational();a=this.expect("==","!=","===","!==");)b={type:sf.BinaryExpression,operator:a.text,left:b,right:this.relational()};return b},relational:function(){for(var a,b=this.additive();a=this.expect("<",">","<=",">=");)b={type:sf.BinaryExpression,operator:a.text,left:b,right:this.additive()};return b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b={type:sf.BinaryExpression,operator:a.text,left:b,right:this.multiplicative()};return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b={type:sf.BinaryExpression,operator:a.text,left:b,right:this.unary()};return b},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:sf.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=N(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:sf.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:sf.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:sf.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:sf.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){for(var b=[a],c={type:sf.CallExpression,callee:this.identifier(),arguments:b,filter:!0};this.expect(":");)b.push(this.expression());return c},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do a.push(this.filterChain());while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:sf.Identifier,name:a.text}},constant:function(){return{type:sf.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:sf.ArrayExpression,elements:a}},object:function(){var a,b=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;a={type:sf.Property,kind:"init"},this.peek().constant?(a.key=this.constant(),a.computed=!1,this.consume(":"),a.value=this.expression()):this.peek().identifier?(a.key=this.identifier(),a.computed=!1,this.peek(":")?(this.consume(":"),a.value=this.expression()):a.value=a.key):this.peek("[")?(this.consume("["),a.key=this.expression(),this.consume("]"),a.computed=!0,this.consume(":"),a.value=this.expression()):this.throwError("invalid key",this.peek()),b.push(a)}while(this.expect(","));return this.consume("}"),{type:sf.ObjectExpression,properties:b}},throwError:function(a,b){throw lf("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw lf("ueoe","Unexpected end of expression: {0}",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw lf("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){var f=this.tokens[a],g=f.text;if(g===b||g===c||g===d||g===e||!b&&!c&&!d&&!e)return f}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return!!e&&(this.tokens.shift(),e)},selfReferential:{this:{type:sf.ThisExpression},$locals:{type:sf.LocalsExpression}}},oc.prototype={compile:function(a,b){var c=this,e=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},ic(e,c.$filter);var f,g="";if(this.stage="assign",f=lc(e)){this.state.computing="assign";var h=this.nextId();this.recurse(f,h),this.return_(h),g="fn.assign="+this.generateFunction("assign","s,v,l")}var i=jc(e.body);c.stage="inputs",d(i,function(a,b){var d="fn"+b;c.state[d]={vars:[],body:[],own:{}},c.state.computing=d;var e=c.nextId();c.recurse(a,e),c.return_(e),c.state.inputs.push(d),a.watchId=b}),this.state.computing="fn",this.stage="main",this.recurse(e);var j='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+g+this.watchFns()+"return fn;",k=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",j)(this.$filter,ac,cc,dc,bc,ec,fc,gc,a);
return this.state=this.stage=void 0,k.literal=mc(e),k.constant=nc(e),k},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,c=this;return d(b,function(b){a.push("var "+b+"="+c.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return d(this.state.filters,function(c,d){a.push(c+"=$filter("+b.escape(d)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,c,e,f,g){var h,i,j,k,l,m=this;if(e=e||n,!g&&s(a.watchId))return b=b||this.nextId(),void this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,c,e,f,!0));switch(a.type){case sf.Program:d(a.body,function(b,c){m.recurse(b.expression,void 0,void 0,function(a){i=a}),c!==a.body.length-1?m.current().body.push(i,";"):m.return_(i)});break;case sf.Literal:k=this.escape(a.value),this.assign(b,k),e(k);break;case sf.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){i=a}),k=a.operator+"("+this.ifDefined(i,0)+")",this.assign(b,k),e(k);break;case sf.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){h=a}),this.recurse(a.right,void 0,void 0,function(a){i=a}),k="+"===a.operator?this.plus(h,i):"-"===a.operator?this.ifDefined(h,0)+a.operator+this.ifDefined(i,0):"("+h+")"+a.operator+"("+i+")",this.assign(b,k),e(k);break;case sf.LogicalExpression:b=b||this.nextId(),m.recurse(a.left,b),m.if_("&&"===a.operator?b:m.not(b),m.lazyRecurse(a.right,b)),e(b);break;case sf.ConditionalExpression:b=b||this.nextId(),m.recurse(a.test,b),m.if_(b,m.lazyRecurse(a.alternate,b),m.lazyRecurse(a.consequent,b)),e(b);break;case sf.Identifier:b=b||this.nextId(),c&&(c.context="inputs"===m.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),c.computed=!1,c.name=a.name),ac(a.name),m.if_("inputs"===m.stage||m.not(m.getHasOwnProperty("l",a.name)),function(){m.if_("inputs"===m.stage||"s",function(){f&&1!==f&&m.if_(m.not(m.nonComputedMember("s",a.name)),m.lazyAssign(m.nonComputedMember("s",a.name),"{}")),m.assign(b,m.nonComputedMember("s",a.name))})},b&&m.lazyAssign(b,m.nonComputedMember("l",a.name))),(m.state.expensiveChecks||qc(a.name))&&m.addEnsureSafeObject(b),e(b);break;case sf.MemberExpression:h=c&&(c.context=this.nextId())||this.nextId(),b=b||this.nextId(),m.recurse(a.object,h,void 0,function(){m.if_(m.notNull(h),function(){f&&1!==f&&m.addEnsureSafeAssignContext(h),a.computed?(i=m.nextId(),m.recurse(a.property,i),m.getStringValue(i),m.addEnsureSafeMemberName(i),f&&1!==f&&m.if_(m.not(m.computedMember(h,i)),m.lazyAssign(m.computedMember(h,i),"{}")),k=m.ensureSafeObject(m.computedMember(h,i)),m.assign(b,k),c&&(c.computed=!0,c.name=i)):(ac(a.property.name),f&&1!==f&&m.if_(m.not(m.nonComputedMember(h,a.property.name)),m.lazyAssign(m.nonComputedMember(h,a.property.name),"{}")),k=m.nonComputedMember(h,a.property.name),(m.state.expensiveChecks||qc(a.property.name))&&(k=m.ensureSafeObject(k)),m.assign(b,k),c&&(c.computed=!1,c.name=a.property.name))},function(){m.assign(b,"undefined")}),e(b)},!!f);break;case sf.CallExpression:b=b||this.nextId(),a.filter?(i=m.filter(a.callee.name),j=[],d(a.arguments,function(a){var b=m.nextId();m.recurse(a,b),j.push(b)}),k=i+"("+j.join(",")+")",m.assign(b,k),e(b)):(i=m.nextId(),h={},j=[],m.recurse(a.callee,i,h,function(){m.if_(m.notNull(i),function(){m.addEnsureSafeFunction(i),d(a.arguments,function(a){m.recurse(a,m.nextId(),void 0,function(a){j.push(m.ensureSafeObject(a))})}),h.name?(m.state.expensiveChecks||m.addEnsureSafeObject(h.context),k=m.member(h.context,h.name,h.computed)+"("+j.join(",")+")"):k=i+"("+j.join(",")+")",k=m.ensureSafeObject(k),m.assign(b,k)},function(){m.assign(b,"undefined")}),e(b)}));break;case sf.AssignmentExpression:if(i=this.nextId(),h={},!kc(a.left))throw lf("lval","Trying to assign a value to a non l-value");this.recurse(a.left,void 0,h,function(){m.if_(m.notNull(h.context),function(){m.recurse(a.right,i),m.addEnsureSafeObject(m.member(h.context,h.name,h.computed)),m.addEnsureSafeAssignContext(h.context),k=m.member(h.context,h.name,h.computed)+a.operator+i,m.assign(b,k),e(b||k)})},1);break;case sf.ArrayExpression:j=[],d(a.elements,function(a){m.recurse(a,m.nextId(),void 0,function(a){j.push(a)})}),k="["+j.join(",")+"]",this.assign(b,k),e(k);break;case sf.ObjectExpression:j=[],l=!1,d(a.properties,function(a){a.computed&&(l=!0)}),l?(b=b||this.nextId(),this.assign(b,"{}"),d(a.properties,function(a){a.computed?(h=m.nextId(),m.recurse(a.key,h)):h=a.key.type===sf.Identifier?a.key.name:""+a.key.value,i=m.nextId(),m.recurse(a.value,i),m.assign(m.member(b,h,a.computed),i)})):(d(a.properties,function(b){m.recurse(b.value,a.constant?void 0:m.nextId(),void 0,function(a){j.push(m.escape(b.key.type===sf.Identifier?b.key.name:""+b.key.value)+":"+a)})}),k="{"+j.join(",")+"}",this.assign(b,k)),e(b||k);break;case sf.ThisExpression:this.assign(b,"s"),e("s");break;case sf.LocalsExpression:this.assign(b,"l"),e("l");break;case sf.NGValueParameter:this.assign(b,"v"),e("v")}},getHasOwnProperty:function(a,b){var c=a+"."+b,d=this.current().own;return d.hasOwnProperty(c)||(d[c]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),d[c]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,c){if(a===!0)b();else{var d=this.current().body;d.push("if(",a,"){"),b(),d.push("}"),c&&(d.push("else{"),c(),d.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){var c=/[$_a-zA-Z][$_a-zA-Z0-9]*/,d=/[^$_a-zA-Z0-9]/g;return c.test(b)?a+"."+b:a+'["'+b.replace(d,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,c){return c?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+a+",text)"},lazyRecurse:function(a,b,c,d,e,f){var g=this;return function(){g.recurse(a,b,c,d,e,f)}},lazyAssign:function(a,b){var c=this;return function(){c.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(v(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(a))return a.toString();if(a===!0)return"true";if(a===!1)return"false";if(null===a)return"null";if("undefined"==typeof a)return"undefined";throw lf("esc","IMPOSSIBLE")},nextId:function(a,b){var c="v"+this.state.nextId++;return a||this.current().vars.push(c+(b?"="+b:"")),c},current:function(){return this.state[this.state.computing]}},pc.prototype={compile:function(a,b){var c=this,e=this.astBuilder.ast(a);this.expression=a,this.expensiveChecks=b,ic(e,c.$filter);var f,g;(f=lc(e))&&(g=this.recurse(f));var h,i=jc(e.body);i&&(h=[],d(i,function(a,b){var d=c.recurse(a);a.input=d,h.push(d),a.watchId=b}));var j=[];d(e.body,function(a){j.push(c.recurse(a.expression))});var k=0===e.body.length?n:1===e.body.length?j[0]:function(a,b){var c;return d(j,function(d){c=d(a,b)}),c};return g&&(k.assign=function(a,b,c){return g(a,c,b)}),h&&(k.inputs=h),k.literal=mc(e),k.constant=nc(e),k},recurse:function(a,b,c){var e,f,g,h=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case sf.Literal:return this.value(a.value,b);case sf.UnaryExpression:return f=this.recurse(a.argument),this["unary"+a.operator](f,b);case sf.BinaryExpression:return e=this.recurse(a.left),f=this.recurse(a.right),this["binary"+a.operator](e,f,b);case sf.LogicalExpression:return e=this.recurse(a.left),f=this.recurse(a.right),this["binary"+a.operator](e,f,b);case sf.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case sf.Identifier:return ac(a.name,h.expression),h.identifier(a.name,h.expensiveChecks||qc(a.name),b,c,h.expression);case sf.MemberExpression:return e=this.recurse(a.object,!1,!!c),a.computed||(ac(a.property.name,h.expression),f=a.property.name),a.computed&&(f=this.recurse(a.property)),a.computed?this.computedMember(e,f,b,c,h.expression):this.nonComputedMember(e,f,h.expensiveChecks,b,c,h.expression);case sf.CallExpression:return g=[],d(a.arguments,function(a){g.push(h.recurse(a))}),a.filter&&(f=this.$filter(a.callee.name)),a.filter||(f=this.recurse(a.callee,!0)),a.filter?function(a,c,d,e){for(var h=[],i=0;i<g.length;++i)h.push(g[i](a,c,d,e));var j=f.apply(void 0,h,e);return b?{context:void 0,name:void 0,value:j}:j}:function(a,c,d,e){var i,j=f(a,c,d,e);if(null!=j.value){cc(j.context,h.expression),dc(j.value,h.expression);for(var k=[],l=0;l<g.length;++l)k.push(cc(g[l](a,c,d,e),h.expression));i=cc(j.value.apply(j.context,k),h.expression)}return b?{value:i}:i};case sf.AssignmentExpression:return e=this.recurse(a.left,!0,1),f=this.recurse(a.right),function(a,c,d,g){var i=e(a,c,d,g),j=f(a,c,d,g);return cc(i.value,h.expression),ec(i.context),i.context[i.name]=j,b?{value:j}:j};case sf.ArrayExpression:return g=[],d(a.elements,function(a){g.push(h.recurse(a))}),function(a,c,d,e){for(var f=[],h=0;h<g.length;++h)f.push(g[h](a,c,d,e));return b?{value:f}:f};case sf.ObjectExpression:return g=[],d(a.properties,function(a){a.computed?g.push({key:h.recurse(a.key),computed:!0,value:h.recurse(a.value)}):g.push({key:a.key.type===sf.Identifier?a.key.name:""+a.key.value,computed:!1,value:h.recurse(a.value)})}),function(a,c,d,e){for(var f={},h=0;h<g.length;++h)g[h].computed?f[g[h].key(a,c,d,e)]=g[h].value(a,c,d,e):f[g[h].key]=g[h].value(a,c,d,e);return b?{value:f}:f};case sf.ThisExpression:return function(a){return b?{value:a}:a};case sf.LocalsExpression:return function(a,c){return b?{value:c}:c};case sf.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=s(g)?+g:0,b?{value:g}:g}},"unary-":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=s(g)?-g:0,b?{value:g}:g}},"unary!":function(a,b){return function(c,d,e,f){var g=!a(c,d,e,f);return b?{value:g}:g}},"binary+":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=gc(h,i);return c?{value:j}:j}},"binary-":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=(s(h)?h:0)-(s(i)?i:0);return c?{value:j}:j}},"binary*":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)*b(d,e,f,g);return c?{value:h}:h}},"binary/":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)/b(d,e,f,g);return c?{value:h}:h}},"binary%":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)%b(d,e,f,g);return c?{value:h}:h}},"binary===":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)===b(d,e,f,g);return c?{value:h}:h}},"binary!==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!==b(d,e,f,g);return c?{value:h}:h}},"binary==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)==b(d,e,f,g);return c?{value:h}:h}},"binary!=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!=b(d,e,f,g);return c?{value:h}:h}},"binary<":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<b(d,e,f,g);return c?{value:h}:h}},"binary>":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>b(d,e,f,g);return c?{value:h}:h}},"binary<=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<=b(d,e,f,g);return c?{value:h}:h}},"binary>=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>=b(d,e,f,g);return c?{value:h}:h}},"binary&&":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)&&b(d,e,f,g);return c?{value:h}:h}},"binary||":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)||b(d,e,f,g);return c?{value:h}:h}},"ternary?:":function(a,b,c,d){return function(e,f,g,h){var i=a(e,f,g,h)?b(e,f,g,h):c(e,f,g,h);return d?{value:i}:i}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,c,d,e){return function(f,g,h,i){var j=g&&a in g?g:f;d&&1!==d&&j&&!j[a]&&(j[a]={});var k=j?j[a]:void 0;return b&&cc(k,e),c?{context:j,name:a,value:k}:k}},computedMember:function(a,b,c,d,e){return function(f,g,h,i){var j,k,l=a(f,g,h,i);return null!=l&&(j=b(f,g,h,i),j=bc(j),ac(j,e),d&&1!==d&&(ec(l),l&&!l[j]&&(l[j]={})),k=l[j],cc(k,e)),c?{context:l,name:j,value:k}:k}},nonComputedMember:function(a,b,c,d,e,f){return function(g,h,i,j){var k=a(g,h,i,j);e&&1!==e&&(ec(k),k&&!k[b]&&(k[b]={}));var l=null!=k?k[b]:void 0;return(c||qc(b))&&cc(l,f),d?{context:k,name:b,value:l}:l}},inputs:function(a,b){return function(c,d,e,f){return f?f[b]:a(c,d,e)}}};var tf=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c,this.ast=new sf(a,c),this.astCompiler=c.csp?new pc(this.ast,b):new oc(this.ast,b)};tf.prototype={constructor:tf,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var uf=Object.prototype.valueOf,vf=b("$sce"),wf={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},xf=b("$compile"),yf=a.document.createElement("a"),zf=Hc(a.location.href);Kc.$inject=["$document"],Mc.$inject=["$provide"];var Af=22,Bf=".",Cf="0";Rc.$inject=["$locale"],Sc.$inject=["$locale"];var Df={yyyy:Xc("FullYear",4,0,!1,!0),yy:Xc("FullYear",2,0,!0,!0),y:Xc("FullYear",1,0,!1,!0),MMMM:Yc("Month"),MMM:Yc("Month",!0),MM:Xc("Month",2,1),M:Xc("Month",1,1),LLLL:Yc("Month",!1,!0),dd:Xc("Date",2),d:Xc("Date",1),HH:Xc("Hours",2),H:Xc("Hours",1),hh:Xc("Hours",2,-12),h:Xc("Hours",1,-12),mm:Xc("Minutes",2),m:Xc("Minutes",1),ss:Xc("Seconds",2),s:Xc("Seconds",1),sss:Xc("Milliseconds",3),EEEE:Yc("Day"),EEE:Yc("Day",!0),a:bd,Z:Zc,ww:ad(2),w:ad(1),G:cd,GG:cd,GGG:cd,GGGG:dd},Ef=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Ff=/^\-?\d+$/;ed.$inject=["$locale"];var Gf=p(Gd),Hf=p(Hd);id.$inject=["$parse"];var If=p({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===Rd.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),Jf={};d(Ae,function(a,b){function c(a,c,e){a.$watch(e[d],function(a){e.$set(b,!!a)})}if("multiple"!=a){var d=qb("ng-"+b),e=c;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[d]&&c(a,b,e)}),Jf[d]=function(){return{restrict:"A",priority:100,link:e}}}}),d(Ce,function(a,b){Jf[b]=function(){return{priority:100,link:function(a,c,d){if("ngPattern"===b&&"/"==d.ngPattern.charAt(0)){var e=d.ngPattern.match(Dd);if(e)return void d.$set("ngPattern",new RegExp(e[1],e[2]))}a.$watch(d[b],function(a){d.$set(b,a)})}}}}),d(["src","srcset","href"],function(a){var b=qb("ng-"+a);Jf[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===Rd.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){return b?(e.$set(g,b),void(Kd&&f&&d.prop(f,e[g]))):void("href"===a&&e.$set(g,null))})}}}});var Kf={$addControl:n,$$renameControl:kd,$removeControl:n,$setValidity:n,$setDirty:n,$setPristine:n,$setSubmitted:n},Lf="ng-submitted";ld.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Mf=function(a){return["$timeout","$parse",function(b,c){function d(a){return""===a?c('this[""]').assign:c(a).assign||n}var e={name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:ld,compile:function(c,e){c.addClass(ug).addClass(sg);var f=e.name?"name":!(!a||!e.ngForm)&&"ngForm";return{pre:function(a,c,e,g){var h=g[0];if(!("action"in e)){var i=function(b){a.$apply(function(){h.$commitViewValue(),h.$setSubmitted()}),b.preventDefault()};ne(c[0],"submit",i),c.on("$destroy",function(){b(function(){oe(c[0],"submit",i)},0,!1)})}var k=g[1]||h.$$parentForm;k.$addControl(h);var l=f?d(h.$name):n;f&&(l(a,h),e.$observe(f,function(b){h.$name!==b&&(l(a,void 0),h.$$parentForm.$$renameControl(h,b),(l=d(h.$name))(a,h))})),c.on("$destroy",function(){h.$$parentForm.$removeControl(h),l(a,void 0),j(h,Kf)})}}}};return e}]},Nf=Mf(),Of=Mf(!0),Pf=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Qf=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Rf=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Sf=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Tf=/^(\d{4,})-(\d{2})-(\d{2})$/,Uf=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Vf=/^(\d{4,})-W(\d\d)$/,Wf=/^(\d{4,})-(\d\d)$/,Xf=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Yf="keydown wheel mousedown",Zf=oa();d("date,datetime-local,month,time,week".split(","),function(a){Zf[a]=!0});var $f={text:nd,date:rd("date",Tf,qd(Tf,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":rd("datetimelocal",Uf,qd(Uf,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:rd("time",Xf,qd(Xf,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:rd("week",Vf,pd,"yyyy-Www"),month:rd("month",Wf,qd(Wf,["yyyy","MM"]),"yyyy-MM"),number:td,url:ud,email:vd,radio:wd,checkbox:yd,hidden:n,button:n,submit:n,reset:n,file:n},_f=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&($f[Gd(g.type)]||$f.text)(e,f,g,h[0],b,a,c,d)}}}}],ag=/^(true|false|\d+)$/,bg=function(){return{restrict:"A",priority:100,compile:function(a,b){return ag.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},cg=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,d){a.$$addBindingInfo(c,d.ngBind),c=c[0],b.$watch(d.ngBind,function(a){c.textContent=r(a)?"":a})}}}}],dg=["$interpolate","$compile",function(a,b){return{compile:function(c){return b.$$addBindingClass(c),function(c,d,e){var f=a(d.attr(e.$attr.ngBindTemplate));b.$$addBindingInfo(d,f.expressions),d=d[0],e.$observe("ngBindTemplate",function(a){d.textContent=r(a)?"":a})}}}}],eg=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){var c=f(b);d.html(a.getTrustedHtml(c)||"")})}}}}],fg=p({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),gg=zd("",!0),hg=zd("Odd",0),ig=zd("Even",1),jg=jd({compile:function(a,b){b.$set("ngCloak",void 0),a.removeClass("ng-cloak")}}),kg=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],lg={},mg={blur:!0,focus:!0};d("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=qb("ng-"+a);lg[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};mg[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var ng=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.$$createComment("end ngIf",e.ngIf),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=na(h.clone),a.leave(j).then(function(){j=null}),h=null))})}}}],og=["$templateRequest","$anchorScroll","$animate",function(a,b,c){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Ud.noop,compile:function(d,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(d,e,i,j,k){var l,m,n,o=0,p=function(){m&&(m.remove(),m=null),l&&(l.$destroy(),l=null),n&&(c.leave(n).then(function(){m=null}),m=n,n=null)};d.$watch(f,function(f){var i=function(){!s(h)||h&&!d.$eval(h)||b()},m=++o;f?(a(f,!0).then(function(a){if(!d.$$destroyed&&m===o){var b=d.$new();j.template=a;var h=k(b,function(a){p(),c.enter(a,null,e).then(i)});l=b,n=h,l.$emit("$includeContentLoaded",f),d.$eval(g)}},function(){d.$$destroyed||m===o&&(p(),d.$emit("$includeContentError",f))}),d.$emit("$includeContentRequested",f)):(p(),j.template=null)})}}}}],pg=["$compile",function(b){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){return Rd.call(d[0]).match(/SVG/)?(d.empty(),void b(Aa(f.template,a.document).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),void b(d.contents())(c))}}}],qg=jd({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),rg=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,c,e){var f=b.attr(c.$attr.ngList)||", ",g="false"!==c.ngTrim,h=g?Yd(f):f,i=function(a){if(!r(a)){var b=[];return a&&d(a.split(h),function(a){a&&b.push(g?Yd(a):a)}),b}};e.$parsers.push(i),e.$formatters.push(function(a){if(Wd(a))return a.join(f)}),e.$isEmpty=function(a){return!a||!a.length}}}},sg="ng-valid",tg="ng-invalid",ug="ng-pristine",vg="ng-dirty",wg="ng-untouched",xg="ng-touched",yg="ng-pending",zg="ng-empty",Ag="ng-not-empty",Bg=b("ngModel"),Cg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,c,e,f,g,h,i,j,k){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=k(c.name||"",!1)(a),this.$$parentForm=Kf;var l,m=f(c.ngModel),o=m.assign,p=m,q=o,t=null,u=this;this.$$setOptions=function(a){if(u.$options=a,a&&a.getterSetter){var b=f(c.ngModel+"()"),d=f(c.ngModel+"($$$p)");p=function(a){var c=m(a);return y(c)&&(c=b(a)),c},q=function(a,b){y(m(a))?d(a,{$$$p:b}):o(a,b)}}else if(!m.assign)throw Bg("nonassign","Expression '{0}' is non-assignable. Element: {1}",c.ngModel,Y(e))},this.$render=n,this.$isEmpty=function(a){return r(a)||""===a||null===a||a!==a},this.$$updateEmptyClasses=function(a){u.$isEmpty(a)?(g.removeClass(e,Ag),g.addClass(e,zg)):(g.removeClass(e,zg),g.addClass(e,Ag))};var v=0;Ad({ctrl:this,$element:e,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:g}),this.$setPristine=function(){u.$dirty=!1,u.$pristine=!0,g.removeClass(e,vg),g.addClass(e,ug)},this.$setDirty=function(){u.$dirty=!0,u.$pristine=!1,g.removeClass(e,ug),g.addClass(e,vg),u.$$parentForm.$setDirty()},this.$setUntouched=function(){u.$touched=!1,u.$untouched=!0,g.setClass(e,wg,xg)},this.$setTouched=function(){u.$touched=!0,u.$untouched=!1,g.setClass(e,xg,wg)},this.$rollbackViewValue=function(){h.cancel(t),u.$viewValue=u.$$lastCommittedViewValue,u.$render()},this.$validate=function(){if(!w(u.$modelValue)||!isNaN(u.$modelValue)){var a=u.$$lastCommittedViewValue,b=u.$$rawModelValue,c=u.$valid,d=u.$modelValue,e=u.$options&&u.$options.allowInvalid;u.$$runValidators(b,a,function(a){e||c===a||(u.$modelValue=a?b:void 0,u.$modelValue!==d&&u.$$writeModelToScope())})}},this.$$runValidators=function(a,b,c){function e(){var a=u.$$parserName||"parse";return r(l)?(h(a,null),!0):(l||(d(u.$validators,function(a,b){h(b,null)}),d(u.$asyncValidators,function(a,b){h(b,null)})),h(a,l),l)}function f(){var c=!0;return d(u.$validators,function(d,e){var f=d(a,b);c=c&&f,h(e,f)}),!!c||(d(u.$asyncValidators,function(a,b){h(b,null)}),!1)}function g(){var c=[],e=!0;d(u.$asyncValidators,function(d,f){var g=d(a,b);if(!G(g))throw Bg("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",g);h(f,void 0),c.push(g.then(function(){h(f,!0)},function(){e=!1,h(f,!1)}))}),c.length?j.all(c).then(function(){i(e)},n):i(!0)}function h(a,b){k===v&&u.$setValidity(a,b)}function i(a){k===v&&c(a)}v++;var k=v;return e()&&f()?void g():void i(!1)},this.$commitViewValue=function(){var a=u.$viewValue;h.cancel(t),(u.$$lastCommittedViewValue!==a||""===a&&u.$$hasNativeValidators)&&(u.$$updateEmptyClasses(a),u.$$lastCommittedViewValue=a,u.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function b(){u.$modelValue!==f&&u.$$writeModelToScope()}var c=u.$$lastCommittedViewValue,d=c;if(l=!r(d)||void 0)for(var e=0;e<u.$parsers.length;e++)if(d=u.$parsers[e](d),r(d)){l=!1;break}w(u.$modelValue)&&isNaN(u.$modelValue)&&(u.$modelValue=p(a));var f=u.$modelValue,g=u.$options&&u.$options.allowInvalid;u.$$rawModelValue=d,g&&(u.$modelValue=d,b()),u.$$runValidators(d,u.$$lastCommittedViewValue,function(a){g||(u.$modelValue=a?d:void 0,b())})},this.$$writeModelToScope=function(){q(a,u.$modelValue),d(u.$viewChangeListeners,function(a){try{a()}catch(a){b(a)}})},this.$setViewValue=function(a,b){u.$viewValue=a,u.$options&&!u.$options.updateOnDefault||u.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c,d=0,e=u.$options;e&&s(e.debounce)&&(c=e.debounce,w(c)?d=c:w(c[b])?d=c[b]:w(c.default)&&(d=c.default)),h.cancel(t),d?t=h(function(){u.$commitViewValue()},d):i.$$phase?u.$commitViewValue():a.$apply(function(){u.$commitViewValue()})},a.$watch(function(){var b=p(a);if(b!==u.$modelValue&&(u.$modelValue===u.$modelValue||b===b)){u.$modelValue=u.$$rawModelValue=b,l=void 0;for(var c=u.$formatters,d=c.length,e=b;d--;)e=c[d](e);u.$viewValue!==e&&(u.$$updateEmptyClasses(e),u.$viewValue=u.$$lastCommittedViewValue=e,u.$render(),u.$$runValidators(b,e,n))}return b})}],Dg=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Cg,priority:1,compile:function(b){return b.addClass(ug).addClass(wg).addClass(sg),{pre:function(a,b,c,d){var e=d[0],f=d[1]||e.$$parentForm;e.$$setOptions(d[2]&&d[2].$options),f.$addControl(e),c.$observe("name",function(a){e.$name!==a&&e.$$parentForm.$$renameControl(e,a)}),a.$on("$destroy",function(){e.$$parentForm.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];f.$options&&f.$options.updateOn&&c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(){f.$touched||(a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched))})}}}}}],Eg=/(\s+|^)default(\s+|$)/,Fg=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var c=this;this.$options=N(a.$eval(b.ngModelOptions)),s(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Yd(this.$options.updateOn.replace(Eg,function(){return c.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Gg=jd({terminal:!0,priority:1e3}),Hg=b("ngOptions"),Ig=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Jg=["$compile","$document","$parse",function(b,e,f){function g(a,b,d){function e(a,b,c,d,e){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=e}function g(a){var b;if(!j&&c(a))b=a;else{b=[];for(var d in a)a.hasOwnProperty(d)&&"$"!==d.charAt(0)&&b.push(d)}return b}var h=a.match(Ig);if(!h)throw Hg("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",a,Y(b));var i=h[5]||h[7],j=h[6],k=/ as /.test(h[0])&&h[1],l=h[9],m=f(h[2]?h[1]:i),n=k&&f(k),o=n||m,p=l&&f(l),q=l?function(a,b){return p(d,b)}:function(a){return Za(a)},r=function(a,b){return q(a,x(a,b))},s=f(h[2]||h[1]),t=f(h[3]||""),u=f(h[4]||""),v=f(h[8]),w={},x=j?function(a,b){return w[j]=b,w[i]=a,w}:function(a){return w[i]=a,w};return{trackBy:l,getTrackByValue:r,getWatchables:f(v,function(a){var b=[];a=a||[];for(var c=g(a),e=c.length,f=0;f<e;f++){var i=a===c?f:c[f],j=a[i],k=x(j,i),l=q(j,k);if(b.push(l),h[2]||h[1]){var m=s(d,k);b.push(m)}if(h[4]){var n=u(d,k);b.push(n)}}return b}),getOptions:function(){for(var a=[],b={},c=v(d)||[],f=g(c),h=f.length,i=0;i<h;i++){var j=c===f?i:f[i],k=c[j],m=x(k,j),n=o(d,m),p=q(n,m),w=s(d,m),y=t(d,m),z=u(d,m),A=new e(p,n,w,y,z);a.push(A),b[p]=A}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[r(a)]},getViewValueFromOption:function(a){return l?Ud.copy(a.viewValue):a.viewValue}}}}}function h(a,c,f,h){function k(a,b){var c=i.cloneNode(!1);b.appendChild(c),l(a,c)}function l(a,b){a.element=b,b.disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),a.value!==b.value&&(b.value=a.selectValue)}function m(){var a=x&&o.readValue();if(x)for(var b=x.items.length-1;b>=0;b--){var d=x.items[b];Ra(s(d.group)?d.element.parentNode:d.element)}x=y.getOptions();var e={};if(v&&c.prepend(n),x.items.forEach(function(a){var b;s(a.group)?(b=e[a.group],b||(b=j.cloneNode(!1),z.appendChild(b),b.label=null===a.group?"null":a.group,e[a.group]=b),k(a,b)):k(a,z)}),c[0].appendChild(z),p.$render(),!p.$isEmpty(a)){var f=o.readValue(),g=y.trackBy||q;(g?O(a,f):a===f)||(p.$setViewValue(f),p.$render())}}for(var n,o=h[0],p=h[1],q=f.multiple,r=0,t=c.children(),u=t.length;r<u;r++)if(""===t[r].value){n=t.eq(r);break}var v=!!n,w=Ld(i.cloneNode(!1));w.val("?");var x,y=g(f.ngOptions,c,a),z=e[0].createDocumentFragment(),A=function(){v||c.prepend(n),c.val(""),n.prop("selected",!0),n.attr("selected",!0)},B=function(){v||n.remove()},C=function(){c.prepend(w),c.val("?"),w.prop("selected",!0),w.attr("selected",!0)},D=function(){w.remove()};q?(p.$isEmpty=function(a){return!a||0===a.length},o.writeValue=function(a){x.items.forEach(function(a){a.element.selected=!1}),a&&a.forEach(function(a){var b=x.getOptionFromViewValue(a);b&&(b.element.selected=!0)})},o.readValue=function(){var a=c.val()||[],b=[];return d(a,function(a){var c=x.selectValueMap[a];c&&!c.disabled&&b.push(x.getViewValueFromOption(c))}),b},y.trackBy&&a.$watchCollection(function(){if(Wd(p.$viewValue))return p.$viewValue.map(function(a){return y.getTrackByValue(a)})},function(){p.$render()})):(o.writeValue=function(a){var b=x.getOptionFromViewValue(a);b?(c[0].value!==b.selectValue&&(D(),B(),c[0].value=b.selectValue,b.element.selected=!0),b.element.setAttribute("selected","selected")):null===a||v?(D(),A()):(B(),C())},o.readValue=function(){var a=x.selectValueMap[c.val()];return a&&!a.disabled?(B(),D(),x.getViewValueFromOption(a)):null},y.trackBy&&a.$watch(function(){return y.getTrackByValue(p.$viewValue)},function(){p.$render()})),v?(n.remove(),b(n)(a),n.removeClass("ng-scope")):n=Ld(i.cloneNode(!1)),c.empty(),m(),a.$watchCollection(y.getWatchables,m)}var i=a.document.createElement("option"),j=a.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=n},post:h}}}],Kg=["$locale","$interpolate","$log",function(a,b,c){var e=/{}/g,f=/^when(Minus)?(.+)$/;
return{link:function(g,h,i){function j(a){h.text(a||"")}var k,l=i.count,m=i.$attr.when&&h.attr(i.$attr.when),o=i.offset||0,p=g.$eval(m)||{},q={},s=b.startSymbol(),t=b.endSymbol(),u=s+l+"-"+o+t,v=Ud.noop;d(i,function(a,b){var c=f.exec(b);if(c){var d=(c[1]?"-":"")+Gd(c[2]);p[d]=h.attr(i.$attr[b])}}),d(p,function(a,c){q[c]=b(a.replace(e,u))}),g.$watch(l,function(b){var d=parseFloat(b),e=isNaN(d);if(e||d in p||(d=a.pluralCat(d-o)),d!==k&&!(e&&w(k)&&isNaN(k))){v();var f=q[d];r(f)?(null!=b&&c.debug("ngPluralize: no rule defined for '"+d+"' in "+m),v=n,j()):v=g.$watch(f,j),k=d}})}}}],Lg=["$parse","$animate","$compile",function(a,e,f){var g="$$NG_REMOVED",h=b("ngRepeat"),i=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))},j=function(a){return a.clone[0]},k=function(a){return a.clone[a.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(b,l){var m=l.ngRepeat,n=f.$$createComment("end ngRepeat",m),o=m.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!o)throw h("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",m);var p=o[1],q=o[2],r=o[3],s=o[4];if(o=p.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!o)throw h("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",p);var t=o[3]||o[1],u=o[2];if(r&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(r)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(r)))throw h("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",r);var v,w,x,y,z={$id:Za};return s?v=a(s):(x=function(a,b){return Za(b)},y=function(a){return a}),function(a,b,f,l,o){v&&(w=function(b,c,d){return u&&(z[u]=b),z[t]=c,z.$index=d,v(a,z)});var p=oa();a.$watchCollection(q,function(f){var l,q,s,v,z,A,B,C,D,E,F,G,H=b[0],I=oa();if(r&&(a[r]=f),c(f))D=f,C=w||x;else{C=w||y,D=[];for(var J in f)Fd.call(f,J)&&"$"!==J.charAt(0)&&D.push(J)}for(v=D.length,F=new Array(v),l=0;l<v;l++)if(z=f===D?l:D[l],A=f[z],B=C(z,A,l),p[B])E=p[B],delete p[B],I[B]=E,F[l]=E;else{if(I[B])throw d(F,function(a){a&&a.scope&&(p[a.id]=a)}),h("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",m,B,A);F[l]={id:B,scope:void 0,clone:void 0},I[B]=!0}for(var K in p){if(E=p[K],G=na(E.clone),e.leave(G),G[0].parentNode)for(l=0,q=G.length;l<q;l++)G[l][g]=!0;E.scope.$destroy()}for(l=0;l<v;l++)if(z=f===D?l:D[l],A=f[z],E=F[l],E.scope){s=H;do s=s.nextSibling;while(s&&s[g]);j(E)!=s&&e.move(na(E.clone),null,H),H=k(E),i(E.scope,l,t,A,u,z,v)}else o(function(a,b){E.scope=b;var c=n.cloneNode(!1);a[a.length++]=c,e.enter(a,null,H),H=c,E.clone=a,I[E.id]=E,i(E.scope,l,t,A,u,z,v)});p=I})}}}}],Mg="ng-hide",Ng="ng-hide-animate",Og=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,Mg,{tempClasses:Ng})})}}}],Pg=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,Mg,{tempClasses:Ng})})}}}],Qg=jd(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&d(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),Rg=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,e,f,g){var h=f.ngSwitch||f.on,i=[],j=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};c.$watch(h,function(c){var e,f;for(e=0,f=k.length;e<f;++e)a.cancel(k[e]);for(k.length=0,e=0,f=l.length;e<f;++e){var h=na(j[e].clone);l[e].$destroy();var n=k[e]=a.leave(h);n.then(m(k,e))}j.length=0,l.length=0,(i=g.cases["!"+c]||g.cases["?"])&&d(i,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen");var g={clone:d};j.push(g),a.enter(d,f.parent(),f)})})})}}}],Sg=jd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),Tg=jd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),Ug=b("ngTransclude"),Vg=["$compile",function(a){return{restrict:"EAC",terminal:!0,compile:function(b){var c=a(b.contents());return b.empty(),function(a,b,d,e,f){function g(a,c){a.length?b.append(a):(h(),c.$destroy())}function h(){c(a,function(a){b.append(a)})}if(!f)throw Ug("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Y(b));d.ngTransclude===d.$attr.ngTransclude&&(d.ngTransclude="");var i=d.ngTransclude||d.ngTranscludeSlot;f(g,null,i),i&&!f.isSlotFilled(i)&&h()}}}}],Wg=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"==c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],Xg={$setViewValue:n,$render:n},Yg=["$element","$scope",function(b,c){var d=this,e=new $a;d.ngModelCtrl=Xg,d.unknownOption=Ld(a.document.createElement("option")),d.renderUnknownOption=function(a){var c="? "+Za(a)+" ?";d.unknownOption.val(c),b.prepend(d.unknownOption),b.val(c)},c.$on("$destroy",function(){d.renderUnknownOption=n}),d.removeUnknownOption=function(){d.unknownOption.parent()&&d.unknownOption.remove()},d.readValue=function(){return d.removeUnknownOption(),b.val()},d.writeValue=function(a){d.hasOption(a)?(d.removeUnknownOption(),b.val(a),""===a&&d.emptyOption.prop("selected",!0)):null==a&&d.emptyOption?(d.removeUnknownOption(),b.val("")):d.renderUnknownOption(a)},d.addOption=function(a,b){if(b[0].nodeType!==he){la(a,'"option value"'),""===a&&(d.emptyOption=b);var c=e.get(a)||0;e.put(a,c+1),d.ngModelCtrl.$render(),Cd(b)}},d.removeOption=function(a){var b=e.get(a);b&&(1===b?(e.remove(a),""===a&&(d.emptyOption=void 0)):e.put(a,b-1))},d.hasOption=function(a){return!!e.get(a)},d.registerOption=function(a,b,c,e,f){if(e){var g;c.$observe("value",function(a){s(g)&&d.removeOption(g),g=a,d.addOption(a,b)})}else f?a.$watch(f,function(a,e){c.$set("value",a),e!==a&&d.removeOption(e),d.addOption(a,b)}):d.addOption(c.value,b);b.on("$destroy",function(){d.removeOption(c.value),d.ngModelCtrl.$render()})}}],Zg=function(){function a(a,b,c,e){var f=e[1];if(f){var g=e[0];if(g.ngModelCtrl=f,b.on("change",function(){a.$apply(function(){f.$setViewValue(g.readValue())})}),c.multiple){g.readValue=function(){var a=[];return d(b.find("option"),function(b){b.selected&&a.push(b.value)}),a},g.writeValue=function(a){var c=new $a(a);d(b.find("option"),function(a){a.selected=s(c.get(a.value))})};var h,i=NaN;a.$watch(function(){i!==f.$viewValue||O(h,f.$viewValue)||(h=qa(f.$viewValue),f.$render()),i=f.$viewValue}),f.$isEmpty=function(a){return!a||0===a.length}}}}function b(a,b,c,d){var e=d[1];if(e){var f=d[0];e.$render=function(){f.writeValue(e.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Yg,priority:1,link:{pre:a,post:b}}},$g=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,c){if(s(c.value))var d=a(c.value,!0);else{var e=a(b.text(),!0);e||c.$set("value",b.text())}return function(a,b,c){var f="$selectController",g=b.parent(),h=g.data(f)||g.parent().data(f);h&&h.registerOption(a,b,c,d,e)}}}}],_g=p({restrict:"E",terminal:!1}),ah=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},bh=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f,g=d.ngPattern||d.pattern;d.$observe("pattern",function(a){if(v(a)&&a.length>0&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw b("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",g,a,Y(c));f=a||void 0,e.$validate()}),e.$validators.pattern=function(a,b){return e.$isEmpty(b)||r(f)||f.test(b)}}}}},ch=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){var b=l(a);e=isNaN(b)?-1:b,d.$validate()}),d.$validators.maxlength=function(a,b){return e<0||d.$isEmpty(b)||b.length<=e}}}}},dh=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=l(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}};return a.angular.bootstrap?void(a.console&&console.log("WARNING: Tried to load angular more than once.")):(ia(),ta(Ud),Ud.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return b==-1?0:a.length-b-1}function c(a,c){var d=c;void 0===d&&(d=Math.min(b(a),3));var e=Math.pow(10,d),f=(a*e|0)%e;return{v:d,f:f}}var d={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,b){var e=0|a,f=c(a,b);return 1==e&&0==f.v?d.ONE:d.OTHER}})}]),void Ld(a.document).ready(function(){da(a.document,ea)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),angular.module("exceptionless",[]).constant("$ExceptionlessClient",exceptionless.ExceptionlessClient.default).factory("exceptionlessHttpInterceptor",["$q","$ExceptionlessClient",function(a,b){return{responseError:function(c){if(404===c.status)b.submitNotFound(c.config.url);else if(401!==c.status){var d="["+c.status+"] "+(c.data&&c.data.Message?c.data.Message:c.config.url);b.createUnhandledException(new Error(d),"errorHttpInterceptor").setManualStackingInfo({Status:c.status,ExceptionType:"Error",Path:c.config.method+" "+c.config.url}).setSource(c.config.url).setProperty("request",c.config).submit()}return a.reject(c)}}}]).config(["$httpProvider","$provide","$ExceptionlessClient",function(a,b,c){a.interceptors.push("exceptionlessHttpInterceptor"),b.decorator("$exceptionHandler",["$delegate",function(a){return function(b,d){a(b,d),c.createUnhandledException(b,"$exceptionHandler").setMessage(d).submit()}}]),b.decorator("$log",["$delegate",function(a){function b(b,d){var e=a[b];return a[b]=function(){angular.mock&&(a[b].logs=[]),e.apply(null,arguments),arguments[0]&&arguments[0].length>0&&c.submitLog(null,arguments[0],d)}}return a.log=b("log","Trace"),a.info=b("info","Info"),a.warn=b("warn","Warn"),a.debug=b("debug","Debug"),a.error=b("error","Error"),a}])}]).run(["$rootScope","$ExceptionlessClient",function(a,b){a.$on("$routeChangeSuccess",function(a,c,d){d&&b.createFeatureUsage(d.name).setProperty("next",c).setProperty("current",d).submit()}),a.$on("$routeChangeError",function(a,c,d,e){b.createUnhandledException(new Error(e),"$routeChangeError").setProperty("current",c).setProperty("previous",d).submit()}),a.$on("$stateChangeSuccess",function(a,c,d,e,f){c&&"otherwise"!==c.name&&b.createFeatureUsage(c.controller||c.name).setProperty("toState",c).setProperty("toParams",d).setProperty("fromState",e).setProperty("fromParams",f).submit()}),a.$on("$stateNotFound",function(a,c,d,e){c&&b.createNotFound(c.to).setProperty("unfoundState",c).setProperty("fromState",d).setProperty("fromParams",e).submit()});var c="$stateChangeError";a.$on(c,function(a,d,e,f,g,h){if(h){var i=h&&404===h.status?b.createNotFound(h.config.url):b.createUnhandledException(h,c);i.setSource(c).setMessage(h&&h.statusText).setProperty("toState",d).setProperty("toParams",e).setProperty("fromState",f).setProperty("fromParams",g).submit()}}),a.$on("$destroy",function(){b.config.queue.process()})}]),function(a,b){"use strict";function c(a,b,c){if(!a)throw pa("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function d(a,b){return a||b?a?b?(X(a)&&(a=a.join(" ")),X(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function e(a){var b={};return a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from),b}function f(a,b,c){var d="";return a=X(a)?a:a&&aa(a)&&a.length?a.split(/\s+/):[],W(a,function(a,e){a&&a.length>0&&(d+=e>0?" ":"",d+=c?b+a:a+b)}),d}function g(a,b){var c=a.indexOf(b);b>=0&&a.splice(c,1)}function h(a){if(a instanceof ca)switch(a.length){case 0:return a;case 1:if(a[0].nodeType===L)return a;break;default:return ca(i(a))}if(a.nodeType===L)return ca(a)}function i(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType==L)return c}}function j(a,b,c){W(b,function(b){a.addClass(b,c)})}function k(a,b,c){W(b,function(b){a.removeClass(b,c)})}function l(a){return function(b,c){c.addClass&&(j(a,b,c.addClass),c.addClass=null),c.removeClass&&(k(a,b,c.removeClass),c.removeClass=null)}}function m(a){if(a=a||{},!a.$$prepared){var b=a.domOperation||da;a.domOperation=function(){a.$$domOperationFired=!0,b(),b=da},a.$$prepared=!0}return a}function n(a,b){o(a,b),p(a,b)}function o(a,b){b.from&&(a.css(b.from),b.from=null)}function p(a,b){b.to&&(a.css(b.to),b.to=null)}function q(a,b,c){var d=b.options||{},e=c.options||{},f=(d.addClass||"")+" "+(e.addClass||""),g=(d.removeClass||"")+" "+(e.removeClass||""),h=r(a.attr("class"),f,g);e.preparationClasses&&(d.preparationClasses=y(e.preparationClasses,d.preparationClasses),delete e.preparationClasses);var i=d.domOperation!==da?d.domOperation:null;return V(d,e),i&&(d.domOperation=i),h.addClass?d.addClass=h.addClass:d.addClass=null,h.removeClass?d.removeClass=h.removeClass:d.removeClass=null,b.addClass=d.addClass,b.removeClass=d.removeClass,d}function r(a,b,c){function d(a){aa(a)&&(a=a.split(" "));var b={};return W(a,function(a){a.length&&(b[a]=!0)}),b}var e=1,f=-1,g={};a=d(a),b=d(b),W(b,function(a,b){g[b]=e}),c=d(c),W(c,function(a,b){g[b]=g[b]===e?null:f});var h={addClass:"",removeClass:""};return W(g,function(b,c){var d,g;b===e?(d="addClass",g=!a[c]||a[c+N]):b===f&&(d="removeClass",g=a[c]||a[c+M]),g&&(h[d].length&&(h[d]+=" "),h[d]+=c)}),h}function s(a){return a instanceof ca?a[0]:a}function t(a,b,c){var d="";b&&(d=f(b,O,!0)),c.addClass&&(d=y(d,f(c.addClass,M))),c.removeClass&&(d=y(d,f(c.removeClass,N))),d.length&&(c.preparationClasses=d,a.addClass(d))}function u(a,b){b.preparationClasses&&(a.removeClass(b.preparationClasses),b.preparationClasses=null),b.activeClasses&&(a.removeClass(b.activeClasses),b.activeClasses=null)}function v(a,b){var c=b?"-"+b+"s":"";return x(a,[na,c]),[na,c]}function w(a,b){var c=b?"paused":"",d=J+ja;return x(a,[d,c]),[d,c]}function x(a,b){var c=b[0],d=b[1];a.style[c]=d}function y(a,b){return a?b?a+" "+b:a:b}function z(a){return[ma,a+"s"]}function A(a,b){var c=b?la:na;return[c,a+"s"]}function B(a,b,c){var d=Object.create(null),e=a.getComputedStyle(b)||{};return W(c,function(a,b){var c=e[a];if(c){var f=c.charAt(0);("-"===f||"+"===f||f>=0)&&(c=C(c)),0===c&&(c=null),d[b]=c}}),d}function C(a){var b=0,c=a.split(/\s*,\s*/);return W(c,function(a){"s"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a=parseFloat(a)||0,b=b?Math.max(a,b):a}),b}function D(a){return 0===a||null!=a}function E(a,b){var c=H,d=a+"s";return b?c+=ea:d+=" linear all",[c,d]}function F(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){var c=a[b];return c?c.total:0},get:function(b){var c=a[b];return c&&c.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}function G(a,b,c){W(c,function(c){a[c]=Y(a[c])?a[c]:b.style.getPropertyValue(c)})}var H,I,J,K,L=1,M="-add",N="-remove",O="ng-",P="-active",Q="-prepare",R="ng-animate",S="$$ngAnimateChildren",T="";void 0===a.ontransitionend&&void 0!==a.onwebkittransitionend?(T="-webkit-",H="WebkitTransition",I="webkitTransitionEnd transitionend"):(H="transition",I="transitionend"),void 0===a.onanimationend&&void 0!==a.onwebkitanimationend?(T="-webkit-",J="WebkitAnimation",K="webkitAnimationEnd animationend"):(J="animation",K="animationend");var U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea="Duration",fa="Property",ga="Delay",ha="TimingFunction",ia="IterationCount",ja="PlayState",ka=9999,la=J+ga,ma=J+ea,na=H+ga,oa=H+ea,pa=b.$$minErr("ng"),qa=["$$rAF",function(a){function b(a){d=d.concat(a),c()}function c(){if(d.length){for(var b=d.shift(),f=0;f<b.length;f++)b[f]();e||a(function(){e||c()})}}var d,e;return d=b.queue=[],b.waitUntilQuiet=function(b){e&&e(),e=a(function(){e=null,b(),c()})},b}],ra=["$interpolate",function(a){return{link:function(b,c,d){function e(a){a="on"===a||"true"===a,c.data(S,a)}var f=d.ngAnimateChildren;aa(f)&&0===f.length?c.data(S,!0):(e(a(f)(b)),d.$observe("ngAnimateChildren",e))}}}],sa="$$animateCss",ta=1e3,ua=3,va=1.5,wa={transitionDuration:oa,transitionDelay:na,transitionProperty:H+fa,animationDuration:ma,animationDelay:la,animationIterationCount:J+ia},xa={transitionDuration:oa,transitionDelay:na,animationDuration:ma,animationDelay:la},ya=["$animateProvider",function(a){var b=F(),c=F();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(a,d,h,i,j,k,q,r){function t(a,b){var c="$$ngAnimateParentKey",d=a.parentNode,e=d[c]||(d[c]=++Q);return e+"-"+a.getAttribute("class")+"-"+b}function u(c,d,e,f){var g=b.get(e);return g||(g=B(a,c,f),"infinite"===g.animationIterationCount&&(g.animationIterationCount=1)),b.put(e,g),g}function y(e,g,h,i){var j;if(b.count(h)>0&&(j=c.get(h),!j)){var k=f(g,"-stagger");d.addClass(e,k),j=B(a,e,i),j.animationDuration=Math.max(j.animationDuration,0),j.transitionDuration=Math.max(j.transitionDuration,0),d.removeClass(e,k),c.put(h,j)}return j||{}}function C(a){R.push(a),q.waitUntilQuiet(function(){b.flush(),c.flush();for(var a=j(),d=0;d<R.length;d++)R[d](a);R.length=0})}function F(a,b,c){var d=u(a,b,c,wa),e=d.animationDelay,f=d.transitionDelay;return d.maxDelay=e&&f?Math.max(e,f):e||f,d.maxDuration=Math.max(d.animationDuration*d.animationIterationCount,d.transitionDuration),d}var L=l(d),Q=0,R=[];return function(a,c){function j(){q()}function l(){q(!0)}function q(b){if(!(Y||$&&Z)){Y=!0,Z=!1,S.$$skipPreparationClasses||d.removeClass(a,wa),d.removeClass(a,za),w(V,!1),v(V,!1),W(ja,function(a){V.style[a[0]]=""}),L(a,S),n(a,S),Object.keys(T).length&&W(T,function(a,b){a?V.style.setProperty(b,a):V.style.removeProperty(b)}),S.onDone&&S.onDone(),na&&na.length&&a.off(na.join(" "),Q);var c=a.data(sa);c&&(i.cancel(c[0].timer),a.removeData(sa)),_&&_.complete(!b)}}function u(a){Na.blockTransition&&v(V,a),Na.blockKeyframeAnimation&&w(V,!!a)}function B(){return _=new h({end:j,cancel:l}),C(da),q(),{$$willAnimate:!1,start:function(){return _},end:j}}function Q(a){a.stopPropagation();var b=a.originalEvent||a,c=b.$manualTimeStamp||Date.now(),d=parseFloat(b.elapsedTime.toFixed(ua));Math.max(c-ia,0)>=ca&&d>=ea&&($=!0,q())}function R(){function b(){if(!Y){if(u(!1),W(ja,function(a){var b=a[0],c=a[1];V.style[b]=c}),L(a,S),d.addClass(a,za),Na.recalculateTimingStyles){if(ya=V.className+" "+wa,Ca=t(V,ya),La=F(V,ya,Ca),Ma=La.maxDelay,ba=Math.max(Ma,0),ea=La.maxDuration,0===ea)return void q();Na.hasTransitions=La.transitionDuration>0,Na.hasAnimations=La.animationDuration>0}if(Na.applyAnimationDelay&&(Ma="boolean"!=typeof S.delay&&D(S.delay)?parseFloat(S.delay):Ma,ba=Math.max(Ma,0),La.animationDelay=Ma,Oa=A(Ma,!0),ja.push(Oa),V.style[Oa[0]]=Oa[1]),ca=ba*ta,ga=ea*ta,S.easing){var b,e=S.easing;Na.hasTransitions&&(b=H+ha,ja.push([b,e]),V.style[b]=e),Na.hasAnimations&&(b=J+ha,ja.push([b,e]),V.style[b]=e)}La.transitionDuration&&na.push(I),La.animationDuration&&na.push(K),ia=Date.now();var f=ca+va*ga,g=ia+f,h=a.data(sa)||[],j=!0;if(h.length){var k=h[0];j=g>k.expectedEndTime,j?i.cancel(k.timer):h.push(q)}if(j){var l=i(c,f,!1);h[0]={timer:l,expectedEndTime:g},h.push(q),a.data(sa,h)}na.length&&a.on(na.join(" "),Q),S.to&&(S.cleanupStyles&&G(T,V,Object.keys(S.to)),p(a,S))}}function c(){var b=a.data(sa);if(b){for(var c=1;c<b.length;c++)b[c]();a.removeData(sa)}}if(!Y){if(!V.parentNode)return void q();var e=function(a){if($)Z&&a&&(Z=!1,q());else if(Z=!a,La.animationDuration){var b=w(V,Z);Z?ja.push(b):g(ja,b)}},f=Ja>0&&(La.transitionDuration&&0===Da.transitionDuration||La.animationDuration&&0===Da.animationDuration)&&Math.max(Da.animationDelay,Da.transitionDelay);f?i(b,Math.floor(f*Ja*ta),!1):b(),aa.resume=function(){e(!0)},aa.pause=function(){e(!1)}}}var S=c||{};S.$$prepared||(S=m(U(S)));var T={},V=s(a);if(!V||!V.parentNode||!r.enabled())return B();var Y,Z,$,_,aa,ba,ca,ea,ga,ia,ja=[],la=a.attr("class"),ma=e(S),na=[];if(0===S.duration||!k.animations&&!k.transitions)return B();var oa=S.event&&X(S.event)?S.event.join(" "):S.event,pa=oa&&S.structural,qa="",ra="";pa?qa=f(oa,O,!0):oa&&(qa=oa),S.addClass&&(ra+=f(S.addClass,M)),S.removeClass&&(ra.length&&(ra+=" "),ra+=f(S.removeClass,N)),S.applyClassesEarly&&ra.length&&L(a,S);var wa=[qa,ra].join(" ").trim(),ya=la+" "+wa,za=f(wa,P),Aa=ma.to&&Object.keys(ma.to).length>0,Ba=(S.keyframeStyle||"").length>0;if(!Ba&&!Aa&&!wa)return B();var Ca,Da;if(S.stagger>0){var Ea=parseFloat(S.stagger);Da={transitionDelay:Ea,animationDelay:Ea,transitionDuration:0,animationDuration:0}}else Ca=t(V,ya),Da=y(V,wa,Ca,xa);S.$$skipPreparationClasses||d.addClass(a,wa);var Fa;if(S.transitionStyle){var Ga=[H,S.transitionStyle];x(V,Ga),ja.push(Ga)}if(S.duration>=0){Fa=V.style[H].length>0;var Ha=E(S.duration,Fa);x(V,Ha),ja.push(Ha)}if(S.keyframeStyle){var Ia=[J,S.keyframeStyle];x(V,Ia),ja.push(Ia)}var Ja=Da?S.staggerIndex>=0?S.staggerIndex:b.count(Ca):0,Ka=0===Ja;Ka&&!S.skipBlocking&&v(V,ka);var La=F(V,ya,Ca),Ma=La.maxDelay;ba=Math.max(Ma,0),ea=La.maxDuration;var Na={};if(Na.hasTransitions=La.transitionDuration>0,Na.hasAnimations=La.animationDuration>0,Na.hasTransitionAll=Na.hasTransitions&&"all"==La.transitionProperty,Na.applyTransitionDuration=Aa&&(Na.hasTransitions&&!Na.hasTransitionAll||Na.hasAnimations&&!Na.hasTransitions),Na.applyAnimationDuration=S.duration&&Na.hasAnimations,Na.applyTransitionDelay=D(S.delay)&&(Na.applyTransitionDuration||Na.hasTransitions),Na.applyAnimationDelay=D(S.delay)&&Na.hasAnimations,Na.recalculateTimingStyles=ra.length>0,(Na.applyTransitionDuration||Na.applyAnimationDuration)&&(ea=S.duration?parseFloat(S.duration):ea,Na.applyTransitionDuration&&(Na.hasTransitions=!0,La.transitionDuration=ea,Fa=V.style[H+fa].length>0,ja.push(E(ea,Fa))),Na.applyAnimationDuration&&(Na.hasAnimations=!0,La.animationDuration=ea,ja.push(z(ea)))),0===ea&&!Na.recalculateTimingStyles)return B();if(null!=S.delay){var Oa;"boolean"!=typeof S.delay&&(Oa=parseFloat(S.delay),ba=Math.max(Oa,0)),Na.applyTransitionDelay&&ja.push(A(Oa)),Na.applyAnimationDelay&&ja.push(A(Oa,!0))}return null==S.duration&&La.transitionDuration>0&&(Na.recalculateTimingStyles=Na.recalculateTimingStyles||Ka),ca=ba*ta,ga=ea*ta,S.skipBlocking||(Na.blockTransition=La.transitionDuration>0,Na.blockKeyframeAnimation=La.animationDuration>0&&Da.animationDelay>0&&0===Da.animationDuration),S.from&&(S.cleanupStyles&&G(T,V,Object.keys(S.from)),o(a,S)),Na.blockTransition||Na.blockKeyframeAnimation?u(ea):S.skipBlocking||v(V,!1),{$$willAnimate:!0,end:j,start:function(){if(!Y)return aa={end:j,cancel:l,resume:null,pause:null},_=new h(aa),C(R),_}}}}]}],za=["$$animationProvider",function(a){function b(a){return a.parentNode&&11===a.parentNode.nodeType}a.drivers.push("$$animateCssDriver");var c="ng-animate-shim",d="ng-anchor",e="ng-anchor-out",f="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,g,h,i,j,k,m){function n(a){return a.replace(/\bng-\S+\b/g,"")}function o(a,b){return aa(a)&&(a=a.split(" ")),aa(b)&&(b=b.split(" ")),a.filter(function(a){return b.indexOf(a)===-1}).join(" ")}function p(b,g,i){function j(a){var b={},c=s(a).getBoundingClientRect();return W(["width","height","top","left"],function(a){var d=c[a];switch(a){case"top":d+=t.scrollTop;break;case"left":d+=t.scrollLeft}b[a]=Math.floor(d)+"px"}),b}function k(){var b=a(q,{addClass:e,delay:!0,from:j(g)});return b.$$willAnimate?b:null}function l(a){return a.attr("class")||""}function m(){var b=n(l(i)),c=o(b,r),d=o(r,b),g=a(q,{to:j(i),addClass:f+" "+c,removeClass:e+" "+d,delay:!0});return g.$$willAnimate?g:null}function p(){q.remove(),g.removeClass(c),i.removeClass(c)}var q=ca(s(g).cloneNode(!0)),r=n(l(q));g.addClass(c),i.addClass(c),q.addClass(d),v.append(q);var u,w=k();if(!w&&(u=m(),!u))return p();var x=w||u;return{start:function(){function a(){c&&c.end()}var b,c=x.start();return c.done(function(){return c=null,!u&&(u=m())?(c=u.start(),c.done(function(){c=null,p(),b.complete()}),c):(p(),void b.complete())}),b=new h({end:a,cancel:a})}}}function q(a,b,c,d){var e=r(a,da),f=r(b,da),g=[];if(W(d,function(a){var b=a.out,d=a.in,e=p(c,b,d);e&&g.push(e)}),e||f||0!==g.length)return{start:function(){function a(){W(b,function(a){a.end()})}var b=[];e&&b.push(e.start()),f&&b.push(f.start()),W(g,function(a){b.push(a.start())});var c=new h({end:a,cancel:a});return h.all(b,function(a){c.complete(a)}),c}}}function r(b){var c=b.element,d=b.options||{};b.structural&&(d.event=b.event,d.structural=!0,d.applyClassesEarly=!0,"leave"===b.event&&(d.onDone=d.domOperation)),d.preparationClasses&&(d.event=y(d.event,d.preparationClasses));var e=a(c,d);return e.$$willAnimate?e:null}if(!j.animations&&!j.transitions)return da;var t=m[0].body,u=s(i),v=ca(b(u)||t.contains(u)?u:t);l(k);return function(a){return a.from&&a.to?q(a.from,a.to,a.classes,a.anchors):r(a)}}]}],Aa=["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){function e(c){c=X(c)?c:c.split(" ");for(var d=[],e={},f=0;f<c.length;f++){var g=c[f],h=a.$$registeredAnimations[g];h&&!e[g]&&(d.push(b.get(h)),e[g]=!0)}return d}var f=l(d);return function(a,b,d,g){function h(){g.domOperation(),f(a,g)}function i(){o=!0,h(),n(a,g)}function j(a,b,d,e,f){var g;switch(d){case"animate":g=[b,e.from,e.to,f];break;case"setClass":g=[b,r,s,f];break;case"addClass":g=[b,r,f];break;case"removeClass":g=[b,s,f];break;default:g=[b,f]}g.push(e);var h=a.apply(a,g);if(h)if($(h.start)&&(h=h.start()),h instanceof c)h.done(f);else if($(h))return h;return da}function k(a,b,d,e,f){var g=[];return W(e,function(e){var h=e[f];h&&g.push(function(){var e,f,g=!1,i=function(a){g||(g=!0,(f||da)(a),e.complete(!a))};return e=new c({end:function(){i()},cancel:function(){i(!0)}}),f=j(h,a,b,d,function(a){var b=a===!1;i(b)}),e})}),g}function l(a,b,d,e,f){var g=k(a,b,d,e,f);if(0===g.length){var h,i;"beforeSetClass"===f?(h=k(a,"removeClass",d,e,"beforeRemoveClass"),i=k(a,"addClass",d,e,"beforeAddClass")):"setClass"===f&&(h=k(a,"removeClass",d,e,"removeClass"),i=k(a,"addClass",d,e,"addClass")),h&&(g=g.concat(h)),i&&(g=g.concat(i))}if(0!==g.length)return function(a){var b=[];return g.length&&W(g,function(a){b.push(a())}),b.length?c.all(b,a):a(),function(a){W(b,function(b){a?b.cancel():b.end()})}}}var o=!1;3===arguments.length&&_(d)&&(g=d,d=null),g=m(g),d||(d=a.attr("class")||"",g.addClass&&(d+=" "+g.addClass),g.removeClass&&(d+=" "+g.removeClass));var p,q,r=g.addClass,s=g.removeClass,t=e(d);if(t.length){var u,v;"leave"==b?(v="leave",u="afterLeave"):(v="before"+b.charAt(0).toUpperCase()+b.substr(1),u=b),"enter"!==b&&"move"!==b&&(p=l(a,b,g,t,v)),q=l(a,b,g,t,u)}if(p||q){var w;return{$$willAnimate:!0,end:function(){return w?w.end():(i(),w=new c,w.complete(!0)),w},start:function(){function a(a){i(a),w.complete(a)}function b(b){o||((d||da)(b),a(b))}if(w)return w;w=new c;var d,e=[];return p&&e.push(function(a){d=p(a)}),e.length?e.push(function(a){h(),a(!0)}):h(),q&&e.push(function(a){d=q(a)}),w.setHost({end:function(){b()},cancel:function(){b(!0)}}),c.chain(e,a),w}}}}}]}],Ba=["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(a,b){function c(b){var c=b.element,d=b.event,e=b.options,f=b.classes;return a(c,d,f,e)}return function(a){if(a.from&&a.to){var d=c(a.from),e=c(a.to);if(!d&&!e)return;return{start:function(){function a(){return function(){W(f,function(a){a.end()})}}function c(a){g.complete(a)}var f=[];d&&f.push(d.start()),e&&f.push(e.start()),b.all(f,c);var g=new b({end:a(),cancel:a()});return g}}}return c(a)}}]}],Ca="data-ng-animate",Da="$ngAnimatePin",Ea=["$animateProvider",function(b){function d(a){if(!a)return null;var b=a.split(o),c=Object.create(null);return W(b,function(a){c[a]=!0}),c}function e(a,b){if(a&&b){var c=d(b);return a.split(o).some(function(a){return c[a]})}}function f(a,b,c,d){return p[a].some(function(a){return a(b,c,d)})}function g(a,b){var c=(a.addClass||"").length>0,d=(a.removeClass||"").length>0;return b?c&&d:c||d}var j=1,k=2,o=" ",p=this.rules={skip:[],cancel:[],join:[]};p.join.push(function(a,b,c){return!b.structural&&g(b)}),p.skip.push(function(a,b,c){return!b.structural&&!g(b)}),p.skip.push(function(a,b,c){return"leave"==c.event&&b.structural}),p.skip.push(function(a,b,c){return c.structural&&c.state===k&&!b.structural}),p.cancel.push(function(a,b,c){return c.structural&&b.structural}),p.cancel.push(function(a,b,c){return c.state===k&&b.structural}),p.cancel.push(function(a,b,c){if(c.structural)return!1;var d=b.addClass,f=b.removeClass,g=c.addClass,h=c.removeClass;return!(ba(d)&&ba(f)||ba(g)&&ba(h))&&(e(d,h)||e(f,g))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(d,e,o,p,r,v,w,x,y,z){function A(){var a=!1;return function(b){a?b():e.$$postDigest(function(){a=!0,b()})}}function B(a,b){return q(a,b,{})}function C(a,b,c){var d=s(b),e=s(a),f=[],g=Q[c];return g&&W(g,function(a){da.call(a.node,d)?f.push(a.callback):"leave"===c&&da.call(a.node,e)&&f.push(a.callback)}),f}function D(a,b,c){var d=i(b);return a.filter(function(a){var b=a.node===d&&(!c||a.callback===c);return!b})}function E(a,b){"close"!==a||b[0].parentNode||ea.off(b)}function F(a,b,c){function i(b,c,e,f){z(function(){var b=C(r,a,c);b.length?d(function(){W(b,function(b){b(a,e,f)}),E(e,a)}):E(e,a)}),b.progress(c,e,f)}function l(b){u(a,x),$(a,x),n(a,x),x.domOperation(),y.complete(!b)}var o,r,x=U(c);a=h(a),a&&(o=s(a),r=a.parent()),x=m(x);var y=new w,z=A();if(X(x.addClass)&&(x.addClass=x.addClass.join(" ")),x.addClass&&!aa(x.addClass)&&(x.addClass=null),X(x.removeClass)&&(x.removeClass=x.removeClass.join(" ")),x.removeClass&&!aa(x.removeClass)&&(x.removeClass=null),x.from&&!_(x.from)&&(x.from=null),x.to&&!_(x.to)&&(x.to=null),!o)return l(),y;var D=[o.className,x.addClass,x.removeClass].join(" ");if(!T(D))return l(),y;var F=["enter","move","leave"].indexOf(b)>=0,I=p[0].hidden,L=!O||I||N.get(o),P=!L&&M.get(o)||{},Q=!!P.state;if(L||Q&&P.state==j||(L=!J(a,r,b)),L)return I&&i(y,b,"start"),l(),I&&i(y,b,"close"),y;
F&&G(a);var R={structural:F,element:a,event:b,addClass:x.addClass,removeClass:x.removeClass,close:l,options:x,runner:y};if(Q){var S=f("skip",a,R,P);if(S)return P.state===k?(l(),y):(q(a,P,R),P.runner);var V=f("cancel",a,R,P);if(V)if(P.state===k)P.runner.end();else{if(!P.structural)return q(a,P,R),P.runner;P.close()}else{var Y=f("join",a,R,P);if(Y){if(P.state!==k)return t(a,F?b:null,x),b=R.event=P.event,x=q(a,P,R),P.runner;B(a,R)}}}else B(a,R);var Z=R.structural;if(Z||(Z="animate"===R.event&&Object.keys(R.options.to||{}).length>0||g(R)),!Z)return l(),H(a),y;var ba=(P.counter||0)+1;return R.counter=ba,K(a,j,R),e.$$postDigest(function(){var c=M.get(o),d=!c;c=c||{};var e=a.parent()||[],f=e.length>0&&("animate"===c.event||c.structural||g(c));if(d||c.counter!==ba||!f)return d&&($(a,x),n(a,x)),(d||F&&c.event!==b)&&(x.domOperation(),y.end()),void(f||H(a));b=!c.structural&&g(c,!0)?"setClass":c.event,K(a,k);var h=v(a,b,c.options);y.setHost(h),i(y,b,"start",{}),h.done(function(c){l(!c);var d=M.get(o);d&&d.counter===ba&&H(s(a)),i(y,b,"close",{})})}),y}function G(a){var b=s(a),c=b.querySelectorAll("["+Ca+"]");W(c,function(a){var b=parseInt(a.getAttribute(Ca)),c=M.get(a);if(c)switch(b){case k:c.runner.end();case j:M.remove(a)}})}function H(a){var b=s(a);b.removeAttribute(Ca),M.remove(b)}function I(a,b){return s(a)===s(b)}function J(a,b,c){var d,e=ca(p[0].body),f=I(a,e)||"HTML"===a[0].nodeName,g=I(a,o),h=!1,i=N.get(s(a)),j=ca.data(a[0],Da);for(j&&(b=j),b=s(b);b&&(g||(g=I(b,o)),b.nodeType===L);){var k=M.get(b)||{};if(!h){var l=N.get(b);if(l===!0&&i!==!1){i=!0;break}l===!1&&(i=!1),h=k.structural}if(ba(d)||d===!0){var m=ca.data(b,S);Y(m)&&(d=m)}if(h&&d===!1)break;if(f||(f=I(b,e)),f&&g)break;b=g||!(j=ca.data(b,Da))?b.parentNode:s(j)}var n=(!h||d)&&i!==!0;return n&&g&&f}function K(a,b,c){c=c||{},c.state=b;var d=s(a);d.setAttribute(Ca,b);var e=M.get(d),f=e?V(e,c):c;M.put(d,f)}var M=new r,N=new r,O=null,P=e.$watch(function(){return 0===x.totalPendingRequests},function(a){a&&(P(),e.$$postDigest(function(){e.$$postDigest(function(){null===O&&(O=!0)})}))}),Q=Object.create(null),R=b.classNameFilter(),T=R?function(a){return R.test(a)}:function(){return!0},$=l(y),da=a.Node.prototype.contains||function(a){return this===a||!!(16&this.compareDocumentPosition(a))},ea={on:function(a,b,c){var d=i(b);Q[a]=Q[a]||[],Q[a].push({node:d,callback:c}),ca(b).on("$destroy",function(){var e=M.get(d);e||ea.off(a,b,c)})},off:function(a,b,c){if(1!==arguments.length||aa(arguments[0])){var d=Q[a];d&&(Q[a]=1===arguments.length?null:D(d,b,c))}else{b=arguments[0];for(var e in Q)Q[e]=D(Q[e],b)}},pin:function(a,b){c(Z(a),"element","not an element"),c(Z(b),"parentElement","not an element"),a.data(Da,b)},push:function(a,b,c,d){return c=c||{},c.domOperation=d,F(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!O;else{var d=Z(a);if(d){var e=s(a);1===c?b=!N.get(e):N.put(e,!b)}else b=O=!!a}return b}};return ea}]}],Fa=["$animateProvider",function(a){function b(a,b){a.data(h,b)}function c(a){a.removeData(h)}function e(a){return a.data(h)}var f="ng-animate-ref",g=this.drivers=[],h="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(a,h,i,j,k,o){function p(a){function b(a){if(a.processed)return a;a.processed=!0;var c=a.domNode,d=c.parentNode;f.put(c,a);for(var g;d;){if(g=f.get(d)){g.processed||(g=b(g));break}d=d.parentNode}return(g||e).children.push(a),a}function c(a){var b,c=[],d=[];for(b=0;b<a.children.length;b++)d.push(a.children[b]);var e=d.length,f=0,g=[];for(b=0;b<d.length;b++){var h=d[b];e<=0&&(e=f,f=0,c.push(g),g=[]),g.push(h.fn),h.children.forEach(function(a){f++,d.push(a)}),e--}return g.length&&c.push(g),c}var d,e={children:[]},f=new k;for(d=0;d<a.length;d++){var g=a[d];f.put(g.domNode,a[d]={domNode:g.domNode,fn:g.fn,children:[]})}for(d=0;d<a.length;d++)b(a[d]);return c(e)}var q=[],r=l(a);return function(k,l,t){function u(a){var b="["+f+"]",c=a.hasAttribute(f)?[a]:a.querySelectorAll(b),d=[];return W(c,function(a){var b=a.getAttribute(f);b&&b.length&&d.push(a)}),d}function v(a){var b=[],c={};W(a,function(a,d){var e=a.element,g=s(e),h=a.event,i=["enter","move"].indexOf(h)>=0,j=a.structural?u(g):[];if(j.length){var k=i?"to":"from";W(j,function(a){var b=a.getAttribute(f);c[b]=c[b]||{},c[b][k]={animationID:d,element:ca(a)}})}else b.push(a)});var d={},e={};return W(c,function(c,f){var g=c.from,h=c.to;if(!g||!h){var i=g?g.animationID:h.animationID,j=i.toString();return void(d[j]||(d[j]=!0,b.push(a[i])))}var k=a[g.animationID],l=a[h.animationID],m=g.animationID.toString();if(!e[m]){var n=e[m]={structural:!0,beforeStart:function(){k.beforeStart(),l.beforeStart()},close:function(){k.close(),l.close()},classes:w(k.classes,l.classes),from:k,to:l,anchors:[]};n.classes.length?b.push(n):(b.push(k),b.push(l))}e[m].anchors.push({out:g.element,in:h.element})}),b}function w(a,b){a=a.split(" "),b=b.split(" ");for(var c=[],d=0;d<a.length;d++){var e=a[d];if("ng-"!==e.substring(0,3))for(var f=0;f<b.length;f++)if(e===b[f]){c.push(e);break}}return c.join(" ")}function x(a){for(var b=g.length-1;b>=0;b--){var c=g[b],d=i.get(c),e=d(a);if(e)return e}}function y(){k.addClass(R),F&&a.addClass(k,F),G&&(a.removeClass(k,G),G=null)}function z(a,b){function c(a){var c=e(a);c&&c.setHost(b)}a.from&&a.to?(c(a.from.element),c(a.to.element)):c(a.element)}function A(){var a=e(k);!a||"leave"===l&&t.$$domOperationFired||a.end()}function B(b){k.off("$destroy",A),c(k),r(k,t),n(k,t),t.domOperation(),F&&a.removeClass(k,F),k.removeClass(R),D.complete(!b)}t=m(t);var C=["enter","move","leave"].indexOf(l)>=0,D=new j({end:function(){B()},cancel:function(){B(!0)}});if(!g.length)return B(),D;b(k,D);var E=d(k.attr("class"),d(t.addClass,t.removeClass)),F=t.tempClasses;F&&(E+=" "+F,t.tempClasses=null);var G;return C&&(G="ng-"+l+Q,a.addClass(k,G)),q.push({element:k,classes:E,event:l,structural:C,options:t,beforeStart:y,close:B}),k.on("$destroy",A),q.length>1?D:(h.$$postDigest(function(){var a=[];W(q,function(b){e(b.element)?a.push(b):b.close()}),q.length=0;var b=v(a),c=[];W(b,function(a){c.push({domNode:s(a.from?a.from.element:a.element),fn:function(){a.beforeStart();var b,c=a.close,d=a.anchors?a.from.element||a.to.element:a.element;if(e(d)){var f=x(a);f&&(b=f.start)}if(b){var g=b();g.done(function(a){c(!a)}),z(a,g)}else c()}})}),o(p(c))}),D)}}]}],Ga=["$animate","$rootScope",function(a,b){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(b,c,d,e,f){var g,h;b.$watchCollection(d.ngAnimateSwap||d.for,function(d){g&&a.leave(g),h&&(h.$destroy(),h=null),(d||0===d)&&(h=b.$new(),f(h,function(b){g=b,a.enter(b,null,c)}))})}}}];b.module("ngAnimate",[],function(){da=b.noop,U=b.copy,V=b.extend,ca=b.element,W=b.forEach,X=b.isArray,aa=b.isString,_=b.isObject,ba=b.isUndefined,Y=b.isDefined,$=b.isFunction,Z=b.isElement}).directive("ngAnimateSwap",Ga).directive("ngAnimateChildren",ra).factory("$$rAFScheduler",qa).provider("$$animateQueue",Ea).provider("$$animation",Fa).provider("$animateCss",ya).provider("$$animateCssDriver",za).provider("$$animateJs",Aa).provider("$$animateJsDriver",Ba)}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(a,b,c,d){var e=d.has("$animateCss")?d.get("$animateCss"):null;return{link:function(d,f,g){function h(){r=!!("horizontal"in g),r?(s={width:""},t={width:"0"}):(s={height:""},t={height:"0"}),d.$eval(g.uibCollapse)||f.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(s)}function i(a){return r?{width:a.scrollWidth+"px"}:{height:a.scrollHeight+"px"}}function j(){f.hasClass("collapse")&&f.hasClass("in")||b.resolve(n(d)).then(function(){f.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e?e(f,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:i(f[0])}).start().finally(k):a.addClass(f,"in",{css:{overflow:"hidden"},to:i(f[0])}).then(k)})}function k(){f.removeClass("collapsing").addClass("collapse").css(s),o(d)}function l(){return f.hasClass("collapse")||f.hasClass("in")?void b.resolve(p(d)).then(function(){f.css(i(f[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),e?e(f,{removeClass:"in",to:t}).start().finally(m):a.removeClass(f,"in",{to:t}).then(m)}):m()}function m(){f.css(t),f.removeClass("collapsing").addClass("collapse"),q(d)}var n=c(g.expanding),o=c(g.expanded),p=c(g.collapsing),q=c(g.collapsed),r=!1,s={},t={};h(),d.$watch(g.uibCollapse,function(a){a?l():j()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(a,b,c){c.$observe("disabled",function(a){c.$set("tabindex",a?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);b!==-1&&this.groups.splice(b,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(a,b){return b.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){b.addClass("panel"),d.addGroup(a),a.openClass=c.openClass||"panel-open",a.panelClass=c.panelClass||"panel-default",a.$watch("isOpen",function(c){b.toggleClass(a.openClass,!!c),c&&d.closeOthers(a)}),a.toggleOpen=function(b){a.isDisabled||b&&32!==b.which||(a.isOpen=!a.isOpen)};var e="accordiongroup-"+a.$id+"-"+Math.floor(1e4*Math.random());a.headingId=e+"-tab",a.panelId=e+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive("uibAccordionTransclude",function(){function a(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(b,c,d,e){b.$watch(function(){return e[d.uibAccordionTransclude]},function(b){if(b){var d=angular.element(c[0].querySelector(a()));d.html(""),d.append(b)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(a,b,c,d,e){a.closeable=!!c.close,b.addClass("alert"),c.$set("role","alert"),a.closeable&&b.addClass("alert-dismissible");var f=angular.isDefined(c.dismissOnTimeout)?d(c.dismissOnTimeout)(a.$parent):null;f&&e(function(){a.close()},parseInt(f,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(a,b){return b.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(a){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(b,c,d,e){var f=e[0],g=e[1],h=a(d.uibUncheckable);c.find("input").css({display:"none"}),g.$render=function(){c.toggleClass(f.activeClass,angular.equals(g.$modelValue,b.$eval(d.uibBtnRadio)))},c.on(f.toggleEvent,function(){if(!d.disabled){var a=c.hasClass(f.activeClass);a&&!angular.isDefined(d.uncheckable)||b.$apply(function(){g.$setViewValue(a?null:b.$eval(d.uibBtnRadio)),g.$render()})}}),d.uibUncheckable&&b.$watch(h,function(a){d.$set("uncheckable",a?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){return angular.isDefined(b)?a.$eval(b):c}var h=d[0],i=d[1];b.find("input").css({display:"none"}),i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.on(h.toggleEvent,function(){c.disabled||a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(a,b,c,d,e){function f(){for(;t.length;)t.shift()}function g(a){for(var b=0;b<q.length;b++)q[b].slide.active=b===a}function h(c,d,i){if(!u){if(angular.extend(c,{direction:i}),angular.extend(q[s].slide||{},{direction:i}),e.enabled(b)&&!a.$currentTransition&&q[d].element&&p.slides.length>1){q[d].element.data(r,c.direction);var j=p.getCurrentIndex();angular.isNumber(j)&&q[j].element&&q[j].element.data(r,c.direction),a.$currentTransition=!0,e.on("addClass",q[d].element,function(b,c){if("close"===c&&(a.$currentTransition=null,e.off("addClass",b),t.length)){var d=t.pop().slide,g=d.index,i=g>p.getCurrentIndex()?"next":"prev";f(),h(d,g,i)}})}a.active=c.index,s=c.index,g(d),l()}}function i(a){for(var b=0;b<q.length;b++)if(q[b].slide===a)return b}function j(){n&&(c.cancel(n),n=null)}function k(b){b.length||(a.$currentTransition=null,f())}function l(){j();var b=+a.interval;!isNaN(b)&&b>0&&(n=c(m,b))}function m(){var b=+a.interval;o&&!isNaN(b)&&b>0&&q.length?a.next():a.pause()}var n,o,p=this,q=p.slides=a.slides=[],r="uib-slideDirection",s=a.active,t=[],u=!1;b.addClass("carousel"),p.addSlide=function(b,c){q.push({slide:b,element:c}),q.sort(function(a,b){return+a.slide.index-+b.slide.index}),(b.index===a.active||1===q.length&&!angular.isNumber(a.active))&&(a.$currentTransition&&(a.$currentTransition=null),s=b.index,a.active=b.index,g(s),p.select(q[i(b)]),1===q.length&&a.play())},p.getCurrentIndex=function(){for(var a=0;a<q.length;a++)if(q[a].slide.index===s)return a},p.next=a.next=function(){var b=(p.getCurrentIndex()+1)%q.length;return 0===b&&a.noWrap()?void a.pause():p.select(q[b],"next")},p.prev=a.prev=function(){var b=p.getCurrentIndex()-1<0?q.length-1:p.getCurrentIndex()-1;return a.noWrap()&&b===q.length-1?void a.pause():p.select(q[b],"prev")},p.removeSlide=function(b){var c=i(b),d=t.indexOf(q[c]);d!==-1&&t.splice(d,1),q.splice(c,1),q.length>0&&s===c?c>=q.length?(s=q.length-1,a.active=s,g(s),p.select(q[q.length-1])):(s=c,a.active=s,g(s),p.select(q[c])):s>c&&(s--,a.active=s),0===q.length&&(s=null,a.active=null,f())},p.select=a.select=function(b,c){var d=i(b.slide);void 0===c&&(c=d>p.getCurrentIndex()?"next":"prev"),b.slide.index===s||a.$currentTransition?b&&b.slide.index!==s&&a.$currentTransition&&t.push(q[d]):h(b.slide,d,c)},a.indexOfSlide=function(a){return+a.slide.index},a.isActive=function(b){return a.active===b.slide.index},a.isPrevDisabled=function(){return 0===a.active&&a.noWrap()},a.isNextDisabled=function(){return a.active===q.length-1&&a.noWrap()},a.pause=function(){a.noPause||(o=!1,j())},a.play=function(){o||(o=!0,l())},b.on("mouseenter",a.pause),b.on("mouseleave",a.play),a.$on("$destroy",function(){u=!0,j()}),a.$watch("noTransition",function(a){e.enabled(b,!a)}),a.$watch("interval",l),a.$watchCollection("slides",k),a.$watch("active",function(a){if(angular.isNumber(a)&&s!==a){for(var b=0;b<q.length;b++)if(q[b].slide.index===a){a=b;break}var c=q[a];c&&(g(a),p.select(q[a]),s=a)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(a,b){return b.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(a){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(b,c,d,e){c.addClass("item"),e.addSlide(b,c),b.$on("$destroy",function(){e.removeSlide(b)}),b.$watch("active",function(b){a[b?"addClass":"removeClass"](c,"active")})}}}]).animation(".item",["$animateCss",function(a){function b(a,b,c){a.removeClass(b),c&&c()}var c="uib-slideDirection";return{beforeAddClass:function(d,e,f){if("active"===e){var g=!1,h=d.data(c),i="next"===h?"left":"right",j=b.bind(this,d,i+" "+h,f);return d.addClass(h),a(d,{addClass:i}).start().done(j),function(){g=!0}}f()},beforeRemoveClass:function(d,e,f){if("active"===e){var g=!1,h=d.data(c),i="next"===h?"left":"right",j=b.bind(this,d,i,f);return a(d,{addClass:i}).start().done(j),function(){g=!0}}f()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(a,b,c,d){function e(a){var b=[],c=a.split(""),e=a.indexOf("'");if(e>-1){var f=!1;a=a.split("");for(var g=e;g<a.length;g++)f?("'"===a[g]&&(g+1<a.length&&"'"===a[g+1]?(a[g+1]="$",c[g+1]=""):(c[g]="",f=!1)),a[g]="$"):"'"===a[g]&&(a[g]="$",c[g]="",f=!0);a=a.join("")}return angular.forEach(q,function(d){var e=a.indexOf(d.key);if(e>-1){a=a.split(""),c[e]="("+d.regex+")",a[e]="$";for(var f=e+1,g=e+d.key.length;f<g;f++)c[f]="",a[f]="$";a=a.join(""),b.push({index:e,key:d.key,apply:d.apply,matcher:d.regex})}}),{regex:new RegExp("^"+c.join("")+"$"),map:d(b,"index")}}function f(a){for(var b,c,d=[],e=0;e<a.length;)if(angular.isNumber(c)){if("'"===a.charAt(e))(e+1>=a.length||"'"!==a.charAt(e+1))&&(d.push(g(a,c,e)),c=null);else if(e===a.length)for(;c<a.length;)b=h(a,c),d.push(b),c=b.endIdx;e++}else"'"!==a.charAt(e)?(b=h(a,e),d.push(b.parser),e=b.endIdx):(c=e,e++);return d}function g(a,b,c){return function(){return a.substr(b+1,c-b-1)}}function h(a,b){for(var c=a.substr(b),d=0;d<q.length;d++)if(new RegExp("^"+q[d].key).test(c)){var e=q[d];return{endIdx:b+e.key.length,parser:e.formatter}}return{endIdx:b+1,parser:function(){return c.charAt(0)}}}function i(a,b,c){return!(c<1)&&(1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3!==b&&5!==b&&8!==b&&10!==b||c<31)}function j(a){return parseInt(a,10)}function k(a,b){return a&&b?o(a,b):a}function l(a,b){return a&&b?o(a,b,!0):a}function m(a,b){a=a.replace(/:/g,"");var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function n(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function o(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset(),e=m(b,d);return n(a,c*(e-d))}var p,q,r=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){p=b.id,this.parsers={},this.formatters={},q=[{key:"yyyy",regex:"\\d{4}",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(a){a=+a,this.year=a<69?a+2e3:a+1900},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){var b=a.getMonth();return/^[0-9]$/.test(b)?c(a,"MM"):c(a,"M")}},{key:"MMMM",regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)},formatter:function(a){return c(a,"MMMM")}},{key:"MMM",regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)},formatter:function(a){return c(a,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return c(a,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return c(a,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){var b=a.getDate();return/^[1-9]$/.test(b)?c(a,"dd"):c(a,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return c(a,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return c(a,"d")}},{key:"EEEE",regex:b.DATETIME_FORMATS.DAY.join("|"),formatter:function(a){return c(a,"EEEE")}},{key:"EEE",regex:b.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(a){return c(a,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a},formatter:function(a){return c(a,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,"s")}},{key:"a",regex:b.DATETIME_FORMATS.AMPMS.join("|"),apply:function(a){12===this.hours&&(this.hours=0),"PM"===a&&(this.hours+=12)},formatter:function(a){return c(a,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(a){var b=a.match(/([+-])(\d{2})(\d{2})/),c=b[1],d=b[2],e=b[3];this.hours+=j(c+d),this.minutes+=j(c+e)},formatter:function(a){return c(a,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(a){return c(a,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(a){return c(a,"w")}},{key:"GGGG",regex:b.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(a){return c(a,"GGGG")}},{key:"GGG",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"GGG")}},{key:"GG",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"GG")}},{key:"G",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"G")}}]},this.init(),this.filter=function(a,c){if(!angular.isDate(a)||isNaN(a)||!c)return"";c=b.DATETIME_FORMATS[c]||c,b.id!==p&&this.init(),this.formatters[c]||(this.formatters[c]=f(c));var d=this.formatters[c];return d.reduce(function(b,c){return b+c(a)},"")},this.parse=function(c,d,f){if(!angular.isString(c)||!d)return c;d=b.DATETIME_FORMATS[d]||d,d=d.replace(r,"\\$&"),b.id!==p&&this.init(),this.parsers[d]||(this.parsers[d]=e(d,"apply"));var g=this.parsers[d],h=g.regex,j=g.map,k=c.match(h),l=!1;if(k&&k.length){var m,n;angular.isDate(f)&&!isNaN(f.getTime())?m={year:f.getFullYear(),month:f.getMonth(),date:f.getDate(),hours:f.getHours(),minutes:f.getMinutes(),seconds:f.getSeconds(),milliseconds:f.getMilliseconds()}:(f&&a.warn("dateparser:","baseDate is not a valid date"),m={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var o=1,q=k.length;o<q;o++){var s=j[o-1];"Z"===s.matcher&&(l=!0),s.apply&&s.apply.call(m,k[o])}var t=l?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,u=l?Date.prototype.setUTCHours:Date.prototype.setHours;return i(m.year,m.month,m.date)&&(!angular.isDate(f)||isNaN(f.getTime())||l?(n=new Date(0),t.call(n,m.year,m.month,m.date),u.call(n,m.hours||0,m.minutes||0,m.seconds||0,m.milliseconds||0)):(n=new Date(f),t.call(n,m.year,m.month,m.date),u.call(n,m.hours,m.minutes,m.seconds,m.milliseconds))),n}},this.toTimezone=k,this.fromTimezone=l,this.timezoneToOffset=m,this.addDateMinutes=n,this.convertTimezoneToLocal=o}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(a){var b=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,c=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(d,e){function f(a,b,c){i.push(a),j.push({scope:a,element:b}),o.forEach(function(b,c){g(b,a)}),a.$on("$destroy",h)}function g(b,d){var e=b.match(c),f=d.$eval(e[1]),g=e[2],h=k[b];if(!h){var i=function(b){var c=null;j.some(function(a){var d=a.scope.$eval(m);if(d===b)return c=a,!0}),h.lastActivated!==c&&(h.lastActivated&&a.removeClass(h.lastActivated.element,f),c&&a.addClass(c.element,f),h.lastActivated=c)};k[b]=h={lastActivated:null,scope:d,watchFn:i,compareWithExp:g,watcher:d.$watch(g,i)}}h.watchFn(d.$eval(g))}function h(a){var b=a.targetScope,c=i.indexOf(b);if(i.splice(c,1),j.splice(c,1),i.length){var d=i[0];angular.forEach(k,function(a){a.scope===b&&(a.watcher=d.$watch(a.compareWithExp,a.watchFn),a.scope=d)})}else k={}}var i=[],j=[],k={},l=e.uibIsClass.match(b),m=l[2],n=l[1],o=n.split(",");return f}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(b){a.datepickerMode=b,a.datepickerOptions.datepickerMode=b}var n=this,o={$setViewValue:angular.noop},p={},q=[];b.addClass("uib-datepicker"),c.$set("role","application"),a.datepickerOptions||(a.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(b){switch(b){case"customClass":case"dateDisabled":a[b]=a.datepickerOptions[b]||angular.noop;break;case"datepickerMode":a.datepickerMode=angular.isDefined(a.datepickerOptions.datepickerMode)?a.datepickerOptions.datepickerMode:i.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":n[b]=angular.isDefined(a.datepickerOptions[b])?e(a.datepickerOptions[b])(a.$parent):i[b];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":n[b]=angular.isDefined(a.datepickerOptions[b])?a.datepickerOptions[b]:i[b];break;case"startingDay":angular.isDefined(a.datepickerOptions.startingDay)?n.startingDay=a.datepickerOptions.startingDay:angular.isNumber(i.startingDay)?n.startingDay=i.startingDay:n.startingDay=(f.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":a.$watch("datepickerOptions."+b,function(a){a?angular.isDate(a)?n[b]=l.fromTimezone(new Date(a),p.timezone):(j&&g.warn("Literal date support has been deprecated, please switch to date object usage"),n[b]=new Date(h(a,"medium"))):n[b]=i[b]?l.fromTimezone(new Date(i[b]),p.timezone):null,n.refreshView()});break;case"maxMode":case"minMode":a.datepickerOptions[b]?a.$watch(function(){return a.datepickerOptions[b]},function(c){n[b]=a[b]=angular.isDefined(c)?c:a.datepickerOptions[b],("minMode"===b&&n.modes.indexOf(a.datepickerOptions.datepickerMode)<n.modes.indexOf(n[b])||"maxMode"===b&&n.modes.indexOf(a.datepickerOptions.datepickerMode)>n.modes.indexOf(n[b]))&&(a.datepickerMode=n[b],a.datepickerOptions.datepickerMode=n[b])}):n[b]=a[b]=i[b]||null}}),a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),a.disabled=angular.isDefined(c.disabled)||!1,angular.isDefined(c.ngDisabled)&&q.push(a.$parent.$watch(c.ngDisabled,function(b){a.disabled=b,n.refreshView()})),a.isActive=function(b){return 0===n.compare(b.date,n.activeDate)&&(a.activeDateId=b.uid,!0)},this.init=function(b){o=b,p=b.$options||a.datepickerOptions.ngModelOptions||i.ngModelOptions,a.datepickerOptions.initDate?(n.activeDate=l.fromTimezone(a.datepickerOptions.initDate,p.timezone)||new Date,a.$watch("datepickerOptions.initDate",function(a){a&&(o.$isEmpty(o.$modelValue)||o.$invalid)&&(n.activeDate=l.fromTimezone(a,p.timezone),n.refreshView())})):n.activeDate=new Date;var c=o.$modelValue?new Date(o.$modelValue):new Date;this.activeDate=isNaN(c)?l.fromTimezone(new Date,p.timezone):l.fromTimezone(c,p.timezone),o.$render=function(){n.render()}},this.render=function(){if(o.$viewValue){var a=new Date(o.$viewValue),b=!isNaN(a);b?this.activeDate=l.fromTimezone(a,p.timezone):k||g.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){a.selectedDt=null,this._refreshView(),a.activeDt&&(a.activeDateId=a.activeDt.uid);var b=o.$viewValue?new Date(o.$viewValue):null;b=l.fromTimezone(b,p.timezone),o.$setValidity("dateDisabled",!b||this.element&&!this.isDisabled(b))}},this.createDateObject=function(b,c){var d=o.$viewValue?new Date(o.$viewValue):null;d=l.fromTimezone(d,p.timezone);var e=new Date;e=l.fromTimezone(e,p.timezone);var f=this.compare(b,e),g={date:b,label:l.filter(b,c),selected:d&&0===this.compare(b,d),disabled:this.isDisabled(b),past:f<0,current:0===f,future:f>0,customClass:this.customClass(b)||null};return d&&0===this.compare(b,d)&&(a.selectedDt=g),n.activeDate&&0===this.compare(g.date,n.activeDate)&&(a.activeDt=g),g},this.isDisabled=function(b){return a.disabled||this.minDate&&this.compare(b,this.minDate)<0||this.maxDate&&this.compare(b,this.maxDate)>0||a.dateDisabled&&a.dateDisabled({
date:b,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===n.minMode){var c=o.$viewValue?l.fromTimezone(new Date(o.$viewValue),p.timezone):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),c=l.toTimezone(c,p.timezone),o.$setViewValue(c),o.$render()}else n.activeDate=b,m(n.modes[n.modes.indexOf(a.datepickerMode)-1]),a.$emit("uib:datepicker.mode");a.$broadcast("uib:datepicker.focus")},a.move=function(a){var b=n.activeDate.getFullYear()+a*(n.step.years||0),c=n.activeDate.getMonth()+a*(n.step.months||0);n.activeDate.setFullYear(b,c,1),n.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===n.maxMode&&1===b||a.datepickerMode===n.minMode&&b===-1||(m(n.modes[n.modes.indexOf(a.datepickerMode)+b]),a.$emit("uib:datepicker.mode"))},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var r=function(){n.element[0].focus()};a.$on("uib:datepicker.focus",r),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey&&!a.disabled)if(b.preventDefault(),n.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(n.isDisabled(n.activeDate))return;a.select(n.activeDate)}else!b.ctrlKey||"up"!==c&&"down"!==c?(n.handleKeyDown(c,b),n.refreshView()):a.toggleMode("up"===c?1:-1)},b.on("keydown",function(b){a.$apply(function(){a.keydown(b)})}),a.$on("$destroy",function(){for(;q.length;)q.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?f[b]:29}function e(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}var f=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=b,this.init=function(b){angular.extend(b,this),a.showWeeks=b.showWeeks,b.refreshView()},this.getDates=function(a,b){for(var c,d=new Array(b),e=new Date(a),f=0;f<b;)c=new Date(e),d[f++]=c,e.setDate(e.getDate()+1);return d},this._refreshView=function(){var b=this.activeDate.getFullYear(),d=this.activeDate.getMonth(),f=new Date(this.activeDate);f.setFullYear(b,d,1);var g=this.startingDay-f.getDay(),h=g>0?7-g:-g,i=new Date(f);h>0&&i.setDate(-h+1);for(var j=this.getDates(i,42),k=0;k<42;k++)j[k]=angular.extend(this.createDateObject(j[k],this.formatDay),{secondary:j[k].getMonth()!==d,uid:a.uniqueId+"-"+k});a.labels=new Array(7);for(var l=0;l<7;l++)a.labels[l]={abbr:c(j[l].date,this.formatDayHeader),full:c(j[l].date,"EEEE")};if(a.title=c(this.activeDate,this.formatDayTitle),a.rows=this.split(j,7),a.showWeeks){a.weekNumbers=[];for(var m=(11-this.startingDay)%7,n=a.rows.length,o=0;o<n;o++)a.weekNumbers.push(e(a.rows[o][m].date))}},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth(),a.getDate()),d=new Date(b.getFullYear(),b.getMonth(),b.getDate());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var e=this.activeDate.getMonth()+("pageup"===a?-1:1);this.activeDate.setMonth(e,1),c=Math.min(d(this.activeDate.getFullYear(),this.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=d(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(c)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(a,b,c){this.step={years:1},this.element=b,this.init=function(a){angular.extend(a,this),a.refreshView()},this._refreshView=function(){for(var b,d=new Array(12),e=this.activeDate.getFullYear(),f=0;f<12;f++)b=new Date(this.activeDate),b.setFullYear(e,f,1),d[f]=angular.extend(this.createDateObject(b,this.formatMonth),{uid:a.uniqueId+"-"+f});a.title=c(this.activeDate,this.formatMonthTitle),a.rows=this.split(d,this.monthColumns),a.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth()),d=new Date(b.getFullYear(),b.getMonth());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=this.monthColumns;else if("right"===a)c+=1;else if("down"===a)c+=this.monthColumns;else if("pageup"===a||"pagedown"===a){var d=this.activeDate.getFullYear()+("pageup"===a?-1:1);this.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);this.activeDate.setMonth(c)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a){return parseInt((a-1)/f,10)*f+1}var e,f;this.element=b,this.yearpickerInit=function(){e=this.yearColumns,f=this.yearRows*e,this.step={years:f}},this._refreshView=function(){for(var b,c=new Array(f),g=0,h=d(this.activeDate.getFullYear());g<f;g++)b=new Date(this.activeDate),b.setFullYear(h+g,0,1),c[g]=angular.extend(this.createDateObject(b,this.formatYear),{uid:a.uniqueId+"-"+g});a.title=[c[0].label,c[f-1].label].join(" - "),a.rows=this.split(c,e),a.columns=e},this.compare=function(a,b){return a.getFullYear()-b.getFullYear()},this.handleKeyDown=function(a,b){var c=this.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=e:"right"===a?c+=1:"down"===a?c+=e:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*f:"home"===a?c=d(this.activeDate.getFullYear()):"end"===a&&(c=d(this.activeDate.getFullYear())+f-1),this.activeDate.setFullYear(c)}}]).directive("uibDatepicker",function(){return{templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive("uibDaypicker",function(){return{templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("uibYearpicker",function(){return{templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(a,b,c,d){var e=d[0];angular.extend(e,d[1]),e.yearpickerInit(),e.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(a,b){var c,d,e={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},f={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},g=/(HTML|BODY)/;return{getRawNode:function(a){return a.nodeName?a:a[0]||a},parseStyle:function(a){return a=parseFloat(a),isFinite(a)?a:0},offsetParent:function(c){function d(a){return"static"===(b.getComputedStyle(a).position||"static")}c=this.getRawNode(c);for(var e=c.offsetParent||a[0].documentElement;e&&e!==a[0].documentElement&&d(e);)e=e.offsetParent;return e||a[0].documentElement},scrollbarWidth:function(e){if(e){if(angular.isUndefined(d)){var f=a.find("body");f.addClass("uib-position-body-scrollbar-measure"),d=b.innerWidth-f[0].clientWidth,d=isFinite(d)?d:0,f.removeClass("uib-position-body-scrollbar-measure")}return d}if(angular.isUndefined(c)){var g=angular.element('<div class="uib-position-scrollbar-measure"></div>');a.find("body").append(g),c=g[0].offsetWidth-g[0].clientWidth,c=isFinite(c)?c:0,g.remove()}return c},scrollbarPadding:function(a){a=this.getRawNode(a);var c=b.getComputedStyle(a),d=this.parseStyle(c.paddingRight),e=this.parseStyle(c.paddingBottom),f=this.scrollParent(a,!1,!0),h=this.scrollbarWidth(f,g.test(f.tagName));return{scrollbarWidth:h,widthOverflow:f.scrollWidth>f.clientWidth,right:d+h,originalRight:d,heightOverflow:f.scrollHeight>f.clientHeight,bottom:e+h,originalBottom:e}},isScrollable:function(a,c){a=this.getRawNode(a);var d=c?e.hidden:e.normal,f=b.getComputedStyle(a);return d.test(f.overflow+f.overflowY+f.overflowX)},scrollParent:function(c,d,f){c=this.getRawNode(c);var g=d?e.hidden:e.normal,h=a[0].documentElement,i=b.getComputedStyle(c);if(f&&g.test(i.overflow+i.overflowY+i.overflowX))return c;var j="absolute"===i.position,k=c.parentElement||h;if(k===h||"fixed"===i.position)return h;for(;k.parentElement&&k!==h;){var l=b.getComputedStyle(k);if(j&&"static"!==l.position&&(j=!1),!j&&g.test(l.overflow+l.overflowY+l.overflowX))break;k=k.parentElement}return k},position:function(c,d){c=this.getRawNode(c);var e=this.offset(c);if(d){var f=b.getComputedStyle(c);e.top-=this.parseStyle(f.marginTop),e.left-=this.parseStyle(f.marginLeft)}var g=this.offsetParent(c),h={top:0,left:0};return g!==a[0].documentElement&&(h=this.offset(g),h.top+=g.clientTop-g.scrollTop,h.left+=g.clientLeft-g.scrollLeft),{width:Math.round(angular.isNumber(e.width)?e.width:c.offsetWidth),height:Math.round(angular.isNumber(e.height)?e.height:c.offsetHeight),top:Math.round(e.top-h.top),left:Math.round(e.left-h.left)}},offset:function(c){c=this.getRawNode(c);var d=c.getBoundingClientRect();return{width:Math.round(angular.isNumber(d.width)?d.width:c.offsetWidth),height:Math.round(angular.isNumber(d.height)?d.height:c.offsetHeight),top:Math.round(d.top+(b.pageYOffset||a[0].documentElement.scrollTop)),left:Math.round(d.left+(b.pageXOffset||a[0].documentElement.scrollLeft))}},viewportOffset:function(c,d,e){c=this.getRawNode(c),e=e!==!1;var f=c.getBoundingClientRect(),g={top:0,left:0,bottom:0,right:0},h=d?a[0].documentElement:this.scrollParent(c),i=h.getBoundingClientRect();if(g.top=i.top+h.clientTop,g.left=i.left+h.clientLeft,h===a[0].documentElement&&(g.top+=b.pageYOffset,g.left+=b.pageXOffset),g.bottom=g.top+h.clientHeight,g.right=g.left+h.clientWidth,e){var j=b.getComputedStyle(h);g.top+=this.parseStyle(j.paddingTop),g.bottom-=this.parseStyle(j.paddingBottom),g.left+=this.parseStyle(j.paddingLeft),g.right-=this.parseStyle(j.paddingRight)}return{top:Math.round(f.top-g.top),bottom:Math.round(g.bottom-f.bottom),left:Math.round(f.left-g.left),right:Math.round(g.right-f.right)}},parsePlacement:function(a){var b=f.auto.test(a);return b&&(a=a.replace(f.auto,"")),a=a.split("-"),a[0]=a[0]||"top",f.primary.test(a[0])||(a[0]="top"),a[1]=a[1]||"center",f.secondary.test(a[1])||(a[1]="center"),b?a[2]=!0:a[2]=!1,a},positionElements:function(a,c,d,e){a=this.getRawNode(a),c=this.getRawNode(c);var g=angular.isDefined(c.offsetWidth)?c.offsetWidth:c.prop("offsetWidth"),h=angular.isDefined(c.offsetHeight)?c.offsetHeight:c.prop("offsetHeight");d=this.parsePlacement(d);var i=e?this.offset(a):this.position(a),j={top:0,left:0,placement:""};if(d[2]){var k=this.viewportOffset(a,e),l=b.getComputedStyle(c),m={width:g+Math.round(Math.abs(this.parseStyle(l.marginLeft)+this.parseStyle(l.marginRight))),height:h+Math.round(Math.abs(this.parseStyle(l.marginTop)+this.parseStyle(l.marginBottom)))};if(d[0]="top"===d[0]&&m.height>k.top&&m.height<=k.bottom?"bottom":"bottom"===d[0]&&m.height>k.bottom&&m.height<=k.top?"top":"left"===d[0]&&m.width>k.left&&m.width<=k.right?"right":"right"===d[0]&&m.width>k.right&&m.width<=k.left?"left":d[0],d[1]="top"===d[1]&&m.height-i.height>k.bottom&&m.height-i.height<=k.top?"bottom":"bottom"===d[1]&&m.height-i.height>k.top&&m.height-i.height<=k.bottom?"top":"left"===d[1]&&m.width-i.width>k.right&&m.width-i.width<=k.left?"right":"right"===d[1]&&m.width-i.width>k.left&&m.width-i.width<=k.right?"left":d[1],"center"===d[1])if(f.vertical.test(d[0])){var n=i.width/2-g/2;k.left+n<0&&m.width-i.width<=k.right?d[1]="left":k.right+n<0&&m.width-i.width<=k.left&&(d[1]="right")}else{var o=i.height/2-m.height/2;k.top+o<0&&m.height-i.height<=k.bottom?d[1]="top":k.bottom+o<0&&m.height-i.height<=k.top&&(d[1]="bottom")}}switch(d[0]){case"top":j.top=i.top-h;break;case"bottom":j.top=i.top+i.height;break;case"left":j.left=i.left-g;break;case"right":j.left=i.left+i.width}switch(d[1]){case"top":j.top=i.top;break;case"bottom":j.top=i.top+i.height-h;break;case"left":j.left=i.left;break;case"right":j.left=i.left+i.width-g;break;case"center":f.vertical.test(d[0])?j.left=i.left+i.width/2-g/2:j.top=i.top+i.height/2-h/2}return j.top=Math.round(j.top),j.left=Math.round(j.left),j.placement="center"===d[1]?d[0]:d[0]+"-"+d[1],j},adjustTop:function(a,b,c,d){if(a.indexOf("top")!==-1&&c!==d)return{top:b.top-d+"px"}},positionArrow:function(a,c){a=this.getRawNode(a);var d=a.querySelector(".tooltip-inner, .popover-inner");if(d){var e=angular.element(d).hasClass("tooltip-inner"),g=e?a.querySelector(".tooltip-arrow"):a.querySelector(".arrow");if(g){var h={top:"",bottom:"",left:"",right:""};if(c=this.parsePlacement(c),"center"===c[1])return void angular.element(g).css(h);var i="border-"+c[0]+"-width",j=b.getComputedStyle(g)[i],k="border-";k+=f.vertical.test(c[0])?c[0]+"-"+c[1]:c[1]+"-"+c[0],k+="-radius";var l=b.getComputedStyle(e?d:a)[k];switch(c[0]){case"top":h.bottom=e?"0":"-"+j;break;case"bottom":h.top=e?"0":"-"+j;break;case"left":h.right=e?"0":"-"+j;break;case"right":h.left=e?"0":"-"+j}h[c[1]]=l,angular.element(g).css(h)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(b){var c=l.parse(b,w,a.date);if(isNaN(c))for(var d=0;d<I.length;d++)if(c=l.parse(b,I[d],a.date),!isNaN(c))return c;return c}function r(a){if(angular.isNumber(a)&&(a=new Date(a)),!a)return null;if(angular.isDate(a)&&!isNaN(a))return a;if(angular.isString(a)){var b=q(a);if(!isNaN(b))return l.fromTimezone(b,G.timezone)}return F.$options&&F.$options.allowInvalid?a:void 0}function s(a,b){var d=a||b;return!c.ngRequired&&!d||(angular.isNumber(d)&&(d=new Date(d)),!d||(!(!angular.isDate(d)||isNaN(d))||!!angular.isString(d)&&!isNaN(q(d))))}function t(c){if(a.isOpen||!a.disabled){var d=H[0],e=b[0].contains(c.target),f=void 0!==d.contains&&d.contains(c.target);!a.isOpen||e||f||a.$apply(function(){a.isOpen=!1})}}function u(c){27===c.which&&a.isOpen?(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!1}),b[0].focus()):40!==c.which||a.isOpen||(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!0}))}function v(){if(a.isOpen){var d=angular.element(H[0].querySelector(".uib-datepicker-popup")),e=c.popupPlacement?c.popupPlacement:m.placement,f=j.positionElements(b,d,e,y);d.css({top:f.top+"px",left:f.left+"px"}),d.hasClass("uib-position-measure")&&d.removeClass("uib-position-measure")}}var w,x,y,z,A,B,C,D,E,F,G,H,I,J=!1,K=[];this.init=function(e){if(F=e,G=angular.isObject(e.$options)?e.$options:{timezone:null},x=angular.isDefined(c.closeOnDateSelection)?a.$parent.$eval(c.closeOnDateSelection):m.closeOnDateSelection,y=angular.isDefined(c.datepickerAppendToBody)?a.$parent.$eval(c.datepickerAppendToBody):m.appendToBody,z=angular.isDefined(c.onOpenFocus)?a.$parent.$eval(c.onOpenFocus):m.onOpenFocus,A=angular.isDefined(c.datepickerPopupTemplateUrl)?c.datepickerPopupTemplateUrl:m.datepickerPopupTemplateUrl,B=angular.isDefined(c.datepickerTemplateUrl)?c.datepickerTemplateUrl:m.datepickerTemplateUrl,I=angular.isDefined(c.altInputFormats)?a.$parent.$eval(c.altInputFormats):m.altInputFormats,a.showButtonBar=angular.isDefined(c.showButtonBar)?a.$parent.$eval(c.showButtonBar):m.showButtonBar,m.html5Types[c.type]?(w=m.html5Types[c.type],J=!0):(w=c.uibDatepickerPopup||m.datepickerPopup,c.$observe("uibDatepickerPopup",function(a,b){var c=a||m.datepickerPopup;if(c!==w&&(w=c,F.$modelValue=null,!w))throw new Error("uibDatepickerPopup must have a date format specified.")})),!w)throw new Error("uibDatepickerPopup must have a date format specified.");if(J&&c.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");C=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),C.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":A}),D=angular.element(C.children()[0]),D.attr("template-url",B),a.datepickerOptions||(a.datepickerOptions={}),J&&"month"===c.type&&(a.datepickerOptions.datepickerMode="month",a.datepickerOptions.minMode="month"),D.attr("datepicker-options","datepickerOptions"),J?F.$formatters.push(function(b){return a.date=l.fromTimezone(b,G.timezone),b}):(F.$$parserName="date",F.$validators.date=s,F.$parsers.unshift(r),F.$formatters.push(function(b){return F.$isEmpty(b)?(a.date=b,b):(angular.isNumber(b)&&(b=new Date(b)),a.date=l.fromTimezone(b,G.timezone),l.filter(a.date,w))})),F.$viewChangeListeners.push(function(){a.date=q(F.$viewValue)}),b.on("keydown",u),H=d(C)(a),C.remove(),y?h.find("body").append(H):b.after(H),a.$on("$destroy",function(){for(a.isOpen===!0&&(i.$$phase||a.$apply(function(){a.isOpen=!1})),H.remove(),b.off("keydown",u),h.off("click",t),E&&E.off("scroll",v),angular.element(g).off("resize",v);K.length;)K.shift()()})},a.getText=function(b){return a[b+"Text"]||m[b+"Text"]},a.isDisabled=function(b){"today"===b&&(b=l.fromTimezone(new Date,G.timezone));var c={};return angular.forEach(["minDate","maxDate"],function(b){a.datepickerOptions[b]?angular.isDate(a.datepickerOptions[b])?c[b]=new Date(a.datepickerOptions[b]):(p&&e.warn("Literal date support has been deprecated, please switch to date object usage"),c[b]=new Date(k(a.datepickerOptions[b],"medium"))):c[b]=null}),a.datepickerOptions&&c.minDate&&a.compare(b,c.minDate)<0||c.maxDate&&a.compare(b,c.maxDate)>0},a.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},a.dateSelection=function(c){a.date=c;var d=a.date?l.filter(a.date,w):null;b.val(d),F.$setViewValue(d),x&&(a.isOpen=!1,b[0].focus())},a.keydown=function(c){27===c.which&&(c.stopPropagation(),a.isOpen=!1,b[0].focus())},a.select=function(b,c){if(c.stopPropagation(),"today"===b){var d=new Date;angular.isDate(a.date)?(b=new Date(a.date),b.setFullYear(d.getFullYear(),d.getMonth(),d.getDate())):(b=l.fromTimezone(d,G.timezone),b.setHours(0,0,0,0))}a.dateSelection(b)},a.close=function(c){c.stopPropagation(),a.isOpen=!1,b[0].focus()},a.disabled=angular.isDefined(c.disabled)||!1,c.ngDisabled&&K.push(a.$parent.$watch(f(c.ngDisabled),function(b){a.disabled=b})),a.$watch("isOpen",function(d){d?a.disabled?a.isOpen=!1:n(function(){v(),z&&a.$broadcast("uib:datepicker.focus"),h.on("click",t);var d=c.popupPlacement?c.popupPlacement:m.placement;y||j.parsePlacement(d)[2]?(E=E||angular.element(j.scrollParent(b)),E&&E.on("scroll",v)):E=null,angular.element(g).on("resize",v)},0,!1):(h.off("click",t),E&&E.off("scroll",v),angular.element(g).off("resize",v))}),a.$on("uib:datepicker.mode",function(){n(v,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(a){return function(b,c){var d;return function(){var e=this,f=Array.prototype.slice.call(arguments);d&&a.cancel(d),d=a(function(){b.apply(e,f)},c)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(a,b){var c=null;this.open=function(b,e){c||a.on("click",d),c&&c!==b&&(c.isOpen=!1),c=b},this.close=function(b,e){c===b&&(c=null,a.off("click",d),a.off("keydown",this.keybindFilter))};var d=function(a){if(c&&!(a&&"disabled"===c.getAutoClose()||a&&3===a.which)){var d=c.getToggleElement();if(!(a&&d&&d[0].contains(a.target))){var e=c.getDropdownElement();a&&"outsideClick"===c.getAutoClose()&&e&&e[0].contains(a.target)||(c.focusToggleElement(),c.isOpen=!1,b.$$phase||c.$apply())}}};this.keybindFilter=function(a){var b=c.getDropdownElement(),e=c.getToggleElement(),f=b&&b[0].contains(a.target),g=e&&e[0].contains(a.target);27===a.which?(a.stopPropagation(),c.focusToggleElement(),d()):c.isKeynavEnabled()&&[38,40].indexOf(a.which)!==-1&&c.isOpen&&(f||g)&&(a.preventDefault(),a.stopPropagation(),c.focusDropdownEntry(a.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n=this,o=a.$new(),p=e.appendToOpenClass,q=e.openClass,r=angular.noop,s=c.onToggle?d(c.onToggle):angular.noop,t=!1,u=null,v=!1,w=i.find("body");b.addClass("dropdown"),this.init=function(){if(c.isOpen&&(m=d(c.isOpen),r=m.assign,a.$watch(m,function(a){o.isOpen=!!a})),angular.isDefined(c.dropdownAppendTo)){var e=d(c.dropdownAppendTo)(o);e&&(u=angular.element(e))}t=angular.isDefined(c.dropdownAppendToBody),v=angular.isDefined(c.keyboardNav),t&&!u&&(u=w),u&&n.dropdownMenu&&(u.append(n.dropdownMenu),b.on("$destroy",function(){n.dropdownMenu.remove()}))},this.toggle=function(a){return o.isOpen=arguments.length?!!a:!o.isOpen,angular.isFunction(r)&&r(o,o.isOpen),o.isOpen},this.isOpen=function(){return o.isOpen},o.getToggleElement=function(){return n.toggleElement},o.getAutoClose=function(){return c.autoClose||"always"},o.getElement=function(){return b},o.isKeynavEnabled=function(){return v},o.focusDropdownEntry=function(a){var c=n.dropdownMenu?angular.element(n.dropdownMenu).find("a"):b.find("ul").eq(0).find("a");switch(a){case 40:angular.isNumber(n.selectedOption)?n.selectedOption=n.selectedOption===c.length-1?n.selectedOption:n.selectedOption+1:n.selectedOption=0;break;case 38:angular.isNumber(n.selectedOption)?n.selectedOption=0===n.selectedOption?0:n.selectedOption-1:n.selectedOption=c.length-1}c[n.selectedOption].focus()},o.getDropdownElement=function(){return n.dropdownMenu},o.focusToggleElement=function(){n.toggleElement&&n.toggleElement[0].focus()},o.$watch("isOpen",function(c,d){if(u&&n.dropdownMenu){var e,m,v,w=h.positionElements(b,n.dropdownMenu,"bottom-left",!0),x=0;if(e={top:w.top+"px",display:c?"block":"none"},m=n.dropdownMenu.hasClass("dropdown-menu-right"),m?(e.left="auto",v=h.scrollbarPadding(u),v.heightOverflow&&v.scrollbarWidth&&(x=v.scrollbarWidth),e.right=window.innerWidth-x-(w.left+b.prop("offsetWidth"))+"px"):(e.left=w.left+"px",e.right="auto"),!t){var y=h.offset(u);e.top=w.top-y.top+"px",m?e.right=window.innerWidth-(w.left-y.left+b.prop("offsetWidth"))+"px":e.left=w.left-y.left+"px"}n.dropdownMenu.css(e)}var z=u?u:b,A=z.hasClass(u?p:q);if(A===!c&&g[c?"addClass":"removeClass"](z,u?p:q).then(function(){angular.isDefined(c)&&c!==d&&s(a,{open:!!c})}),c)n.dropdownMenuTemplateUrl?k(n.dropdownMenuTemplateUrl).then(function(a){l=o.$new(),j(a.trim())(l,function(a){var b=a;n.dropdownMenu.replaceWith(b),n.dropdownMenu=b,i.on("keydown",f.keybindFilter)})}):i.on("keydown",f.keybindFilter),o.focusToggleElement(),f.open(o,b);else{if(f.close(o,b),n.dropdownMenuTemplateUrl){l&&l.$destroy();var B=angular.element('<ul class="dropdown-menu"></ul>');n.dropdownMenu.replaceWith(B),n.dropdownMenu=B}n.selectedOption=null}angular.isFunction(r)&&r(a,c)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(a,b,c,d){d.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(a,b,c,d){if(d&&!angular.isDefined(c.dropdownNested)){b.addClass("dropdown-menu");var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(a,b,c,d){if(d){b.addClass("dropdown-toggle"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b===a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b===a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.pop()},length:function(){return a.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(b){return{key:b,value:a[b]}})},get:function(b){return a[b]},hasKey:function(b){return!!a[b]},keys:function(){return Object.keys(a)},put:function(b,c){a[b]||(a[b]=[]),a[b].push(c)},remove:function(b,c){var d=a[b];if(d){var e=d.indexOf(c);e!==-1&&d.splice(e,1),d.length||delete a[b]}}}}}}).provider("$uibResolve",function(){var a=this;this.resolver=null,this.setResolver=function(a){this.resolver=a},this.$get=["$injector","$q",function(b,c){var d=a.resolver?b.get(a.resolver):null;return{resolve:function(a,e,f,g){if(d)return d.resolve(a,e,f,g);var h=[];return angular.forEach(a,function(a){angular.isFunction(a)||angular.isArray(a)?h.push(c.resolve(b.invoke(a))):angular.isString(a)?h.push(c.resolve(b.get(a))):h.push(c.resolve(a))}),c.all(h).then(function(b){var c={},d=0;return angular.forEach(a,function(a,e){c[e]=b[d++]}),c})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(a,b,c){function d(b,d,e){e.modalInClass&&(a.addClass(d,e.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(c,f){var g=f();b.modalOptions.animation?a.removeClass(d,e.modalInClass).then(g):g()}))}return{restrict:"A",compile:function(a,b){return a.addClass(b.backdropClass),d}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(a,b,c,d){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/modal/window.html"},link:function(e,f,g){f.addClass(g.windowTopClass||""),e.size=g.size,e.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},f.on("click",e.close),e.$isRendered=!0;var h=b.defer();e.$$postDigest(function(){h.resolve()}),h.promise.then(function(){var h=null;g.modalInClass&&(h=c(f,{addClass:g.modalInClass}).start(),e.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();c(f,{removeClass:g.modalInClass}).start().then(d)})),b.when(h).then(function(){var b=a.getTop();if(b&&a.modalRendered(b.key),!d[0].activeElement||!f[0].contains(d[0].activeElement)){var c=f[0].querySelector("[autofocus]");c?c.focus():f[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(a){return{link:function(b,c,d,e,f){f(b.$parent,function(b){c.empty(),a.enter(b,c)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(a,b,c,d,e,f,g,h,i){function j(a){var b="-";return a.replace(C,function(a,c){return(c?b:"")+a.toLowerCase()})}function k(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)}function l(){for(var a=-1,b=w.keys(),c=0;c<b.length;c++)w.get(b[c]).value.backdrop&&(a=c);return a>-1&&a<z&&(a=z),a}function m(a,b){var c=w.get(a).value,d=c.appendTo;w.remove(a),A=w.top(),A&&(z=parseInt(A.value.modalDomEl.attr("index"),10)),p(c.modalDomEl,c.modalScope,function(){var b=c.openedClass||v;x.remove(b,a);var e=x.hasKey(b);d.toggleClass(b,e),!e&&u&&u.heightOverflow&&u.scrollbarWidth&&(u.originalRight?d.css({paddingRight:u.originalRight+"px"}):d.css({paddingRight:""}),u=null),n(!0)},c.closedDeferred),o(),b&&b.focus?b.focus():d.focus&&d.focus()}function n(a){var b;w.length()>0&&(b=w.top().value,b.modalDomEl.toggleClass(b.windowTopClass||"",a))}function o(){if(s&&l()===-1){var a=t;p(s,t,function(){a=null}),s=void 0,t=void 0}}function p(b,c,d,e){function g(){g.done||(g.done=!0,a.leave(b).then(function(){d&&d(),b.remove(),e&&e.resolve()}),c.$destroy())}var h,i=null,j=function(){return h||(h=f.defer(),i=h.promise),function(){h.resolve()}};return c.$broadcast(y.NOW_CLOSING_EVENT,j),f.when(i).then(g)}function q(a){if(a.isDefaultPrevented())return a;var b=w.top();if(b)switch(a.which){case 27:b.value.keyboard&&(a.preventDefault(),e.$apply(function(){y.dismiss(b.key,"escape key press")}));break;case 9:var c=y.loadFocusElementList(b),d=!1;a.shiftKey?(y.isFocusInFirstItem(a,c)||y.isModalFocused(a,b))&&(d=y.focusLastFocusableElement(c)):y.isFocusInLastItem(a,c)&&(d=y.focusFirstFocusableElement(c)),d&&(a.preventDefault(),a.stopPropagation())}}function r(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}var s,t,u,v="modal-open",w=h.createNew(),x=g.createNew(),y={NOW_CLOSING_EVENT:"modal.stack.now-closing"},z=0,A=null,B="a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]",C=/[A-Z]/g;return e.$watch(l,function(a){t&&(t.index=a)}),c.on("keydown",q),e.$on("$destroy",function(){c.off("keydown",q)}),y.open=function(b,f){var g=c[0].activeElement,h=f.openedClass||v;n(!1),A=w.top(),w.add(b,{deferred:f.deferred,renderDeferred:f.renderDeferred,closedDeferred:f.closedDeferred,modalScope:f.scope,backdrop:f.backdrop,keyboard:f.keyboard,openedClass:f.openedClass,windowTopClass:f.windowTopClass,animation:f.animation,appendTo:f.appendTo}),x.put(h,b);var k=f.appendTo,m=l();if(!k.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");m>=0&&!s&&(t=e.$new(!0),t.modalOptions=f,t.index=m,s=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),s.attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),f.backdropClass&&s.addClass(f.backdropClass),f.animation&&s.attr("modal-animation","true"),d(s)(t),a.enter(s,k),i.isScrollable(k)&&(u=i.scrollbarPadding(k),u.heightOverflow&&u.scrollbarWidth&&k.css({paddingRight:u.right+"px"})));var o;f.component?(o=document.createElement(j(f.component.name)),
o=angular.element(o),o.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):o=f.content,z=A?parseInt(A.value.modalDomEl.attr("index"),10)+1:0;var p=angular.element('<div uib-modal-window="modal-window"></div>');p.attr({class:"modal","template-url":f.windowTemplateUrl,"window-top-class":f.windowTopClass,role:"dialog","aria-labelledby":f.ariaLabelledBy,"aria-describedby":f.ariaDescribedBy,size:f.size,index:z,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(o),f.windowClass&&p.addClass(f.windowClass),f.animation&&p.attr("modal-animation","true"),k.addClass(h),f.scope&&(f.scope.$$topModalIndex=z),a.enter(d(p)(f.scope),k),w.top().value.modalDomEl=p,w.top().value.modalOpener=g},y.close=function(a,b){var c=w.get(a);return c&&r(c,b,!0)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.resolve(b),m(a,c.value.modalOpener),!0):!c},y.dismiss=function(a,b){var c=w.get(a);return c&&r(c,b,!1)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.reject(b),m(a,c.value.modalOpener),!0):!c},y.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},y.getTop=function(){return w.top()},y.modalRendered=function(a){var b=w.get(a);b&&b.value.renderDeferred.resolve()},y.focusFirstFocusableElement=function(a){return a.length>0&&(a[0].focus(),!0)},y.focusLastFocusableElement=function(a){return a.length>0&&(a[a.length-1].focus(),!0)},y.isModalFocused=function(a,b){if(a&&b){var c=b.value.modalDomEl;if(c&&c.length)return(a.target||a.srcElement)===c[0]}return!1},y.isFocusInFirstItem=function(a,b){return b.length>0&&(a.target||a.srcElement)===b[0]},y.isFocusInLastItem=function(a,b){return b.length>0&&(a.target||a.srcElement)===b[b.length-1]},y.loadFocusElementList=function(a){if(a){var b=a.value.modalDomEl;if(b&&b.length){var c=b[0].querySelectorAll(B);return c?Array.prototype.filter.call(c,function(a){return k(a)}):c}}},y}]).provider("$uibModal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?c.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}var j={},k=null;return j.getPromiseChain=function(){return k},j.open=function(e){function j(){return q}var l=c.defer(),m=c.defer(),n=c.defer(),o=c.defer(),p={result:l.promise,opened:m.promise,closed:n.promise,rendered:o.promise,close:function(a){return h.close(p,a)},dismiss:function(a){return h.dismiss(p,a)}};if(e=angular.extend({},a.options,e),e.resolve=e.resolve||{},e.appendTo=e.appendTo||d.find("body").eq(0),!e.component&&!e.template&&!e.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var q;q=e.component?c.when(g.resolve(e.resolve,{},null,null)):c.all([i(e),g.resolve(e.resolve,{},null,null)]);var r;return r=k=c.all([k]).then(j,j).then(function(a){function c(b,c,d,e){b.$scope=g,b.$scope.$resolve={},d?b.$scope.$uibModalInstance=p:b.$uibModalInstance=p;var f=c?a[1]:a;angular.forEach(f,function(a,c){e&&(b[c]=a),b.$scope.$resolve[c]=a})}var d=e.scope||b,g=d.$new();g.$close=p.close,g.$dismiss=p.dismiss,g.$on("$destroy",function(){g.$$uibDestructionScheduled||g.$dismiss("$uibUnscheduledDestruction")});var i,j,k={scope:g,deferred:l,renderDeferred:o,closedDeferred:n,animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowTopClass:e.windowTopClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,ariaLabelledBy:e.ariaLabelledBy,ariaDescribedBy:e.ariaDescribedBy,size:e.size,openedClass:e.openedClass,appendTo:e.appendTo},q={},r={};e.component?(c(q,!1,!0,!1),q.name=e.component,k.component=q):e.controller&&(c(r,!0,!1,!0),j=f(e.controller,r,!0,e.controllerAs),e.controllerAs&&e.bindToController&&(i=j.instance,i.$close=g.$close,i.$dismiss=g.$dismiss,angular.extend(i,{$resolve:r.$scope.$resolve},d)),i=j(),angular.isFunction(i.$onInit)&&i.$onInit()),e.component||(k.content=a[0]),h.open(p,k),m.resolve(!0)},function(a){m.reject(a),l.reject(a)}).finally(function(){k===r&&(k=null)}),p},j}]};return a}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(a){return{create:function(b,c,d){b.setNumPages=d.numPages?a(d.numPages).assign:angular.noop,b.ngModelCtrl={$setViewValue:angular.noop},b._watchers=[],b.init=function(a,e){b.ngModelCtrl=a,b.config=e,a.$render=function(){b.render()},d.itemsPerPage?b._watchers.push(c.$parent.$watch(d.itemsPerPage,function(a){b.itemsPerPage=parseInt(a,10),c.totalPages=b.calculateTotalPages(),b.updatePage()})):b.itemsPerPage=e.itemsPerPage,c.$watch("totalItems",function(a,d){(angular.isDefined(a)||a!==d)&&(c.totalPages=b.calculateTotalPages(),b.updatePage())})},b.calculateTotalPages=function(){var a=b.itemsPerPage<1?1:Math.ceil(c.totalItems/b.itemsPerPage);return Math.max(a||0,1)},b.render=function(){c.page=parseInt(b.ngModelCtrl.$viewValue,10)||1},c.selectPage=function(a,d){d&&d.preventDefault();var e=!c.ngDisabled||!d;e&&c.page!==a&&a>0&&a<=c.totalPages&&(d&&d.target&&d.target.blur(),b.ngModelCtrl.$setViewValue(a),b.ngModelCtrl.$render())},c.getText=function(a){return c[a+"Text"]||b.config[a+"Text"]},c.noPrevious=function(){return 1===c.page},c.noNext=function(){return c.page===c.totalPages},b.updatePage=function(){b.setNumPages(c.$parent,c.totalPages),c.page>c.totalPages?c.selectPage(c.totalPages):b.ngModelCtrl.$render()},c.$on("$destroy",function(){for(;b._watchers.length;)b._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(a,b,c,d){a.align=angular.isDefined(b.align)?a.$parent.$eval(b.align):d.align,c.create(this,a,b)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(a){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(a,b){return b.templateUrl||"uib/template/pager/pager.html"},link:function(b,c,d,e){c.addClass("pager");var f=e[0],g=e[1];g&&f.init(g,a)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(a,b,c,d,e){function f(a,b,c){return{number:a,text:b,active:c}}function g(a,b){var c=[],d=1,e=b,g=angular.isDefined(i)&&i<b;g&&(j?(d=Math.max(a-Math.floor(i/2),1),e=d+i-1,e>b&&(e=b,d=e-i+1)):(d=(Math.ceil(a/i)-1)*i+1,e=Math.min(d+i-1,b)));for(var h=d;h<=e;h++){var n=f(h,m(h),h===a);c.push(n)}if(g&&i>0&&(!j||k||l)){if(d>1){if(!l||d>3){var o=f(d-1,"...",!1);c.unshift(o)}if(l){if(3===d){var p=f(2,"2",!1);c.unshift(p)}var q=f(1,"1",!1);c.unshift(q)}}if(e<b){if(!l||e<b-2){var r=f(e+1,"...",!1);c.push(r)}if(l){if(e===b-2){var s=f(b-1,b-1,!1);c.push(s)}var t=f(b,b,!1);c.push(t)}}}return c}var h=this,i=angular.isDefined(b.maxSize)?a.$parent.$eval(b.maxSize):e.maxSize,j=angular.isDefined(b.rotate)?a.$parent.$eval(b.rotate):e.rotate,k=angular.isDefined(b.forceEllipses)?a.$parent.$eval(b.forceEllipses):e.forceEllipses,l=angular.isDefined(b.boundaryLinkNumbers)?a.$parent.$eval(b.boundaryLinkNumbers):e.boundaryLinkNumbers,m=angular.isDefined(b.pageLabel)?function(c){return a.$parent.$eval(b.pageLabel,{$page:c})}:angular.identity;a.boundaryLinks=angular.isDefined(b.boundaryLinks)?a.$parent.$eval(b.boundaryLinks):e.boundaryLinks,a.directionLinks=angular.isDefined(b.directionLinks)?a.$parent.$eval(b.directionLinks):e.directionLinks,d.create(this,a,b),b.maxSize&&h._watchers.push(a.$parent.$watch(c(b.maxSize),function(a){i=parseInt(a,10),h.render()}));var n=this.render;this.render=function(){n(),a.page>0&&a.page<=a.totalPages&&(a.pages=g(a.page,a.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(a,b){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"uib/template/pagination/pagination.html"},link:function(a,c,d,e){c.addClass("pagination");var f=e[0],g=e[1];g&&f.init(g,b)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},c={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(e,f,g,h,i,j,k,l,m){function n(a){if(27===a.which){var b=o.top();b&&(b.value.close(),b=null)}}var o=m.createNew();return h.on("keyup",n),k.$on("$destroy",function(){h.off("keyup",n)}),function(e,k,m,n){function p(a){var b=(a||n.trigger||m).split(" "),d=b.map(function(a){return c[a]||a});return{show:b,hide:d}}n=angular.extend({},b,d,n);var q=a(e),r=j.startSymbol(),s=j.endSymbol(),t="<div "+q+'-popup uib-title="'+r+"title"+s+'" '+(n.useContentExp?'content-exp="contentExp()" ':'content="'+r+"content"+s+'" ')+'origin-scope="origScope" class="uib-position-measure '+k+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(a,b){var c=f(t);return function(a,b,d,f){function j(){N.isOpen?q():m()}function m(){M&&!a.$eval(d[k+"Enable"])||(u(),x(),N.popupDelay?G||(G=g(r,N.popupDelay,!1)):r())}function q(){s(),N.popupCloseDelay?H||(H=g(t,N.popupCloseDelay,!1)):t()}function r(){return s(),u(),N.content?(v(),void N.$evalAsync(function(){N.isOpen=!0,y(!0),S()})):angular.noop}function s(){G&&(g.cancel(G),G=null),I&&(g.cancel(I),I=null)}function t(){N&&N.$evalAsync(function(){N&&(N.isOpen=!1,y(!1),N.animation?F||(F=g(w,150,!1)):w())})}function u(){H&&(g.cancel(H),H=null),F&&(g.cancel(F),F=null)}function v(){D||(E=N.$new(),D=c(E,function(a){K?h.find("body").append(a):b.after(a)}),o.add(N,{close:t}),z())}function w(){s(),u(),A(),D&&(D.remove(),D=null),o.remove(N),E&&(E.$destroy(),E=null)}function x(){N.title=d[k+"Title"],Q?N.content=Q(a):N.content=d[e],N.popupClass=d[k+"Class"],N.placement=angular.isDefined(d[k+"Placement"])?d[k+"Placement"]:n.placement;var b=i.parsePlacement(N.placement);J=b[1]?b[0]+"-"+b[1]:b[0];var c=parseInt(d[k+"PopupDelay"],10),f=parseInt(d[k+"PopupCloseDelay"],10);N.popupDelay=isNaN(c)?n.popupDelay:c,N.popupCloseDelay=isNaN(f)?n.popupCloseDelay:f}function y(b){P&&angular.isFunction(P.assign)&&P.assign(a,b)}function z(){R.length=0,Q?(R.push(a.$watch(Q,function(a){N.content=a,!a&&N.isOpen&&t()})),R.push(E.$watch(function(){O||(O=!0,E.$$postDigest(function(){O=!1,N&&N.isOpen&&S()}))}))):R.push(d.$observe(e,function(a){N.content=a,!a&&N.isOpen?t():S()})),R.push(d.$observe(k+"Title",function(a){N.title=a,N.isOpen&&S()})),R.push(d.$observe(k+"Placement",function(a){N.placement=a?a:n.placement,N.isOpen&&S()}))}function A(){R.length&&(angular.forEach(R,function(a){a()}),R.length=0)}function B(a){N&&N.isOpen&&D&&(b[0].contains(a.target)||D[0].contains(a.target)||q())}function C(){var c=[],e=[],f=a.$eval(d[k+"Trigger"]);T(),angular.isObject(f)?(Object.keys(f).forEach(function(a){c.push(a),e.push(f[a])}),L={show:c,hide:e}):L=p(f),"none"!==L.show&&L.show.forEach(function(a,c){"outsideClick"===a?(b.on("click",j),h.on("click",B)):a===L.hide[c]?b.on(a,j):a&&(b.on(a,m),b.on(L.hide[c],q)),b.on("keypress",function(a){27===a.which&&q()})})}var D,E,F,G,H,I,J,K=!!angular.isDefined(n.appendToBody)&&n.appendToBody,L=p(void 0),M=angular.isDefined(d[k+"Enable"]),N=a.$new(!0),O=!1,P=!!angular.isDefined(d[k+"IsOpen"])&&l(d[k+"IsOpen"]),Q=!!n.useContentExp&&l(d[e]),R=[],S=function(){D&&D.html()&&(I||(I=g(function(){var a=i.positionElements(b,D,N.placement,K),c=angular.isDefined(D.offsetHeight)?D.offsetHeight:D.prop("offsetHeight"),d=K?i.offset(b):i.position(b);D.css({top:a.top+"px",left:a.left+"px"});var e=a.placement.split("-");D.hasClass(e[0])||(D.removeClass(J.split("-")[0]),D.addClass(e[0])),D.hasClass(n.placementClassPrefix+a.placement)||(D.removeClass(n.placementClassPrefix+J),D.addClass(n.placementClassPrefix+a.placement)),g(function(){var a=angular.isDefined(D.offsetHeight)?D.offsetHeight:D.prop("offsetHeight"),b=i.adjustTop(e,d,c,a);b&&D.css(b)},0,!1),D.hasClass("uib-position-measure")?(i.positionArrow(D,a.placement),D.removeClass("uib-position-measure")):J!==a.placement&&i.positionArrow(D,a.placement),J=a.placement,I=null},0,!1)))};N.origScope=a,N.isOpen=!1,N.contentExp=function(){return N.content},d.$observe("disabled",function(a){a&&s(),a&&N.isOpen&&t()}),P&&a.$watch(P,function(a){N&&!a===N.isOpen&&j()});var T=function(){L.show.forEach(function(a){"outsideClick"===a?b.off("click",j):(b.off(a,m),b.off(a,j))}),L.hide.forEach(function(a){"outsideClick"===a?h.off("click",B):b.off(a,q)})};C();var U=a.$eval(d[k+"Animation"]);N.animation=angular.isDefined(U)?!!U:n.animation;var V,W=k+"AppendToBody";V=W in d&&void 0===d[W]||a.$eval(d[W]),K=angular.isDefined(V)?V:K,a.$on("$destroy",function(){T(),w(),N=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.uibTooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("uibTooltipClasses",["$uibPosition",function(a){return{restrict:"A",link:function(b,c,d){if(b.placement){var e=a.parsePlacement(b.placement);c.addClass(e[0])}b.popupClass&&c.addClass(b.popupClass),b.animation&&c.addClass(d.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(a){return a("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(a){return a("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(a){return a("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(a){return a("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(a){return a("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(a){return a("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(a,b,c){function d(){return angular.isDefined(a.maxParam)?a.maxParam:c.max}var e=this,f=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=d(),this.addBar=function(a,b,c){f||b.css({transition:"none"}),this.bars.push(a),a.max=d(),a.title=c&&angular.isDefined(c.title)?c.title:"progressbar",a.$watch("value",function(b){a.recalculatePercentage()}),a.recalculatePercentage=function(){var b=e.bars.reduce(function(a,b){return b.percent=+(100*b.value/b.max).toFixed(2),a+b.percent},0);b>100&&(a.percent-=b-100)},a.$on("$destroy",function(){b=null,e.removeBar(a)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1),this.bars.forEach(function(a){a.recalculatePercentage()})},a.$watch("maxParam",function(a){e.bars.forEach(function(a){a.max=d(),a.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b,c)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]),{title:c.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(a,b,c){var d={$setViewValue:angular.noop},e=this;this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff,this.enableReset=angular.isDefined(b.enableReset)?a.$parent.$eval(b.enableReset):c.enableReset;var f=angular.isDefined(b.titles)?a.$parent.$eval(b.titles):c.titles;this.titles=angular.isArray(f)&&f.length>0?f:c.titles;var g=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(g)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;b<c;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(b)},a[b]);return a},this.getTitle=function(a){return a>=this.titles.length?a+1:this.titles[a]},a.rate=function(b){if(!a.readonly&&b>=0&&b<=a.range.length){var c=e.enableReset&&d.$viewValue===b?0:b;d.$setViewValue(c),d.$render()}},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue,a.title=e.getTitle(a.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(a){function b(a){for(var b=0;b<d.tabs.length;b++)if(d.tabs[b].index===a)return b}var c,d=this;d.tabs=[],d.select=function(a,f){if(!e){var g=b(c),h=d.tabs[g];if(h){if(h.tab.onDeselect({$event:f,$selectedIndex:a}),f&&f.isDefaultPrevented())return;h.tab.active=!1}var i=d.tabs[a];i?(i.tab.onSelect({$event:f}),i.tab.active=!0,d.active=i.index,c=i.index):!i&&angular.isDefined(c)&&(d.active=null,c=null)}},d.addTab=function(a){if(d.tabs.push({tab:a,index:a.index}),d.tabs.sort(function(a,b){return a.index>b.index?1:a.index<b.index?-1:0}),a.index===d.active||!angular.isDefined(d.active)&&1===d.tabs.length){var c=b(a.index);d.select(c)}},d.removeTab=function(a){for(var b,c=0;c<d.tabs.length;c++)if(d.tabs[c].tab===a){b=c;break}if(d.tabs[b].index===d.active){var e=b===d.tabs.length-1?b-1:b+1%d.tabs.length;d.select(e)}d.tabs.splice(b,1)},a.$watch("tabset.active",function(a){angular.isDefined(a)&&a!==c&&d.select(b(a))});var e;a.$on("$destroy",function(){e=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(a,b){return b.templateUrl||"uib/template/tabs/tabset.html"},link:function(a,b,c){a.vertical=!!angular.isDefined(c.vertical)&&a.$parent.$eval(c.vertical),a.justified=!!angular.isDefined(c.justified)&&a.$parent.$eval(c.justified)}}}).directive("uibTab",["$parse",function(a){return{require:"^uibTabset",replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(b,c,d,e,f){b.disabled=!1,d.disable&&b.$parent.$watch(a(d.disable),function(a){b.disabled=!!a}),angular.isUndefined(d.index)&&(e.tabs&&e.tabs.length?b.index=Math.max.apply(null,e.tabs.map(function(a){return a.index}))+1:b.index=0),angular.isUndefined(d.classes)&&(b.classes=""),b.select=function(a){if(!b.disabled){for(var c,d=0;d<e.tabs.length;d++)if(e.tabs[d].tab===b){c=d;break}e.select(c,a)}},e.addTab(b),b.$on("$destroy",function(){e.removeTab(b)}),b.$transcludeFn=f}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}).directive("uibTabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("uib-tab-heading")||a.hasAttribute("data-uib-tab-heading")||a.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===a.tagName.toLowerCase()||"data-uib-tab-heading"===a.tagName.toLowerCase()||"x-uib-tab-heading"===a.tagName.toLowerCase()||"uib:tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(b,c,d){var e=b.$eval(d.uibTabContentTransclude).tab;e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(a,b,c,d,e,f,g){function h(){var b=+a.hours,c=a.showMeridian?b>0&&b<13:b>=0&&b<24;if(c&&""!==a.hours)return a.showMeridian&&(12===b&&(b=0),a.meridian===v[1]&&(b+=12)),b}function i(){var b=+a.minutes,c=b>=0&&b<60;if(c&&""!==a.minutes)return b}function j(){var b=+a.seconds;return b>=0&&b<60?b:void 0}function k(a,b){return null===a?"":angular.isDefined(a)&&a.toString().length<2&&!b?"0"+a:a.toString()}function l(a){m(),u.$setViewValue(new Date(s)),n(a)}function m(){u.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1,a.invalidSeconds=!1}function n(b){if(u.$modelValue){var c=s.getHours(),d=s.getMinutes(),e=s.getSeconds();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:k(c,!w),"m"!==b&&(a.minutes=k(d)),a.meridian=s.getHours()<12?v[0]:v[1],"s"!==b&&(a.seconds=k(e)),a.meridian=s.getHours()<12?v[0]:v[1]}else a.hours=null,a.minutes=null,a.seconds=null,a.meridian=v[0]}function o(a){s=q(s,a),l()}function p(a,b){return q(a,60*b)}function q(a,b){var c=new Date(a.getTime()+1e3*b),d=new Date(a);return d.setHours(c.getHours(),c.getMinutes(),c.getSeconds()),d}function r(){return(null===a.hours||""===a.hours)&&(null===a.minutes||""===a.minutes)&&(!a.showSeconds||a.showSeconds&&(null===a.seconds||""===a.seconds))}var s=new Date,t=[],u={$setViewValue:angular.noop},v=angular.isDefined(c.meridians)?a.$parent.$eval(c.meridians):g.meridians||f.DATETIME_FORMATS.AMPMS,w=!angular.isDefined(c.padHours)||a.$parent.$eval(c.padHours);a.tabindex=angular.isDefined(c.tabindex)?c.tabindex:0,b.removeAttr("tabindex"),this.init=function(b,d){u=b,u.$render=this.render,u.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),f=d.eq(1),h=d.eq(2),i=angular.isDefined(c.mousewheel)?a.$parent.$eval(c.mousewheel):g.mousewheel;i&&this.setupMousewheelEvents(e,f,h);var j=angular.isDefined(c.arrowkeys)?a.$parent.$eval(c.arrowkeys):g.arrowkeys;j&&this.setupArrowkeyEvents(e,f,h),a.readonlyInput=angular.isDefined(c.readonlyInput)?a.$parent.$eval(c.readonlyInput):g.readonlyInput,this.setupInputEvents(e,f,h)};var x=g.hourStep;c.hourStep&&t.push(a.$parent.$watch(d(c.hourStep),function(a){x=+a}));var y=g.minuteStep;c.minuteStep&&t.push(a.$parent.$watch(d(c.minuteStep),function(a){y=+a}));var z;t.push(a.$parent.$watch(d(c.min),function(a){var b=new Date(a);z=isNaN(b)?void 0:b}));var A;t.push(a.$parent.$watch(d(c.max),function(a){var b=new Date(a);A=isNaN(b)?void 0:b}));var B=!1;c.ngDisabled&&t.push(a.$parent.$watch(d(c.ngDisabled),function(a){B=a})),a.noIncrementHours=function(){var a=p(s,60*x);return B||a>A||a<s&&a<z},a.noDecrementHours=function(){var a=p(s,60*-x);return B||a<z||a>s&&a>A},a.noIncrementMinutes=function(){var a=p(s,y);return B||a>A||a<s&&a<z},a.noDecrementMinutes=function(){var a=p(s,-y);return B||a<z||a>s&&a>A},a.noIncrementSeconds=function(){var a=q(s,C);return B||a>A||a<s&&a<z},a.noDecrementSeconds=function(){var a=q(s,-C);return B||a<z||a>s&&a>A},a.noToggleMeridian=function(){return s.getHours()<12?B||p(s,720)>A:B||p(s,-720)<z};var C=g.secondStep;c.secondStep&&t.push(a.$parent.$watch(d(c.secondStep),function(a){C=+a})),a.showSeconds=g.showSeconds,c.showSeconds&&t.push(a.$parent.$watch(d(c.showSeconds),function(b){a.showSeconds=!!b})),a.showMeridian=g.showMeridian,c.showMeridian&&t.push(a.$parent.$watch(d(c.showMeridian),function(b){if(a.showMeridian=!!b,u.$error.time){var c=h(),d=i();angular.isDefined(c)&&angular.isDefined(d)&&(s.setHours(c),l())}else n()})),this.setupMousewheelEvents=function(b,c,d){var e=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){B||a.$apply(e(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){B||a.$apply(e(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()}),d.bind("mousewheel wheel",function(b){B||a.$apply(e(b)?a.incrementSeconds():a.decrementSeconds()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c,d){b.bind("keydown",function(b){B||(38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply()))}),c.bind("keydown",function(b){B||(38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply()))}),d.bind("keydown",function(b){B||(38===b.which?(b.preventDefault(),a.incrementSeconds(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementSeconds(),a.$apply()))})},this.setupInputEvents=function(b,c,d){if(a.readonlyInput)return a.updateHours=angular.noop,a.updateMinutes=angular.noop,void(a.updateSeconds=angular.noop);var e=function(b,c,d){u.$setViewValue(null),u.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c),angular.isDefined(d)&&(a.invalidSeconds=d)};a.updateHours=function(){var a=h(),b=i();u.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)?(s.setHours(a),s.setMinutes(b),s<z||s>A?e(!0):l("h")):e(!0)},b.bind("blur",function(b){u.$setTouched(),r()?m():null===a.hours||""===a.hours?e(!0):!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=k(a.hours,!w)})}),a.updateMinutes=function(){var a=i(),b=h();u.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)?(s.setHours(b),s.setMinutes(a),s<z||s>A?e(void 0,!0):l("m")):e(void 0,!0)},c.bind("blur",function(b){u.$setTouched(),r()?m():null===a.minutes?e(void 0,!0):!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=k(a.minutes)})}),a.updateSeconds=function(){var a=j();u.$setDirty(),angular.isDefined(a)?(s.setSeconds(a),l("s")):e(void 0,void 0,!0)},d.bind("blur",function(b){r()?m():!a.invalidSeconds&&a.seconds<10&&a.$apply(function(){a.seconds=k(a.seconds)})})},this.render=function(){var b=u.$viewValue;isNaN(b)?(u.$setValidity("time",!1),e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(b&&(s=b),s<z||s>A?(u.$setValidity("time",!1),a.invalidHours=!0,a.invalidMinutes=!0):m(),n())},a.showSpinners=angular.isDefined(c.showSpinners)?a.$parent.$eval(c.showSpinners):g.showSpinners,a.incrementHours=function(){a.noIncrementHours()||o(60*x*60)},a.decrementHours=function(){a.noDecrementHours()||o(60*-x*60)},a.incrementMinutes=function(){a.noIncrementMinutes()||o(60*y)},a.decrementMinutes=function(){a.noDecrementMinutes()||o(60*-y)},a.incrementSeconds=function(){a.noIncrementSeconds()||o(C)},a.decrementSeconds=function(){a.noDecrementSeconds()||o(-C)},a.toggleMeridian=function(){var b=i(),c=h();a.noToggleMeridian()||(angular.isDefined(b)&&angular.isDefined(c)?o(720*(s.getHours()<12?60:-60)):a.meridian=a.meridian===v[0]?v[1]:v[0])},a.blur=function(){u.$setTouched()},a.$on("$destroy",function(){for(;t.length;)t.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(a){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(b,c){return c.templateUrl||a.templateUrl},link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){O.moveInProgress||(O.moveInProgress=!0,O.$digest()),Z()}function o(){O.position=E?l.offset(b):l.position(b),O.position.top+=b.prop("offsetHeight")}var p,q,r=[9,13,27,38,40],s=200,t=a.$eval(c.typeaheadMinLength);t||0===t||(t=1),a.$watch(c.typeaheadMinLength,function(a){t=a||0===a?a:1});var u=a.$eval(c.typeaheadWaitMs)||0,v=a.$eval(c.typeaheadEditable)!==!1;a.$watch(c.typeaheadEditable,function(a){v=a!==!1});var w,x,y=e(c.typeaheadLoading).assign||angular.noop,z=c.typeaheadShouldSelect?e(c.typeaheadShouldSelect):function(a,b){
var c=b.$event;return 13===c.which||9===c.which},A=e(c.typeaheadOnSelect),B=!!angular.isDefined(c.typeaheadSelectOnBlur)&&a.$eval(c.typeaheadSelectOnBlur),C=e(c.typeaheadNoResults).assign||angular.noop,D=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,E=!!c.typeaheadAppendToBody&&a.$eval(c.typeaheadAppendToBody),F=c.typeaheadAppendTo?a.$eval(c.typeaheadAppendTo):null,G=a.$eval(c.typeaheadFocusFirst)!==!1,H=!!c.typeaheadSelectOnExact&&a.$eval(c.typeaheadSelectOnExact),I=e(c.typeaheadIsOpen).assign||angular.noop,J=a.$eval(c.typeaheadShowHint)||!1,K=e(c.ngModel),L=e(c.ngModel+"($$$p)"),M=function(b,c){return angular.isFunction(K(a))&&q&&q.$options&&q.$options.getterSetter?L(b,{$$$p:c}):K.assign(b,c)},N=m.parse(c.uibTypeahead),O=a.$new(),P=a.$on("$destroy",function(){O.$destroy()});O.$on("$destroy",P);var Q="typeahead-"+O.$id+"-"+Math.floor(1e4*Math.random());b.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":Q});var R,S;J&&(R=angular.element("<div></div>"),R.css("position","relative"),b.after(R),S=b.clone(),S.attr("placeholder",""),S.attr("tabindex","-1"),S.val(""),S.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),b.css({position:"relative","vertical-align":"top","background-color":"transparent"}),S.attr("id")&&S.removeAttr("id"),R.append(S),S.after(b));var T=angular.element("<div uib-typeahead-popup></div>");T.attr({id:Q,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(c.typeaheadTemplateUrl)&&T.attr("template-url",c.typeaheadTemplateUrl),angular.isDefined(c.typeaheadPopupTemplateUrl)&&T.attr("popup-template-url",c.typeaheadPopupTemplateUrl);var U=function(){J&&S.val("")},V=function(){O.matches=[],O.activeIdx=-1,b.attr("aria-expanded",!1),U()},W=function(a){return Q+"-option-"+a};O.$watch("activeIdx",function(a){a<0?b.removeAttr("aria-activedescendant"):b.attr("aria-activedescendant",W(a))});var X=function(a,b){return!!(O.matches.length>b&&a)&&a.toUpperCase()===O.matches[b].label.toUpperCase()},Y=function(c,d){var e={$viewValue:c};y(a,!0),C(a,!1),f.when(N.source(a,e)).then(function(f){var g=c===p.$viewValue;if(g&&w)if(f&&f.length>0){O.activeIdx=G?0:-1,C(a,!1),O.matches.length=0;for(var h=0;h<f.length;h++)e[N.itemName]=f[h],O.matches.push({id:W(h),label:N.viewMapper(O,e),model:f[h]});if(O.query=c,o(),b.attr("aria-expanded",!0),H&&1===O.matches.length&&X(c,0)&&(angular.isNumber(O.debounceUpdate)||angular.isObject(O.debounceUpdate)?k(function(){O.select(0,d)},angular.isNumber(O.debounceUpdate)?O.debounceUpdate:O.debounceUpdate.default):O.select(0,d)),J){var i=O.matches[0].label;angular.isString(c)&&c.length>0&&i.slice(0,c.length).toUpperCase()===c.toUpperCase()?S.val(c+i.slice(c.length)):S.val("")}}else V(),C(a,!0);g&&y(a,!1)},function(){V(),y(a,!1),C(a,!0)})};E&&(angular.element(i).on("resize",n),h.find("body").on("scroll",n));var Z=k(function(){O.matches.length&&o(),O.moveInProgress=!1},s);O.moveInProgress=!1,O.query=void 0;var $,_=function(a){$=g(function(){Y(a)},u)},aa=function(){$&&g.cancel($)};V(),O.assignIsOpen=function(b){I(a,b)},O.select=function(d,e){var f,h,i={};x=!0,i[N.itemName]=h=O.matches[d].model,f=N.modelMapper(a,i),M(a,f),p.$setValidity("editable",!0),p.$setValidity("parse",!0),A(a,{$item:h,$model:f,$label:N.viewMapper(a,i),$event:e}),V(),O.$eval(c.typeaheadFocusOnSelect)!==!1&&g(function(){b[0].focus()},0,!1)},b.on("keydown",function(b){if(0!==O.matches.length&&r.indexOf(b.which)!==-1){var c=z(a,{$event:b});if(O.activeIdx===-1&&c||9===b.which&&b.shiftKey)return V(),void O.$digest();b.preventDefault();var d;switch(b.which){case 27:b.stopPropagation(),V(),a.$digest();break;case 38:O.activeIdx=(O.activeIdx>0?O.activeIdx:O.matches.length)-1,O.$digest(),d=T[0].querySelectorAll(".uib-typeahead-match")[O.activeIdx],d.parentNode.scrollTop=d.offsetTop;break;case 40:O.activeIdx=(O.activeIdx+1)%O.matches.length,O.$digest(),d=T[0].querySelectorAll(".uib-typeahead-match")[O.activeIdx],d.parentNode.scrollTop=d.offsetTop;break;default:c&&O.$apply(function(){angular.isNumber(O.debounceUpdate)||angular.isObject(O.debounceUpdate)?k(function(){O.select(O.activeIdx,b)},angular.isNumber(O.debounceUpdate)?O.debounceUpdate:O.debounceUpdate.default):O.select(O.activeIdx,b)})}}}),b.bind("focus",function(a){w=!0,0!==t||p.$viewValue||g(function(){Y(p.$viewValue,a)},0)}),b.bind("blur",function(a){B&&O.matches.length&&O.activeIdx!==-1&&!x&&(x=!0,O.$apply(function(){angular.isObject(O.debounceUpdate)&&angular.isNumber(O.debounceUpdate.blur)?k(function(){O.select(O.activeIdx,a)},O.debounceUpdate.blur):O.select(O.activeIdx,a)})),!v&&p.$error.editable&&(p.$setViewValue(),O.$apply(function(){p.$setValidity("editable",!0),p.$setValidity("parse",!0)}),b.val("")),w=!1,x=!1});var ba=function(c){b[0]!==c.target&&3!==c.which&&0!==O.matches.length&&(V(),j.$$phase||a.$digest())};h.on("click",ba),a.$on("$destroy",function(){h.off("click",ba),(E||F)&&ca.remove(),E&&(angular.element(i).off("resize",n),h.find("body").off("scroll",n)),T.remove(),J&&R.remove()});var ca=d(T)(O);E?h.find("body").append(ca):F?angular.element(F).eq(0).append(ca):b.after(ca),this.init=function(b,c){p=b,q=c,O.debounceUpdate=p.$options&&e(p.$options.debounce)(a),p.$parsers.unshift(function(b){return w=!0,0===t||b&&b.length>=t?u>0?(aa(),_(b)):Y(b):(y(a,!1),aa(),V()),v?b:b?void p.$setValidity("editable",!1):(p.$setValidity("editable",!0),null)}),p.$formatters.push(function(b){var c,d,e={};return v||p.$setValidity("editable",!0),D?(e.$model=b,D(a,e)):(e[N.itemName]=b,c=N.viewMapper(a,e),e[N.itemName]=void 0,d=N.viewMapper(a,e),c!==d?c:b)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(a,b,c,d){d[2].init(d[0],d[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(a){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(b,c,d){b.templateUrl=d.templateUrl,b.isOpen=function(){var a=b.matches.length>0;return b.assignIsOpen({isOpen:a}),a},b.isActive=function(a){return b.active===a},b.selectActive=function(a){b.active=a},b.selectMatch=function(c,d){var e=b.debounce();angular.isNumber(e)||angular.isObject(e)?a(function(){b.select({activeIdx:c,evt:d})},angular.isNumber(e)?e:e.default):b.select({activeIdx:c,evt:d})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{scope:{index:"=",match:"=",query:"="},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||"uib/template/typeahead/typeahead-match.html";a(g).then(function(a){var c=angular.element(a.trim());e.replaceWith(c),b(c)(d)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(a,b,c){function d(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function e(a){return/<.*>/g.test(a)}var f;return f=b.has("$sanitize"),function(b,g){return!f&&e(b)&&c.warn("Unsafe use of typeahead please use ngSanitize"),b=g?(""+b).replace(new RegExp(d(g),"gi"),"<strong>$&</strong>"):b,f||(b=a.trustAsHtml(b)),b}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(a){a.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(a){a.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("uib/template/pagination/pagination.html",'<li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),
angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),function(a,b){"function"==typeof define&&define.amd?define(["angular"],b):"object"==typeof module&&module.exports?module.exports=b(require("angular")):a.angularClipboard=b(a.angular)}(this,function(a){return a.module("angular-clipboard",[]).factory("clipboard",["$document","$window",function(a,b){function c(c,d){var e=a[0].createElement("textarea");return e.style.position="absolute",e.textContent=c,e.style.left="-10000px",e.style.top=(b.pageYOffset||a[0].documentElement.scrollTop)+"px",e}function d(b){try{a[0].body.style.webkitUserSelect="initial";var c=a[0].getSelection();if(c.removeAllRanges(),b.select(),!a[0].execCommand("copy"))throw"failure copy";c.removeAllRanges()}finally{a[0].body.style.webkitUserSelect=""}}function e(b,e){var f=c(b,e);a[0].body.appendChild(f),d(f),a[0].body.removeChild(f)}return{copyText:e,supported:"queryCommandSupported"in a[0]&&a[0].queryCommandSupported("copy")}}]).directive("clipboard",["clipboard",function(b){return{restrict:"A",scope:{onCopied:"&",onError:"&",text:"=",supported:"=?"},link:function(c,d){c.supported=b.supported,d.on("click",function(e){try{b.copyText(c.text,d[0]),a.isFunction(c.onCopied)&&c.$evalAsync(c.onCopied())}catch(b){a.isFunction(c.onError)&&c.$evalAsync(c.onError({err:b}))}})}}}])}),angular.module("dialogs.default-translations",["pascalprecht.translate"]).config(["$translateProvider",function(a){a.translations("de-DE",{DIALOGS_ERROR:"Error",DIALOGS_ERROR_MSG:"Ein unbekannter Fehler ist aufgetreten.",DIALOGS_CLOSE:"Schließen",DIALOGS_PLEASE_WAIT:"Bitte warten",DIALOGS_PLEASE_WAIT_ELIPS:"Bitte warten...",DIALOGS_PLEASE_WAIT_MSG:"Warte auf Fertigstellung der Operation.",DIALOGS_PERCENT_COMPLETE:"% fertig",DIALOGS_NOTIFICATION:"Benachrichtigung",DIALOGS_NOTIFICATION_MSG:"Unbekannte Anwendungsbenachrichtigung.",DIALOGS_CONFIRMATION:"Bestätigung",DIALOGS_CONFIRMATION_MSG:"Bestätigung erforderlich.",DIALOGS_OK:"OK",DIALOGS_YES:"Ja",DIALOGS_NO:"Nein"}),a.translations("en-US",{DIALOGS_ERROR:"Error",DIALOGS_ERROR_MSG:"An unknown error has occurred.",DIALOGS_CLOSE:"Close",DIALOGS_PLEASE_WAIT:"Please Wait",DIALOGS_PLEASE_WAIT_ELIPS:"Please Wait...",DIALOGS_PLEASE_WAIT_MSG:"Waiting on operation to complete.",DIALOGS_PERCENT_COMPLETE:"% Complete",DIALOGS_NOTIFICATION:"Notification",DIALOGS_NOTIFICATION_MSG:"Unknown application notification.",DIALOGS_CONFIRMATION:"Confirmation",DIALOGS_CONFIRMATION_MSG:"Confirmation required.",DIALOGS_OK:"OK",DIALOGS_YES:"Yes",DIALOGS_NO:"No"}),a.translations("es-ES",{DIALOGS_ERROR:"Error",DIALOGS_ERROR_MSG:"Se ha producido un error.",DIALOGS_CLOSE:"Cerrar",DIALOGS_PLEASE_WAIT:"Espere por favor",DIALOGS_PLEASE_WAIT_ELIPS:"Espere por favor...",DIALOGS_PLEASE_WAIT_MSG:"Completando operación.",DIALOGS_PERCENT_COMPLETE:"% Completado",DIALOGS_NOTIFICATION:"Notificación",DIALOGS_NOTIFICATION_MSG:"Notificación de una aplicación desconocida.",DIALOGS_CONFIRMATION:"Confirmación",DIALOGS_CONFIRMATION_MSG:"Se requiere confirmacion.",DIALOGS_OK:"Aceptar",DIALOGS_YES:"Sí",DIALOGS_NO:"No"}),a.translations("fr-FR",{DIALOGS_ERROR:"Erreur",DIALOGS_ERROR_MSG:"Une erreur inconnue s'est produite.",DIALOGS_CLOSE:"Fermer",DIALOGS_PLEASE_WAIT:"Patientez svp",DIALOGS_PLEASE_WAIT_ELIPS:"Patienter svp...",DIALOGS_PLEASE_WAIT_MSG:"En attente de la fin de l'opération.",DIALOGS_PERCENT_COMPLETE:"% Terminer",DIALOGS_NOTIFICATION:"Notification",DIALOGS_NOTIFICATION_MSG:"Notification de l'application inconnue",DIALOGS_CONFIRMATION:"Confirmer",DIALOGS_CONFIRMATION_MSG:"Merci de confirmer",DIALOGS_OK:"OK",DIALOGS_YES:"Oui",DIALOGS_NO:"Non"}),a.translations("pt-BR",{DIALOGS_ERROR:"Erro",DIALOGS_ERROR_MSG:"Ocorreu um erro inesperado.",DIALOGS_CLOSE:"Fechar",DIALOGS_PLEASE_WAIT:"Por favor aguarde",DIALOGS_PLEASE_WAIT_ELIPS:"Por favor aguarde...",DIALOGS_PLEASE_WAIT_MSG:"Aguardando que a operação termine.",DIALOGS_PERCENT_COMPLETE:"% Completados",DIALOGS_NOTIFICATION:"Notificação",DIALOGS_NOTIFICATION_MSG:"Notificação de aplicação desconhecida.",DIALOGS_CONFIRMATION:"Confirmação",DIALOGS_CONFIRMATION_MSG:"Confirmação requerida.",DIALOGS_OK:"OK",DIALOGS_YES:"Sim",DIALOGS_NO:"Não"}),a.translations("zh-CN",{DIALOGS_ERROR:"错误",DIALOGS_ERROR_MSG:"出现未知错误。",DIALOGS_CLOSE:"关闭",DIALOGS_PLEASE_WAIT:"请稍候",DIALOGS_PLEASE_WAIT_ELIPS:"请稍候...",DIALOGS_PLEASE_WAIT_MSG:"请等待操作完成。",DIALOGS_PERCENT_COMPLETE:"% 已完成",DIALOGS_NOTIFICATION:"通知",DIALOGS_NOTIFICATION_MSG:"未知应用程序的通知。",DIALOGS_CONFIRMATION:"确认",DIALOGS_CONFIRMATION_MSG:"确认要求。",DIALOGS_OK:"确定",DIALOGS_YES:"确认",DIALOGS_NO:"取消"}),a.preferredLanguage("en-US")}]),!function(){"use strict";var a=angular.module("translate.sub",[]);a.provider("$translate",[function(){var a=[],b="en-US";this.translations=function(c,d){angular.isDefined(c)&&angular.isDefined(d)&&(a[c]=angular.copy(d),b=c)},this.$get=[function(){return{instant:function(c){return angular.isDefined(c)&&angular.isDefined(a[b][c])?a[b][c]:""}}}]}]),a.filter("translate",["$translate",function(a){return function(b){return a.instant(b)}}]);var b;try{angular.module("pascalprecht.translate"),b=angular.module("dialogs.controllers",["ui.bootstrap.modal","pascalprecht.translate"])}catch(a){b=angular.module("dialogs.controllers",["ui.bootstrap.modal","translate.sub"])}b.controller("errorDialogCtrl",["$scope","$uibModalInstance","$translate","data",function(a,b,c,d){a.header=angular.isDefined(d.header)?d.header:c.instant("DIALOGS_ERROR"),a.msg=angular.isDefined(d.msg)?d.msg:c.instant("DIALOGS_ERROR_MSG"),a.icon=angular.isDefined(d.fa)&&angular.equals(d.fa,!0)?"fa fa-warning":"glyphicon glyphicon-warning-sign",a.close=function(){b.close(),a.$destroy()}}]),b.controller("waitDialogCtrl",["$scope","$uibModalInstance","$translate","$timeout","data",function(a,b,c,d,e){a.header=angular.isDefined(e.header)?e.header:c.instant("DIALOGS_PLEASE_WAIT_ELIPS"),a.msg=angular.isDefined(e.msg)?e.msg:c.instant("DIALOGS_PLEASE_WAIT_MSG"),a.progress=angular.isDefined(e.progress)?e.progress:100,a.icon=angular.isDefined(e.fa)&&angular.equals(e.fa,!0)?"fa fa-clock-o":"glyphicon glyphicon-time",a.$on("dialogs.wait.complete",function(){d(function(){b.close(),a.$destroy()})}),a.$on("dialogs.wait.message",function(b,c){a.msg=angular.isDefined(c.msg)?c.msg:a.msg}),a.$on("dialogs.wait.progress",function(b,c){a.msg=angular.isDefined(c.msg)?c.msg:a.msg,a.progress=angular.isDefined(c.progress)?c.progress:a.progress}),a.getProgress=function(){return{width:a.progress+"%"}}}]),b.controller("notifyDialogCtrl",["$scope","$uibModalInstance","$translate","data",function(a,b,c,d){a.header=angular.isDefined(d.header)?d.header:c.instant("DIALOGS_NOTIFICATION"),a.msg=angular.isDefined(d.msg)?d.msg:c.instant("DIALOGS_NOTIFICATION_MSG"),a.icon=angular.isDefined(d.fa)&&angular.equals(d.fa,!0)?"fa fa-info":"glyphicon glyphicon-info-sign",a.close=function(){b.close(),a.$destroy()}}]),b.controller("confirmDialogCtrl",["$scope","$uibModalInstance","$translate","data",function(a,b,c,d){a.header=angular.isDefined(d.header)?d.header:c.instant("DIALOGS_CONFIRMATION"),a.msg=angular.isDefined(d.msg)?d.msg:c.instant("DIALOGS_CONFIRMATION_MSG"),a.icon=angular.isDefined(d.fa)&&angular.equals(d.fa,!0)?"fa fa-check":"glyphicon glyphicon-check",a.no=function(){b.dismiss("no")},a.yes=function(){b.close("yes")}}]),angular.module("dialogs.services",["ui.bootstrap.modal","dialogs.controllers"]).provider("dialogs",[function(){var a=!0,b=!0,c="dialogs-default",d="dialogs-backdrop-default",e=!0,f=null,g="lg",h=!1,i=!1,j=function(e){var f={};return e=e||{},f.kb=angular.isDefined(e.keyboard)?!!e.keyboard:b,f.bd=angular.isDefined(e.backdrop)?e.backdrop:a,f.bdc=angular.isDefined(e.backdropClass)?e.backdropClass:d,f.ws=!angular.isDefined(e.size)||"sm"!==e.size&&"lg"!==e.size&&"md"!==e.size?g:e.size,f.wc=angular.isDefined(e.windowClass)?e.windowClass:c,f.anim=angular.isDefined(e.animation)?!!e.animation:h,f};this.useBackdrop=function(b){angular.isDefined(b)&&(a=b)},this.useEscClose=function(a){angular.isDefined(a)&&(b=!(angular.equals(a,0)||angular.equals(a,"false")||angular.equals(a,"no")||angular.equals(a,null)||angular.equals(a,!1)))},this.useClass=function(a){angular.isDefined(a)&&(c=a)},this.useCopy=function(a){angular.isDefined(a)&&(e=!(angular.equals(a,0)||angular.equals(a,"false")||angular.equals(a,"no")||angular.equals(a,null)||angular.equals(a,!1)))},this.setWindowTmpl=function(a){angular.isDefined(a)&&(f=a)},this.setSize=function(a){angular.isDefined(a)&&(g=angular.equals(a,"sm")||angular.equals(a,"lg")||angular.equals(a,"md")?a:g)},this.useAnimation=function(){h=!0},this.useFontAwesome=function(){i=!0},this.$get=["$uibModal",function(a){return{error:function(b,c,d){return d=j(d),a.open({templateUrl:"/dialogs/error.html",controller:"errorDialogCtrl",backdrop:d.bd,backdropClass:d.bdc,keyboard:d.kb,windowClass:d.wc,size:d.ws,animation:d.anim,resolve:{data:function(){return{header:angular.copy(b),msg:angular.copy(c),fa:i}}}})},wait:function(b,c,d,e){return e=j(e),a.open({templateUrl:"/dialogs/wait.html",controller:"waitDialogCtrl",backdrop:e.bd,backdropClass:e.bdc,keyboard:e.kb,windowClass:e.wc,size:e.ws,animation:e.anim,resolve:{data:function(){return{header:angular.copy(b),msg:angular.copy(c),progress:angular.copy(d),fa:i}}}})},notify:function(b,c,d){return d=j(d),a.open({templateUrl:"/dialogs/notify.html",controller:"notifyDialogCtrl",backdrop:d.bd,backdropClass:d.bdc,keyboard:d.kb,windowClass:d.wc,size:d.ws,animation:d.anim,resolve:{data:function(){return{header:angular.copy(b),msg:angular.copy(c),fa:i}}}})},confirm:function(b,c,d){return d=j(d),a.open({templateUrl:"/dialogs/confirm.html",controller:"confirmDialogCtrl",backdrop:d.bd,backdropClass:d.bdc,keyboard:d.kb,windowClass:d.wc,size:d.ws,animation:d.anim,resolve:{data:function(){return{header:angular.copy(b),msg:angular.copy(c),fa:i}}}})},create:function(b,c,d,f,g){var h=f&&angular.isDefined(f.copy)?f.copy:e;return f=j(f),a.open({templateUrl:b,controller:c,controllerAs:g,keyboard:f.kb,backdrop:f.bd,backdropClass:f.bdc,windowClass:f.wc,size:f.ws,animation:f.anim,resolve:{data:function(){return h?angular.copy(d):d}}})}}}]}]),angular.module("dialogs.main",["dialogs.services","ngSanitize"]).config(["$translateProvider","dialogsProvider",function(a,b){try{angular.module("pascalprecht.translate")}catch(b){a.translations("en-US",{DIALOGS_ERROR:"Error",DIALOGS_ERROR_MSG:"An unknown error has occurred.",DIALOGS_CLOSE:"Close",DIALOGS_PLEASE_WAIT:"Please Wait",DIALOGS_PLEASE_WAIT_ELIPS:"Please Wait...",DIALOGS_PLEASE_WAIT_MSG:"Waiting on operation to complete.",DIALOGS_PERCENT_COMPLETE:"% Complete",DIALOGS_NOTIFICATION:"Notification",DIALOGS_NOTIFICATION_MSG:"Unknown application notification.",DIALOGS_CONFIRMATION:"Confirmation",DIALOGS_CONFIRMATION_MSG:"Confirmation required.",DIALOGS_OK:"OK",DIALOGS_YES:"Yes",DIALOGS_NO:"No"})}try{var c=document.styleSheets;a:for(var d=c.length-1;d>=0;d--){var e=null,f=null;if(!c[d].disabled){if(null!==c[d].href&&(e=c[d].href.match(/font\-*awesome/i)),angular.isArray(e)){b.useFontAwesome();break}f=c[d].cssRules;for(var g=f.length-1;g>=0;g--)if("string"==typeof f[g].selectorText&&".fa"===f[g].selectorText.toLowerCase()){b.useFontAwesome();break a}}}}catch(a){}}]).run(["$templateCache","$interpolate",function(a,b){var c=b.startSymbol(),d=b.endSymbol();a.put("/dialogs/error.html",'<div class="modal-header dialog-header-error"><button type="button" class="close" ng-click="close()">&times;</button><h4 class="modal-title text-danger"><span class="'+c+"icon"+d+'"></span> <span ng-bind-html="header"></span></h4></div><div class="modal-body text-danger" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="close()">'+c+'"DIALOGS_CLOSE" | translate'+d+"</button></div>"),a.put("/dialogs/wait.html",'<div class="modal-header dialog-header-wait"><h4 class="modal-title"><span class="'+c+"icon"+d+'"></span> '+c+"header"+d+'</h4></div><div class="modal-body"><p ng-bind-html="msg"></p><div class="progress progress-striped active"><div class="progress-bar progress-bar-info" ng-style="getProgress()"></div><span class="sr-only">'+c+"progress"+d+c+'"DIALOGS_PERCENT_COMPLETE" | translate'+d+"</span></div></div>"),a.put("/dialogs/notify.html",'<div class="modal-header dialog-header-notify"><button type="button" class="close" ng-click="close()" class="pull-right">&times;</button><h4 class="modal-title text-info"><span class="'+c+"icon"+d+'"></span> '+c+"header"+d+'</h4></div><div class="modal-body text-info" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="close()">'+c+'"DIALOGS_OK" | translate'+d+"</button></div>"),a.put("/dialogs/confirm.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="no()">&times;</button><h4 class="modal-title"><span class="'+c+"icon"+d+'"></span> '+c+"header"+d+'</h4></div><div class="modal-body" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="yes()">'+c+'"DIALOGS_YES" | translate'+d+'</button><button type="button" class="btn btn-primary" ng-click="no()">'+c+'"DIALOGS_NO" | translate'+d+"</button></div>")}])}(),function(a,b,c){"use strict";function d(a){return D(a)?a:Object.keys(a).map(function(b){return a[b]})}function e(a){return null===a}function f(a,b){var d=Object.keys(a);return d.map(function(d){return b[d]!==c&&b[d]==a[d]}).indexOf(!1)==-1}function g(a,b){function c(a,b,c){for(var d=0;b+d<=a.length;){if(a.charAt(b+d)==c)return d;d++}return-1}for(var d=0,e=0;e<=b.length;e++){var f=c(a,d,b.charAt(e));if(f==-1)return!1;d+=f+1}return!0}function h(a,b,c){var d=0;return a.filter(function(a){var e=x(c)?d<b&&c(a):d<b;return d=e?d+1:d,e})}function i(a,b,c){return c.round(a*c.pow(10,b))/c.pow(10,b)}function j(a,b,c){b=b||[];var d=Object.keys(a);return d.forEach(function(d){if(C(a[d])&&!D(a[d])){var e=c?c+"."+d:c;j(a[d],b,e||d)}else{var f=c?c+"."+d:d;b.push(f)}}),b}function k(a){return a&&a.$evalAsync&&a.$watch}function l(){return function(a,b){return a>b}}function m(){return function(a,b){return a>=b}}function n(){return function(a,b){return a<b}}function o(){return function(a,b){return a<=b}}function p(){return function(a,b){return a==b}}function q(){return function(a,b){return a!=b}}function r(){return function(a,b){return a===b}}function s(){return function(a,b){return a!==b}}function t(a){return function(b,c){return b=C(b)?d(b):b,!(!D(b)||y(c))&&b.some(function(b){return A(c)&&C(b)||z(c)?a(c)(b):b===c})}}function u(a,b){return b=b||0,b>=a.length?a:D(a[b])?u(a.slice(0,b).concat(a[b],a.slice(b+1)),b):u(a,b+1)}function v(a){return function(b,c){function e(a,b){return!y(b)&&a.some(function(a){return H(a,b)})}if(b=C(b)?d(b):b,!D(b))return b;var f=[],g=a(c);return y(c)?b.filter(function(a,b,c){return c.indexOf(a)===b}):b.filter(function(a){var b=g(a);return!e(f,b)&&(f.push(b),!0)})}}function w(a,b,c){return b?a+c+w(a,--b,c):a}var x=b.isDefined,y=b.isUndefined,z=b.isFunction,A=b.isString,B=b.isNumber,C=b.isObject,D=b.isArray,E=b.forEach,F=b.extend,G=b.copy,H=b.equals;String.prototype.contains||(String.prototype.contains=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),b.module("a8m.angular",[]).filter("isUndefined",function(){return function(a){return b.isUndefined(a)}}).filter("isDefined",function(){return function(a){return b.isDefined(a)}}).filter("isFunction",function(){return function(a){return b.isFunction(a)}}).filter("isString",function(){return function(a){return b.isString(a)}}).filter("isNumber",function(){return function(a){return b.isNumber(a)}}).filter("isArray",function(){return function(a){return b.isArray(a)}}).filter("isObject",function(){return function(a){return b.isObject(a)}}).filter("isEqual",function(){return function(a,c){return b.equals(a,c)}}),b.module("a8m.conditions",[]).filter({isGreaterThan:l,">":l,isGreaterThanOrEqualTo:m,">=":m,isLessThan:n,"<":n,isLessThanOrEqualTo:o,"<=":o,isEqualTo:p,"==":p,isNotEqualTo:q,"!=":q,isIdenticalTo:r,"===":r,isNotIdenticalTo:s,"!==":s}),b.module("a8m.is-null",[]).filter("isNull",function(){return function(a){return e(a)}}),b.module("a8m.after-where",[]).filter("afterWhere",function(){return function(a,b){if(a=C(a)?d(a):a,!D(a)||y(b))return a;var c=a.map(function(a){return f(b,a)}).indexOf(!0);return a.slice(c===-1?0:c)}}),b.module("a8m.after",[]).filter("after",function(){return function(a,b){return a=C(a)?d(a):a,D(a)?a.slice(b):a}}),b.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(a,b){if(a=C(a)?d(a):a,!D(a)||y(b))return a;var c=a.map(function(a){return f(b,a)}).indexOf(!0);return a.slice(0,c===-1?a.length:++c)}}),b.module("a8m.before",[]).filter("before",function(){return function(a,b){return a=C(a)?d(a):a,D(a)?a.slice(0,b?--b:b):a}}),b.module("a8m.chunk-by",["a8m.filter-watcher"]).filter("chunkBy",["filterWatcher",function(a){return function(b,c,d){function e(a,b){for(var c=[];a--;)c[a]=b;return c}function f(a,b,c){return D(a)?a.map(function(a,d,f){return d*=b,a=f.slice(d,d+b),!y(c)&&a.length<b?a.concat(e(b-a.length,c)):a}).slice(0,Math.ceil(a.length/b)):a}return a.isMemoized("chunkBy",arguments)||a.memoize("chunkBy",arguments,this,f(b,c,d))}}]),b.module("a8m.concat",[]).filter("concat",[function(){return function(a,b){if(y(b))return a;if(D(a))return C(b)?a.concat(d(b)):a.concat(b);if(C(a)){var c=d(a);return C(b)?c.concat(d(b)):c.concat(b)}return a}}]),b.module("a8m.contains",[]).filter({contains:["$parse",t],some:["$parse",t]}),b.module("a8m.count-by",[]).filter("countBy",["$parse",function(a){return function(b,c){var e,f={},g=a(c);return b=C(b)?d(b):b,!D(b)||y(c)?b:(b.forEach(function(a){e=g(a),f[e]||(f[e]=0),f[e]++}),f)}}]),b.module("a8m.defaults",[]).filter("defaults",["$parse",function(a){return function(b,c){if(b=C(b)?d(b):b,!D(b)||!C(c))return b;var e=j(c);return b.forEach(function(b){e.forEach(function(d){var e=a(d),f=e.assign;y(e(b))&&f(b,e(c))})}),b}}]),b.module("a8m.every",[]).filter("every",["$parse",function(a){return function(b,c){return b=C(b)?d(b):b,!(D(b)&&!y(c))||b.every(function(b){return C(b)||z(c)?a(c)(b):b===c})}}]),b.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(a){return function(b,e,f,g){var h;return f=A(f)||B(f)?String(f).toLowerCase():c,b=C(b)?d(b):b,!D(b)||y(f)?b:b.filter(function(b){return e.some(function(c){if(~c.indexOf("+")){var d=c.replace(/\s+/g,"").split("+");h=d.map(function(c){return a(c)(b)}).join(" ")}else h=a(c)(b);return!(!A(h)&&!B(h))&&(h=String(h).toLowerCase(),g?h===f:h.contains(f))})})}}]),b.module("a8m.first",[]).filter("first",["$parse",function(a){return function(b){var e,f,g;return b=C(b)?d(b):b,D(b)?(g=Array.prototype.slice.call(arguments,1),e=B(g[0])?g[0]:1,f=B(g[0])?B(g[1])?c:g[1]:g[0],g.length?h(b,e,f?a(f):f):b[0]):b}}]),b.module("a8m.flatten",[]).filter("flatten",function(){return function(a,b){return b=b||!1,a=C(a)?d(a):a,D(a)?b?[].concat.apply([],a):u(a,0):a}}),b.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(a){return function(b,c,e,f){var h,i,j=f||!1;return b=C(b)?d(b):b,!D(b)||y(c)||y(e)?b:(i=a(c),b.filter(function(a){return h=i(a),!!A(h)&&(h=j?h:h.toLowerCase(),e=j?e:e.toLowerCase(),g(h,e)!==!1)}))}}]),b.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(a,b,c){function e(a,b){var c,d,e=Object.keys(a);return 0<e.filter(function(e){return c=a[e],!!d||!!A(c)&&(c=f?c:c.toLowerCase(),d=g(c,b)!==!1)}).length}var f=c||!1;return a=C(a)?d(a):a,!D(a)||y(b)?a:(b=f?b:b.toLowerCase(),a.filter(function(a){return A(a)?(a=f?a:a.toLowerCase(),g(a,b)!==!1):!!C(a)&&e(a,b)}))}}),b.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(a,b){return function(c,d){function e(a,b){var c,d={};return E(a,function(a){c=b(a),d[c]||(d[c]=[]),d[c].push(a)}),d}return!C(c)||y(d)?c:b.isMemoized("groupBy",arguments)||b.memoize("groupBy",arguments,this,e(c,a(d)))}}]),b.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(a){return C(a)?!d(a).length:!a.length}}),b.module("a8m.join",[]).filter("join",function(){return function(a,b){return y(a)||!D(a)?a:(y(b)&&(b=" "),a.join(b))}}),b.module("a8m.last",[]).filter("last",["$parse",function(a){return function(b){var e,f,g,i=G(b);return i=C(i)?d(i):i,D(i)?(g=Array.prototype.slice.call(arguments,1),e=B(g[0])?g[0]:1,f=B(g[0])?B(g[1])?c:g[1]:g[0],g.length?h(i.reverse(),e,f?a(f):f).reverse():i[i.length-1]):i}}]),b.module("a8m.map",[]).filter("map",["$parse",function(a){return function(b,c){return b=C(b)?d(b):b,!D(b)||y(c)?b:b.map(function(b){return a(c)(b)})}}]),b.module("a8m.omit",[]).filter("omit",["$parse",function(a){return function(b,c){return b=C(b)?d(b):b,!D(b)||y(c)?b:b.filter(function(b){return!a(c)(b)})}}]),b.module("a8m.pick",[]).filter("pick",["$parse",function(a){return function(b,c){return b=C(b)?d(b):b,!D(b)||y(c)?b:b.filter(function(b){return a(c)(b)})}}]),b.module("a8m.range",[]).filter("range",function(){return function(a,b,c,d,e){c=c||0,d=d||1;for(var f=0;f<parseInt(b);f++){var g=c+f*d;a.push(z(e)?e(g):g)}return a}}),b.module("a8m.remove-with",[]).filter("removeWith",function(){return function(a,b){return y(b)?a:(a=C(a)?d(a):a,a.filter(function(a){return!f(b,a)}))}}),b.module("a8m.remove",[]).filter("remove",function(){return function(a){a=C(a)?d(a):a;var b=Array.prototype.slice.call(arguments,1);return D(a)?a.filter(function(a){return!b.some(function(b){return H(b,a)})}):a}}),b.module("a8m.reverse",[]).filter("reverse",[function(){return function(a){return a=C(a)?d(a):a,A(a)?a.split("").reverse().join(""):D(a)?a.slice().reverse():a}}]),b.module("a8m.search-field",[]).filter("searchField",["$parse",function(a){return function(b){var c,e;b=C(b)?d(b):b;var f=Array.prototype.slice.call(arguments,1);return D(b)&&f.length?b.map(function(b){return e=f.map(function(d){return(c=a(d))(b)}).join(" "),F(b,{searchField:e})}):b}}]),b.module("a8m.to-array",[]).filter("toArray",function(){return function(a,b){return C(a)?b?Object.keys(a).map(function(b){return F(a[b],{$key:b})}):d(a):a}}),b.module("a8m.unique",[]).filter({unique:["$parse",v],uniq:["$parse",v]}),b.module("a8m.where",[]).filter("where",function(){return function(a,b){return y(b)?a:(a=C(a)?d(a):a,a.filter(function(a){return f(b,a)}))}}),b.module("a8m.xor",[]).filter("xor",["$parse",function(a){return function(b,c,e){function f(b,c){var d=a(e);return c.some(function(a){return e?H(d(a),d(b)):H(a,b)})}return e=e||!1,b=C(b)?d(b):b,c=C(c)?d(c):c,D(b)&&D(c)?b.concat(c).filter(function(a){return!(f(a,b)&&f(a,c))}):b}}]),b.module("a8m.math.byteFmt",["a8m.math"]).filter("byteFmt",["$math",function(a){return function(b,c){return B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)?b<1024?i(b,c,a)+" B":b<1048576?i(b/1024,c,a)+" KB":b<1073741824?i(b/1048576,c,a)+" MB":i(b/1073741824,c,a)+" GB":"NaN"}}]),b.module("a8m.math.degrees",["a8m.math"]).filter("degrees",["$math",function(a){return function(b,c){if(B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)){var d=180*b/a.PI;return a.round(d*a.pow(10,c))/a.pow(10,c)}return"NaN"}}]),b.module("a8m.math.kbFmt",["a8m.math"]).filter("kbFmt",["$math",function(a){return function(b,c){return B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)?b<1024?i(b,c,a)+" KB":b<1048576?i(b/1024,c,a)+" MB":i(b/1048576,c,a)+" GB":"NaN"}}]),b.module("a8m.math",[]).factory("$math",["$window",function(a){return a.Math}]),b.module("a8m.math.max",["a8m.math"]).filter("max",["$math","$parse",function(a,b){function c(c,d){var e=c.map(function(a){return b(d)(a)});return e.indexOf(a.max.apply(a,e))}return function(b,d){return D(b)?y(d)?a.max.apply(a,b):b[c(b,d)]:b}}]),b.module("a8m.math.min",["a8m.math"]).filter("min",["$math","$parse",function(a,b){function c(c,d){var e=c.map(function(a){return b(d)(a)});return e.indexOf(a.min.apply(a,e))}return function(b,d){return D(b)?y(d)?a.min.apply(a,b):b[c(b,d)]:b}}]),b.module("a8m.math.percent",["a8m.math"]).filter("percent",["$math","$window",function(a,b){return function(c,d,e){var f=A(c)?b.Number(c):c;return d=d||100,e=e||!1,!B(f)||b.isNaN(f)?c:e?a.round(f/d*100):f/d*100}}]),b.module("a8m.math.radians",["a8m.math"]).filter("radians",["$math",function(a){return function(b,c){if(B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)){var d=3.14159265359*b/180;return a.round(d*a.pow(10,c))/a.pow(10,c)}return"NaN"}}]),b.module("a8m.math.radix",[]).filter("radix",function(){return function(a,b){var c=/^[2-9]$|^[1-2]\d$|^3[0-6]$/;return B(a)&&c.test(b)?a.toString(b).toUpperCase():a}}),b.module("a8m.math.shortFmt",["a8m.math"]).filter("shortFmt",["$math",function(a){return function(b,c){return B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)?b<1e3?b:b<1e6?i(b/1e3,c,a)+" K":b<1e9?i(b/1e6,c,a)+" M":i(b/1e9,c,a)+" B":"NaN"}}]),b.module("a8m.math.sum",[]).filter("sum",function(){return function(a,b){return D(a)?a.reduce(function(a,b){return a+b},b||0):a}}),b.module("a8m.ends-with",[]).filter("endsWith",function(){return function(a,b,c){var d,e=c||!1;return!A(a)||y(b)?a:(a=e?a:a.toLowerCase(),d=a.length-b.length,a.indexOf(e?b:b.toLowerCase(),d)!==-1)}}),b.module("a8m.latinize",[]).filter("latinize",[function(){function a(a){return a.replace(/[^\u0000-\u007E]/g,function(a){return c[a]||a})}for(var b=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],c={},d=0;d<b.length;d++)for(var e=b[d].letters.split(""),f=0;f<e.length;f++)c[e[f]]=b[d].base;return function(b){return A(b)?a(b):b}}]),b.module("a8m.ltrim",[]).filter("ltrim",function(){return function(a,b){var c=b||"\\s";return A(a)?a.replace(new RegExp("^"+c+"+"),""):a}}),b.module("a8m.match",[]).filter("match",function(){return function(a,b,c){var d=new RegExp(b,c);return A(a)?a.match(d):null}}),b.module("a8m.repeat",[]).filter("repeat",[function(){return function(a,b,c){var d=~~b;return A(a)&&d?w(a,--b,c||""):a}}]),b.module("a8m.rtrim",[]).filter("rtrim",function(){return function(a,b){var c=b||"\\s";return A(a)?a.replace(new RegExp(c+"+$"),""):a}}),b.module("a8m.slugify",[]).filter("slugify",[function(){return function(a,b){var c=y(b)?"-":b;return A(a)?a.toLowerCase().replace(/\s+/g,c):a}}]),b.module("a8m.starts-with",[]).filter("startsWith",function(){return function(a,b,c){var d=c||!1;return!A(a)||y(b)?a:(a=d?a:a.toLowerCase(),!a.indexOf(d?b:b.toLowerCase()))}}),b.module("a8m.stringular",[]).filter("stringular",function(){return function(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,c){return y(b[c])?a:b[c]})}}),b.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(a){return A(a)?a.replace(/<\S[^><]*>/g,""):a}}),b.module("a8m.test",[]).filter("test",function(){return function(a,b,c){var d=new RegExp(b,c);return A(a)?d.test(a):a}}),b.module("a8m.trim",[]).filter("trim",function(){return function(a,b){var c=b||"\\s";return A(a)?a.replace(new RegExp("^"+c+"+|"+c+"+$","g"),""):a}}),b.module("a8m.truncate",[]).filter("truncate",function(){return function(a,b,c,d){return b=y(b)?a.length:b,d=d||!1,c=c||"",!A(a)||a.length<=b?a:a.substring(0,d?a.indexOf(" ",b)===-1?a.length:a.indexOf(" ",b):b)+c}}),b.module("a8m.ucfirst",[]).filter("ucfirst",[function(){return function(a){return A(a)?a.split(" ").map(function(a){return a.charAt(0).toUpperCase()+a.substring(1)}).join(" "):a}}]),b.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(a){return function(b){return A(b)?a.encodeURIComponent(b):b}}]),b.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(a){return function(b){return A(b)?a.encodeURI(b):b}}]),b.module("a8m.wrap",[]).filter("wrap",function(){return function(a,b,c){return A(a)&&x(b)?[b,a,c||b].join(""):a}}),b.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function(a,b){function c(b,c){function d(){var b=[];return function(c,d){if(C(d)&&!e(d)){if(~b.indexOf(d))return"[Circular]";b.push(d)}return a==d?"$WINDOW":a.document==d?"$DOCUMENT":k(d)?"$SCOPE":d}}return[b,JSON.stringify(c,d())].join("#").replace(/"/g,"")}function d(a){var b=a.targetScope.$id;E(l[b],function(a){delete j[a]}),delete l[b]}function f(){m(function(){b.$$phase||(j={})},2e3)}function g(a,b){var c=a.$id;return y(l[c])&&(a.$on("$destroy",d),l[c]=[]),l[c].push(b)}function h(a,b){var d=c(a,b);return j[d]}function i(a,b,d,e){var h=c(a,b);return j[h]=e,k(d)?g(d,h):f(),e}var j={},l={},m=a.setTimeout;return{isMemoized:h,memoize:i}}]}),b.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.chunk-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.range","a8m.math","a8m.math.max","a8m.math.min","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"]);
}(window,window.angular),angular.module("md5",[]).constant("md5",function(){function a(a){return c(b(d(a)))}function b(a){return f(g(e(a),8*a.length))}function c(a){try{}catch(a){o=0}for(var b,c=o?"0123456789ABCDEF":"0123456789abcdef",d="",e=0;e<a.length;e++)b=a.charCodeAt(e),d+=c.charAt(b>>>4&15)+c.charAt(15&b);return d}function d(a){for(var b,c,d="",e=-1;++e<a.length;)b=a.charCodeAt(e),c=e+1<a.length?a.charCodeAt(e+1):0,55296<=b&&b<=56319&&56320<=c&&c<=57343&&(b=65536+((1023&b)<<10)+(1023&c),e++),b<=127?d+=String.fromCharCode(b):b<=2047?d+=String.fromCharCode(192|b>>>6&31,128|63&b):b<=65535?d+=String.fromCharCode(224|b>>>12&15,128|b>>>6&63,128|63&b):b<=2097151&&(d+=String.fromCharCode(240|b>>>18&7,128|b>>>12&63,128|b>>>6&63,128|63&b));return d}function e(a){for(var b=Array(a.length>>2),c=0;c<b.length;c++)b[c]=0;for(var c=0;c<8*a.length;c+=8)b[c>>5]|=(255&a.charCodeAt(c/8))<<c%32;return b}function f(a){for(var b="",c=0;c<32*a.length;c+=8)b+=String.fromCharCode(a[c>>5]>>>c%32&255);return b}function g(a,b){a[b>>5]|=128<<b%32,a[(b+64>>>9<<4)+14]=b;for(var c=1732584193,d=-271733879,e=-1732584194,f=271733878,g=0;g<a.length;g+=16){var h=c,n=d,o=e,p=f;c=i(c,d,e,f,a[g+0],7,-680876936),f=i(f,c,d,e,a[g+1],12,-389564586),e=i(e,f,c,d,a[g+2],17,606105819),d=i(d,e,f,c,a[g+3],22,-1044525330),c=i(c,d,e,f,a[g+4],7,-176418897),f=i(f,c,d,e,a[g+5],12,1200080426),e=i(e,f,c,d,a[g+6],17,-1473231341),d=i(d,e,f,c,a[g+7],22,-45705983),c=i(c,d,e,f,a[g+8],7,1770035416),f=i(f,c,d,e,a[g+9],12,-1958414417),e=i(e,f,c,d,a[g+10],17,-42063),d=i(d,e,f,c,a[g+11],22,-1990404162),c=i(c,d,e,f,a[g+12],7,1804603682),f=i(f,c,d,e,a[g+13],12,-40341101),e=i(e,f,c,d,a[g+14],17,-1502002290),d=i(d,e,f,c,a[g+15],22,1236535329),c=j(c,d,e,f,a[g+1],5,-165796510),f=j(f,c,d,e,a[g+6],9,-1069501632),e=j(e,f,c,d,a[g+11],14,643717713),d=j(d,e,f,c,a[g+0],20,-373897302),c=j(c,d,e,f,a[g+5],5,-701558691),f=j(f,c,d,e,a[g+10],9,38016083),e=j(e,f,c,d,a[g+15],14,-660478335),d=j(d,e,f,c,a[g+4],20,-405537848),c=j(c,d,e,f,a[g+9],5,568446438),f=j(f,c,d,e,a[g+14],9,-1019803690),e=j(e,f,c,d,a[g+3],14,-187363961),d=j(d,e,f,c,a[g+8],20,1163531501),c=j(c,d,e,f,a[g+13],5,-1444681467),f=j(f,c,d,e,a[g+2],9,-51403784),e=j(e,f,c,d,a[g+7],14,1735328473),d=j(d,e,f,c,a[g+12],20,-1926607734),c=k(c,d,e,f,a[g+5],4,-378558),f=k(f,c,d,e,a[g+8],11,-2022574463),e=k(e,f,c,d,a[g+11],16,1839030562),d=k(d,e,f,c,a[g+14],23,-35309556),c=k(c,d,e,f,a[g+1],4,-1530992060),f=k(f,c,d,e,a[g+4],11,1272893353),e=k(e,f,c,d,a[g+7],16,-155497632),d=k(d,e,f,c,a[g+10],23,-1094730640),c=k(c,d,e,f,a[g+13],4,681279174),f=k(f,c,d,e,a[g+0],11,-358537222),e=k(e,f,c,d,a[g+3],16,-722521979),d=k(d,e,f,c,a[g+6],23,76029189),c=k(c,d,e,f,a[g+9],4,-640364487),f=k(f,c,d,e,a[g+12],11,-421815835),e=k(e,f,c,d,a[g+15],16,530742520),d=k(d,e,f,c,a[g+2],23,-995338651),c=l(c,d,e,f,a[g+0],6,-198630844),f=l(f,c,d,e,a[g+7],10,1126891415),e=l(e,f,c,d,a[g+14],15,-1416354905),d=l(d,e,f,c,a[g+5],21,-57434055),c=l(c,d,e,f,a[g+12],6,1700485571),f=l(f,c,d,e,a[g+3],10,-1894986606),e=l(e,f,c,d,a[g+10],15,-1051523),d=l(d,e,f,c,a[g+1],21,-2054922799),c=l(c,d,e,f,a[g+8],6,1873313359),f=l(f,c,d,e,a[g+15],10,-30611744),e=l(e,f,c,d,a[g+6],15,-1560198380),d=l(d,e,f,c,a[g+13],21,1309151649),c=l(c,d,e,f,a[g+4],6,-145523070),f=l(f,c,d,e,a[g+11],10,-1120210379),e=l(e,f,c,d,a[g+2],15,718787259),d=l(d,e,f,c,a[g+9],21,-343485551),c=m(c,h),d=m(d,n),e=m(e,o),f=m(f,p)}return Array(c,d,e,f)}function h(a,b,c,d,e,f){return m(n(m(m(b,a),m(d,f)),e),c)}function i(a,b,c,d,e,f,g){return h(b&c|~b&d,a,b,e,f,g)}function j(a,b,c,d,e,f,g){return h(b&d|c&~d,a,b,e,f,g)}function k(a,b,c,d,e,f,g){return h(b^c^d,a,b,e,f,g)}function l(a,b,c,d,e,f,g){return h(c^(b|~d),a,b,e,f,g)}function m(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function n(a,b){return a<<b|a>>>32-b}var o=0;return a}()),function(){var a;a=function(a){return["gravatarService",function(b){var c;return c=function(a,b){var c,d,e;d={};for(c in b)e=b[c],0===c.indexOf(a)&&(c=c.substr(a.length).toLowerCase(),c.length>0&&(d[c]=e));return d},{restrict:"A",link:function(d,e,f){var g,h,i,j;g=a?"gravatarSrcOnce":"gravatarSrc",h=f[g],delete f[g],i=c("gravatar",f),j=d.$watch(h,function(c){if(e.attr("src",b.url(c,i)),a){if(null==c)return;j()}})}}}]},angular.module("ui.gravatar",["md5"]).provider("gravatarService",["md5",function(a){var b,c,d;return c=this,b=/^[0-9a-f]{32}$/i,d=function(a){var b,c,d;c=[];for(b in a)d=a[b],c.push(""+b+"="+encodeURIComponent(d));return c.join("&")},this.defaults={},this.secure=!1,this.protocol=null,this.urlFunc=function(c){var e,f,g,h,i;return g=c.protocol?c.protocol+":":"",i=c.secure?"https://secure":g+"//www",h=b.test(c.src)?c.src:a(c.src),f=[i,".gravatar.com/avatar/",h],e=d(c.params),e.length>0&&f.push("?"+e),f.join("")},this.$get=[function(){return{url:function(a,b){return null==a&&(a=""),null==b&&(b={}),c.urlFunc({params:angular.extend(angular.copy(c.defaults),b),protocol:c.protocol,secure:c.secure,src:a})}}}],this}]).directive("gravatarSrc",a()).directive("gravatarSrcOnce",a(!0))}.call(this),function(){"use strict";angular.module("cfp.hotkeys",[]).provider("hotkeys",["$injector",function(a){this.includeCheatSheet=!0,this.useNgRoute=a.has("ngViewDirective"),this.templateTitle="Keyboard Shortcuts:",this.templateHeader=null,this.templateFooter=null,this.template='<div class="cfp-hotkeys-container fade" ng-class="{in: helpVisible}" style="display: none;"><div class="cfp-hotkeys"><h4 class="cfp-hotkeys-title" ng-if="!header">{{ title }}</h4><div ng-bind-html="header" ng-if="header"></div><table><tbody><tr ng-repeat="hotkey in hotkeys | filter:{ description: \'!$$undefined$$\' }"><td class="cfp-hotkeys-keys"><span ng-repeat="key in hotkey.format() track by $index" class="cfp-hotkeys-key">{{ key }}</span></td><td class="cfp-hotkeys-text">{{ hotkey.description }}</td></tr></tbody></table><div ng-bind-html="footer" ng-if="footer"></div><div class="cfp-hotkeys-close" ng-click="toggleCheatSheet()">&#215;</div></div></div>',this.cheatSheetHotkey="?",this.cheatSheetDescription="Show / hide this help menu",this.$get=["$rootElement","$rootScope","$compile","$window","$document",function(a,b,c,d,e){function f(){q=!1}function g(){q=!0}function h(a){var b={command:"⌘",shift:"⇧",left:"←",right:"→",up:"↑",down:"↓",return:"⏎",backspace:"⌫"};a=a.split("+");for(var c=0;c<a.length;c++)"mod"===a[c]&&(d.navigator&&d.navigator.platform.indexOf("Mac")>=0?a[c]="command":a[c]="ctrl"),a[c]=b[a[c]]||a[c];return a.join(" + ")}function i(a,b,c,d,e,f){this.combo=a instanceof Array?a:[a],this.description=b,this.callback=c,this.action=d,this.allowIn=e,this.persistent=f,this._formated=null}function j(){for(var a=r.hotkeys.length;a--;){var b=r.hotkeys[a];b&&!b.persistent&&m(b)}}function k(){r.helpVisible=!r.helpVisible,r.helpVisible?(w=n("esc"),m("esc"),l("esc",w.description,k,null,["INPUT","SELECT","TEXTAREA"])):(m("esc"),w!==!1&&l(w))}function l(a,b,c,d,e,f){var g,h=["INPUT","SELECT","TEXTAREA"],j=Object.prototype.toString.call(a);if("[object Object]"===j&&(b=a.description,c=a.callback,d=a.action,f=a.persistent,e=a.allowIn,a=a.combo),m(a),b instanceof Function?(d=c,c=b,b="$$undefined$$"):angular.isUndefined(b)&&(b="$$undefined$$"),void 0===f&&(f=!0),"function"==typeof c){g=c,e instanceof Array||(e=[]);for(var k,l=0;l<e.length;l++)e[l]=e[l].toUpperCase(),k=h.indexOf(e[l]),k!==-1&&h.splice(k,1);c=function(a){var b=!0;if(a){var c=a.target||a.srcElement,d=c.nodeName.toUpperCase();if((" "+c.className+" ").indexOf(" mousetrap ")>-1)b=!0;else for(var e=0;e<h.length;e++)if(h[e]===d){b=!1;break}}b&&p(g.apply(this,arguments))}}"string"==typeof d?Mousetrap.bind(a,p(c),d):Mousetrap.bind(a,p(c));var n=new i(a,b,c,d,e,f);return r.hotkeys.push(n),n}function m(a){var b=a instanceof i?a.combo:a;if(Mousetrap.unbind(b),angular.isArray(b)){for(var c=!0,d=b.length;d--;)c=m(b[d])&&c;return c}var e=r.hotkeys.indexOf(n(b));return e>-1&&(r.hotkeys[e].combo.length>1?r.hotkeys[e].combo.splice(r.hotkeys[e].combo.indexOf(b),1):(angular.forEach(s,function(a){var b=a.indexOf(r.hotkeys[e]);b!==-1&&a.splice(b,1)}),r.hotkeys.splice(e,1)),!0)}function n(a){if(!a)return r.hotkeys;for(var b,c=0;c<r.hotkeys.length;c++)if(b=r.hotkeys[c],b.combo.indexOf(a)>-1)return b;return!1}function o(a){return a.$id in s||(s[a.$id]=[],a.$on("$destroy",function(){for(var b=s[a.$id].length;b--;)m(s[a.$id].pop())})),{add:function(b){var c;return c=arguments.length>1?l.apply(this,arguments):l(b),s[a.$id].push(c),this}}}function p(a){return function(c,d){if(a instanceof Array){var e=a[0],f=a[1];a=function(a){f.scope.$eval(e)}}b.$apply(function(){a(c,n(d))})}}var q=!0;Mousetrap.prototype.stopCallback=function(a,b){return!q||!((" "+b.className+" ").indexOf(" mousetrap ")>-1)&&(b.contentEditable&&"true"==b.contentEditable)},i.prototype.format=function(){if(null===this._formated){for(var a=this.combo[0],b=a.split(/[\s]/),c=0;c<b.length;c++)b[c]=h(b[c]);this._formated=b}return this._formated};var r=b.$new();r.hotkeys=[],r.helpVisible=!1,r.title=this.templateTitle,r.header=this.templateHeader,r.footer=this.templateFooter,r.toggleCheatSheet=k;var s={};if(this.useNgRoute&&b.$on("$routeChangeSuccess",function(a,b){j(),b&&b.hotkeys&&angular.forEach(b.hotkeys,function(a){var c=a[2];("string"==typeof c||c instanceof String)&&(a[2]=[c,b]),a[5]=!1,l.apply(this,a)})}),this.includeCheatSheet){var t=e[0],u=a[0],v=angular.element(this.template);l(this.cheatSheetHotkey,this.cheatSheetDescription,k),u!==t&&u!==t.documentElement||(u=t.body),angular.element(u).append(c(v)(r))}var w=!1,x={add:l,del:m,get:n,bindTo:o,template:this.template,toggleCheatSheet:k,includeCheatSheet:this.includeCheatSheet,cheatSheetHotkey:this.cheatSheetHotkey,cheatSheetDescription:this.cheatSheetDescription,useNgRoute:this.useNgRoute,purgeHotkeys:j,templateTitle:this.templateTitle,pause:f,unpause:g};return x}]}]).directive("hotkey",["hotkeys",function(a){return{restrict:"A",link:function(b,c,d){var e,f=[];angular.forEach(b.$eval(d.hotkey),function(b,c){e="string"==typeof d.hotkeyAllowIn?d.hotkeyAllowIn.split(/[\s,]+/):[],f.push(c),a.add({combo:c,description:d.hotkeyDescription,callback:b,action:d.hotkeyAction,allowIn:e})}),c.bind("$destroy",function(){angular.forEach(f,a.del)})}}}]).run(["hotkeys",function(a){}])}(),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="directives.inputMatch"),function(a,b,c){"use strict";var d=b.module("directives.inputMatch",[]);d.directive("match",function(){function a(a,c,d,e){e&&a.$watch(function(){return e.$pristine&&b.isUndefined(e.$modelValue)||a.match===e.$modelValue},function(a){e.$setValidity("match",a)})}return{link:a,require:"?ngModel",restrict:"A",scope:{match:"="}}})}(window,window.angular),function(a,b){if("function"==typeof define&&define.amd)define(["angular"],function(c){return b(a,c,a.Intercom)});else if("object"==typeof exports){var c=null;try{c=require("intercom")}catch(a){}module.exports=b({},require("angular"),c)}else angular&&b(a,a.angular,a.Intercom)}(this,function(a,b,c){"use strict";function d(a){return a?a.charAt(0).toUpperCase()+a.substring(1).toLowerCase():""}function e(a,b){if(document){var c=document.createElement("script");c.type="text/javascript",c.async=!0,c.src=a+b;var d=document.getElementsByTagName("head")[0];d.appendChild(c)}}function f(){var f=this;b.forEach(k,function(a,b){f[b]=function(c){return k[b]=c||a,f}}),f.$get=["$rootScope","$log","IntercomSettings",function(f,g,i){function l(){return a.Intercom.apply(a.Intercom,arguments),l}function m(a,b){l[b]=a,l["$"+b]=function(){return a.apply(c,arguments),f.$$phase||f.$apply(),l}}j&&g.warn("Please use consider using either $intercom or Intercom not both"),j=!0;var n,o=function(){n={},k.appID&&(n.app_id=n.app_id||k.appID),b.extend(n,i)};o(),h&&(a.Intercom("reattach_activator"),a.Intercom("update",n)),k.asyncLoading&&e(k.scriptUrl,k.appID);var p={boot:function(c){return b.extend(n,c||{}),!n.app_id&&k.appID&&(n.app_id=k.appID),c.app_id&&c.app_id!==n.app_id&&(n.app_id=c.app_id),a.Intercom("boot",n),l},update:function(b){return b?(!b.app_id&&k.appID&&(b.app_id=k.appID),b.app_id&&b.app_id!==k.app_id&&(k.app_id=b.app_id),a.Intercom("update",b)):a.Intercom("update"),l},trackEvent:function(b,c){return a.Intercom("trackEvent",b,c),l},showMessages:function(){return a.Intercom("showMessages"),l},showNewMessage:function(b){return b?a.Intercom("showNewMessage",b):a.Intercom("showNewMessage"),l},hideMessages:function(){return a.Intercom("hideMessages"),l},shutdown:function(){return a.Intercom("shutdown"),o(),l},hide:function(){return a.Intercom("hide"),l},show:function(){return a.Intercom("show"),l},reattachActivator:function(){return a.Intercom("reattach_activator"),l}};b.forEach(p,m);var q={show:!0,hide:!0,activatorClick:!0};return l.$on=function(b,c){if(q[b])return a.Intercom("on"+d(b),function(){f.$$phase?c():f.$apply(c)}),l},l.on=function(b,c){if(q[b])return a.Intercom("on"+d(b),c),l},l.$$defineMethod=function(b){b&&m(b,function(){var c=Array.prototype.slice.call(arguments);return a.Intercom.apply(a.Intercom,c.unshift(b)),l})},l}]}c&&a&&!a.Intercom&&(a.Intercom=c);var g=a.IntercomSettings||a.intercomSettings,h=!1;if(b.isFunction(c))a.Intercom("reattach_activator"),g&&a.Intercom("update",g),h=!0;else{var i=function(){i.c(arguments)};i.q=[],i.c=function(a){i.q.push(a)},a.Intercom=i}var j=!1,k={asyncLoading:!1,scriptUrl:"https://widget.intercom.io/widget/",appID:"",development:!1};return b.module("ngIntercom",[]).value("IntercomSettings",{}).provider("$intercom",f).provider("Intercom",f),b.module("angular-intercom",["ngIntercom"]),b.module("ngIntercom")}),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(a){var b=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(b,c,d,e,f,g){function h(){d.cancel(j),g.complete(),l=0,k=0}function i(b){var d,e=c.get("$http"),f=a.defaults;!b.cache&&!f.cache||b.cache===!1||"GET"!==b.method&&"JSONP"!==b.method||(d=angular.isObject(b.cache)?b.cache:angular.isObject(f.cache)?f.cache:e);var g=void 0!==d&&void 0!==d.get(b.url);return void 0!==b.cached&&g!==b.cached?b.cached:(b.cached=g,g)}var j,k=0,l=0,m=g.latencyThreshold;return{request:function(a){return a.ignoreLoadingBar||i(a)||(e.$broadcast("cfpLoadingBar:loading",{url:a.url}),0===k&&(j=d(function(){g.start()},m)),k++,g.set(l/k)),a},response:function(a){return a&&a.config?(a.config.ignoreLoadingBar||i(a.config)||(l++,e.$broadcast("cfpLoadingBar:loaded",{url:a.config.url,result:a}),l>=k?h():g.set(l/k)),a):(f.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),a)},responseError:function(a){return a&&a.config?(a.config.ignoreLoadingBar||i(a.config)||(l++,e.$broadcast("cfpLoadingBar:loaded",{url:a.config.url,result:a}),l>=k?h():g.set(l/k)),b.reject(a)):(f.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),b.reject(a))}}}];a.interceptors.push(b)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(a,b,c,d){function e(){if(k||(k=a.get("$animate")),c.cancel(m),!r){var e=b[0],g=e.querySelector?e.querySelector(n):b.find(n)[0];g||(g=e.getElementsByTagName("body")[0]);var h=angular.element(g),i=g.lastChild&&angular.element(g.lastChild);d.$broadcast("cfpLoadingBar:started"),r=!0,v&&k.enter(o,h,i),u&&k.enter(q,h,o),f(w)}}function f(a){if(r){var b=100*a+"%";p.css("width",b),s=a,t&&(c.cancel(l),l=c(function(){g()},250))}}function g(){if(!(h()>=1)){var a=0,b=h();a=b>=0&&b<.25?(3*Math.random()+3)/100:b>=.25&&b<.65?3*Math.random()/100:b>=.65&&b<.9?2*Math.random()/100:b>=.9&&b<.99?.005:0;var c=h()+a;f(c)}}function h(){return s}function i(){s=0,r=!1}function j(){k||(k=a.get("$animate")),d.$broadcast("cfpLoadingBar:completed"),f(1),c.cancel(m),m=c(function(){var a=k.leave(o,i);a&&a.then&&a.then(i),k.leave(q)},500)}var k,l,m,n=this.parentSelector,o=angular.element(this.loadingBarTemplate),p=o.find("div").eq(0),q=angular.element(this.spinnerTemplate),r=!1,s=0,t=this.autoIncrement,u=this.includeSpinner,v=this.includeBar,w=this.startSize;return{start:e,set:f,status:h,inc:g,complete:j,autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),function(a,b){"function"==typeof define&&define.amd?define(function(){return b(a.angular||window&&window.angular)}):"object"==typeof exports?module.exports=b(a.angular||window&&window.angular):b(a.angular)}(this,function(a){"use strict";return a.module("angular-locker",[]).provider("locker",function(){var b=function(b,c){return a.isFunction(b)?b(c):b},c=function(b){return a.isDefined(b)&&null!==b},d=function(a){throw new Error("[angular-locker] "+a)},e={driver:"local",namespace:"locker",eventsEnabled:!0,separator:".",extend:{}};return{defaults:function(b){return c(b)?void a.forEach(b,function(a,b){e.hasOwnProperty(b)&&(e[b]=a)}):e},$get:["$window","$rootScope","$parse",function(f,g,h){function i(e){this._options=e,this._registeredDrivers=a.extend({local:f.localStorage,session:f.sessionStorage},e.extend),this._resolveDriver=function(a){return this._registeredDrivers.hasOwnProperty(a)||d('The driver "'+a+'" was not found.'),this._registeredDrivers[a]},this._driver=this._resolveDriver(e.driver),this._namespace=e.namespace,this._separator=e.separator,this._watchers={},this._checkSupport=function(a){if(!c(this._supported)){var b="l";try{this._resolveDriver(a||e.driver).setItem(b,b),this._resolveDriver(a||e.driver).removeItem(b),this._supported=!0}catch(a){this._supported=!1}}return this._supported},this._getPrefix=function(a){return this._namespace?this._namespace+this._separator+a:a},this._serialize=function(b){try{return a.toJson(b)}catch(a){return b}},this._unserialize=function(b){try{return a.fromJson(b)}catch(a){return b}},this._event=function(b,c){this._options.eventsEnabled&&g.$emit("locker."+b,a.extend(c,{driver:this._options.driver,namespace:this._namespace}))},this._setItem=function(b,c){this._checkSupport()||d('The browser does not support the "'+e.driver+'" driver');try{var f=this._getItem(b);this._driver.setItem(this._getPrefix(b),this._serialize(c)),this._exists(b)&&!a.equals(f,c)?this._event("item.updated",{key:b,oldValue:f,newValue:c}):this._event("item.added",{key:b,value:c})}catch(a){d(["QUOTA_EXCEEDED_ERR","NS_ERROR_DOM_QUOTA_REACHED","QuotaExceededError"].indexOf(a.name)!==-1?"The browser storage quota has been exceeded":'Could not add item with key "'+b+'"')}},this._getItem=function(a){return this._checkSupport()||d('The browser does not support the "'+e.driver+'" driver'),this._unserialize(this._driver.getItem(this._getPrefix(a)))},this._exists=function(a){return this._checkSupport()||d('The browser does not support the "'+e.driver+'" driver'),this._driver.hasOwnProperty(this._getPrefix(b(a)))},this._removeItem=function(a){return this._checkSupport()||d('The browser does not support the "'+e.driver+'" driver'),!!this._exists(a)&&(this._driver.removeItem(this._getPrefix(a)),this._event("item.forgotten",{key:a}),!0)}}return i.prototype={put:function(d,e,f){if(!c(d))return!1;if(d=b(d),a.isObject(d))a.forEach(d,function(a,b){this._setItem(b,c(a)?a:f)},this);else{if(!c(e))return!1;var g=this._getItem(d);this._setItem(d,b(e,c(g)?g:f))}return this},add:function(a,b,c){return!this.has(a)&&(this.put(a,b,c),!0)},get:function(b,c){if(a.isArray(b)){var d={};return a.forEach(b,function(a){this.has(a)&&(d[a]=this._getItem(a))},this),d}return this.has(b)?this._getItem(b):2===arguments.length?c:void 0},has:function(a){return this._exists(a)},forget:function(c){return c=b(c),a.isArray(c)?c.map(this._removeItem,this):this._removeItem(c),this},pull:function(a,b){var c=this.get(a,b);return this.forget(a),c},all:function(){var b={};return a.forEach(this._driver,function(a,c){if(this._namespace){var d=this._namespace+this._separator;0===c.indexOf(d)&&(c=c.substring(d.length))}this.has(c)&&(b[c]=this.get(c))},this),b},keys:function(){return Object.keys(this.all())},clean:function(){return this.forget(this.keys())},empty:function(){return this._driver.clear(),this},count:function(){return this.keys().length},bind:function(b,d,e){c(b.$eval(d))||(h(d).assign(b,this.get(d,e)),this.add(d,e));var f=this;return this._watchers[d+b.$id]=b.$watch(d,function(a){f.put(d,a)},a.isObject(b[d])),this},unbind:function(a,b){h(b).assign(a,void 0),this.forget(b);var c=b+a.$id;return this._watchers[c]&&(this._watchers[c](),delete this._watchers[c]),this},driver:function(b){return this.instance(a.extend(this._options,{driver:b}))},getDriver:function(){return this._driver},namespace:function(b){return this.instance(a.extend(this._options,{namespace:b}))},getNamespace:function(){return this._namespace},supported:function(a){return this._checkSupport(a)},instance:function(a){return new i(a)}},new i(e)}]}}).name}),function(a,b){"use strict";function c(){function a(a,b){if(a)return e(a)?a.indexOf(b)>=0:a.hasOwnProperty(b)}return["$animate",function(b){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(c,d,f,g,h){var i,j=d[0],k=f.ngMessage||f.when,l=f.ngMessageExp||f.whenExp,m=function(a){i=a?e(a)?a:a.split(/[\s,]+/):null,g.reRender()};l?(m(c.$eval(l)),c.$watchCollection(l,m)):m(k);var n,o;g.register(j,o={test:function(b){return a(i,b)},attach:function(){n||h(function(a,c){b.enter(a,null,d),n=a;var e=n.$$attachId=g.getAttachId();n.on("$destroy",function(){n&&n.$$attachId===e&&(g.deregister(j),o.detach()),c.$destroy()})})},detach:function(){if(n){var a=n;n=null,b.leave(a)}}})}}}]}var d,e,f,g;b.module("ngMessages",[],function(){d=b.forEach,e=b.isArray,f=b.isString,g=b.element}).directive("ngMessages",["$animate",function(a){function b(a,b){return f(b)&&0===b.length||c(a.$eval(b))}function c(a){return f(a)?a.length:!!a}var e="ng-active",g="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(f,h,i){function j(a,b){for(var c=b,d=[];c&&c!==a;){var e=c.$$ngMessageNode;if(e&&e.length)return r[e];c.childNodes.length&&d.indexOf(c)===-1?(d.push(c),c=c.childNodes[c.childNodes.length-1]):c.previousSibling?c=c.previousSibling:(c=c.parentNode,d.push(c))}}function k(a,b,c){var d=r[c];if(m.head){var e=j(a,b);e?(d.next=e.next,e.next=d):(d.next=m.head,m.head=d)}else m.head=d}function l(a,b,c){var d=r[c],e=j(a,b);e?e.next=d.next:m.head=d.next}var m=this,n=0,o=0;this.getAttachId=function(){return o++};var p,q,r=this.messages={};this.render=function(j){j=j||{},p=!1,q=j;for(var k=b(h,i.ngMessagesMultiple)||b(h,i.multiple),l=[],n={},o=m.head,r=!1,s=0;null!=o;){s++;var t=o.message,u=!1;r||d(j,function(a,b){if(!u&&c(a)&&t.test(b)){if(n[b])return;n[b]=!0,u=!0,t.attach()}}),u?r=!k:l.push(t),o=o.next}d(l,function(a){a.detach()}),l.length!==s?a.setClass(f,e,g):a.setClass(f,g,e)},h.$watchCollection(i.ngMessages||i.for,m.render),f.on("$destroy",function(){d(r,function(a){a.message.detach()})}),this.reRender=function(){p||(p=!0,h.$evalAsync(function(){p&&q&&m.render(q)}))},this.register=function(a,b){var c=n.toString();r[c]={message:b},k(f[0],a,c),a.$$ngMessageNode=c,n++,m.reRender()},this.deregister=function(a){var b=a.$$ngMessageNode;delete a.$$ngMessageNode,l(f[0],a,b),delete r[b],m.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(a,b,c){function d(a,d){var e=c.$$createComment?c.$$createComment("ngMessagesInclude",d):b[0].createComment(" ngMessagesInclude: "+d+" "),f=g(e);a.after(f),a.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(b,e,g){var h=g.ngMessagesInclude||g.src;a(h).then(function(a){b.$$destroyed||(f(a)&&!a.trim()?d(e,h):c(a)(b,function(a){e.after(a),d(e,h)}))})}}}]).directive("ngMessage",c()).directive("ngMessageExp",c())}(window,window.angular),angular.module("angularPayments",[]),angular.module("angularPayments").factory("Common",[function(){var a={};return a.parseExpiry=function(a){var b,c,d,e;return a=a||"",a=a.replace(/\s/g,""),e=a.split("/",2),b=e[0],d=e[1],2===(null!=d?d.length:void 0)&&/^\d+$/.test(d)&&(c=(new Date).getFullYear(),c=c.toString().slice(0,2),d=c+d),b=parseInt(b,10),d=parseInt(d,10),{month:b,year:d}},a}]),angular.module("angularPayments").factory("Cards",[function(){var a=/(\d{1,4})/g,b=/(?:^|\s)(\d{4})$/,c=[{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,format:a,inputFormat:b,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:a,inputFormat:b,length:[14],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:a,inputFormat:b,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:a,inputFormat:b,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:a,inputFormat:b,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:a,inputFormat:b,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,format:a,inputFormat:b,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,inputFormat:/^(\d{4}|\d{4}\s\d{6})$/,length:[15],cvcLength:[3,4],luhn:!0},{type:"visa",pattern:/^4/,format:a,inputFormat:b,length:[13,14,15,16],cvcLength:[3],luhn:!0}],d=function(a){var b,d,e;for(a=(a+"").replace(/\D/g,""),d=0,e=c.length;d<e;d++)if(b=c[d],b.pattern.test(a))return b},e=function(a){var b,d,e;for(d=0,e=c.length;d<e;d++)if(b=c[d],b.type===a)return b};return{fromNumber:function(a){return d(a)},fromType:function(a){return e(a)},defaultFormat:function(){return a},defaultInputFormat:function(){return b}}}]),angular.module("angularPayments").factory("_Format",["Cards","Common","$filter",function(a,b,c){var d={},e=function(a){var b;return null!=a.prop("selectionStart")&&a.prop("selectionStart")!==a.prop("selectionEnd")||!("undefined"==typeof document||null===document||null==(b=document.selection)||"function"!=typeof b.createRange||!b.createRange().text)},f=function(b){var c,d,e,f,g,h,i;if(e=String.fromCharCode(b.which),c=angular.element(b.currentTarget),i=c.val(),d=a.fromNumber(i+e),f=(i.replace(/\D/g,"")+e).length,h=16,d&&(h=d.length[d.length.length-1]),!(f>=h)){if(!/^\d+$/.test(e)&&!b.meta&&b.keyCode>=46)return void b.preventDefault();if(null==c.prop("selectionStart")||c.prop("selectionStart")===i.length)return g=a.defaultInputFormat(),d&&(g=d.inputFormat),g.test(i)?(b.preventDefault(),c.val(i+" "+e)):g.test(i+e)?(b.preventDefault(),c.val(i+e+" ")):void 0}},g=function(b){var c,d,f,g;c=angular.element(b.currentTarget),f=String.fromCharCode(b.which),/^\d+$/.test(f)&&(e(c)||(g=(c.val()+f).replace(/\D/g,""),d=a.fromNumber(g),d?g.length<=d.length[d.length.length-1]||b.preventDefault():g.length<=16||b.preventDefault()))},h=function(a){var b,c;if(b=angular.element(a.currentTarget),c=b.val(),!a.meta&&8===a.which&&(null==b.prop("selectionStart")||b.prop("selectionStart")===c.length))return/\d\s$/.test(c)&&!a.meta&&a.keyCode>=46?(a.preventDefault(),b.val(c.replace(/\d\s$/,""))):/\s\d?$/.test(c)?(a.preventDefault(),b.val(c.replace(/\s\d?$/,""))):void 0},i=function(b){var c,d,e,f;return(c=a.fromNumber(b))?(e=c.length[c.length.length-1],b=b.replace(/\D/g,""),b=b.slice(0,+e+1||9e9),c.format.global?null!=(f=b.match(c.format))?f.join(" "):void 0:(d=c.format.exec(b),null!=d&&d.shift(),null!=d?d.join(" "):void 0)):b},j=function(a){return setTimeout(function(){var b,c;return b=angular.element(a.target),c=b.val(),c=i(c),b.val(c)})},k=function(a){return null!=a?a.replace(/\s/g,""):a};d.card=function(a,b){a.bind("keypress",g),a.bind("keypress",f),a.bind("keydown",h),a.bind("paste",j),b.$parsers.push(k),b.$formatters.push(i)},_formatCVC=function(a){return $target=angular.element(a.currentTarget),digit=String.fromCharCode(a.which),!/^\d+$/.test(digit)&&!a.meta&&a.keyCode>=46?void a.preventDefault():(val=$target.val()+digit,val.length<=4?void 0:void a.preventDefault())},d.cvc=function(a){a.bind("keypress",_formatCVC)},_restrictExpiry=function(a){var b,c,d;return b=angular.element(a.currentTarget),c=String.fromCharCode(a.which),!/^\d+$/.test(c)&&!a.meta&&a.keyCode>=46?void a.preventDefault():e(b)?void 0:(d=b.val()+c,d=d.replace(/\D/g,""),d.length>6?void a.preventDefault():void 0)},_formatExpiry=function(a){var b,c,d;return c=String.fromCharCode(a.which),!/^\d+$/.test(c)&&!a.meta&&a.keyCode>=46?void a.preventDefault():(b=angular.element(a.currentTarget),d=b.val()+c,/^\d$/.test(d)&&"0"!==d&&"1"!==d?(a.preventDefault(),b.val("0"+d+" / ")):/^\d\d$/.test(d)?(a.preventDefault(),b.val(""+d+" / ")):void 0)},_formatForwardExpiry=function(a){var b,c,d;if(c=String.fromCharCode(a.which),/^\d+$/.test(c)||a.meta||!(a.keyCode>=46))return b=angular.element(a.currentTarget),d=b.val(),/^\d\d$/.test(d)?b.val(""+d+" / "):void 0},_formatForwardSlash=function(a){var b,c,d;if(c=String.fromCharCode(a.which),"/"===c)return b=angular.element(a.currentTarget),d=b.val(),/^\d$/.test(d)&&"0"!==d?b.val("0"+d+" / "):void 0},_formatBackExpiry=function(a){var b,c;if(!a.meta&&(b=angular.element(a.currentTarget),c=b.val(),8===a.which&&(null==b.prop("selectionStart")||b.prop("selectionStart")===c.length)))return/\d(\s|\/)+$/.test(c)?(a.preventDefault(),b.val(c.replace(/\d(\s|\/)*$/,""))):/\s\/\s?\d?$/.test(c)?(a.preventDefault(),b.val(c.replace(/\s\/\s?\d?$/,""))):void 0};var l=function(a){if(null!=a){var d=b.parseExpiry(a),e=new Date(d.year,d.month-1);return c("date")(e,"MM/yyyy")}return null},m=function(a){if(null!=a){var d=b.parseExpiry(a),e=new Date(d.year,d.month-1);return c("date")(e,"MM / yyyy")}return null};return d.expiry=function(a,b){a.bind("keypress",_restrictExpiry),a.bind("keypress",_formatExpiry),a.bind("keypress",_formatForwardSlash),a.bind("keypress",_formatForwardExpiry),a.bind("keydown",_formatBackExpiry),b.$parsers.push(l),b.$formatters.push(m)},function(a,b,c){if(!d[a])throw types=Object.keys(d),errstr='Unknown type for formatting: "'+a+'". ',errstr+='Should be one of: "'+types.join('", "')+'"',errstr;return d[a](b,c)}}]).directive("paymentsFormat",["$window","_Format",function(a,b){return{restrict:"A",require:"ngModel",link:function(a,c,d,e){b(d.paymentsFormat,c,e)}}}]),angular.module("angularPayments").factory("_Validate",["Cards","Common","$parse",function(a,b,c){var d=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},e=function(a){var b,c,d,e,f,g;for(d=!0,e=0,c=(a+"").split("").reverse(),f=0,g=c.length;f<g;f++)b=c[f],b=parseInt(b,10),(d=!d)&&(b*=2),b>9&&(b-=9),e+=b;return e%10===0},f={};return f.cvc=function(b,e,f,g){var h,i;if(null==b||0==b.length)return!0;if(!/^\d+$/.test(b))return!1;var j;if(g.paymentsTypeModel){var k=c(g.paymentsTypeModel);j=k(f)}return j?(h=b.length,d.call(null!=(i=a.fromType(j))?i.cvcLength:void 0,h)>=0):b.length>=3&&b.length<=4},f.card=function(b,f,g,h){var i,j,k;h.paymentsTypeModel&&(k=c(h.paymentsTypeModel));var l=function(){k&&k.assign(g,null),f.$card=null};return null==b||0==b.length?(l(),!0):(b=(b+"").replace(/\s+|-/g,""),/^\d+$/.test(b)&&(i=a.fromNumber(b))?(f.$card=angular.copy(i),k&&k.assign(g,i.type),ret=(j=b.length,d.call(i.length,j)>=0&&(i.luhn===!1||e(b))),ret):(l(),!1))},f.expiry=function(a){if(null==a||0==a.length)return!0;obj=b.parseExpiry(a),month=obj.month,year=obj.year;var c,d,e;return!(!month||!year)&&(!!/^\d+$/.test(month)&&(!!/^\d+$/.test(year)&&(parseInt(month,10)<=12&&(2===year.length&&(e=(new Date).getFullYear(),
e=e.toString().slice(0,2),year=e+year),d=new Date(year,month),c=new Date,d.setMonth(d.getMonth()-1),d.setMonth(d.getMonth()+1,1),d>c))))},function(a,b,c,d,e){if(!f[a])throw types=Object.keys(f),errstr='Unknown type for validation: "'+a+'". ',errstr+='Should be one of: "'+types.join('", "')+'"',errstr;return f[a](b,c,d,e)}}]).factory("_ValidateWatch",["_Validate",function(a){var b={};return b.cvc=function(b,c,d,e){e.paymentsTypeModel&&d.$watch(e.paymentsTypeModel,function(f,g){if(f!=g){var h=a(b,c.$modelValue,c,d,e);c.$setValidity(b,h)}})},function(a,c,d,e){if(b[a])return b[a](a,c,d,e)}}]).directive("paymentsValidate",["$window","_Validate","_ValidateWatch",function(a,b,c){return{restrict:"A",require:"ngModel",link:function(a,d,e,f){var g=e.paymentsValidate;c(g,f,a,e);var h=function(c){var d=b(g,c,f,a,e);return f.$setValidity(g,d),d?c:void 0};f.$formatters.push(h),f.$parsers.push(h)}}}]),angular.module("angularPayments").directive("stripeForm",["$window","$parse","Common",function(a,b,c){return _getDataToSend=function(a){var b=["number","expMonth","expYear","cvc","name","addressLine1","addressLine2","addressCity","addressState","addressZip","addressCountry"],c=function(a){return a.replace(/([A-Z])/g,function(a){return"_"+a.toLowerCase()})},d={};for(i in b)a.hasOwnProperty(b[i])&&(d[c(b[i])]=angular.copy(a[b[i]]));return d.number=(d.number||"").replace(/ /g,""),d},{restrict:"A",link:function(b,d,e){if(!a.Stripe)throw"stripeForm requires that you have stripe.js installed. Include https://js.stripe.com/v2/ into your html.";var f=angular.element(d);f.bind("submit",function(){expMonthUsed=!!b.expMonth,expYearUsed=!!b.expYear,expMonthUsed&&expYearUsed||(exp=c.parseExpiry(b.expiry),b.expMonth=exp.month,b.expYear=exp.year);var d=f.find("button");d.prop("disabled",!0),f.hasClass("ng-valid")?a.Stripe.createToken(_getDataToSend(b),function(){var a=arguments;b.$apply(function(){b[e.stripeForm].apply(b,a)}),d.prop("disabled",!1)}):(b.$apply(function(){b[e.stripeForm].apply(b,[400,{error:"Invalid form submitted."}])}),d.prop("disabled",!1)),b.expMonth=null,b.expYear=null})}}}]),function(a,b){"use strict";function c(a){return null!=a&&""!==a&&"hasOwnProperty"!==a&&g.test("."+a)}function d(a,d){if(!c(d))throw f("badmember",'Dotted member path "@{0}" is invalid.',d);for(var e=d.split("."),g=0,h=e.length;g<h&&b.isDefined(a);g++){var i=e[g];a=null!==a?a[i]:void 0}return a}function e(a,c){c=c||{},b.forEach(c,function(a,b){delete c[b]});for(var d in a)!a.hasOwnProperty(d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(c[d]=a[d]);return c}var f=b.$$minErr("$resource"),g=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;b.module("ngResource",["ng"]).provider("$resource",function(){var a=/^https?:\/\/[^\/]*/,c=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(g,h,i,j){function k(a){return l(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function l(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function m(a,b){this.template=a,this.defaults=q({},c.defaults,b),this.urlParams={}}function n(a,k,l,t){function u(a,b){var c={};return b=q({},k,b),p(b,function(b,e){s(b)&&(b=b(a)),c[e]=b&&b.charAt&&"@"==b.charAt(0)?d(a,b.substr(1)):b}),c}function v(a){return a.resource}function w(a){e(a||{},this)}var x=new m(a,t);return l=q({},c.defaults.actions,l),w.prototype.toJSON=function(){var a=q({},this);return delete a.$promise,delete a.$resolved,a},p(l,function(a,d){var k=/^(POST|PUT|PATCH)$/i.test(a.method),l=a.timeout,m=b.isDefined(a.cancellable)?a.cancellable:t&&b.isDefined(t.cancellable)?t.cancellable:c.defaults.cancellable;l&&!b.isNumber(l)&&(h.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete a.timeout,l=null),w[d]=function(c,h,n,t){var y,z,A,B={};switch(arguments.length){case 4:A=t,z=n;case 3:case 2:if(!s(h)){B=c,y=h,z=n;break}if(s(c)){z=c,A=h;break}z=h,A=n;case 1:s(c)?z=c:k?y=c:B=c;break;case 0:break;default:throw f("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var C,D,E=this instanceof w,F=E?y:a.isArray?[]:new w(y),G={},H=a.interceptor&&a.interceptor.response||v,I=a.interceptor&&a.interceptor.responseError||void 0;p(a,function(a,b){switch(b){default:G[b]=r(a);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!E&&m&&(C=i.defer(),G.timeout=C.promise,l&&(D=j(C.resolve,l))),k&&(G.data=y),x.setUrlParams(G,q({},u(y,a.params||{}),B),a.url);var J=g(G).then(function(c){var g=c.data;if(g){if(b.isArray(g)!==!!a.isArray)throw f("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",d,a.isArray?"array":"object",b.isArray(g)?"array":"object",G.method,G.url);if(a.isArray)F.length=0,p(g,function(a){"object"==typeof a?F.push(new w(a)):F.push(a)});else{var h=F.$promise;e(g,F),F.$promise=h}}return c.resource=F,c},function(a){return(A||o)(a),i.reject(a)});return J.finally(function(){F.$resolved=!0,!E&&m&&(F.$cancelRequest=b.noop,j.cancel(D),C=D=G.timeout=null)}),J=J.then(function(a){var b=H(a);return(z||o)(b,a.headers),b},I),E?J:(F.$promise=J,F.$resolved=!1,m&&(F.$cancelRequest=C.resolve),F)},w.prototype["$"+d]=function(a,b,c){s(a)&&(c=b,b=a,a={});var e=w[d].call(this,a,this,b,c);return e.$promise||e}}),w.bind=function(b){return n(a,q({},k,b),l)},w}var o=b.noop,p=b.forEach,q=b.extend,r=b.copy,s=b.isFunction;return m.prototype={setUrlParams:function(c,d,e){var g,h,i=this,j=e||i.template,m="",n=i.urlParams={};p(j.split(/\W/),function(a){if("hasOwnProperty"===a)throw f("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(j)&&(n[a]={isQueryParamValue:new RegExp("\\?.*=:"+a+"(?:\\W|$)").test(j)})}),j=j.replace(/\\:/g,":"),j=j.replace(a,function(a){return m=a,""}),d=d||{},p(i.urlParams,function(a,c){g=d.hasOwnProperty(c)?d[c]:i.defaults[c],b.isDefined(g)&&null!==g?(h=a.isQueryParamValue?l(g,!0):k(g),j=j.replace(new RegExp(":"+c+"(\\W|$)","g"),function(a,b){return h+b})):j=j.replace(new RegExp("(/?):"+c+"(\\W|$)","g"),function(a,b,c){return"/"==c.charAt(0)?c:b+c})}),i.defaults.stripTrailingSlashes&&(j=j.replace(/\/+$/,"")||"/"),j=j.replace(/\/\.(?=\w+($|\?))/,"."),c.url=m+j.replace(/\/\\\./,"/."),p(d,function(a,b){i.urlParams[b]||(c.params=c.params||{},c.params[b]=a)})}},n}]})}(window,window.angular),function(a,b){"use strict";function c(){function c(a,b){var c,d={},e=a.split(",");for(c=0;c<e.length;c++)d[b?i(e[c]):e[c]]=!0;return d}function d(b,c){null===b||void 0===b?b="":"string"!=typeof b&&(b=""+b),s.innerHTML=b;var d=5;do{if(0===d)throw m("uinput","Failed to sanitize html because the input is unstable");d--,a.document.documentMode&&q(s),b=s.innerHTML,s.innerHTML=b}while(b!==s.innerHTML);for(var e=s.firstChild;e;){switch(e.nodeType){case 1:c.start(e.nodeName.toLowerCase(),n(e.attributes));break;case 3:c.chars(e.textContent)}var f;if(!(f=e.firstChild)&&(1==e.nodeType&&c.end(e.nodeName.toLowerCase()),f=e.nextSibling,!f))for(;null==f&&(e=e.parentNode,e!==s);)f=e.nextSibling,1==e.nodeType&&c.end(e.nodeName.toLowerCase());e=f}for(;e=s.firstChild;)s.removeChild(e)}function n(a){for(var b={},c=0,d=a.length;c<d;c++){var e=a[c];b[e.name]=e.value}return b}function o(a){return a.replace(/&/g,"&amp;").replace(t,function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1);return"&#"+(1024*(b-55296)+(c-56320)+65536)+";"}).replace(u,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function p(a,b){var c=!1,d=e(a,a.push);return{start:function(a,e){a=i(a),!c&&C[a]&&(c=a),c||D[a]!==!0||(d("<"),d(a),g(e,function(c,e){var f=i(e),g="img"===a&&"src"===f||"background"===f;H[f]!==!0||E[f]===!0&&!b(c,g)||(d(" "),d(e),d('="'),d(o(c)),d('"'))}),d(">"))},end:function(a){a=i(a),c||D[a]!==!0||v[a]===!0||(d("</"),d(a),d(">")),a==c&&(c=!1)},chars:function(a){c||d(o(a))}}}function q(b){if(b.nodeType===a.Node.ELEMENT_NODE)for(var c=b.attributes,d=0,e=c.length;d<e;d++){var f=c[d],g=f.name.toLowerCase();"xmlns:ns1"!==g&&0!==g.lastIndexOf("ns1:",0)||(b.removeAttributeNode(f),d--,e--)}var h=b.firstChild;h&&q(h),h=b.nextSibling,h&&q(h)}var r=!1;this.$get=["$$sanitizeUri",function(a){return r&&f(D,B),function(b){var c=[];return k(b,l(c,function(b,c){return!/^unsafe:/.test(a(b,c))})),c.join("")}}],this.enableSvg=function(a){return h(a)?(r=a,this):r},e=b.bind,f=b.extend,g=b.forEach,h=b.isDefined,i=b.lowercase,j=b.noop,k=d,l=p;var s,t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/([^\#-~ |!])/g,v=c("area,br,col,hr,img,wbr"),w=c("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x=c("rp,rt"),y=f({},x,w),z=f({},w,c("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),A=f({},x,c("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),B=c("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),C=c("script,style"),D=f({},v,z,A,y),E=c("background,cite,href,longdesc,src,xlink:href"),F=c("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),G=c("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),H=f({},E,G,F);!function(a){var b;if(!a.document||!a.document.implementation)throw m("noinert","Can't create an inert html document");b=a.document.implementation.createHTMLDocument("inert");var c=b.documentElement||b.getDocumentElement(),d=c.getElementsByTagName("body");if(1===d.length)s=d[0];else{var e=b.createElement("html");s=b.createElement("body"),e.appendChild(s),b.appendChild(e)}}(a)}function d(a){var b=[],c=l(b,j);return c.chars(a),b.join("")}var e,f,g,h,i,j,k,l,m=b.$$minErr("$sanitize");b.module("ngSanitize",[]).provider("$sanitize",c),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,e=/^mailto:/i,f=b.$$minErr("linky"),g=b.isDefined,h=b.isFunction,i=b.isObject,j=b.isString;return function(b,k,l){function m(a){a&&t.push(d(a))}function n(a,b){var c,d=r(a);t.push("<a ");for(c in d)t.push(c+'="'+d[c]+'" ');!g(k)||"target"in d||t.push('target="',k,'" '),t.push('href="',a.replace(/"/g,"&quot;"),'">'),m(b),t.push("</a>")}if(null==b||""===b)return b;if(!j(b))throw f("notstring","Expected string but received: {0}",b);for(var o,p,q,r=h(l)?l:i(l)?function(){return l}:function(){return{}},s=b,t=[];o=s.match(c);)p=o[0],o[2]||o[4]||(p=(o[3]?"http://":"mailto:")+p),q=o.index,m(s.substr(0,q)),n(p,o[0].replace(e,"")),s=s.substring(q+o[0].length);return m(s),a(t.join(""))}}])}(window,window.angular),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.angularStripe=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(a){"use strict";function c(a){return function(b){if("function"!=typeof a)throw new Error(b||"$q is not a function")}}var d="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null;b.exports=d.module("assert-q-constructor",[]).factory("assertQConstructor",c).name,c.$inject=["$q"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a,b,c){"use strict";function d(a){return("object"==typeof a||"function"==typeof a)&&null!==a}b.exports.get=function(a,b){if(!d(a)||"string"!=typeof b)return a;var c=b.split(".");return c.some(function(b,c){if(a=a[b],void 0===a)return!0}),a},b.exports.set=function(a,b,c){if(d(a)&&"string"==typeof b){var e=b.split(".");e.forEach(function(b,f){d(a[b])||(a[b]={}),f===e.length-1&&(a[b]=c),a=a[b]})}}},{}],3:[function(a,b,c){"use strict";function d(a,b,c,d){return function(){var e=Array.prototype.slice.call(arguments);return new a(function(a,f){c[b].apply(c,e.concat(function(){d.apply({resolve:a,reject:f},arguments)}))})}}function e(a,b){b.error?this.reject(f(new Error,b.error)):this.resolve(b)}var f=a("xtend/mutable"),g=a("dot-prop"),h=["card.createToken","bankAccount.createToken","bitcoinReceiver.createReceiver","bitcoinReceiver.pollReceiver","bitcoinReceiver.getReceiver"],i=["setPublishableKey","card.validateCardNumber","card.validateExpiry","card.validateCVC","card.cardType","bankAccount.validateRoutingNumber","bankAccount.validateAccountNumber","bitcoinReceiver.cancelReceiverPoll"];b.exports=function(a,b){if("function"!=typeof a)throw new Error("Stripe.js must be provided");if("function"!=typeof b)throw new Error("Promise constructor must be provided");var c={};return h.forEach(function(f){var h=f.split("."),i=h[0],j=h[1];g.set(c,f,d(b,j,a[i],e))}),i.forEach(function(b){g.set(c,b,g.get(a,b))}),c}},{"dot-prop":2,"xtend/mutable":4}],4:[function(a,b,c){function d(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)e.call(c,d)&&(a[d]=c[d])}return a}b.exports=d;var e=Object.prototype.hasOwnProperty},{}],5:[function(a,b,c){"use strict";function d(a){if(!a)throw new Error("Stripe must be available as window.Stripe");this.setPublishableKey=a.setPublishableKey,this.$get=e}var e=a("./service");b.exports=d,d.$inject=["Stripe"]},{"./service":6}],6:[function(a,b,c){"use strict";function d(a,b){return e(a,b)}var e=a("stripe-as-promised");b.exports=d,d.$inject=["Stripe","$q"]},{"stripe-as-promised":3}],7:[function(a,b,c){(function(c){"use strict";function d(a){a("angular-stripe: For Angular <= 1.2 support, first load https://github.com/bendrucker/angular-q-constructor")}var e="undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null,f=a("./provider"),g=window.Stripe;b.exports=e.module("angular-stripe",[a("angular-assert-q-constructor")]).constant("Stripe",g).provider("stripe",f).run(d).name,d.$inject=["assertQConstructor"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./provider":5,"angular-assert-q-constructor":1}]},{},[7])(7)}),function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){function a(a){"use strict";var b=a.storageKey(),c=a.storage(),d=function(){var d=a.preferredLanguage();angular.isString(d)?a.use(d):c.put(b,a.use())};d.displayName="fallbackFromIncorrectStorageValue",c?c.get(b)?a.use(c.get(b)).catch(d):d():angular.isString(a.preferredLanguage())&&a.use(a.preferredLanguage())}function b(){"use strict";var a,b,c,d=null,e=!1,f=!1;c={sanitize:function(a,b){return"text"===b&&(a=h(a)),a},escape:function(a,b){return"text"===b&&(a=g(a)),a},sanitizeParameters:function(a,b){return"params"===b&&(a=j(a,h)),a},escapeParameters:function(a,b){return"params"===b&&(a=j(a,g)),a},sce:function(a,b,c){return"text"===b?a=i(a):"params"===b&&"filter"!==c&&(a=j(a,g)),a},sceParameters:function(a,b){return"params"===b&&(a=j(a,i)),a}},c.escaped=c.escapeParameters,this.addStrategy=function(a,b){return c[a]=b,this},this.removeStrategy=function(a){return delete c[a],this},this.useStrategy=function(a){return e=!0,d=a,this},this.$get=["$injector","$log",function(g,h){var i={},j=function(a,b,d,e){return angular.forEach(e,function(e){if(angular.isFunction(e))a=e(a,b,d);else if(angular.isFunction(c[e]))a=c[e](a,b,d);else{if(!angular.isString(c[e]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+e+"'");if(!i[c[e]])try{i[c[e]]=g.get(c[e])}catch(a){throw i[c[e]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+e+"'")}a=i[c[e]](a,b,d)}}),a},k=function(){e||f||(h.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),f=!0)};return g.has("$sanitize")&&(a=g.get("$sanitize")),g.has("$sce")&&(b=g.get("$sce")),{useStrategy:function(a){return function(b){a.useStrategy(b)}}(this),sanitize:function(a,b,c,e){if(d||k(),c||null===c||(c=d),!c)return a;e||(e="service");var f=angular.isArray(c)?c:[c];return j(a,b,e,f)}}}];var g=function(a){var b=angular.element("<div></div>");return b.text(a),b.html()},h=function(b){if(!a)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return a(b)},i=function(a){if(!b)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return b.trustAsHtml(a)},j=function(a,b,c){if(angular.isDate(a))return a;if(angular.isObject(a)){var d=angular.isArray(a)?[]:{};if(c){if(c.indexOf(a)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else c=[];return c.push(a),angular.forEach(a,function(a,e){angular.isFunction(a)||(d[e]=j(a,b,c))}),c.splice(-1,1),d}return angular.isNumber(a)?a:b(a)}}function c(a,b,c,d){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u={},v=[],w=a,x=[],y="translate-cloak",z=!1,A=!1,B=".",C=!1,D=!1,E=0,F=!0,G="default",H={default:function(a){return(a||"").split("-").join("_")},java:function(a){var b=(a||"").split("-").join("_"),c=b.split("_");return c.length>1?c[0].toLowerCase()+"_"+c[1].toUpperCase():b},bcp47:function(a){var b=(a||"").split("_").join("-"),c=b.split("-");return c.length>1?c[0].toLowerCase()+"-"+c[1].toUpperCase():b},"iso639-1":function(a){var b=(a||"").split("_").join("-"),c=b.split("-");return c[0].toLowerCase()}},I="2.12.1",J=function(){if(angular.isFunction(d.getLocale))return d.getLocale();var a,c,e=b.$get().navigator,f=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(e.languages))for(a=0;a<e.languages.length;a++)if(c=e.languages[a],c&&c.length)return c;for(a=0;a<f.length;a++)if(c=e[f[a]],c&&c.length)return c;return null};J.displayName="angular-translate/service: getFirstBrowserLanguage";var K=function(){var a=J()||"";return H[G]&&(a=H[G](a)),a};K.displayName="angular-translate/service: getLocale";var L=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},M=function(){return this.toString().replace(/^\s+|\s+$/g,"")},N=function(a){if(a){for(var b=[],c=angular.lowercase(a),d=0,e=v.length;d<e;d++)b.push(angular.lowercase(v[d]));if(L(b,c)>-1)return a;if(f){var g;for(var h in f)if(f.hasOwnProperty(h)){var i=!1,j=Object.prototype.hasOwnProperty.call(f,h)&&angular.lowercase(h)===angular.lowercase(a);if("*"===h.slice(-1)&&(i=h.slice(0,-1)===a.slice(0,h.length-1)),(j||i)&&(g=f[h],L(b,angular.lowercase(g))>-1))return g}}var k=a.split("_");return k.length>1&&L(b,angular.lowercase(k[0]))>-1?k[0]:void 0}},O=function(a,b){if(!a&&!b)return u;if(a&&!b){if(angular.isString(a))return u[a]}else angular.isObject(u[a])||(u[a]={}),angular.extend(u[a],P(b));return this};this.translations=O,this.cloakClassName=function(a){return a?(y=a,this):y},this.nestedObjectDelimeter=function(a){return a?(B=a,this):B};var P=function(a,b,c,d){var e,f,g,h;b||(b=[]),c||(c={});for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(h=a[e],angular.isObject(h)?P(h,b.concat(e),c,e):(f=b.length?""+b.join(B)+B+e:e,b.length&&e===d&&(g=""+b.join(B),c[g]="@:"+f),c[f]=h));return c};P.displayName="flatObject",this.addInterpolation=function(a){return x.push(a),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(a){return n=a,this},this.useSanitizeValueStrategy=function(a){return c.useStrategy(a),this},this.preferredLanguage=function(a){return a?(Q(a),this):e};var Q=function(a){return a&&(e=a),e};this.translationNotFoundIndicator=function(a){return this.translationNotFoundIndicatorLeft(a),this.translationNotFoundIndicatorRight(a),this},this.translationNotFoundIndicatorLeft=function(a){return a?(q=a,this):q},this.translationNotFoundIndicatorRight=function(a){return a?(r=a,this):r},this.fallbackLanguage=function(a){return R(a),this};var R=function(a){return a?(angular.isString(a)?(h=!0,g=[a]):angular.isArray(a)&&(h=!1,g=a),angular.isString(e)&&L(g,e)<0&&g.push(e),this):h?g[0]:g};this.use=function(a){if(a){if(!u[a]&&!o)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+a+"'");return i=a,this}return i},this.resolveClientLocale=function(){return K()};var S=function(a){return a?(w=a,this):l?l+w:w};this.storageKey=S,this.useUrlLoader=function(a,b){return this.useLoader("$translateUrlLoader",angular.extend({url:a},b))},this.useStaticFilesLoader=function(a){return this.useLoader("$translateStaticFilesLoader",a)},this.useLoader=function(a,b){return o=a,p=b||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(a){return k=a,this},this.storagePrefix=function(a){return a?(l=a,this):a},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(a){return m=a,this},this.usePostCompiling=function(a){return z=!!a,this},this.forceAsyncReload=function(a){return A=!!a,this},this.uniformLanguageTag=function(a){return a?angular.isString(a)&&(a={standard:a}):a={},G=a.standard,this},this.determinePreferredLanguage=function(a){var b=a&&angular.isFunction(a)?a():K();return e=v.length?N(b)||b:b,this},this.registerAvailableLanguageKeys=function(a,b){return a?(v=a,b&&(f=b),this):v},this.useLoaderCache=function(a){return a===!1?s=void 0:a===!0?s=!0:"undefined"==typeof a?s="$translationCache":a&&(s=a),this},this.directivePriority=function(a){return void 0===a?E:(E=a,this)},this.statefulFilter=function(a){return void 0===a?F:(F=a,this)},this.postProcess=function(a){return t=a?a:void 0,this},this.keepContent=function(a){return D=!!a,this},this.$get=["$log","$injector","$rootScope","$q",function(a,b,c,d){var f,l,G,H=b.get(n||"$translateDefaultInterpolation"),J=!1,T={},U={},V=function(a,b,c,h,j){!i&&e&&(i=e);var m=j&&j!==i?N(j)||j:i;if(j&&ka(j),angular.isArray(a)){var n=function(a){for(var e={},f=[],g=function(a){var f=d.defer(),g=function(b){e[a]=b,f.resolve([a,b])};return V(a,b,c,h,j).then(g,g),f.promise},i=0,k=a.length;i<k;i++)f.push(g(a[i]));return d.all(f).then(function(){return e})};return n(a)}var o=d.defer();a&&(a=M.apply(a));var p=function(){var a=e?U[e]:U[m];if(l=0,k&&!a){var b=f.get(w);if(a=U[b],g&&g.length){var c=L(g,b);l=0===c?1:0,L(g,e)<0&&g.push(e)}}return a}();if(p){var q=function(){j||(m=i),ga(a,b,c,h,m).then(o.resolve,o.reject)};q.displayName="promiseResolved",p.finally(q)}else ga(a,b,c,h,m).then(o.resolve,o.reject);return o.promise},W=function(a){return q&&(a=[q,a].join(" ")),r&&(a=[a,r].join(" ")),a},X=function(a){i=a,k&&f.put(V.storageKey(),i),c.$emit("$translateChangeSuccess",{language:a}),H.setLocale(i);var b=function(a,b){T[b].setLocale(i)};b.displayName="eachInterpolatorLocaleSetter",angular.forEach(T,b),c.$emit("$translateChangeEnd",{language:a})},Y=function(a){if(!a)throw"No language key specified for loading.";var e=d.defer();c.$emit("$translateLoadingStart",{language:a}),J=!0;var f=s;"string"==typeof f&&(f=b.get(f));var g=angular.extend({},p,{key:a,$http:angular.extend({},{cache:f},p.$http)}),h=function(b){var d={};c.$emit("$translateLoadingSuccess",{language:a}),angular.isArray(b)?angular.forEach(b,function(a){angular.extend(d,P(a))}):angular.extend(d,P(b)),J=!1,e.resolve({key:a,table:d}),c.$emit("$translateLoadingEnd",{language:a})};h.displayName="onLoaderSuccess";var i=function(a){c.$emit("$translateLoadingError",{language:a}),e.reject(a),c.$emit("$translateLoadingEnd",{language:a})};return i.displayName="onLoaderError",b.get(o)(g).then(h,i),e.promise};if(k&&(f=b.get(k),!f.get||!f.put))throw new Error("Couldn't use storage '"+k+"', missing get() or put() method!");if(x.length){var Z=function(a){var c=b.get(a);c.setLocale(e||i),T[c.getInterpolationIdentifier()]=c};Z.displayName="interpolationFactoryAdder",angular.forEach(x,Z)}var $=function(a){var b=d.defer();if(Object.prototype.hasOwnProperty.call(u,a))b.resolve(u[a]);else if(U[a]){var c=function(a){O(a.key,a.table),b.resolve(a.table)};c.displayName="translationTableResolver",U[a].then(c,b.reject)}else b.reject();return b.promise},_=function(a,b,c,e){var f=d.defer(),g=function(d){if(Object.prototype.hasOwnProperty.call(d,b)){e.setLocale(a);var g=d[b];if("@:"===g.substr(0,2))_(a,g.substr(2),c,e).then(f.resolve,f.reject);else{var h=e.interpolate(d[b],c,"service");h=ja(b,d[b],h,c,a),f.resolve(h)}e.setLocale(i)}else f.reject()};return g.displayName="fallbackTranslationResolver",$(a).then(g,f.reject),f.promise},aa=function(a,b,c,d){var e,f=u[a];if(f&&Object.prototype.hasOwnProperty.call(f,b)){if(d.setLocale(a),e=d.interpolate(f[b],c,"filter"),e=ja(b,f[b],e,c,a),"@:"===e.substr(0,2))return aa(a,e.substr(2),c,d);d.setLocale(i)}return e},ba=function(a,c,d){if(m){var e=b.get(m)(a,i,c,d);return void 0!==e?e:a}return a},ca=function(a,b,c,e,f){var h=d.defer();if(a<g.length){var i=g[a];_(i,b,c,e).then(function(a){h.resolve(a)},function(){return ca(a+1,b,c,e,f).then(h.resolve,h.reject)})}else f?h.resolve(f):m?h.resolve(ba(b,c)):h.reject(ba(b,c));return h.promise},da=function(a,b,c,d){var e;if(a<g.length){var f=g[a];e=aa(f,b,c,d),e||(e=da(a+1,b,c,d))}return e},ea=function(a,b,c,d){return ca(G>0?G:l,a,b,c,d)},fa=function(a,b,c){return da(G>0?G:l,a,b,c)},ga=function(a,b,c,e,f){var h=d.defer(),i=f?u[f]:u,j=c?T[c]:H;if(i&&Object.prototype.hasOwnProperty.call(i,a)){var k=i[a];if("@:"===k.substr(0,2))V(k.substr(2),b,c,e,f).then(h.resolve,h.reject);else{var l=j.interpolate(k,b,"service");l=ja(a,k,l,b,f),h.resolve(l)}}else{var n;m&&!J&&(n=ba(a,b,e)),f&&g&&g.length?ea(a,b,j,e).then(function(a){h.resolve(a)},function(a){h.reject(W(a))}):m&&!J&&n?e?h.resolve(e):h.resolve(n):e?h.resolve(e):h.reject(W(a))}return h.promise},ha=function(a,b,c,d){var e,f=d?u[d]:u,h=H;if(T&&Object.prototype.hasOwnProperty.call(T,c)&&(h=T[c]),f&&Object.prototype.hasOwnProperty.call(f,a)){var i=f[a];"@:"===i.substr(0,2)?e=ha(i.substr(2),b,c,d):(e=h.interpolate(i,b,"filter"),e=ja(a,i,e,b,d))}else{var j;m&&!J&&(j=ba(a,b)),d&&g&&g.length?(l=0,e=fa(a,b,h)):e=m&&!J&&j?j:W(a)}return e},ia=function(a){j===a&&(j=void 0),U[a]=void 0},ja=function(a,c,d,e,f){var g=t;return g&&("string"==typeof g&&(g=b.get(g)),g)?g(a,c,d,e,f):d},ka=function(a){u[a]||!o||U[a]||(U[a]=Y(a).then(function(a){return O(a.key,a.table),a}))};V.preferredLanguage=function(a){return a&&Q(a),e},V.cloakClassName=function(){return y},V.nestedObjectDelimeter=function(){return B},V.fallbackLanguage=function(a){if(void 0!==a&&null!==a){if(R(a),o&&g&&g.length)for(var b=0,c=g.length;b<c;b++)U[g[b]]||(U[g[b]]=Y(g[b]));V.use(V.use())}return h?g[0]:g},V.useFallbackLanguage=function(a){if(void 0!==a&&null!==a)if(a){var b=L(g,a);b>-1&&(G=b)}else G=0},V.proposedLanguage=function(){return j},V.storage=function(){return f},V.negotiateLocale=N,V.use=function(a){if(!a)return i;var b=d.defer();c.$emit("$translateChangeStart",{language:a});var e=N(a);return v.length>0&&!e?d.reject(a):(e&&(a=e),j=a,!A&&u[a]||!o||U[a]?U[a]?U[a].then(function(a){return j===a.key&&X(a.key),b.resolve(a.key),a},function(a){return!i&&g&&g.length>0&&g[0]!==a?V.use(g[0]).then(b.resolve,b.reject):b.reject(a)}):(b.resolve(a),X(a)):(U[a]=Y(a).then(function(c){return O(c.key,c.table),b.resolve(c.key),j===a&&X(c.key),c},function(a){return c.$emit("$translateChangeError",{language:a}),b.reject(a),c.$emit("$translateChangeEnd",{language:a}),d.reject(a)}),U[a].finally(function(){ia(a)})),b.promise)},V.resolveClientLocale=function(){return K()},V.storageKey=function(){return S()},V.isPostCompilingEnabled=function(){return z},V.isForceAsyncReloadEnabled=function(){return A},V.isKeepContent=function(){return D},V.refresh=function(a){function b(){f.resolve(),c.$emit("$translateRefreshEnd",{language:a})}function e(){f.reject(),c.$emit("$translateRefreshEnd",{language:a})}if(!o)throw new Error("Couldn't refresh translation table, no loader registered!");var f=d.defer();if(c.$emit("$translateRefreshStart",{language:a}),a)if(u[a]){var h=function(c){return O(c.key,c.table),a===i&&X(i),b(),c};h.displayName="refreshPostProcessor",Y(a).then(h,e)}else e();else{var j=[],k={};if(g&&g.length)for(var l=0,m=g.length;l<m;l++)j.push(Y(g[l])),k[g[l]]=!0;i&&!k[i]&&j.push(Y(i));var n=function(a){u={},angular.forEach(a,function(a){O(a.key,a.table)}),i&&X(i),b()};n.displayName="refreshPostProcessor",d.all(j).then(n,e)}return f.promise},V.instant=function(a,b,c,d){var f=d&&d!==i?N(d)||d:i;if(null===a||angular.isUndefined(a))return a;if(d&&ka(d),angular.isArray(a)){for(var h={},j=0,k=a.length;j<k;j++)h[a[j]]=V.instant(a[j],b,c,d);return h}if(angular.isString(a)&&a.length<1)return a;a&&(a=M.apply(a));var l,n=[];e&&n.push(e),f&&n.push(f),g&&g.length&&(n=n.concat(g));for(var o=0,p=n.length;o<p;o++){var s=n[o];if(u[s]&&"undefined"!=typeof u[s][a]&&(l=ha(a,b,c,f)),"undefined"!=typeof l)break}return l||""===l||(q||r?l=W(a):(l=H.interpolate(a,b,"filter"),m&&!J&&(l=ba(a,b)))),l},V.versionInfo=function(){return I},V.loaderCache=function(){return s},V.directivePriority=function(){return E},V.statefulFilter=function(){return F},V.isReady=function(){return C};var la=d.defer();la.promise.then(function(){C=!0}),
V.onReady=function(a){var b=d.defer();return angular.isFunction(a)&&b.promise.then(a),C?b.resolve():la.promise.then(b.resolve),b.promise},V.getAvailableLanguageKeys=function(){return v.length>0?v:null};var ma=c.$on("$translateReady",function(){la.resolve(),ma(),ma=null}),na=c.$on("$translateChangeEnd",function(){la.resolve(),na(),na=null});if(o){if(angular.equals(u,{})&&V.use()&&V.use(V.use()),g&&g.length)for(var oa=function(a){return O(a.key,a.table),c.$emit("$translateChangeEnd",{language:a.key}),a},pa=0,qa=g.length;pa<qa;pa++){var ra=g[pa];!A&&u[ra]||(U[ra]=Y(ra).then(oa))}}else c.$emit("$translateReady",{language:V.use()});return V}]}function d(a,b){"use strict";var c,d={},e="default";return d.setLocale=function(a){c=a},d.getInterpolationIdentifier=function(){return e},d.useSanitizeValueStrategy=function(a){return b.useStrategy(a),this},d.interpolate=function(c,d,e){d=d||{},d=b.sanitize(d,"params",void 0,e);var f;return angular.isNumber(c)?f=""+c:angular.isString(c)?(f=a(c)(d),f=b.sanitize(f,"text",void 0,e)):f="",f},d}function e(a,b,c,d,e){"use strict";var g=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:a.directivePriority(),compile:function(h,i){var j=i.translateValues?i.translateValues:void 0,k=i.translateInterpolation?i.translateInterpolation:void 0,l=h[0].outerHTML.match(/translate-value-+/i),m="^(.*)("+b.startSymbol()+".*"+b.endSymbol()+")(.*)",n="^(.*)"+b.startSymbol()+"(.*)"+b.endSymbol()+"(.*)";return function(h,o,p){h.interpolateParams={},h.preText="",h.postText="",h.translateNamespace=f(h);var q={},r=function(a,b,c){if(b.translateValues&&angular.extend(a,d(b.translateValues)(h.$parent)),l)for(var e in c)if(Object.prototype.hasOwnProperty.call(b,e)&&"translateValue"===e.substr(0,14)&&"translateValues"!==e){var f=angular.lowercase(e.substr(14,1))+e.substr(15);a[f]=c[e]}},s=function(a){if(angular.isFunction(s._unwatchOld)&&(s._unwatchOld(),s._unwatchOld=void 0),angular.equals(a,"")||!angular.isDefined(a)){var c=g.apply(o.text()),d=c.match(m);if(angular.isArray(d)){h.preText=d[1],h.postText=d[3],q.translate=b(d[2])(h.$parent);var e=c.match(n);angular.isArray(e)&&e[2]&&e[2].length&&(s._unwatchOld=h.$watch(e[2],function(a){q.translate=a,y()}))}else q.translate=c?c:void 0}else q.translate=a;y()},t=function(a){p.$observe(a,function(b){q[a]=b,y()})};r(h.interpolateParams,p,i);var u=!0;p.$observe("translate",function(a){"undefined"==typeof a?s(""):""===a&&u||(q.translate=a,y()),u=!1});for(var v in p)p.hasOwnProperty(v)&&"translateAttr"===v.substr(0,13)&&v.length>13&&t(v);if(p.$observe("translateDefault",function(a){h.defaultText=a,y()}),j&&p.$observe("translateValues",function(a){a&&h.$parent.$watch(function(){angular.extend(h.interpolateParams,d(a)(h.$parent))})}),l){var w=function(a){p.$observe(a,function(b){var c=angular.lowercase(a.substr(14,1))+a.substr(15);h.interpolateParams[c]=b})};for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&"translateValue"===x.substr(0,14)&&"translateValues"!==x&&w(x)}var y=function(){for(var a in q)q.hasOwnProperty(a)&&void 0!==q[a]&&z(a,q[a],h,h.interpolateParams,h.defaultText,h.translateNamespace)},z=function(b,c,d,e,f,g){c?(g&&"."===c.charAt(0)&&(c=g+c),a(c,e,k,f,d.translateLanguage).then(function(a){A(a,d,!0,b)},function(a){A(a,d,!1,b)})):A(c,d,!1,b)},A=function(b,d,e,f){if(e||"undefined"!=typeof d.defaultText&&(b=d.defaultText),"translate"===f){(e||!e&&!a.isKeepContent()&&"undefined"==typeof p.translateKeepContent)&&o.empty().append(d.preText+b+d.postText);var g=a.isPostCompilingEnabled(),h="undefined"!=typeof i.translateCompile,j=h&&"false"!==i.translateCompile;(g&&!h||j)&&c(o.contents())(d)}else{var k=p.$attr[f];"data-"===k.substr(0,5)&&(k=k.substr(5)),k=k.substr(15),o.attr(k,b)}};(j||l||p.translateDefault)&&h.$watch("interpolateParams",y,!0),h.$on("translateLanguageChanged",y);var B=e.$on("$translateChangeSuccess",y);o.text().length?s(p.translate?p.translate:""):p.translate&&s(p.translate),y(),h.$on("$destroy",B)}}}}function f(a){"use strict";return a.translateNamespace?a.translateNamespace:a.$parent?f(a.$parent):void 0}function g(a,b){"use strict";return{restrict:"A",priority:a.directivePriority(),link:function(c,d,e){var f,g,i={},j=function(){angular.forEach(f,function(b,f){b&&(i[f]=!0,c.translateNamespace&&"."===b.charAt(0)&&(b=c.translateNamespace+b),a(b,g,e.translateInterpolation,void 0,c.translateLanguage).then(function(a){d.attr(f,a)},function(a){d.attr(f,a)}))}),angular.forEach(i,function(a,b){f[b]||(d.removeAttr(b),delete i[b])})};h(c,e.translateAttr,function(a){f=a},j),h(c,e.translateValues,function(a){g=a},j),e.translateValues&&c.$watch(e.translateValues,j,!0),c.$on("translateLanguageChanged",j);var k=b.$on("$translateChangeSuccess",j);j(),c.$on("$destroy",k)}}}function h(a,b,c,d){"use strict";b&&("::"===b.substr(0,2)?b=b.substr(2):a.$watch(b,function(a){c(a),d()},!0),c(a.$eval(b)))}function i(a,b){"use strict";return{compile:function(c){var d=function(){c.addClass(a.cloakClassName())},e=function(){c.removeClass(a.cloakClassName())};return a.onReady(function(){e()}),d(),function(c,f,g){g.translateCloak&&g.translateCloak.length&&(g.$observe("translateCloak",function(b){a(b).then(e,d)}),b.$on("$translateChangeSuccess",function(){a(g.translateCloak).then(e,d)}))}}}}function j(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(a,b,c){a.translateNamespace=f(a),a.translateNamespace&&"."===c.translateNamespace.charAt(0)?a.translateNamespace+=c.translateNamespace:a.translateNamespace=c.translateNamespace}}}}}function f(a){"use strict";return a.translateNamespace?a.translateNamespace:a.$parent?f(a.$parent):void 0}function k(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(a,b,c){c.$observe("translateLanguage",function(b){a.translateLanguage=b}),a.$watch("translateLanguage",function(){a.$broadcast("translateLanguageChanged")})}}}}function l(a,b){"use strict";var c=function(c,d,e,f){return angular.isObject(d)||(d=a(d)(this)),b.instant(c,d,e,f)};return b.statefulFilter()&&(c.$stateful=!0),c}function m(a){"use strict";return a("translations")}return a.$inject=["$translate"],c.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],d.$inject=["$interpolate","$translateSanitization"],e.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],g.$inject=["$translate","$rootScope"],i.$inject=["$translate","$rootScope"],l.$inject=["$parse","$translate"],m.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(a),a.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",b),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",c),c.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",d),d.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",e),e.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",g),g.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",i),i.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",j),j.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",k),k.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",l),l.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",m),m.displayName="$translationCache","pascalprecht.translate"}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return R(new(R(function(){},{prototype:a})),b)}function e(a){return Q(arguments,function(b){b!==a&&Q(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return Q(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=d<0?Math.ceil(d):Math.floor(d),d<0&&(d+=c);d<c;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l]&&i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return R({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return Q(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return Q(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)h(c,d)==-1&&(b[d]=a[d]);return b}function n(a,b){var c=P(a),d=c?[]:{};return Q(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=P(a)?[]:{};return Q(a,function(a,d){c[d]=b(a,d)}),c}function p(a,b){var d=1,f=2,i={},j=[],k=i,l=R(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,N(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);Q(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return O(a)&&a.then&&a.$$promises}if(!O(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return Q(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!L(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;Q(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!O(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=l;var n=a.defer(),r=n.promise,s=r.$$promises={},t=R({},d),u=1+q.length/3,v=!1;if(L(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,m(f.$$inheritedValues,p)),R(s,f.$$promises),f.$$values?(v=e(t,m(f.$$values,p)),r.$$inheritedValues=m(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=m(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;w<x;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function q(a,b,c){this.fromConfig=function(a,b,c){return L(a.template)?this.fromString(a.template,b):L(a.templateUrl)?this.fromUrl(a.templateUrl,b):L(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return M(a)?a(b):a},this.fromUrl=function(c,d){return M(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function r(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new U.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:f=f.replace(/\/$/,""),e=["(?:/(",")|/)?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),h&&(j=U.type(h)||d(U.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)})),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=R({params:{}},O(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new U.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function s(a){R(this,a)}function t(){function a(a){return null!=a?a.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):a}function e(a){return null!=a?a.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return M(a)||P(a)&&M(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(u[a.name],l.invoke(a.def))}}function k(a){R(this,a||{})}U=this;var l,m=!1,p=!0,q=!1,u={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!L(a)||"string"==typeof a},pattern:/[^\/]*/},int:{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return L(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};t.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return L(a)&&(m=a),m},this.strictMode=function(a){return L(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!L(a))return q;if(a!==!0&&a!==!1&&!N(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return q=a,a},this.compile=function(a,b){return new r(a,R(f(),b))},this.isMatcher=function(a){if(!O(a))return!1;var b=!0;return Q(r.prototype,function(c,d){M(c)&&(b=b&&L(a[d])&&M(a[d]))}),b},this.type=function(a,b,c){if(!L(b))return u[a];if(u.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return u[a]=new s(R({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},Q(x,function(a,b){u[b]=new s(R({name:b},a))}),u=d(u,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),Q(x,function(a,b){u[b]||(u[b]=new s(a))}),this}],this.Param=function(a,d,e,f){function j(a){var b=O(a)?g(a):[],c=h(b,"value")===-1&&h(b,"type")===-1&&h(b,"squash")===-1&&h(b,"array")===-1;return c&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}function k(c,d,e){if(c.type&&d)throw new Error("Param '"+a+"' has two type configurations.");return d?d:c.type?b.isString(c.type)?u[c.type]:c.type instanceof s?c.type:new s(c.type):"config"===e?u.any:u.string}function m(){var b={array:"search"===f&&"auto"},c=a.match(/\[\]$/)?{array:!0}:{};return R(b,c,e).array}function p(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!L(c)||null==c)return q;if(c===!0||N(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function r(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=P(a.replace)?a.replace:[],N(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return h(g,a.from)===-1}).concat(f)}function t(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(e.$$fn);if(null!==a&&a!==c&&!x.type.is(a))throw new Error("Default value ("+a+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return a}function v(a){function b(a){return function(b){return b.from===a}}function c(a){var c=o(n(x.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),L(a)?x.type.$normalize(a):t()}function w(){return"{Param:"+a+" "+d+" squash: '"+A+"' optional: "+z+"}"}var x=this;e=j(e),d=k(e,d,f);var y=m();d=y?d.$asArray(y,"search"===f):d,"string"!==d.name||y||"path"!==f||e.value!==c||(e.value="");var z=e.value!==c,A=p(e,z),B=r(e,y,z,A);R(this,{id:a,type:d,location:f,array:y,squash:A,replace:B,isOptional:z,value:v,dynamic:c,config:e,toString:w})},k.prototype={$$new:function(){return d(this,R(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),Q(b,function(b){Q(g(b),function(b){h(a,b)===-1&&h(d,b)===-1&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return Q(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return Q(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],f=a[i[d]],f!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function u(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return!L(d)||d}function h(d,e,f,g,h){function m(a,b,c){return"/"===q?a:b?q.slice(0,-1)+a:c?q.slice(1)+a:a}function n(a){function b(a){var b=a(f,d);return!!b&&(N(b)&&d.replace().url(b),!0)}if(!a||!a.defaultPrevented){p&&d.url()===p;p=c;var e,g=j.length;for(e=0;e<g;e++)if(b(j[e]))return;k&&b(k)}}function o(){return i=i||e.$on("$locationChangeSuccess",n)}var p,q=g.baseHref(),r=d.url();return l||o(),{sync:function(){n()},listen:function(){return o()},update:function(a){return a?void(r=d.url()):void(d.url()!==r&&(d.url(r),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),p=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled),g=g&&h.history;var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=m(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!M(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(N(a)){var b=a;a=function(){return b}}else if(!M(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=N(b);if(N(a)&&(a=d.compile(a)),!h&&!M(b)&&!P(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),R(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:N(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),R(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function v(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function m(a,b){if(!a)return c;var d=N(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=m(b);for(var h=e.split("."),i=0,j=h.length,k=b;i<j;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=z[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function n(a,b){A[a]||(A[a]=[]),A[a].push(b)}function p(a){for(var b=A[a]||[];b.length;)q(b.shift())}function q(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!N(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(z.hasOwnProperty(c))throw new Error("State '"+c+"' is already defined");var e=c.indexOf(".")!==-1?c.substring(0,c.lastIndexOf(".")):N(b.parent)?b.parent:O(b.parent)&&N(b.parent.name)?b.parent.name:"";if(e&&!z[e])return n(e,b.self);for(var f in C)M(C[f])&&(b[f]=C[f](b,C.$delegates[f]));return z[c]=b,!b[B]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){y.$current.navigable==b&&j(a,c)||y.transitionTo(b,a,{inherit:!0,location:!1})}]),p(c),b}function r(a){return a.indexOf("*")>-1}function s(a){for(var b=a.split("."),c=y.$current.name.split("."),d=0,e=b.length;d<e;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length==c.length&&c.join("")===b.join("")}function t(a,b){return N(a)&&!L(b)?C[a]:M(b)&&N(a)?(C[a]&&!C.$delegates[a]&&(C.$delegates[a]=C[a]),C[a]=b,this):this}function u(a,b){return O(a)?b=a:b.name=a,q(b),this}function v(a,e,f,h,l,n,p,q,t){function u(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),D;if(!g.retry)return null;if(f.$retry)return p.update(),E;var h=y.transition=e.when(g.retry);return h.then(function(){return h!==y.transition?A:(b.options.$retry=!0,y.transitionTo(b.to,b.toParams,b.options))},function(){return D}),p.update(),h}function v(a,c,d,g,i,j){function m(){var c=[];return Q(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:j.notify})||""}],c.push(l.resolve(g,i.globals,i.resolve,a).then(function(c){if(M(d.controllerProvider)||P(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=l.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var A=e.reject(new Error("transition superseded")),C=e.reject(new Error("transition prevented")),D=e.reject(new Error("transition aborted")),E=e.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},y={params:{},current:x.self,$current:x,transition:null},y.reload=function(a){return y.transitionTo(y.current,n,{reload:a||!0,inherit:!1,notify:!0})},y.go=function(a,b,c){return y.transitionTo(a,b,R({inherit:!0,relative:y.$current},c))},y.transitionTo=function(b,c,f){c=c||{},f=R({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=y.$current,l=y.params,o=j.path,q=m(b,f.relative),r=c["#"];if(!L(q)){var s={to:b,toParams:c,options:f},t=u(s,j.self,l,f);if(t)return t;if(b=s.to,c=s.toParams,f=s.options,q=m(b,f.relative),!L(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[B])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(n,c||{},y.$current,q)),!q.params.$$validates(c))return E;c=q.params.$$values(c),b=q;var z=b.path,D=0,F=z[D],G=x.locals,H=[];if(f.reload){if(N(f.reload)||O(f.reload)){if(O(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var I=f.reload===!0?o[0]:m(f.reload);if(f.reload&&!I)throw new Error("No such reload state '"+(N(f.reload)?f.reload:f.reload.name)+"'");for(;F&&F===o[D]&&F!==I;)G=H[D]=F.locals,D++,F=z[D]}}else for(;F&&F===o[D]&&F.ownParams.$$equals(c,l);)G=H[D]=F.locals,D++,F=z[D];if(w(b,c,j,l,G,f))return r&&(c["#"]=r),y.params=c,S(y.params,n),S(k(b.params.$$keys(),n),b.locals.globals.$stateParams),f.location&&b.navigable&&b.navigable.url&&(p.push(b.navigable.url,c,{$$avoidResync:!0,replace:"replace"===f.location}),p.update(!0)),y.transition=null,e.when(y.current);if(c=k(b.params.$$keys(),c||{}),r&&(c["#"]=r),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,l,f).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),null==y.transition&&p.update(),C;for(var J=e.when(G),K=D;K<z.length;K++,F=z[K])G=H[K]=d(G),J=v(F,c,F===b,J,G,f);var M=y.transition=J.then(function(){var d,e,g;if(y.transition!==M)return A;for(d=o.length-1;d>=D;d--)g=o[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<z.length;d++)e=z[d],e.locals=H[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return y.transition!==M?A:(y.$current=b,y.current=b.self,y.params=c,S(y.params,n),y.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,l),p.update(!0),y.current)},function(d){return y.transition!==M?A:(y.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,l,d),g.defaultPrevented||p.update(),e.reject(d))});return M},y.is=function(a,b,d){d=R({relative:y.$current},d||{});var e=m(a,d.relative);return L(e)?y.$current===e&&(!b||j(e.params.$$values(b),n)):c},y.includes=function(a,b,d){if(d=R({relative:y.$current},d||{}),N(a)&&r(a)){if(!s(a))return!1;a=y.$current.name}var e=m(a,d.relative);return L(e)?!!L(y.$current.includes[e.name])&&(!b||j(e.params.$$values(b),n,g(b))):c},y.href=function(a,b,d){d=R({lossy:!0,inherit:!0,absolute:!1,relative:y.$current},d||{});var e=m(a,d.relative);if(!L(e))return null;d.inherit&&(b=i(n,b||{},y.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},y.get=function(a,b){if(0===arguments.length)return o(g(z),function(a){return z[a].self});var c=m(a,b||y.$current);return c&&c.self?c.self:null},y}function w(a,b,c,d,e,f){function g(a,b,c){function d(b){return"search"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e)),g=new U.ParamSet(f);return g.$$equals(b,c)}if(!f.reload&&a===c&&(e===c.locals||a.self.reloadOnSearch===!1&&g(c,d,b)))return!0}var x,y,z={},A={},B="abstract",C={parent:function(a){if(L(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?m(b[1]):x},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=d(a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(N(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||x).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new U.ParamSet;return Q(a.params||{},function(a,c){b[c]||(b[c]=new U.Param(c,null,a,"config"))}),b},params:function(a){var b=l(a.ownParams,a.ownParams.$$keys());return a.parent&&a.parent.params?R(a.parent.params.$$new(),b):new U.ParamSet},views:function(a){var b={};return Q(L(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?R({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};x=q({name:"",url:"^",views:null,abstract:!0}),x.navigable=null,this.decorator=t,this.state=u,this.$get=v,v.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function a(a,b){return{load:function(a,c){var d,e={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return c=R(e,c),c.view&&(d=b.fromConfig(c.view,c.params,c.locals)),d}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function x(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function y(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(a){return null}}}function g(a,c){function d(a){return 1===V&&W>=4?!!j.enabled(a):1===V&&W>=2?!!j.enabled():!!i}var e={enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}};if(a.noanimation)return e;if(j)return{enter:function(a,c,f){d(a)?b.version.minor>2?j.enter(a,null,c).then(f):j.enter(a,null,c,f):e.enter(a,c,f)},leave:function(a,c){d(a)?b.version.minor>2?j.leave(a).then(c):j.leave(a,c):e.leave(a,c)}};if(i){var f=i&&i(c,a);return{enter:function(a,b,c){f.enter(a,null,b),c()},leave:function(a,b){f.leave(a),b()}}}return e}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){function a(){b&&b.remove(),c&&c.$destroy()}var b=l,c=n;c&&(c._willBeDestroyed=!0),m?(r.leave(m,function(){a(),l=null}),l=m):(a(),l=null),m=null,n=null}function k(g){var k,l=A(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if((g||s!==o)&&!c._willBeDestroyed){k=c.$new(),o=a.$current.locals[l],k.$emit("$viewContentLoading",l);var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded",l),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),k(!0)}}};return k}function z(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=A(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e,k.$element=g;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function A(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function B(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");
return{state:c[1],paramExpr:c[3]||null}}function C(a){var b=a.parent().inheritedData("$uiView");if(b&&b.state&&b.state.name)return b.state}function D(a){var b="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href")),c="FORM"===a[0].nodeName;return{attr:c?"action":b?"xlink:href":"href",isAnchor:"A"===a.prop("tagName").toUpperCase(),clickable:!c}}function E(a,b,c,d,e){return function(f){var g=f.which||f.button,h=e();if(!(g>1||f.ctrlKey||f.metaKey||f.shiftKey||a.attr("target"))){var i=c(function(){b.go(h.state,h.params,h.options)});f.preventDefault();var j=d.isAnchor&&!h.href?1:0;f.preventDefault=function(){j--<=0&&c.cancel(i)}}}}function F(a,b){return{relative:C(a)||b.$current,inherit:!0}}function G(a,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,e,f,g){var h=B(f.uiSref,a.current.name),i={state:h.state,href:null,params:null},j=D(e),k=g[1]||g[0];i.options=R(F(e,a),f.uiSrefOpts?d.$eval(f.uiSrefOpts):{});var l=function(c){c&&(i.params=b.copy(c)),i.href=a.href(h.state,i.params,i.options),k&&k.$$addStateInfo(h.state,i.params),null!==i.href&&f.$set(j.attr,i.href)};h.paramExpr&&(d.$watch(h.paramExpr,function(a){a!==i.params&&l(a)},!0),i.params=b.copy(d.$eval(h.paramExpr))),l(),j.clickable&&e.bind("click",E(e,a,c,j,function(){return i}))}}}function H(a,b){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(c,d,e,f){function g(b){l.state=b[0],l.params=b[1],l.options=b[2],l.href=a.href(l.state,l.params,l.options),i&&i.$$addStateInfo(l.state,l.params),l.href&&e.$set(h.attr,l.href)}var h=D(d),i=f[1]||f[0],j=[e.uiState,e.uiStateParams||null,e.uiStateOpts||null],k="["+j.map(function(a){return a||"null"}).join(", ")+"]",l={state:null,params:null,options:null,href:null};c.$watch(k,g,!0),g(c.$eval(k)),h.clickable&&d.bind("click",E(d,a,b,h,function(){return l}))}}}function I(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(b,d,e,f){function g(b,c,e){var f=a.get(b,C(d)),g=h(b,c);p.push({state:f||{name:b},params:c,hash:g}),q[g]=e}function h(a,c){if(!N(a))throw new Error("state should be a string");return O(c)?a+T(c):(c=b.$eval(c),O(c)?a+T(c):a)}function i(){for(var a=0;a<p.length;a++)l(p[a].state,p[a].params)?j(d,q[p[a].hash]):k(d,q[p[a].hash]),m(p[a].state,p[a].params)?j(d,n):k(d,n)}function j(a,b){f(function(){a.addClass(b)})}function k(a,b){a.removeClass(b)}function l(b,c){return a.includes(b.name,c)}function m(b,c){return a.is(b.name,c)}var n,o,p=[],q={};n=c(e.uiSrefActiveEq||"",!1)(b);try{o=b.$eval(e.uiSrefActive)}catch(a){}o=o||c(e.uiSrefActive||"",!1)(b),O(o)&&Q(o,function(c,d){if(N(c)){var e=B(c,a.current.name);g(e.state,b.$eval(e.paramExpr),d)}}),this.$$addStateInfo=function(a,b){O(o)&&p.length>0||(g(a,b,o),i())},b.$on("$stateChangeSuccess",i),i()}]}}function J(a){var b=function(b,c){return a.is(b,c)};return b.$stateful=!0,b}function K(a){var b=function(b,c,d){return a.includes(b,c,d)};return b.$stateful=!0,b}var L=b.isDefined,M=b.isFunction,N=b.isString,O=b.isObject,P=b.isArray,Q=b.forEach,R=b.extend,S=b.copy,T=b.toJson;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",p),q.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",q);var U;r.prototype.concat=function(a,b){var c={caseInsensitive:U.caseInsensitive(),strict:U.strictMode(),squash:U.defaultSquashPolicy()};return new r(this.sourcePath+a+this.sourceSearch,R(c,b),this)},r.prototype.toString=function(){return this.source},r.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/),e=o(d,b);return o(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var l,m;for(e=0;e<j;e++){for(g=h[e],l=this.params[g],m=d[e+1],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),L(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}for(;e<i;e++){for(g=h[e],k[g]=this.params[g].value(b[g]),l=this.params[g],m=b[g],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);L(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}return k},r.prototype.parameters=function(a){return L(a)?this.params[a]||null:this.$$paramNames},r.prototype.validates=function(a){return this.params.$$validates(a)},r.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;f<i;f++){var k=f<h,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=!!p&&m.squash,r=m.type.encode(n);if(k){var s=c[f+1],t=f+1===h;if(q===!1)null!=r&&(j+=P(r)?o(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var u=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(u)[1]}else N(q)&&(j+=q+s);t&&m.squash===!0&&"/"===j.slice(-1)&&(j=j.slice(0,-1))}else{if(null==r||p&&q!==!1)continue;if(P(r)||(r=[r]),0===r.length)continue;r=o(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},s.prototype.is=function(a,b){return!0},s.prototype.encode=function(a,b){return a},s.prototype.decode=function(a,b){return a},s.prototype.equals=function(a,b){return a==b},s.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},s.prototype.pattern=/.*/,s.prototype.toString=function(){return"{Type:"+this.name+"}"},s.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},s.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return P(a)?a:L(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){if(P(c)&&0===c.length)return c;c=e(c);var d=o(c,a);return b===!0?0===n(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",t),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),u.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",u),v.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",v),w.$inject=[],b.module("ui.router.state").provider("$view",w),b.module("ui.router.state").provider("$uiViewScroll",x);var V=b.version.major,W=b.version.minor;y.$inject=["$state","$injector","$uiViewScroll","$interpolate"],z.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",y),b.module("ui.router.state").directive("uiView",z),G.$inject=["$state","$timeout"],H.$inject=["$state","$timeout"],I.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",G).directive("uiSrefActive",I).directive("uiSrefActiveEq",I).directive("uiState",H),J.$inject=["$state"],K.$inject=["$state"],b.module("ui.router.state").filter("isState",J).filter("includedByState",K)}(window,window.angular),angular.module("xeditable",[]).value("editableOptions",{theme:"default",icon_set:"default",buttons:"right",blurElem:"cancel",blurForm:"ignore",activate:"focus",isDisabled:!1,activationEvent:"click",submitButtonTitle:"Submit",submitButtonAriaLabel:"Submit",cancelButtonTitle:"Cancel",cancelButtonAriaLabel:"Cancel",clearButtonTitle:"Clear",clearButtonAriaLabel:"Clear",displayClearButton:!1}),angular.module("xeditable").directive("editableBsdate",["editableDirectiveFactory",function(a){return a({directiveName:"editableBsdate",inputTpl:"<div></div>",render:function(){this.parent.render.call(this);var a=angular.element('<input type="text" class="form-control" data-ng-model="$parent.$data"/>');a.attr("uib-datepicker-popup",this.attrs.eDatepickerPopupXEditable||"yyyy/MM/dd"),a.attr("is-open",this.attrs.eIsOpen),a.attr("date-disabled",this.attrs.eDateDisabled),a.attr("uib-datepicker-popup",this.attrs.eDatepickerPopup),a.attr("year-range",this.attrs.eYearRange||20),a.attr("show-button-bar",this.attrs.eShowButtonBar||!0),a.attr("current-text",this.attrs.eCurrentText||"Today"),a.attr("clear-text",this.attrs.eClearText||"Clear"),a.attr("close-text",this.attrs.eCloseText||"Done"),a.attr("close-on-date-selection",this.attrs.eCloseOnDateSelection||!0),a.attr("datepicker-append-to-body",this.attrs.eDatePickerAppendToBody||!1),a.attr("date-disabled",this.attrs.eDateDisabled),a.attr("name",this.attrs.eName),a.attr("on-open-focus",this.attrs.eOnOpenFocus||!0),a.attr("ng-readonly",this.attrs.eReadonly||!1),this.attrs.eNgChange&&(a.attr("ng-change",this.attrs.eNgChange),this.inputEl.removeAttr("ng-change")),this.attrs.eStyle&&(a.attr("style",this.attrs.eStyle),this.inputEl.removeAttr("style")),this.scope.dateOptions={formatDay:this.attrs.eFormatDay||"dd",formatMonth:this.attrs.eFormatMonth||"MMMM",formatYear:this.attrs.eFormatYear||"yyyy",formatDayHeader:this.attrs.eFormatDayHeader||"EEE",formatDayTitle:this.attrs.eFormatDayTitle||"MMMM yyyy",formatMonthTitle:this.attrs.eFormatMonthTitle||"yyyy",showWeeks:!this.attrs.eShowWeeks||"true"===this.attrs.eShowWeeks.toLowerCase(),startingDay:this.attrs.eStartingDay||0,minMode:this.attrs.eMinMode||"day",maxMode:this.attrs.eMaxMode||"year",initDate:this.scope.$eval(this.attrs.eInitDate)||new Date,datepickerMode:this.attrs.eDatepickerMode||"day",maxDate:this.scope.$eval(this.attrs.eMaxDate)||null,minDate:this.scope.$eval(this.attrs.eMinDate)||null};var b=angular.isDefined(this.attrs.eShowCalendarButton)?this.attrs.eShowCalendarButton:"true";if("true"===b){var c=angular.element('<button type="button" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button>'),d=angular.element('<span class="input-group-btn"></span>');c.attr("ng-click",this.attrs.eNgClick),d.append(c),this.inputEl.append(d)}else a.attr("ng-click",this.attrs.eNgClick);a.attr("datepicker-options","dateOptions"),this.inputEl.prepend(a),this.inputEl.removeAttr("class"),this.inputEl.removeAttr("ng-click"),this.inputEl.removeAttr("is-open"),this.inputEl.removeAttr("init-date"),this.inputEl.removeAttr("datepicker-popup"),this.inputEl.removeAttr("required"),this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("date-picker-append-to-body"),this.inputEl.removeAttr("name"),this.inputEl.attr("class","input-group")}})}]),angular.module("xeditable").directive("editableBstime",["editableDirectiveFactory",function(a){return a({directiveName:"editableBstime",inputTpl:"<uib-timepicker></uib-timepicker>",render:function(){this.parent.render.call(this);var a=angular.element('<div class="well well-small" style="display:inline-block;"></div>');a.attr("ng-model",this.inputEl.attr("ng-model")),this.inputEl.removeAttr("ng-model"),this.attrs.eNgChange&&(a.attr("ng-change",this.inputEl.attr("ng-change")),this.inputEl.removeAttr("ng-change")),this.inputEl.wrap(a)}})}]),angular.module("xeditable").directive("editableCheckbox",["editableDirectiveFactory",function(a){return a({directiveName:"editableCheckbox",inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this),this.attrs.eTitle&&(this.inputEl.wrap("<label></label>"),this.inputEl.parent().append("<span>"+this.attrs.eTitle+"</span>"))},autosubmit:function(){var a=this;a.inputEl.bind("change",function(){setTimeout(function(){a.scope.$apply(function(){a.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableChecklist",["editableDirectiveFactory","editableNgOptionsParser",function(a,b){return a({directiveName:"editableChecklist",inputTpl:"<span></span>",useCopy:!0,render:function(){this.parent.render.call(this);var a=b(this.attrs.eNgOptions),c='<label ng-repeat="'+a.ngRepeat+'"><input type="checkbox" checklist-model="$parent.$parent.$data" checklist-value="'+a.locals.valueFn+'"><span ng-bind="'+a.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(c)}})}]),angular.module("xeditable").directive("editableCombodate",["editableDirectiveFactory","editableCombodate",function(a,b){return a({directiveName:"editableCombodate",inputTpl:'<input type="text">',render:function(){this.parent.render.call(this);var a={value:new Date(this.scope.$data)},c=this;angular.forEach(["format","template","minYear","maxYear","yearDescending","minuteStep","secondStep","firstItem","errorClass","customClass","roundTime","smartDays"],function(b){var d="e"+b.charAt(0).toUpperCase()+b.slice(1);d in c.attrs&&(a[b]=c.attrs[d])});var d=b.getInstance(this.inputEl,a);d.$widget.find("select").bind("change",function(a){c.scope.$data=new Date(d.getValue()).toISOString()})}})}]),function(){var a=function(a){return a.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()})},b="text|password|email|tel|number|url|search|color|date|datetime|datetime-local|time|month|week|file".split("|");angular.forEach(b,function(b){var c=a("editable-"+b);angular.module("xeditable").directive(c,["editableDirectiveFactory",function(a){return a({directiveName:c,inputTpl:'<input type="'+b+'">',render:function(){if(this.parent.render.call(this),this.attrs.eInputgroupleft||this.attrs.eInputgroupright){if(this.inputEl.wrap('<div class="input-group"></div>'),this.attrs.eInputgroupleft){var a=angular.element('<span class="input-group-addon">'+this.attrs.eInputgroupleft+"</span>");this.inputEl.parent().prepend(a)}if(this.attrs.eInputgroupright){var b=angular.element('<span class="input-group-addon">'+this.attrs.eInputgroupright+"</span>");this.inputEl.parent().append(b)}}if(this.attrs.eLabel){var c=angular.element("<label>"+this.attrs.eLabel+"</label>");this.attrs.eInputgroupleft||this.attrs.eInputgroupright?this.inputEl.parent().parent().prepend(c):this.inputEl.parent().prepend(c)}this.attrs.eFormclass&&this.editorEl.addClass(this.attrs.eFormclass)}})}])}),angular.module("xeditable").directive("editableRange",["editableDirectiveFactory",function(a){return a({directiveName:"editableRange",inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this),this.inputEl.after("<output>{{$data}}</output>")}})}])}(),angular.module("xeditable").directive("editableTagsInput",["editableDirectiveFactory","editableUtils",function(a,b){var c=function(a){for(var b=0,c=d.length;b<c;b++)if(d[b].name===a)return b},d=[],e=a({directiveName:"editableTagsInput",inputTpl:"<tags-input></tags-input>",render:function(){var a=c(this.name);this.parent.render.call(this),this.inputEl.append(b.rename("auto-complete",d[a].element)),this.inputEl.removeAttr("ng-model"),this.inputEl.attr("ng-model","$parent.$data")}}),f=e.link;return e.link=function(a,b,c,e){var g=b.find("editable-tags-input-auto-complete");return d.push({name:c.name||c.editableTagsInput,element:g.clone()}),g.remove(),f(a,b,c,e)},e}]),angular.module("xeditable").directive("editableRadiolist",["editableDirectiveFactory","editableNgOptionsParser",function(a,b){return a({directiveName:"editableRadiolist",inputTpl:"<span></span>",render:function(){this.parent.render.call(this);var a=b(this.attrs.eNgOptions),c='<label data-ng-repeat="'+a.ngRepeat+'"><input type="radio" data-ng-disabled="::'+this.attrs.eNgDisabled+'" data-ng-model="$parent.$parent.$data" data-ng-value="{{::'+a.locals.valueFn+'}}"><span data-ng-bind="::'+a.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(c)},autosubmit:function(){var a=this;a.inputEl.bind("change",function(){setTimeout(function(){a.scope.$apply(function(){a.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableSelect",["editableDirectiveFactory",function(a){return a({directiveName:"editableSelect",inputTpl:"<select></select>",render:function(){if(this.parent.render.call(this),this.attrs.ePlaceholder){var a=angular.element('<option value="">'+this.attrs.ePlaceholder+"</option>");this.inputEl.append(a)}},autosubmit:function(){var a=this;a.inputEl.bind("change",function(){a.scope.$apply(function(){a.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableTextarea",["editableDirectiveFactory",function(a){return a({directiveName:"editableTextarea",inputTpl:"<textarea></textarea>",addListeners:function(){var a=this;a.parent.addListeners.call(a),a.single&&"no"!==a.buttons&&a.autosubmit()},autosubmit:function(){var a=this;a.inputEl.bind("keydown",function(b){(b.ctrlKey||b.metaKey)&&13===b.keyCode&&a.scope.$apply(function(){a.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableUiSelect",["editableDirectiveFactory","editableUtils",function(a,b){var c=function(a){for(var b=0,c=d.length;b<c;b++)if(d[b].name===a)return b},d=[],e=[],f=a({directiveName:"editableUiSelect",inputTpl:"<ui-select></ui-select>",render:function(){var a=c(this.name);this.parent.render.call(this),this.inputEl.append(b.rename("ui-select-match",d[a].element)),this.inputEl.append(b.rename("ui-select-choices",e[a].element)),this.inputEl.removeAttr("ng-model"),this.inputEl.attr("ng-model","$parent.$parent.$data")}}),g=f.link;return f.link=function(a,b,c,f){var h=b.find("editable-ui-select-match"),i=b.find("editable-ui-select-choices");return d.push({name:c.name||c.editableUiSelect,element:h.clone()}),e.push({name:c.name||c.editableUiSelect,element:i.clone()}),h.remove(),i.remove(),g(a,b,c,f)},f}]),angular.module("xeditable").factory("editableController",["$q","editableUtils",function(a,b){function c(a,c,d,e,f,g,h,i,j,k){var l,m,n=this;n.scope=a,n.elem=d,n.attrs=c,n.inputEl=null,n.editorEl=null,n.single=!0,n.error="",n.theme=f[c.editableTheme]||f[h.theme]||f.default,n.parent={},n.icon_set="default"===h.icon_set?g.default[h.theme]:g.external[h.icon_set],n.inputTpl="",n.directiveName="",n.useCopy=!1,n.single=null,n.buttons="right",n.init=function(b){if(n.single=b,n.name=c.eName||c[n.directiveName],!c[n.directiveName])throw"You should provide value for `"+n.directiveName+"` in editable element!";l=e(c[n.directiveName]),n.single?n.buttons=n.attrs.buttons||h.buttons:n.buttons="no",c.eName&&n.scope.$watch("$data",function(a){n.scope.$form.$data[c.eName]=a}),c.onshow&&(n.onshow=function(){return n.catchError(e(c.onshow)(a))}),c.onhide&&(n.onhide=function(){return e(c.onhide)(a)}),c.oncancel&&(n.oncancel=function(){return e(c.oncancel)(a)}),c.onbeforesave&&(n.onbeforesave=function(){return n.catchError(e(c.onbeforesave)(a))}),c.onaftersave&&(n.onaftersave=function(){return n.catchError(e(c.onaftersave)(a))}),a.$parent.$watch(c[n.directiveName],function(a,b){n.setLocalValue(),n.handleEmpty()})},n.render=function(){var a=n.theme;n.inputEl=angular.element(n.inputTpl),n.controlsEl=angular.element(a.controlsTpl),n.controlsEl.append(n.inputEl),"no"!==n.buttons&&(n.buttonsEl=angular.element(a.buttonsTpl),n.submitEl=angular.element(a.submitTpl),n.resetEl=angular.element(a.resetTpl),n.cancelEl=angular.element(a.cancelTpl),n.submitEl.attr("title",h.submitButtonTitle),n.submitEl.attr("aria-label",h.submitButtonAriaLabel),n.cancelEl.attr("title",h.cancelButtonTitle),n.cancelEl.attr("aria-label",h.cancelButtonAriaLabel),n.resetEl.attr("title",h.clearButtonTitle),n.resetEl.attr("aria-label",h.clearButtonAriaLabel),n.icon_set&&(n.submitEl.find("span").addClass(n.icon_set.ok),n.cancelEl.find("span").addClass(n.icon_set.cancel),n.resetEl.find("span").addClass(n.icon_set.clear)),n.buttonsEl.append(n.submitEl).append(n.cancelEl),h.displayClearButton&&n.buttonsEl.append(n.resetEl),n.controlsEl.append(n.buttonsEl),n.inputEl.addClass("editable-has-buttons")),n.errorEl=angular.element(a.errorTpl),n.controlsEl.append(n.errorEl),n.editorEl=angular.element(n.single?a.formTpl:a.noformTpl),n.editorEl.append(n.controlsEl);for(var d in c.$attr)if(!(d.length<=1)){var e=!1,f=d.substring(1,2);if("e"===d.substring(0,1)&&f===f.toUpperCase()&&(e=d.substring(1),"Form"!==e&&"NgSubmit"!==e)){e=e.substring(0,1).toLowerCase()+b.camelToDash(e.substring(1));var g="value"!==e&&""===c[d]?e:c[d];n.inputEl.attr(e,g)}}n.inputEl.addClass("editable-input"),n.inputEl.attr("ng-model","$parent.$data"),n.editorEl.addClass(b.camelToDash(n.directiveName)),n.single&&(n.editorEl.attr("editable-form","$form"),n.editorEl.attr("blur",n.attrs.blur||("no"===n.buttons?"cancel":h.blurElem))),angular.isFunction(a.postrender)&&a.postrender.call(n)},n.setLocalValue=function(){n.scope.$data=n.useCopy?angular.copy(l(a.$parent)):l(a.$parent)};var o=null;n.show=function(){return n.setLocalValue(),n.render(),d.after(n.editorEl),o=a.$new(),j(n.editorEl)(o),n.addListeners(),d.addClass("editable-hide"),n.onshow()},n.hide=function(){return o.$destroy(),n.controlsEl.remove(),n.editorEl.remove(),d.removeClass("editable-hide"),n.onhide()},n.cancel=function(){n.oncancel()},n.addListeners=function(){n.inputEl.bind("keyup",function(a){if(n.single)switch(a.keyCode){case 27:n.scope.$apply(function(){n.scope.$form.$cancel()})}}),n.single&&"no"===n.buttons&&n.autosubmit(),n.editorEl.bind("click",function(a){a.which&&1!==a.which||n.scope.$form.$visible&&(n.scope.$form._clicked=!0)})},n.setWaiting=function(a){a?(m=!n.inputEl.attr("disabled")&&!n.inputEl.attr("ng-disabled")&&!n.inputEl.attr("ng-enabled"),m&&(n.inputEl.attr("disabled","disabled"),n.buttonsEl&&n.buttonsEl.find("button").attr("disabled","disabled"))):m&&(n.inputEl.removeAttr("disabled"),n.buttonsEl&&n.buttonsEl.find("button").removeAttr("disabled"))},n.activate=function(a,b){setTimeout(function(){var c=n.inputEl[0];"focus"===h.activate&&c.focus&&(a&&(b=b||a,c.onfocus=function(){var c=this;setTimeout(function(){c.setSelectionRange(a,b)})}),c.focus()),"select"===h.activate&&c.select&&c.select()},0)},n.setError=function(b){angular.isObject(b)||(a.$error=b,n.error=b)},n.catchError=function(a,b){return angular.isObject(a)&&b!==!0?k.when(a).then(angular.bind(this,function(a){this.catchError(a,!0)}),angular.bind(this,function(a){this.catchError(a,!0)})):b&&angular.isObject(a)&&a.status&&200!==a.status&&a.data&&angular.isString(a.data)?(this.setError(a.data),a=a.data):angular.isString(a)&&this.setError(a),a},n.save=function(){l.assign(a.$parent,n.useCopy?angular.copy(n.scope.$data):n.scope.$data)},n.handleEmpty=function(){var b=l(a.$parent),c=null===b||void 0===b||""===b||angular.isArray(b)&&0===b.length;d.toggleClass("editable-empty",c)},n.autosubmit=angular.noop,n.onshow=angular.noop,n.onhide=angular.noop,n.oncancel=angular.noop,n.onbeforesave=angular.noop,n.onaftersave=angular.noop}return c.$inject=["$scope","$attrs","$element","$parse","editableThemes","editableIcons","editableOptions","$rootScope","$compile","$q"],c}]),angular.module("xeditable").factory("editableDirectiveFactory",["$parse","$compile","editableThemes","$rootScope","$document","editableController","editableFormController","editableOptions",function(a,b,c,d,e,f,g,h){return function(b){return{restrict:"A",scope:!0,require:[b.directiveName,"?^form"],controller:f,link:function(c,f,i,j){var k,l=j[0],m=!1;if(j[1])k=j[1],m=void 0===i.eSingle;else if(i.eForm){var n=a(i.eForm)(c);if(n)k=n,m=!0;else if(f&&"function"==typeof f.parents&&f.parents().last().find("form[name="+i.eForm+"]").length)k=null,m=!0;else for(var o=0;o<e[0].forms.length;o++)if(e[0].forms[o].name===i.eForm){k=null,m=!0;break}}angular.forEach(b,function(a,b){void 0!==l[b]&&(l.parent[b]=l[b])}),angular.extend(l,b);var p=function(){return angular.isDefined(i.editDisabled)?c.$eval(i.editDisabled):h.isDisabled};if(l.init(!m),c.$editable=l,f.addClass("editable"),m)if(k){if(c.$form=k,!c.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";c.$form.$addEditable(l)}else d.$$editableBuffer=d.$$editableBuffer||{},d.$$editableBuffer[i.eForm]=d.$$editableBuffer[i.eForm]||[],d.$$editableBuffer[i.eForm].push(l),c.$form=null;else c.$form=g(),c.$form.$addEditable(l),i.eForm&&(a(i.eForm).assign||angular.noop)(c.$parent,c.$form),i.eForm&&!i.eClickable||(f.addClass("editable-click"),f.bind(h.activationEvent,function(a){a.preventDefault(),a.editable=l,p()||c.$apply(function(){c.$form.$show()})}))}}}}]),angular.module("xeditable").factory("editableFormController",["$parse","$document","$rootScope","editablePromiseCollection","editableUtils",function(a,b,c,d,e){var f=[],g=function(a,b){if(b==a)return!0;for(var c=b.parentNode;null!==c;){if(c==a)return!0;c=c.parentNode}return!1},h=function(a,b){var c=!0,d=a.$editables;return angular.forEach(d,function(a){var d=a.editorEl[0];g(d,b.target)&&(c=!1)}),c};b.bind("click",function(a){if(!a.which||1===a.which){for(var b=[],d=[],e=0;e<f.length;e++)f[e]._clicked?f[e]._clicked=!1:f[e].$waiting||("cancel"===f[e]._blur&&h(f[e],a)&&b.push(f[e]),"submit"===f[e]._blur&&h(f[e],a)&&d.push(f[e]));(b.length||d.length)&&c.$apply(function(){angular.forEach(b,function(a){a.$cancel()}),angular.forEach(d,function(a){a.$submit()})})}}),c.$on("closeEdit",function(){for(var a=0;a<f.length;a++)f[a].$hide()});var i={$addEditable:function(a){this.$editables.push(a),a.elem.bind("$destroy",angular.bind(this,this.$removeEditable,a)),a.scope.$form||(a.scope.$form=this),this.$visible&&a.catchError(a.show()),a.catchError(a.setWaiting(this.$waiting))},$removeEditable:function(a){for(var b=0;b<this.$editables.length;b++)if(this.$editables[b]===a)return void this.$editables.splice(b,1)},$show:function(){if(!this.$visible){this.$visible=!0;var a=d();a.when(this.$onshow()),this.$setError(null,""),angular.forEach(this.$editables,function(b){a.when(b.show())}),a.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)}),setTimeout(angular.bind(this,function(){this._clicked=!1,e.indexOf(f,this)===-1&&f.push(this)}),0)}},$activate:function(a){var b;if(this.$editables.length){if(angular.isString(a))for(b=0;b<this.$editables.length;b++)if(this.$editables[b].name===a)return void this.$editables[b].activate();for(b=0;b<this.$editables.length;b++)if(this.$editables[b].error)return void this.$editables[b].activate();this.$editables[0].activate(this.$editables[0].elem[0].selectionStart,this.$editables[0].elem[0].selectionEnd)}},$hide:function(){this.$visible&&(this.$visible=!1,this.$onhide(),angular.forEach(this.$editables,function(a){a.hide()}),e.arrayRemove(f,this))},$cancel:function(){this.$visible&&(this.$oncancel(),angular.forEach(this.$editables,function(a){a.cancel()}),this.$hide())},$setWaiting:function(a){this.$waiting=!!a,angular.forEach(this.$editables,function(b){b.setWaiting(!!a)})},$setError:function(a,b){angular.forEach(this.$editables,function(c){a&&c.name!==a||c.setError(b)})},$submit:function(){function a(a){var b=d();b.when(this.$onbeforesave()),b.then({onWait:angular.bind(this,this.$setWaiting),onTrue:a?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})}if(!this.$waiting){this.$setError(null,"");var b=d();angular.forEach(this.$editables,function(a){b.when(a.onbeforesave())}),b.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,a,!0),onFalse:angular.bind(this,a,!1),onString:angular.bind(this,this.$activate)})}},$save:function(){angular.forEach(this.$editables,function(a){a.save()});var a=d();a.when(this.$onaftersave()),angular.forEach(this.$editables,function(b){a.when(b.onaftersave())}),a.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop};return function(){return angular.extend({$editables:[],$visible:!1,$waiting:!1,$data:{},_clicked:!1,_blur:null},i)}}]),angular.module("xeditable").directive("editableForm",["$rootScope","$parse","editableFormController","editableOptions",function(a,b,c,d){return{restrict:"A",require:["form"],compile:function(){return{pre:function(b,d,e,f){var g,h=f[0];e.editableForm?b[e.editableForm]&&b[e.editableForm].$show?(g=b[e.editableForm],angular.extend(h,g)):(g=c(),b[e.editableForm]=g,angular.extend(g,h)):(g=c(),angular.extend(h,g));var i=a.$$editableBuffer,j=h.$name;j&&i&&i[j]&&(angular.forEach(i[j],function(a){g.$addEditable(a)}),delete i[j])},post:function(a,c,e,f){var g;g=e.editableForm&&a[e.editableForm]&&a[e.editableForm].$show?a[e.editableForm]:f[0],e.onshow&&(g.$onshow=angular.bind(g,b(e.onshow),a)),e.onhide&&(g.$onhide=angular.bind(g,b(e.onhide),a)),e.oncancel&&(g.$oncancel=angular.bind(g,b(e.oncancel),a)),e.shown&&b(e.shown)(a)&&g.$show(),g._blur=e.blur||d.blurForm,e.ngSubmit||e.submit||(e.onbeforesave&&(g.$onbeforesave=function(){return b(e.onbeforesave)(a,{$data:g.$data})}),e.onaftersave&&(g.$onaftersave=function(){return b(e.onaftersave)(a,{$data:g.$data})}),c.bind("submit",function(b){b.preventDefault(),a.$apply(function(){g.$submit()})})),c.bind("click",function(a){a.which&&1!==a.which||g.$visible&&(g._clicked=!0)})}}}}}]),angular.module("xeditable").factory("editablePromiseCollection",["$q",function(a){function b(){return{promises:[],hasFalse:!1,hasString:!1,when:function(b,c){if(b===!1)this.hasFalse=!0;else if(!c&&angular.isObject(b))this.promises.push(a.when(b));else{if(!angular.isString(b))return;this.hasString=!0}},then:function(b){function c(){h.hasString||h.hasFalse?!h.hasString&&h.hasFalse?e():f():d()}b=b||{};var d=b.onTrue||angular.noop,e=b.onFalse||angular.noop,f=b.onString||angular.noop,g=b.onWait||angular.noop,h=this;this.promises.length?(g(!0),a.all(this.promises).then(function(a){g(!1),angular.forEach(a,function(a){h.when(a,!0)}),c()},function(a){g(!1),f()})):c()}}}return b}]),angular.module("xeditable").factory("editableUtils",[function(){return{indexOf:function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(b===a[c])return c;return-1},arrayRemove:function(a,b){var c=this.indexOf(a,b);return c>=0&&a.splice(c,1),b},camelToDash:function(a){var b=/[A-Z]/g;return a.replace(b,function(a,b){return(b?"-":"")+a.toLowerCase()})},dashToCamel:function(a){var b=/([\:\-\_]+(.))/g,c=/^moz([A-Z])/;return a.replace(b,function(a,b,c,d){return d?c.toUpperCase():c}).replace(c,"Moz$1")},rename:function(a,b){if(b[0]&&b[0].attributes){var c=angular.element("<"+a+"/>");c.html(b.html());for(var d=b[0].attributes,e=0;e<d.length;++e)c.attr(d.item(e).nodeName,d.item(e).value);return c}}}}]),angular.module("xeditable").factory("editableNgOptionsParser",[function(){function a(a){var c;if(!(c=a.match(b)))throw"ng-options parse error";var d,e=c[2]||c[1],f=c[4]||c[6],g=c[5],h=(c[3]||"",c[2]?c[1]:f),i=c[7],j=c[8],k=j?c[8]:null;return void 0===g?(d=f+" in "+i,void 0!==j&&(d+=" track by "+k)):d="("+g+", "+f+") in "+i,{ngRepeat:d,locals:{valueName:f,keyName:g,valueFn:h,displayFn:e}}}var b=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return a}]),angular.module("xeditable").factory("editableCombodate",[function(){function a(a,b){if(this.$element=angular.element(a),
"INPUT"!=this.$element[0].nodeName)throw"Combodate should be applied to INPUT element";var c=(new Date).getFullYear();this.defaults={format:"YYYY-MM-DD HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:c,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,customClass:"",roundTime:!0,smartDays:!0},this.options=angular.extend({},this.defaults,b),this.init()}return a.prototype={constructor:a,init:function(){if(this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=angular.element('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.options.smartDays){var a=this;this.$widget.find("select").bind("change",function(b){(angular.element(b.target).hasClass("month")||angular.element(b.target).hasClass("year"))&&a.fillCombo("day")})}this.$widget.find("select").css("width","auto"),this.$element.css("display","none").after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var a=this.options.template,b=this.options.customClass;return angular.forEach(this.map,function(b,c){b=b[0];var d=new RegExp(b+"+"),e=b.length>1?b.substring(1,2):b;a=a.replace(d,"{"+e+"}")}),a=a.replace(/ /g,"&nbsp;"),angular.forEach(this.map,function(c,d){c=c[0];var e=c.length>1?c.substring(1,2):c;a=a.replace("{"+e+"}",'<select class="'+d+" "+b+'"></select>')}),a},initCombos:function(){for(var a in this.map){var b=this.$widget[0].querySelectorAll("."+a);this["$"+a]=b.length?angular.element(b):null,this.fillCombo(a)}},fillCombo:function(a){var b=this["$"+a];if(b){var c="fill"+a.charAt(0).toUpperCase()+a.slice(1),d=this[c](),e=b.val();b.html("");for(var f=0;f<d.length;f++)b.append('<option value="'+d[f][0]+'">'+d[f][1]+"</option>");b.val(e)}},fillCommon:function(a){var b,c=[];if("name"===this.options.firstItem){b=moment.relativeTime||moment.langData()._relativeTime;var d="function"==typeof b[a]?b[a](1,!0,a,!1):b[a];d=d.split(" ").reverse()[0],c.push(["",d])}else"empty"===this.options.firstItem&&c.push(["",""]);return c},fillDay:function(){var a,b,c=this.fillCommon("d"),d=this.options.template.indexOf("DD")!==-1,e=31;if(this.options.smartDays&&this.$month&&this.$year){var f=parseInt(this.$month.val(),10),g=parseInt(this.$year.val(),10);isNaN(f)||isNaN(g)||(e=moment([g,f]).daysInMonth())}for(b=1;b<=e;b++)a=d?this.leadZero(b):b,c.push([b,a]);return c},fillMonth:function(){var a,b,c=this.fillCommon("M"),d=this.options.template.indexOf("MMMM")!==-1,e=this.options.template.indexOf("MMM")!==-1,f=this.options.template.indexOf("MM")!==-1;for(b=0;b<=11;b++)a=d?moment().date(1).month(b).format("MMMM"):e?moment().date(1).month(b).format("MMM"):f?this.leadZero(b+1):b+1,c.push([b,a]);return c},fillYear:function(){var a,b,c=[],d=this.options.template.indexOf("YYYY")!==-1;for(b=this.options.maxYear;b>=this.options.minYear;b--)a=d?b:(b+"").substring(2),c[this.options.yearDescending?"push":"unshift"]([b,a]);return c=this.fillCommon("y").concat(c)},fillHour:function(){var a,b,c=this.fillCommon("h"),d=this.options.template.indexOf("h")!==-1,e=(this.options.template.indexOf("H")!==-1,this.options.template.toLowerCase().indexOf("hh")!==-1),f=d?1:0,g=d?12:23;for(b=f;b<=g;b++)a=e?this.leadZero(b):b,c.push([b,a]);return c},fillMinute:function(){var a,b,c=this.fillCommon("m"),d=this.options.template.indexOf("mm")!==-1;for(b=0;b<=59;b+=this.options.minuteStep)a=d?this.leadZero(b):b,c.push([b,a]);return c},fillSecond:function(){var a,b,c=this.fillCommon("s"),d=this.options.template.indexOf("ss")!==-1;for(b=0;b<=59;b+=this.options.secondStep)a=d?this.leadZero(b):b,c.push([b,a]);return c},fillAmpm:function(){var a=this.options.template.indexOf("a")!==-1,b=(this.options.template.indexOf("A")!==-1,[["am",a?"am":"AM"],["pm",a?"pm":"PM"]]);return b},getValue:function(a){var b,c={},d=this,e=!1;return angular.forEach(this.map,function(a,b){if("ampm"!==b){var f="day"===b?1:0;return c[b]=d["$"+b]?parseInt(d["$"+b].val(),10):f,isNaN(c[b])?(e=!0,!1):void 0}}),e?"":(this.$ampm&&(12===c.hour?c.hour="am"===this.$ampm.val()?0:12:c.hour="am"===this.$ampm.val()?c.hour:c.hour+12),b=moment([c.year,c.month,c.day,c.hour,c.minute,c.second]),this.highlight(b),a=void 0===a?this.options.format:a,null===a?b.isValid()?b:null:b.isValid()?b.format(a):"")},setValue:function(a){function b(a,b){var c={};return angular.forEach(a.children("option"),function(a,d){var e=angular.element(a).attr("value");if(""!==e){var f=Math.abs(e-b);("undefined"==typeof c.distance||f<c.distance)&&(c={value:e,distance:f})}}),c.value}if(a){var c="string"==typeof a?moment(a,this.options.format,!0):moment(a),d=this,e={};c.isValid()&&(angular.forEach(this.map,function(a,b){"ampm"!==b&&(e[b]=c[a[1]]())}),this.$ampm&&(e.hour>=12?(e.ampm="pm",e.hour>12&&(e.hour-=12)):(e.ampm="am",0===e.hour&&(e.hour=12))),angular.forEach(e,function(a,c){d["$"+c]&&("minute"===c&&d.options.minuteStep>1&&d.options.roundTime&&(a=b(d["$"+c],a)),"second"===c&&d.options.secondStep>1&&d.options.roundTime&&(a=b(d["$"+c],a)),d["$"+c].val(a))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(c.format(this.options.format)).triggerHandler("change"))}},highlight:function(a){a.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(a){return a<=9?"0"+a:a},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},{getInstance:function(b,c){return new a(b,c)}}}]),angular.module("xeditable").factory("editableIcons",function(){var a={default:{bs2:{ok:"icon-ok icon-white",cancel:"icon-remove",clear:"icon-trash"},bs3:{ok:"glyphicon glyphicon-ok",cancel:"glyphicon glyphicon-remove",clear:"glyphicon glyphicon-trash"}},external:{"font-awesome":{ok:"fa fa-check",cancel:"fa fa-times",clear:"fa fa-trash"}}};return a}),angular.module("xeditable").factory("editableThemes",function(){var a={default:{formTpl:'<form class="editable-wrap"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<span class="editable-controls"></span>',inputTpl:"",errorTpl:'<div class="editable-error" data-ng-if="$error" data-ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit">save</button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel</button>',resetTpl:'<button type="reset">clear</button>'},bs2:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()"><span></span></button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>'},bs3:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span></span></button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>',buttonsClass:"",inputClass:"",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableBsdate":case"editableTime":case"editableMonth":case"editableWeek":case"editablePassword":case"editableDatetimeLocal":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}break;case"editableCheckbox":this.editorEl.addClass("checkbox")}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}},semantic:{formTpl:'<form class="editable-wrap ui form" ng-class="{\'error\': $error}" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls ui fluid input" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error ui error message" data-ng-if="$error" data-ng-bind="$error"></div>',buttonsTpl:'<span class="mini ui buttons"></span>',submitTpl:'<button type="submit" class="ui primary button"><i class="ui check icon"></i></button>',cancelTpl:'<button type="button" class="ui button" ng-click="$form.$cancel()"><i class="ui cancel icon"></i></button>',resetTpl:'<button type="reset" class="ui button">clear</button>'}};return a}),function(a,b){"use strict";angular.module("toaster",[]).constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"close-button":!1,"close-html":'<button class="toast-close-button" type="button">&times;</button>',"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",wait:"toast-wait",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message","prevent-duplicates":!1,"mouseover-timer-stop":!0}).service("toaster",["$rootScope","toasterConfig",function(a,b){function c(a){return function(b,c,d,e,f,g,h,i,j){return angular.isString(b)?this.pop(a,b,c,d,e,f,g,h,i,j):this.pop(angular.extend(b,{type:a}))}}var d=function(){var a={};return a.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})},a}();this.pop=function(b,c,e,f,g,h,i,j,k,l){if(angular.isObject(b)){var m=b;this.toast={type:m.type,title:m.title,body:m.body,timeout:m.timeout,bodyOutputType:m.bodyOutputType,clickHandler:m.clickHandler,showCloseButton:m.showCloseButton,closeHtml:m.closeHtml,toastId:m.toastId,onShowCallback:m.onShowCallback,onHideCallback:m.onHideCallback,directiveData:m.directiveData},i=m.toasterId}else this.toast={type:b,title:c,body:e,timeout:f,bodyOutputType:g,clickHandler:h,showCloseButton:j,toastId:k,onHideCallback:l};return this.toast.toastId&&this.toast.toastId.length||(this.toast.toastId=d.newGuid()),a.$emit("toaster-newToast",i,this.toast.toastId),{toasterId:i,toastId:this.toast.toastId}},this.clear=function(b,c){angular.isObject(b)?a.$emit("toaster-clearToasts",b.toasterId,b.toastId):a.$emit("toaster-clearToasts",b,c)};for(var e in b["icon-classes"])this[e]=c(e)}]).factory("toasterEventRegistry",["$rootScope",function(a){var b,c=null,d=null,e=[],f=[];return b={setup:function(){c||(c=a.$on("toaster-newToast",function(a,b,c){for(var d=0,f=e.length;d<f;d++)e[d](a,b,c)})),d||(d=a.$on("toaster-clearToasts",function(a,b,c){for(var d=0,e=f.length;d<e;d++)f[d](a,b,c)}))},subscribeToNewToastEvent:function(a){e.push(a)},subscribeToClearToastsEvent:function(a){f.push(a)},unsubscribeToNewToastEvent:function(a){var b=e.indexOf(a);b>=0&&e.splice(b,1),0===e.length&&(c(),c=null)},unsubscribeToClearToastsEvent:function(a){var b=f.indexOf(a);b>=0&&f.splice(b,1),0===f.length&&(d(),d=null)}},{setup:b.setup,subscribeToNewToastEvent:b.subscribeToNewToastEvent,subscribeToClearToastsEvent:b.subscribeToClearToastsEvent,unsubscribeToNewToastEvent:b.unsubscribeToNewToastEvent,unsubscribeToClearToastsEvent:b.unsubscribeToClearToastsEvent}}]).directive("directiveTemplate",["$compile","$injector",function(a,b){return{restrict:"A",scope:{directiveName:"@directiveName",directiveData:"@directiveData"},replace:!0,link:function(c,d,e){c.$watch("directiveName",function(f){if(angular.isUndefined(f)||f.length<=0)throw new Error("A valid directive name must be provided via the toast body argument when using bodyOutputType: directive");var g;try{g=b.get(e.$normalize(f)+"Directive")}catch(a){throw new Error(f+" could not be found. The name should appear as it exists in the markup, not camelCased as it would appear in the directive declaration, e.g. directive-name not directiveName.")}var h=g[0];if(h.scope!==!0&&h.scope)throw new Error("Cannot use a directive with an isolated scope. The scope must be either true or falsy (e.g. false/null/undefined). Occurred for directive "+f+".");if(h.restrict.indexOf("A")<0)throw new Error('Directives must be usable as attributes. Add "A" to the restrict option (or remove the option entirely). Occurred for directive '+f+".");c.directiveData&&(c.directiveData=angular.fromJson(c.directiveData));var i=a("<div "+f+"></div>")(c);d.append(i)})}}}]).directive("toasterContainer",["$parse","$rootScope","$interval","$sce","toasterConfig","toaster","toasterEventRegistry",function(a,b,c,d,e,f,g){return{replace:!0,restrict:"EA",scope:!0,link:function(b,h,i){function j(a,d){a.timeoutPromise=c(function(){b.removeToast(a.toastId)},d,1)}function k(c,e){if(c.type=o["icon-classes"][c.type],c.type||(c.type=o["icon-class"]),o["prevent-duplicates"]===!0&&b.toasters.length){if(b.toasters[b.toasters.length-1].body===c.body)return;var f,g,h=!1;for(f=0,g=b.toasters.length;f<g;f++)if(b.toasters[f].toastId===e){h=!0;break}if(h)return}var i=o["close-button"];if("boolean"==typeof c.showCloseButton);else if("boolean"==typeof i)c.showCloseButton=i;else if("object"==typeof i){var j=i[c.type];"undefined"!=typeof j&&null!==j&&(c.showCloseButton=j)}else c.showCloseButton=!1;switch(c.showCloseButton&&(c.closeHtml=d.trustAsHtml(c.closeHtml||b.config.closeHtml)),c.bodyOutputType=c.bodyOutputType||o["body-output-type"],c.bodyOutputType){case"trustedHtml":c.html=d.trustAsHtml(c.body);break;case"template":c.bodyTemplate=c.body||o["body-template"];break;case"templateWithData":var k=a(c.body||o["body-template"]),l=k(b);c.bodyTemplate=l.template,c.data=l.data;break;case"directive":c.html=c.body}b.configureTimer(c),o["newest-on-top"]===!0?(b.toasters.unshift(c),o.limit>0&&b.toasters.length>o.limit&&b.toasters.pop()):(b.toasters.push(c),o.limit>0&&b.toasters.length>o.limit&&b.toasters.shift()),angular.isFunction(c.onShowCallback)&&c.onShowCallback()}function l(a){var d=b.toasters[a];d.timeoutPromise&&c.cancel(d.timeoutPromise),b.toasters.splice(a,1),angular.isFunction(d.onHideCallback)&&d.onHideCallback()}function m(a){for(var c=b.toasters.length-1;c>=0;c--)n(a)?l(c):b.toasters[c].toastId==a&&l(c)}function n(a){return angular.isUndefined(a)||null===a}var o;o=angular.extend({},e,b.$eval(i.toasterOptions)),b.config={toasterId:o["toaster-id"],position:o["position-class"],title:o["title-class"],message:o["message-class"],tap:o["tap-to-dismiss"],closeButton:o["close-button"],closeHtml:o["close-html"],animation:o["animation-class"],mouseoverTimer:o["mouseover-timer-stop"]},b.$on("$destroy",function(){g.unsubscribeToNewToastEvent(b._onNewToast),g.unsubscribeToClearToastsEvent(b._onClearToasts)}),b.configureTimer=function(a){var b=angular.isNumber(a.timeout)?a.timeout:o["time-out"];"object"==typeof b&&(b=b[a.type]),b>0&&j(a,b)},b.removeToast=function(a){var c,d;for(c=0,d=b.toasters.length;c<d;c++)if(b.toasters[c].toastId===a){l(c);break}},b.toasters=[],b._onNewToast=function(a,c,d){(n(b.config.toasterId)&&n(c)||!n(b.config.toasterId)&&!n(c)&&b.config.toasterId==c)&&k(f.toast,d)},b._onClearToasts=function(a,c,d){("*"==c||n(b.config.toasterId)&&n(c)||!n(b.config.toasterId)&&!n(c)&&b.config.toasterId==c)&&m(d)},g.setup(),g.subscribeToNewToastEvent(b._onNewToast),g.subscribeToClearToastsEvent(b._onClearToasts)},controller:["$scope","$element","$attrs",function(a,b,d){a.stopTimer=function(b){a.config.mouseoverTimer===!0&&b.timeoutPromise&&(c.cancel(b.timeoutPromise),b.timeoutPromise=null)},a.restartTimer=function(b){a.config.mouseoverTimer===!0?b.timeoutPromise||a.configureTimer(b):null===b.timeoutPromise&&a.removeToast(b.toastId)},a.click=function(b,c){if(a.config.tap===!0||b.showCloseButton===!0&&c===!0){var d=!0;b.clickHandler&&(angular.isFunction(b.clickHandler)?d=b.clickHandler(b,c):angular.isFunction(a.$parent.$eval(b.clickHandler))?d=a.$parent.$eval(b.clickHandler)(b,c):console.log("TOAST-NOTE: Your click handler is not inside a parent scope of toaster-container.")),d&&a.removeToast(b.toastId)}}}],template:'<div id="toast-container" ng-class="[config.position, config.animation]"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="click(toaster)" ng-mouseover="stopTimer(toaster)" ng-mouseout="restartTimer(toaster)"><div ng-if="toaster.showCloseButton" ng-click="click(toaster, true)" ng-bind-html="toaster.closeHtml"></div><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="templateWithData"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="directive"><div directive-template directive-name="{{toaster.html}}" directive-data="{{toaster.directiveData}}"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>'}}])}(window,document),function(a,b){"use strict";function c(){function b(a){return function(){k.waitForVendorCount&&(j[a]||(j[a]=[]),j[a].push(arguments))}}function c(b,c,d){return l[b]||(l[b]=[]),l[b].push(c),m[c]=d,function(){var c=Array.prototype.slice.apply(arguments);return this.$inject(["$q",a.bind(this,function(d){return d.all(l[b].map(function(b){var e=m[b]||{};if(e.async){var f=d.defer(),g=a.copy(c);return g.unshift(f.resolve),b.apply(this,g),f.promise}return d.when(b.apply(this,c))},this))})])}}function d(a,b){b?setTimeout(a,b):a()}function e(b,e,f){if(!h.developerMode){n[b]=c(b,e,f);var g=h[b],i=g?g.bufferFlushDelay:null,k=null!==i?i:h.bufferFlushDelay;a.forEach(j[b],function(a,b){d(function(){e.apply(this,a)},b*k)})}}function f(a){return a.replace(/^./,function(a){return a.toUpperCase()})}function g(a){var d="register"+f(a);o[d]=function(b,c){e(a,b,c)},n[a]=c(a,b(a))}var h={pageTracking:{autoTrackFirstPage:!0,autoTrackVirtualPages:!0,trackRelativePath:!1,autoBasePath:!1,basePath:"",excludedRoutes:[]},eventTracking:{},bufferFlushDelay:1e3,trackExceptions:!1,developerMode:!1},i=["pageTrack","eventTrack","exceptionTrack","transactionTrack","setAlias","setUsername","setUserProperties","setUserPropertiesOnce","setSuperProperties","setSuperPropertiesOnce","incrementProperty","userTimings"],j={},l={},m={},n={settings:h},o={$get:["$injector",function(a){return p(a)}],api:n,settings:h,virtualPageviews:function(a){this.settings.pageTracking.autoTrackVirtualPages=a},excludeRoutes:function(a){this.settings.pageTracking.excludedRoutes=a},firstPageview:function(a){this.settings.pageTracking.autoTrackFirstPage=a},withBase:function(b){this.settings.pageTracking.basePath=b?a.element(document).find("base").attr("href"):""},withAutoBase:function(a){this.settings.pageTracking.autoBasePath=a},trackExceptions:function(a){this.settings.trackExceptions=a},developerMode:function(a){this.settings.developerMode=a}},p=function(b){return a.extend(n,{$inject:b.invoke})};a.forEach(i,g);for(var q in o)this[q]=o[q]}function d(b,c,d,e){function f(a){for(var b=0;b<d.settings.pageTracking.excludedRoutes.length;b++){var c=d.settings.pageTracking.excludedRoutes[b];if(c instanceof RegExp&&c.test(a)||a.indexOf(c)>-1)return!0}return!1}function g(a,b){f(a)||d.pageTrack(a,b)}d.settings.pageTracking.autoTrackFirstPage&&e.invoke(["$location",function(a){var b=!0;if(e.has("$route")){var f=e.get("$route");if(f)for(var h in f.routes){b=!1;break}else null===f&&(b=!1)}else if(e.has("$state")){var i=e.get("$state");for(var j in i.get()){b=!1;break}}if(b)if(d.settings.pageTracking.autoBasePath&&(d.settings.pageTracking.basePath=c.location.pathname),d.settings.pageTracking.trackRelativePath){var k=d.settings.pageTracking.basePath+a.url();g(k,a)}else g(a.absUrl(),a)}]),d.settings.pageTracking.autoTrackVirtualPages&&e.invoke(["$location",function(a){d.settings.pageTracking.autoBasePath&&(d.settings.pageTracking.basePath=c.location.pathname+"#");var f=!0;if(e.has("$route")){var h=e.get("$route");if(h)for(var i in h.routes){f=!1;break}else null===h&&(f=!1);b.$on("$routeChangeSuccess",function(b,c){if(!c||!(c.$$route||c).redirectTo){var e=d.settings.pageTracking.basePath+a.url();g(e,a)}})}e.has("$state")&&!e.has("$transitions")&&(f=!1,b.$on("$stateChangeSuccess",function(b,c){var e=d.settings.pageTracking.basePath+a.url();g(e,a)})),e.has("$state")&&e.has("$transitions")&&(f=!1,e.invoke(["$transitions",function(b){b.onSuccess({},function(b){var c=b.options();if(c.notify){var e=d.settings.pageTracking.basePath+a.url();g(e,a)}})}])),f&&b.$on("$locationChangeSuccess",function(b,c){if(!c||!(c.$$route||c).redirectTo)if(d.settings.pageTracking.trackRelativePath){var e=d.settings.pageTracking.basePath+a.url();g(e,a)}else g(a.absUrl(),a)})}]),d.settings.developerMode&&a.forEach(d,function(a,b){"function"==typeof a&&(d[b]=function(){})})}function e(b){return{restrict:"A",link:function(c,d,e){var f=e.analyticsOn||"click",g={};a.forEach(e.$attr,function(a,b){i(b)&&(g[j(b)]=e[b],e.$observe(b,function(a){g[j(b)]=a}))}),a.element(d[0]).bind(f,function(f){var i=e.analyticsEvent||h(d[0]);g.eventType=f.type,e.analyticsIf&&!c.$eval(e.analyticsIf)||(e.analyticsProperties&&a.extend(g,c.$eval(e.analyticsProperties)),b.eventTrack(i,g))})}}}function f(a){a.decorator("$exceptionHandler",["$delegate","$injector",function(a,b){return function(c,d){var e=a(c,d),f=b.get("$analytics");return f.settings.trackExceptions&&f.exceptionTrack(c,d),e}}])}function g(a){return["a:","button:","button:button","button:submit","input:button","input:submit"].indexOf(a.tagName.toLowerCase()+":"+(a.type||""))>=0}function h(a){return g(a)?a.innerText||a.value:a.id||a.name||a.tagName}function i(a){return"analytics"===a.substr(0,9)&&["On","Event","If","Properties","EventType"].indexOf(a.substr(9))===-1}function j(a){var b=a.slice(9);return"undefined"!=typeof b&&null!==b&&b.length>0?b.substring(0,1).toLowerCase()+b.substring(1):b}var k=window.angulartics||(window.angulartics={});k.waitForVendorCount=0,k.waitForVendorApi=function(a,b,c,d,e){e||k.waitForVendorCount++,d||(d=c,c=void 0),!Object.prototype.hasOwnProperty.call(window,a)||void 0!==c&&void 0===window[a][c]?setTimeout(function(){k.waitForVendorApi(a,b,c,d,!0)},b):(k.waitForVendorCount--,d(window[a]))},a.module("angulartics",[]).provider("$analytics",c).run(["$rootScope","$window","$analytics","$injector",d]).directive("analyticsOn",["$analytics",e]).config(["$provide",f])}(angular),function(a){"use strict";a.module("angulartics.google.tagmanager",["angulartics"]).config(["$analyticsProvider",function(a){a.registerPageTrack(function(a){var b=window.dataLayer=window.dataLayer||[];b.push({event:"content-view","content-name":a})}),a.registerEventTrack(function(a,b){var c=window.dataLayer=window.dataLayer||[];b=b||{},c.push({event:b.event||"interaction",target:b.category,action:a,"target-properties":b.label,value:b.value,"interaction-type":b.noninteraction})}),a.registerSetUsername(function(a,b){var c=window.dataLayer=window.dataLayer||[];b=b||{},c.push({username:a,user:b})})}])}(angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="checklist-model"),angular.module("checklist-model",[]).directive("checklistModel",["$parse","$compile",function(a,b){function c(a,b,c){if(angular.isArray(a))for(var d=a.length;d--;)if(c(a[d],b))return!0;return!1}function d(a,b,d){return a=angular.isArray(a)?a:[],c(a,b,d)||a.push(b),a}function e(a,b,c){if(angular.isArray(a))for(var d=a.length;d--;)if(c(a[d],b)){a.splice(d,1);break}return a}function f(f,g,h){function i(){t(),u(),v()}function j(){return h.checklistValue?a(h.checklistValue)(f.$parent):h.value}function k(a,b){var c=n(f.$parent);angular.isFunction(n.assign)&&(b===!0?n.assign(f.$parent,d(c,a,r)):n.assign(f.$parent,e(c,a,r)))}function l(a,b){return p&&p(f)===!1?void k(j(),q(f)):void q.assign(f,c(a,j(),r))}var m=h.checklistModel;h.$set("checklistModel",null),b(g)(f),h.$set("checklistModel",m);var n=a(m),o=a(h.checklistChange),p=a(h.checklistBeforeChange),q=a(h.ngModel),r=angular.equals;if(h.hasOwnProperty("checklistComparator"))if("."==h.checklistComparator[0]){var s=h.checklistComparator.substring(1);r=function(a,b){return a[s]===b[s]}}else r=a(h.checklistComparator)(f.$parent);var t=f.$watch(h.ngModel,function(a,b){if(a!==b){if(p&&p(f)===!1)return void q.assign(f,c(n(f.$parent),j(),r));k(j(),a),o&&o(f)}}),u=f.$watch(j,function(a,b){if(a!=b&&angular.isDefined(b)&&f[h.ngModel]===!0){var c=n(f.$parent);n.assign(f.$parent,e(c,b,r)),n.assign(f.$parent,d(c,a,r))}},!0),v=f.$on("$destroy",i);angular.isFunction(f.$parent.$watchCollection)?f.$parent.$watchCollection(m,l):f.$parent.$watch(m,l,!0)}return{restrict:"A",priority:1e3,terminal:!0,scope:!0,compile:function(a,b){if(!b.checklistValue&&!b.value)throw"You should provide `value` or `checklist-value`.";return b.ngModel||b.$set("ngModel","checked"),f}}}]),function(a,b,c){function d(a,b,c){return a.addEventListener?void a.addEventListener(b,c,!1):void a.attachEvent("on"+b,c)}function e(a){if("keypress"==a.type){var b=String.fromCharCode(a.which);return a.shiftKey||(b=b.toLowerCase()),b}return r[a.which]?r[a.which]:s[a.which]?s[a.which]:String.fromCharCode(a.which).toLowerCase()}function f(a,b){var c,d=a.length;if(d!==b.length)return!1;for(a=a.sort(),b=b.sort(),c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}function g(a){var b=[];return a.shiftKey&&b.push("shift"),a.altKey&&b.push("alt"),a.ctrlKey&&b.push("ctrl"),a.metaKey&&b.push("meta"),b}function h(a){return a.preventDefault?void a.preventDefault():void(a.returnValue=!1)}function i(a){return a.stopPropagation?void a.stopPropagation():void(a.cancelBubble=!0)}function j(a){return"shift"==a||"ctrl"==a||"alt"==a||"meta"==a}function k(){if(!q){q={};for(var a in r)a>95&&a<112||r.hasOwnProperty(a)&&(q[r[a]]=a)}return q}function l(a,b,c){return c||(c=k()[a]?"keydown":"keypress"),"keypress"==c&&b.length&&(c="keydown"),c}function m(a){return"+"===a?["+"]:(a=a.replace(/\+{2}/g,"+plus"),a.split("+"))}function n(a,b){var c,d,e,f=[];for(c=m(a),e=0;e<c.length;++e)d=c[e],u[d]&&(d=u[d]),b&&"keypress"!=b&&t[d]&&(d=t[d],f.push("shift")),j(d)&&f.push(d);return b=l(d,f,b),{key:d,modifiers:f,action:b}}function o(a,c){return null!==a&&a!==b&&(a===c||o(a.parentNode,c))}function p(a){function k(a){a=a||{};var b,c=!1;for(b in y)a[b]?c=!0:y[b]=0;c||(B=!1)}function l(a,b,c,d,e,g,h){var i,k,l=[],m=c.type;if(!w._callbacks[a])return[];for("keyup"==m&&j(a)&&(b=[a]),i=0;i<w._callbacks[a].length;++i)if(k=w._callbacks[a][i],(d||!k.seq||y[k.seq]==k.level)&&m==k.action&&("keypress"==m&&!c.metaKey&&!c.ctrlKey||f(b,k.modifiers))){var n=!d&&k.combo==e,o=d&&k.seq==d&&k.level==g,p=!h||h&&k.callback===h;p&&(n||o)&&w._callbacks[a].splice(i,1),l.push(k)}return l}function m(a,b,c,d){w.stopCallback(b,b.target||b.srcElement,c,d)||a(b,c)===!1&&(h(b),i(b))}function o(a){"number"!=typeof a.which&&(a.which=a.keyCode);var b=e(a);if(b)return"keyup"==a.type&&z===b?void(z=!1):void w.handleKey(b,g(a),a)}function q(){clearTimeout(x),x=setTimeout(k,1e3)}function r(a,b,c,d){function f(b){return function(){B=b,++y[a],q()}}function g(b){m(c,b,a),"keyup"!==d&&(z=e(b)),setTimeout(k,10)}y[a]=0;for(var h=0;h<b.length;++h){var i=h+1===b.length,j=i?g:f(d||n(b[h+1]).action);u(b[h],j,d,a,h)}}function s(a,b,c){w._directMap[a+":"+b]=c,a=a.replace(/\s+/g," ");var d,e=a.split(" ");return e.length>1?{combination:a,sequence:e,isBindSequence:!0}:(d=n(a,b),w._callbacks[d.key]=w._callbacks[d.key]||[],{combination:a,sequence:e,isBindSequence:!1,info:d})}function t(a,b,d){var e=s(a,b,v);return e.isBindSequence?void r(a,e.sequence,v,b):void l(e.info.key,e.info.modifiers,{type:e.info.action},c,e.combination,c,d)}function u(a,b,c,d,e,f){var g=s(a,c,b);return g.isBindSequence?void r(a,g.sequence,b,c):(f||l(g.info.key,g.info.modifiers,{type:g.info.action},d,a,e),void w._callbacks[g.info.key][d?"unshift":"push"]({callback:b,modifiers:g.info.modifiers,action:g.info.action,seq:d,level:e,combo:a}))}var w=this;if(a=a||b,!(w instanceof p))return new p(a);w.target=a,w._callbacks={},w._directMap={};var x,y={},z=!1,A=!1,B=!1;w._handleKey=function(a,b,c){var d,e=l(a,b,c),f={},g=0,h=!1;for(d=0;d<e.length;++d)e[d].seq&&(g=Math.max(g,e[d].level));for(d=0;d<e.length;++d)if(e[d].seq){if(e[d].level!=g)continue;h=!0,f[e[d].seq]=1,m(e[d].callback,c,e[d].combo,e[d].seq)}else h||m(e[d].callback,c,e[d].combo);var i="keypress"==c.type&&A;c.type!=B||j(a)||i||k(f),A=h&&"keydown"==c.type},w._bindMultiple=function(a,b,d,e){for(var f=0;f<a.length;++f)u(a[f],b,d,c,c,e)},w._unbindMultiple=function(a,b,c){for(var d=0;d<a.length;++d)t(a[d],b,c)},d(a,"keypress",o),d(a,"keydown",o),d(a,"keyup",o)}if(a){for(var q,r={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},t={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},u={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},v=function(){},w=1;w<20;++w)r[111+w]="f"+w;for(w=0;w<=9;++w)r[w+96]=w.toString();p.prototype.bind=function(a,b,c,d){var e=this;return a=a instanceof Array?a:[a],e._bindMultiple.call(e,a,b,c,d),e},p.prototype.unbind=function(a,b,c){var d=this;return a=a instanceof Array?a:[a],d._unbindMultiple.call(d,a,b,c),d},p.prototype.trigger=function(a,b){var c=this;return c._directMap[a+":"+b]&&c._directMap[a+":"+b]({},a),c},p.prototype.reset=function(){var a=this;return a._callbacks={},a._directMap={},a},p.prototype.stopCallback=function(a,b){var c=this;return!((" "+b.className+" ").indexOf(" mousetrap ")>-1)&&(!o(b,c.target)&&("INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==b.tagName||b.isContentEditable))},p.prototype.handleKey=function(){var a=this;return a._handleKey.apply(a,arguments)},p.addKeycodes=function(a){for(var b in a)a.hasOwnProperty(b)&&(r[b]=a[b]);q=null},p.init=function(){var a=p(b);for(var c in a)"_"!==c.charAt(0)&&(p[c]=function(b){return function(){return a[b].apply(a,arguments)}}(c))},p.init(),a.Mousetrap=p,"undefined"!=typeof module&&module.exports&&(module.exports=p),"function"==typeof define&&define.amd&&define(function(){return p})}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null),angular.module("debounce",[]).service("debounce",["$timeout",function(a){return function(b,c,d,e){function f(){i=this,h=arguments;var f=function(){g=null,d||(j=b.apply(i,h))},k=d&&!g;return g&&a.cancel(g),g=a(f,c,e),k&&(j=b.apply(i,h)),j}var g,h,i,j;return f.cancel=function(){a.cancel(g),g=null},f}}]).directive("debounce",["debounce","$parse",function(a,b){return{require:"ngModel",priority:999,link:function(c,d,e,f){var g,h,i=b(e.debounce)(c),j=!!b(e.immediate)(c),k=f.$render.bind(f),l=a(function(a){h=!0,f.$$lastCommittedViewValue=g,f.$setViewValue(a),
h=!1},parseInt(i,10),j);f.$render=function(){k(),l.cancel(),g=this.$viewValue},f.$parsers.unshift(function(a){return h?(g=a,a):(l(f.$viewValue),g)})}}}]),function(){"use strict";angular.module("angular-filters",[])}(),function(){"use strict";angular.module("angular-filters").filter("bytes",[function(){return function(a,b){if("number"!=typeof a&&(a=parseFloat(a)),0===a)return"0 B";if(isNaN(a)||!isFinite(a))return"-";var c=a<0;c&&(a=-a),"number"!=typeof b&&(b=parseFloat(b)),!isNaN(b)&&isFinite(b)||(b=1);var d=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],e=Math.min(Math.floor(Math.log(a)/Math.log(1024)),d.length-1),f=(a/Math.pow(1024,Math.floor(e))).toFixed(b);return(c?"-":"")+f+" "+d[e]}}])}(),function(){"use strict";angular.module("angular-filters").filter("join",[function(){return function(a,b){if(!Array.isArray(a))return a;var c=[];return a.forEach(function(a){a&&c.push(a)}),c.join(b||",")}}])}(),function(){"use strict";angular.module("angular-filters").filter("percentage",["$filter",function(a){function b(a){return a=parseFloat(a.toFixed(5)),a=a.toString().split("e"),a=Math.ceil(+(a[0]+"e"+(a[1]?+a[1]+1:1))),a=a.toString().split("e"),+(a[0]+"e"+(a[1]?+a[1]-1:-1))}return function(c,d){return c=parseFloat(c),isFinite(c)?(c=Math.floor(c)+b(c-Math.floor(c)),d=parseFloat(d),isFinite(d)&&c>d?d+"%":parseFloat(a("number")(c,c%1===0?0:1))+"%"):"0%"}}])}(),function(){"use strict";angular.module("angular-filters").filter("replace",[function(){function a(a){return"string"==typeof a||a instanceof String}return function(b,c,d){return a(b)&&a(c)&&a(d)?b.split(c).join(d):b}}])}(),function(){"use strict";angular.module("angular-filters").filter("reverse",[function(){function a(a){return a.slice().reverse()}function b(a){for(var b="",c=0;c<a.length;c++)b=a.charAt(c)+b;return b}return function(c){return Array.isArray(c)?a(c):"string"==typeof c||c instanceof String?b(c):c}}])}(),function(){"use strict";angular.module("angular-filters").filter("toSpacedWords",[function(){function a(a){return a.match(/\d+|__/g)||(a=a.replace(/([a-z])([A-Z])/g,"$1 $2"),a=a.length>1?a.charAt(0).toUpperCase()+a.slice(1):a),a}return function(b){return b&&("string"==typeof b||b instanceof String)?a(b):b}}])}(),function(){var a=angular.module("restangular",[]);a.provider("Restangular",function(){var a={};a.init=function(a,b){function c(a,b,c,d){var e={};return _.each(_.keys(d),function(f){var g=d[f];g.params=_.extend({},g.params,a.defaultRequestParams[g.method.toLowerCase()]),_.isEmpty(g.params)&&delete g.params,a.isSafe(g.method)?e[f]=function(){return b(_.extend(g,{url:c}))}:e[f]=function(a){return b(_.extend(g,{url:c,data:a}))}}),e}a.configuration=b;var d=["get","head","options","trace","getlist"];b.isSafe=function(a){return _.includes(d,a.toLowerCase())};var e=/^https?:\/\//i;b.isAbsoluteUrl=function(a){return _.isUndefined(b.absoluteUrl)||_.isNull(b.absoluteUrl)?a&&e.test(a):b.absoluteUrl},b.absoluteUrl=!!_.isUndefined(b.absoluteUrl)||b.absoluteUrl,a.setSelfLinkAbsoluteUrl=function(a){b.absoluteUrl=a},b.baseUrl=_.isUndefined(b.baseUrl)?"":b.baseUrl,a.setBaseUrl=function(a){return b.baseUrl=/\/$/.test(a)?a.substring(0,a.length-1):a,this},b.extraFields=b.extraFields||[],a.setExtraFields=function(a){return b.extraFields=a,this},b.defaultHttpFields=b.defaultHttpFields||{},a.setDefaultHttpFields=function(a){return b.defaultHttpFields=a,this},b.withHttpValues=function(a,c){return _.defaults(c,a,b.defaultHttpFields)},b.encodeIds=!!_.isUndefined(b.encodeIds)||b.encodeIds,a.setEncodeIds=function(a){b.encodeIds=a},b.defaultRequestParams=b.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},a.setDefaultRequestParams=function(a,c){var d=[],e=c||a;return _.isUndefined(c)?d.push("common"):_.isArray(a)?d=a:d.push(a),_.each(d,function(a){b.defaultRequestParams[a]=e}),this},a.requestParams=b.defaultRequestParams,b.defaultHeaders=b.defaultHeaders||{},a.setDefaultHeaders=function(c){return b.defaultHeaders=c,a.defaultHeaders=b.defaultHeaders,this},a.defaultHeaders=b.defaultHeaders,b.methodOverriders=b.methodOverriders||[],a.setMethodOverriders=function(a){var c=_.extend([],a);return b.isOverridenMethod("delete",c)&&c.push("remove"),b.methodOverriders=c,this},b.jsonp=!_.isUndefined(b.jsonp)&&b.jsonp,a.setJsonp=function(a){b.jsonp=a},b.isOverridenMethod=function(a,c){var d=c||b.methodOverriders;return!_.isUndefined(_.find(d,function(b){return b.toLowerCase()===a.toLowerCase()}))},b.urlCreator=b.urlCreator||"path",a.setUrlCreator=function(a){if(!_.has(b.urlCreatorFactory,a))throw new Error("URL Path selected isn't valid");return b.urlCreator=a,this},b.restangularFields=b.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save",restangularized:"restangularized"},a.setRestangularFields=function(a){return b.restangularFields=_.extend(b.restangularFields,a),this},b.isRestangularized=function(a){return!!a[b.restangularFields.restangularized]},b.setFieldToElem=function(a,b,c){var d=a.split("."),e=b;return _.each(_.initial(d),function(a){e[a]={},e=e[a]}),e[_.last(d)]=c,this},b.getFieldFromElem=function(a,b){var c=a.split("."),d=b;return _.each(c,function(a){d&&(d=d[a])}),angular.copy(d)},b.setIdToElem=function(a,c){return b.setFieldToElem(b.restangularFields.id,a,c),this},b.getIdFromElem=function(a){return b.getFieldFromElem(b.restangularFields.id,a)},b.isValidId=function(a){return""!==a&&!_.isUndefined(a)&&!_.isNull(a)},b.setUrlToElem=function(a,c){return b.setFieldToElem(b.restangularFields.selfLink,a,c),this},b.getUrlFromElem=function(a){return b.getFieldFromElem(b.restangularFields.selfLink,a)},b.useCannonicalId=!_.isUndefined(b.useCannonicalId)&&b.useCannonicalId,a.setUseCannonicalId=function(a){return b.useCannonicalId=a,this},b.getCannonicalIdFromElem=function(a){var c=a[b.restangularFields.cannonicalId],d=b.isValidId(c)?c:b.getIdFromElem(a);return d},b.responseInterceptors=b.responseInterceptors||[],b.defaultResponseInterceptor=function(a){return a},b.responseExtractor=function(a,c,d,e,f,g){var h=angular.copy(b.responseInterceptors);h.push(b.defaultResponseInterceptor);var i=a;return _.each(h,function(a){i=a(i,c,d,e,f,g)}),i},a.addResponseInterceptor=function(a){return b.responseInterceptors.push(a),this},b.errorInterceptors=b.errorInterceptors||[],a.addErrorInterceptor=function(a){return b.errorInterceptors.push(a),this},a.setResponseInterceptor=a.addResponseInterceptor,a.setResponseExtractor=a.addResponseInterceptor,a.setErrorInterceptor=a.addErrorInterceptor,b.requestInterceptors=b.requestInterceptors||[],b.defaultInterceptor=function(a,b,c,d,e,f,g){return{element:a,headers:e,params:f,httpConfig:g}},b.fullRequestInterceptor=function(a,c,d,e,f,g,h){var i=angular.copy(b.requestInterceptors),j=b.defaultInterceptor(a,c,d,e,f,g,h);return _.reduce(i,function(a,b){return _.extend(a,b(a.element,c,d,e,a.headers,a.params,a.httpConfig))},j)},a.addRequestInterceptor=function(a){return b.requestInterceptors.push(function(b,c,d,e,f,g,h){return{headers:f,params:g,element:a(b,c,d,e),httpConfig:h}}),this},a.setRequestInterceptor=a.addRequestInterceptor,a.addFullRequestInterceptor=function(a){return b.requestInterceptors.push(a),this},a.setFullRequestInterceptor=a.addFullRequestInterceptor,b.onBeforeElemRestangularized=b.onBeforeElemRestangularized||function(a){return a},a.setOnBeforeElemRestangularized=function(a){return b.onBeforeElemRestangularized=a,this},a.setRestangularizePromiseInterceptor=function(a){return b.restangularizePromiseInterceptor=a,this},b.onElemRestangularized=b.onElemRestangularized||function(a){return a},a.setOnElemRestangularized=function(a){return b.onElemRestangularized=a,this},b.shouldSaveParent=b.shouldSaveParent||function(){return!0},a.setParentless=function(a){return _.isArray(a)?b.shouldSaveParent=function(b){return!_.includes(a,b)}:_.isBoolean(a)&&(b.shouldSaveParent=function(){return!a}),this},b.suffix=_.isUndefined(b.suffix)?null:b.suffix,a.setRequestSuffix=function(a){return b.suffix=a,this},b.transformers=b.transformers||{},a.addElementTransformer=function(c,d,e){var f=null,g=null;2===arguments.length?g=d:(g=e,f=d);var h=b.transformers[c];return h||(h=b.transformers[c]=[]),h.push(function(a,b){return _.isNull(f)||a===f?g(b):b}),a},a.extendCollection=function(b,c){return a.addElementTransformer(b,!0,c)},a.extendModel=function(b,c){return a.addElementTransformer(b,!1,c)},b.transformElem=function(a,c,d,e,f){if(!f&&!b.transformLocalElements&&!a[b.restangularFields.fromServer])return a;var g=b.transformers[d],h=a;return g&&_.each(g,function(a){h=a(c,h)}),b.onElemRestangularized(h,c,d,e)},b.transformLocalElements=!_.isUndefined(b.transformLocalElements)&&b.transformLocalElements,a.setTransformOnlyServerElements=function(a){b.transformLocalElements=!a},b.fullResponse=!_.isUndefined(b.fullResponse)&&b.fullResponse,a.setFullResponse=function(a){return b.fullResponse=a,this},b.urlCreatorFactory={};var f=function(){};f.prototype.setConfig=function(a){return this.config=a,this},f.prototype.parentsArray=function(a){for(var b=[];a;)b.push(a),a=a[this.config.restangularFields.parentResource];return b.reverse()},f.prototype.resource=function(a,d,e,f,g,h,i,j){var k=_.defaults(g||{},this.config.defaultRequestParams.common),l=_.defaults(f||{},this.config.defaultHeaders);i&&(b.isSafe(j)?l["If-None-Match"]=i:l["If-Match"]=i);var m=this.base(a);if(h){var n="";/\/$/.test(m)||(n+="/"),n+=h,m+=n}return this.config.suffix&&m.indexOf(this.config.suffix,m.length-this.config.suffix.length)===-1&&!this.config.getUrlFromElem(a)&&(m+=this.config.suffix),a[this.config.restangularFields.httpConfig]=void 0,c(this.config,d,m,{getList:this.config.withHttpValues(e,{method:"GET",params:k,headers:l}),get:this.config.withHttpValues(e,{method:"GET",params:k,headers:l}),jsonp:this.config.withHttpValues(e,{method:"jsonp",params:k,headers:l}),put:this.config.withHttpValues(e,{method:"PUT",params:k,headers:l}),post:this.config.withHttpValues(e,{method:"POST",params:k,headers:l}),remove:this.config.withHttpValues(e,{method:"DELETE",params:k,headers:l}),head:this.config.withHttpValues(e,{method:"HEAD",params:k,headers:l}),trace:this.config.withHttpValues(e,{method:"TRACE",params:k,headers:l}),options:this.config.withHttpValues(e,{method:"OPTIONS",params:k,headers:l}),patch:this.config.withHttpValues(e,{method:"PATCH",params:k,headers:l})})};var g=function(){};g.prototype=new f,g.prototype.normalizeUrl=function(a){var b=/(http[s]?:\/\/)?(.*)?/.exec(a);return b[2]=b[2].replace(/[\\\/]+/g,"/"),"undefined"!=typeof b[1]?b[1]+b[2]:b[2]},g.prototype.base=function(a){var c=this;return _.reduce(this.parentsArray(a),function(a,d){var e,f=c.config.getUrlFromElem(d);if(f){if(c.config.isAbsoluteUrl(f))return f;e=f}else if(e=d[c.config.restangularFields.route],d[c.config.restangularFields.restangularCollection]){var g=d[c.config.restangularFields.ids];g&&(e+="/"+g.join(","))}else{var h;h=c.config.useCannonicalId?c.config.getCannonicalIdFromElem(d):c.config.getIdFromElem(d),b.isValidId(h)&&!d.singleOne&&(e+="/"+(c.config.encodeIds?encodeURIComponent(h):h))}return a=a.replace(/\/$/,"")+"/"+e,c.normalizeUrl(a)},this.config.baseUrl)},g.prototype.fetchUrl=function(a,b){var c=this.base(a);return b&&(c+="/"+b),c},g.prototype.fetchRequestedUrl=function(a,c){function d(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function e(a,b,c){for(var e=d(a),f=0;f<e.length;f++)b.call(c,a[e[f]],e[f]);return e}function f(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}var g=this.fetchUrl(a,c),h=a[b.restangularFields.reqParams];if(!h)return g+(this.config.suffix||"");var i=[];return e(h,function(a,b){null!==a&&void 0!==a&&(angular.isArray(a)||(a=[a]),angular.forEach(a,function(a){angular.isObject(a)&&(a=angular.toJson(a)),i.push(f(b)+"="+f(a))}))}),g+(this.config.suffix||"")+(g.indexOf("?")===-1?"?":"&")+i.join("&")},b.urlCreatorFactory.path=g};var b={};a.init(this,b),this.$get=["$http","$q",function(c,d){function e(b){function f(a,c,d,e,f){if(c[b.restangularFields.route]=d,c[b.restangularFields.getRestangularUrl]=_.bind(P.fetchUrl,P,c),c[b.restangularFields.getRequestedUrl]=_.bind(P.fetchRequestedUrl,P,c),c[b.restangularFields.addRestangularMethod]=_.bind(L,c),c[b.restangularFields.clone]=_.bind(r,c,c),c[b.restangularFields.reqParams]=_.isEmpty(e)?null:e,c[b.restangularFields.withHttpConfig]=_.bind(z,c),c[b.restangularFields.plain]=_.bind(p,c,c),c[b.restangularFields.restangularized]=!0,c[b.restangularFields.one]=_.bind(g,c,c),c[b.restangularFields.all]=_.bind(h,c,c),c[b.restangularFields.several]=_.bind(i,c,c),c[b.restangularFields.oneUrl]=_.bind(j,c,c),c[b.restangularFields.allUrl]=_.bind(k,c,c),c[b.restangularFields.fromServer]=!!f,a&&b.shouldSaveParent(d)){var l=b.getIdFromElem(a),m=b.getUrlFromElem(a),n=_.union(_.values(_.pick(b.restangularFields,["route","singleOne","parentResource"])),b.extraFields),o=_.pick(a,n);b.isValidId(l)&&b.setIdToElem(o,l,d),b.isValidId(m)&&b.setUrlToElem(o,m,d),c[b.restangularFields.parentResource]=o}else c[b.restangularFields.parentResource]=null;return c}function g(a,c,d,e){var f;if(_.isNumber(c)||_.isNumber(a))throw f="You're creating a Restangular entity with the number ",f+="instead of the route or the parent. For example, you can't call .one(12).",new Error(f);if(_.isUndefined(c))throw f="You're creating a Restangular entity either without the path. ",f+="For example you can't call .one(). Please check if your arguments are valid.",new Error(f);var g={};return b.setIdToElem(g,d,c),b.setFieldToElem(b.restangularFields.singleOne,g,e),s(a,g,c,!1)}function h(a,b){return t(a,[],b,!1)}function i(a,c){var d=[];return d[b.restangularFields.ids]=Array.prototype.splice.call(arguments,2),t(a,d,c,!1)}function j(a,c,d){if(!c)throw new Error("Route is mandatory when creating new Restangular objects.");var e={};return b.setUrlToElem(e,d,c),s(a,e,c,!1)}function k(a,c,d){if(!c)throw new Error("Route is mandatory when creating new Restangular objects.");var e={};return b.setUrlToElem(e,d,c),t(a,e,c,!1)}function l(a,c,d){return a.call=_.bind(m,a),a.get=_.bind(n,a),a[b.restangularFields.restangularCollection]=c,c&&(a.push=_.bind(m,a,"push")),a.$object=d,b.restangularizePromiseInterceptor&&b.restangularizePromiseInterceptor(a),a}function m(a){var c=d.defer(),e=arguments,f={};return this.then(function(b){var d=Array.prototype.slice.call(e,1),g=b[a];g.apply(b,d),f=b,c.resolve(b)}),l(c.promise,this[b.restangularFields.restangularCollection],f)}function n(a){var c=d.defer(),e={};return this.then(function(b){e=b[a],c.resolve(e)}),l(c.promise,this[b.restangularFields.restangularCollection],e)}function o(a,c,d,e){return _.extend(e,d),b.fullResponse?a.resolve(_.extend(c,{data:d})):void a.resolve(d)}function p(a){if(_.isArray(a)){var c=[];return _.each(a,function(a){c.push(b.isRestangularized(a)?p(a):a)}),c}return _.omit(a,_.values(_.omit(b.restangularFields,"id")))}function q(a){a[b.restangularFields.customOperation]=_.bind(K,a),_.each(["put","post","get","delete"],function(b){_.each(["do","custom"],function(c){var d,e="delete"===b?"remove":b,f=c+b.toUpperCase();d="put"!==e&&"post"!==e?K:function(a,b,c,d,e){return _.bind(K,this)(a,c,d,e,b)},a[f]=_.bind(d,a,e)})}),a[b.restangularFields.customGETLIST]=_.bind(y,a),a[b.restangularFields.doGETLIST]=a[b.restangularFields.customGETLIST]}function r(a,c){var d=angular.copy(a,c);return s(d[b.restangularFields.parentResource],d,d[b.restangularFields.route],!0)}function s(a,c,d,e,g,h){var i=b.onBeforeElemRestangularized(c,!1,d),j=f(a,i,d,h,e);return b.useCannonicalId&&(j[b.restangularFields.cannonicalId]=b.getIdFromElem(j)),g&&(j[b.restangularFields.getParentList]=function(){return g}),j[b.restangularFields.restangularCollection]=!1,j[b.restangularFields.get]=_.bind(C,j),j[b.restangularFields.getList]=_.bind(y,j),j[b.restangularFields.put]=_.bind(E,j),j[b.restangularFields.post]=_.bind(F,j),j[b.restangularFields.remove]=_.bind(D,j),j[b.restangularFields.head]=_.bind(G,j),j[b.restangularFields.trace]=_.bind(H,j),j[b.restangularFields.options]=_.bind(I,j),j[b.restangularFields.patch]=_.bind(J,j),j[b.restangularFields.save]=_.bind(A,j),q(j),b.transformElem(j,!1,d,O,!0)}function t(a,c,d,e,g){var h=b.onBeforeElemRestangularized(c,!0,d),i=f(a,h,d,g,e);return i[b.restangularFields.restangularCollection]=!0,i[b.restangularFields.post]=_.bind(F,i,null),i[b.restangularFields.remove]=_.bind(D,i),i[b.restangularFields.head]=_.bind(G,i),i[b.restangularFields.trace]=_.bind(H,i),i[b.restangularFields.putElement]=_.bind(w,i),i[b.restangularFields.options]=_.bind(I,i),i[b.restangularFields.patch]=_.bind(J,i),i[b.restangularFields.get]=_.bind(v,i),i[b.restangularFields.getList]=_.bind(y,i,null),q(i),b.transformElem(i,!0,d,O,!0)}function u(a,b,c){var d=t(a,b,c,!1);return _.each(d,function(b){s(a,b,c,!1)}),d}function v(a,b,c){return this.customGET(a.toString(),b,c)}function w(a,c,e){var f=this,g=this[a],h=d.defer(),i=[];return i=b.transformElem(i,!0,g[b.restangularFields.route],O),g.put(c,e).then(function(b){var c=r(f);c[a]=b,i=c,h.resolve(c)},function(a){h.reject(a)}),l(h.promise,!0,i)}function x(a,c,d,e,f,g){var h=b.responseExtractor(a,c,d,e,f,g),i=f.headers("ETag");return h&&i&&(h[b.restangularFields.etag]=i),h}function y(a,e,f){var g=this,h=d.defer(),i="getList",j=P.fetchUrl(this,a),k=a||g[b.restangularFields.route],m=b.fullRequestInterceptor(null,i,k,j,f||{},e||{},this[b.restangularFields.httpConfig]||{}),n=[];n=b.transformElem(n,!0,k,O);var p="getList";b.jsonp&&(p="jsonp");var q=function(c){var d=c.data,e=c.config.params,f=x(d,i,k,j,c,h);if((_.isUndefined(f)||""===f)&&(f=[]),!_.isArray(f))throw new Error("Response for getList SHOULD be an array and not an object or something else");var l=_.map(f,function(c){return g[b.restangularFields.restangularCollection]?s(g[b.restangularFields.parentResource],c,g[b.restangularFields.route],!0,f):s(g,c,a,!0,f)});l=_.extend(f,l),g[b.restangularFields.restangularCollection]?o(h,c,t(g[b.restangularFields.parentResource],l,g[b.restangularFields.route],!0,e),n):o(h,c,t(g,l,a,!0,e),n)};return P.resource(this,c,m.httpConfig,m.headers,m.params,a,this[b.restangularFields.etag],i)[p]().then(q,function(a){304===a.status&&g[b.restangularFields.restangularCollection]?o(h,a,g,n):_.every(b.errorInterceptors,function(b){return b(a,h,q)!==!1})&&h.reject(a)}),l(h.promise,!0,n)}function z(a){return this[b.restangularFields.httpConfig]=a,this}function A(a,c){return this[b.restangularFields.fromServer]?this[b.restangularFields.put](a,c):_.bind(B,this)("post",void 0,a,void 0,c)}function B(a,e,f,g,h){var i=this,j=d.defer(),k=f||{},m=e||this[b.restangularFields.route],n=P.fetchUrl(this,e),q=g||this,r=q[b.restangularFields.etag]||("post"!==a?this[b.restangularFields.etag]:null);_.isObject(q)&&b.isRestangularized(q)&&(q=p(q));var t=b.fullRequestInterceptor(q,a,m,n,h||{},k||{},this[b.restangularFields.httpConfig]||{}),u={};u=b.transformElem(u,!1,m,O);var v=function(c){var d=c.data,e=c.config.params,f=x(d,a,m,n,c,j);if(f){var g;"post"!==a||i[b.restangularFields.restangularCollection]?(g=s(i[b.restangularFields.parentResource],f,i[b.restangularFields.route],!0,null,e),g[b.restangularFields.singleOne]=i[b.restangularFields.singleOne],o(j,c,g,u)):(g=s(i[b.restangularFields.parentResource],f,m,!0,null,e),o(j,c,g,u))}else o(j,c,void 0,u)},w=function(c){304===c.status&&b.isSafe(a)?o(j,c,i,u):_.every(b.errorInterceptors,function(a){return a(c,j,v)!==!1})&&j.reject(c)},y=a,z=_.extend({},t.headers),A=b.isOverridenMethod(a);return A?(y="post",z=_.extend(z,{"X-HTTP-Method-Override":"remove"===a?"DELETE":a.toUpperCase()})):b.jsonp&&"get"===y&&(y="jsonp"),b.isSafe(a)?A?P.resource(this,c,t.httpConfig,z,t.params,e,r,y)[y]({}).then(v,w):P.resource(this,c,t.httpConfig,z,t.params,e,r,y)[y]().then(v,w):P.resource(this,c,t.httpConfig,z,t.params,e,r,y)[y](t.element).then(v,w),l(j.promise,!1,u)}function C(a,b){return _.bind(B,this)("get",void 0,a,void 0,b)}function D(a,b){return _.bind(B,this)("remove",void 0,a,void 0,b)}function E(a,b){return _.bind(B,this)("put",void 0,a,void 0,b)}function F(a,b,c,d){return _.bind(B,this)("post",a,c,b,d)}function G(a,b){return _.bind(B,this)("head",void 0,a,void 0,b)}function H(a,b){return _.bind(B,this)("trace",void 0,a,void 0,b)}function I(a,b){return _.bind(B,this)("options",void 0,a,void 0,b)}function J(a,b,c){return _.bind(B,this)("patch",void 0,b,a,c)}function K(a,b,c,d,e){return _.bind(B,this)(a,b,c,e,d)}function L(a,c,d,e,f,g){var h;h="getList"===c?_.bind(y,this,d):_.bind(K,this,c,d);var i=function(a,b,c){var d=_.defaults({params:a,headers:b,elem:c},{params:e,headers:f,elem:g});return h(d.params,d.headers,d.elem)};b.isSafe(c)?this[a]=i:this[a]=function(a,b,c){return i(b,c,a)}}function M(c){var d=angular.copy(_.omit(b,"configuration"));return a.init(d,d),c(d),e(d)}function N(a,c){var d=_.values(b.restangularFields),e={},f=(c||O).all(a);e.one=_.bind(g,c||O,c,a),e.post=_.bind(f.post,f),e.getList=_.bind(f.getList,f);for(var h in f)f.hasOwnProperty(h)&&_.isFunction(f[h])&&!_.includes(d,h)&&(e[h]=_.bind(f[h],f));return e}var O={},P=new b.urlCreatorFactory[b.urlCreator];return P.setConfig(b),a.init(O,b),O.copy=_.bind(r,O),O.service=_.bind(N,O),O.withConfig=_.bind(M,O),O.one=_.bind(g,O,null),O.all=_.bind(h,O,null),O.several=_.bind(i,O,null),O.oneUrl=_.bind(j,O,null),O.allUrl=_.bind(k,O,null),O.stripRestangular=_.bind(p,O),O.restangularizeElement=_.bind(s,O),O.restangularizeCollection=_.bind(u,O),O}return e(b)}]})}(),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.satellizer=b()}(this,function(){"use strict";function a(a,b){if(/^(?:[a-z]+:)?\/\//i.test(b))return b;var c=[a,b].join("/"),d=function(a){return a.replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")};return d(c)}function b(a){var b="https:"===a.protocol;return a.protocol+"//"+a.hostname+":"+(a.port||(b?"443":"80"))+(/^\//.test(a.pathname)?a.pathname:"/"+a.pathname)}function c(a){var b,c,d={};return angular.forEach((a||"").split("&"),function(a){a&&(c=a.split("="),b=decodeURIComponent(c[0]),d[b]=!angular.isDefined(c[1])||decodeURIComponent(c[1]))}),d}function d(a){var b;if("undefined"!=typeof module&&module.exports)try{b=require("buffer").Buffer}catch(a){}var c=String.fromCharCode,d=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),e=function(a){switch(a.length){case 4:var b=(7&a.charCodeAt(0))<<18|(63&a.charCodeAt(1))<<12|(63&a.charCodeAt(2))<<6|63&a.charCodeAt(3),d=b-65536;return c((d>>>10)+55296)+c((1023&d)+56320);case 3:return c((15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2));default:return c((31&a.charCodeAt(0))<<6|63&a.charCodeAt(1))}},f=function(a){return a.replace(d,e)},g=b?function(a){return(a.constructor===b.constructor?a:new b(a,"base64")).toString()}:function(a){return f(atob(a))};return g(String(a).replace(/[-_]/g,function(a){return"-"===a?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))}var e=function(){function a(){this.baseUrl="/",this.loginUrl="/auth/login",this.signupUrl="/auth/signup",this.unlinkUrl="/auth/unlink/",this.tokenName="token",this.tokenPrefix="satellizer",this.tokenHeader="Authorization",this.tokenType="Bearer",this.storageType="localStorage",this.tokenRoot=null,this.withCredentials=!1,this.providers={facebook:{name:"facebook",url:"/auth/facebook",authorizationEndpoint:"https://www.facebook.com/v2.5/dialog/oauth",redirectUri:window.location.origin+"/",requiredUrlParams:["display","scope"],scope:["email"],scopeDelimiter:",",display:"popup",oauthType:"2.0",popupOptions:{width:580,height:400}},google:{name:"google",url:"/auth/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:window.location.origin,requiredUrlParams:["scope"],optionalUrlParams:["display","state"],scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:452,height:633},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}},github:{name:"github",url:"/auth/github",authorizationEndpoint:"https://github.com/login/oauth/authorize",redirectUri:window.location.origin,optionalUrlParams:["scope"],scope:["user:email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1020,height:618}},instagram:{name:"instagram",url:"/auth/instagram",authorizationEndpoint:"https://api.instagram.com/oauth/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["basic"],scopeDelimiter:"+",oauthType:"2.0"},linkedin:{name:"linkedin",url:"/auth/linkedin",authorizationEndpoint:"https://www.linkedin.com/uas/oauth2/authorization",redirectUri:window.location.origin,requiredUrlParams:["state"],scope:["r_emailaddress"],scopeDelimiter:" ",state:"STATE",oauthType:"2.0",popupOptions:{width:527,height:582}},twitter:{name:"twitter",url:"/auth/twitter",authorizationEndpoint:"https://api.twitter.com/oauth/authenticate",redirectUri:window.location.origin,oauthType:"1.0",popupOptions:{width:495,height:645}},twitch:{name:"twitch",url:"/auth/twitch",authorizationEndpoint:"https://api.twitch.tv/kraken/oauth2/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["user_read"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},live:{name:"live",url:"/auth/live",authorizationEndpoint:"https://login.live.com/oauth20_authorize.srf",redirectUri:window.location.origin,requiredUrlParams:["display","scope"],scope:["wl.emails"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},yahoo:{name:"yahoo",url:"/auth/yahoo",authorizationEndpoint:"https://api.login.yahoo.com/oauth2/request_auth",redirectUri:window.location.origin,scope:[],scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:559,height:519}},bitbucket:{name:"bitbucket",url:"/auth/bitbucket",authorizationEndpoint:"https://bitbucket.org/site/oauth2/authorize",redirectUri:window.location.origin+"/",requiredUrlParams:["scope"],scope:["email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1028,height:529}},spotify:{name:"spotify",url:"/auth/spotify",authorizationEndpoint:"https://accounts.spotify.com/authorize",redirectUri:window.location.origin,optionalUrlParams:["state"],requiredUrlParams:["scope"],scope:["user-read-email"],scopePrefix:"",scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:500,height:530},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}}},this.httpInterceptor=function(){return!0}}return Object.defineProperty(a,"getConstant",{get:function(){return new a},enumerable:!0,configurable:!0}),a}(),f=function(){function a(a){this.SatellizerConfig=a}return Object.defineProperty(a.prototype,"baseUrl",{get:function(){return this.SatellizerConfig.baseUrl},set:function(a){this.SatellizerConfig.baseUrl=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"loginUrl",{get:function(){return this.SatellizerConfig.loginUrl},set:function(a){this.SatellizerConfig.loginUrl=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"signupUrl",{get:function(){return this.SatellizerConfig.signupUrl},set:function(a){this.SatellizerConfig.signupUrl=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"unlinkUrl",{get:function(){return this.SatellizerConfig.unlinkUrl},set:function(a){this.SatellizerConfig.unlinkUrl=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"tokenRoot",{get:function(){return this.SatellizerConfig.tokenRoot},set:function(a){this.SatellizerConfig.tokenRoot=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"tokenName",{get:function(){return this.SatellizerConfig.tokenName},set:function(a){this.SatellizerConfig.tokenName=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"tokenPrefix",{get:function(){return this.SatellizerConfig.tokenPrefix},set:function(a){this.SatellizerConfig.tokenPrefix=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"tokenHeader",{get:function(){return this.SatellizerConfig.tokenHeader},set:function(a){this.SatellizerConfig.tokenHeader=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"tokenType",{get:function(){return this.SatellizerConfig.tokenType},set:function(a){this.SatellizerConfig.tokenType=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"withCredentials",{get:function(){return this.SatellizerConfig.withCredentials},set:function(a){this.SatellizerConfig.withCredentials=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"storageType",{get:function(){return this.SatellizerConfig.storageType},set:function(a){this.SatellizerConfig.storageType=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"httpInterceptor",{get:function(){return this.SatellizerConfig.httpInterceptor},set:function(a){"function"==typeof a?this.SatellizerConfig.httpInterceptor=a:this.SatellizerConfig.httpInterceptor=function(){return a}},enumerable:!0,configurable:!0}),a.prototype.facebook=function(a){angular.extend(this.SatellizerConfig.providers.facebook,a)},a.prototype.google=function(a){angular.extend(this.SatellizerConfig.providers.google,a)},a.prototype.github=function(a){angular.extend(this.SatellizerConfig.providers.github,a)},a.prototype.instagram=function(a){angular.extend(this.SatellizerConfig.providers.instagram,a)},a.prototype.linkedin=function(a){angular.extend(this.SatellizerConfig.providers.linkedin,a)},a.prototype.twitter=function(a){angular.extend(this.SatellizerConfig.providers.twitter,a)},a.prototype.twitch=function(a){angular.extend(this.SatellizerConfig.providers.twitch,a)},a.prototype.live=function(a){angular.extend(this.SatellizerConfig.providers.live,a)},a.prototype.yahoo=function(a){angular.extend(this.SatellizerConfig.providers.yahoo,a)},a.prototype.bitbucket=function(a){angular.extend(this.SatellizerConfig.providers.bitbucket,a)},a.prototype.spotify=function(a){angular.extend(this.SatellizerConfig.providers.spotify,a)},a.prototype.oauth1=function(a){this.SatellizerConfig.providers[a.name]=angular.extend(a,{oauthType:"1.0"})},a.prototype.oauth2=function(a){this.SatellizerConfig.providers[a.name]=angular.extend(a,{oauthType:"2.0"})},a.prototype.$get=function(a,b,c){return{login:function(a,c){return b.login(a,c)},signup:function(a,c){return b.signup(a,c)},logout:function(){return a.logout()},authenticate:function(a,b){return c.authenticate(a,b)},link:function(a,b){return c.authenticate(a,b)},unlink:function(a,b){return c.unlink(a,b)},isAuthenticated:function(){return a.isAuthenticated()},getPayload:function(){return a.getPayload()},getToken:function(){return a.getToken()},setToken:function(b){return a.setToken({access_token:b})},removeToken:function(){return a.removeToken()},setStorageType:function(b){return a.setStorageType(b)}}},a.$inject=["SatellizerConfig"],a}();f.prototype.$get.$inject=["SatellizerShared","SatellizerLocal","SatellizerOAuth"];var g=function(){function a(a,b,c,d){this.$q=a,this.$window=b,this.SatellizerConfig=c,this.SatellizerStorage=d;var e=this.SatellizerConfig,f=e.tokenName,g=e.tokenPrefix;
this.prefixedTokenName=g?[g,f].join("_"):f}return a.prototype.getToken=function(){return this.SatellizerStorage.get(this.prefixedTokenName)},a.prototype.getPayload=function(){var a=this.SatellizerStorage.get(this.prefixedTokenName);if(a&&3===a.split(".").length)try{var b=a.split(".")[1],c=b.replace("-","+").replace("_","/");return JSON.parse(d(c))}catch(a){}},a.prototype.setToken=function(a){var b,c=this.SatellizerConfig.tokenRoot,d=this.SatellizerConfig.tokenName,e=a&&a.access_token;if(e&&(angular.isObject(e)&&angular.isObject(e.data)?a=e:angular.isString(e)&&(b=e)),!b&&a){var f=c&&c.split(".").reduce(function(a,b){return a[b]},a.data);b=f?f[d]:a.data&&a.data[d]}b&&this.SatellizerStorage.set(this.prefixedTokenName,b)},a.prototype.removeToken=function(){this.SatellizerStorage.remove(this.prefixedTokenName)},a.prototype.isAuthenticated=function(){var a=this.SatellizerStorage.get(this.prefixedTokenName);if(a){if(3===a.split(".").length)try{var b=a.split(".")[1],c=b.replace("-","+").replace("_","/"),d=JSON.parse(this.$window.atob(c)).exp;if("number"==typeof d)return Math.round((new Date).getTime()/1e3)<d}catch(a){return!0}return!0}return!1},a.prototype.logout=function(){return this.SatellizerStorage.remove(this.prefixedTokenName),this.$q.when()},a.prototype.setStorageType=function(a){this.SatellizerConfig.storageType=a},a.$inject=["$q","$window","SatellizerConfig","SatellizerStorage"],a}(),h=function(){function b(a,b,c){this.$http=a,this.SatellizerConfig=b,this.SatellizerShared=c}return b.prototype.login=function(b,c){var d=this;return void 0===c&&(c={}),c.url=c.url?c.url:a(this.SatellizerConfig.baseUrl,this.SatellizerConfig.loginUrl),c.data=b||c.data,c.method=c.method||"POST",c.withCredentials=c.withCredentials||this.SatellizerConfig.withCredentials,this.$http(c).then(function(a){return d.SatellizerShared.setToken(a),a})},b.prototype.signup=function(b,c){return void 0===c&&(c={}),c.url=c.url?c.url:a(this.SatellizerConfig.baseUrl,this.SatellizerConfig.signupUrl),c.data=b||c.data,c.method=c.method||"POST",c.withCredentials=c.withCredentials||this.SatellizerConfig.withCredentials,this.$http(c)},b.$inject=["$http","SatellizerConfig","SatellizerShared"],b}(),i=function(){function a(a,b,c){this.$interval=a,this.$window=b,this.$q=c,this.popup=null,this.defaults={redirectUri:null}}return a.prototype.stringifyOptions=function(a){var b=[];return angular.forEach(a,function(a,c){b.push(c+"="+a)}),b.join(",")},a.prototype.open=function(a,b,c,d,e){var f=c.width||500,g=c.height||500,h=this.stringifyOptions({width:f,height:g,top:this.$window.screenY+(this.$window.outerHeight-g)/2.5,left:this.$window.screenX+(this.$window.outerWidth-f)/2}),i=this.$window.cordova||this.$window.navigator.userAgent.indexOf("CriOS")>-1?"_blank":b;if(this.popup=this.$window.open(a,i,h),this.popup&&this.popup.focus&&this.popup.focus(),!e)return this.$window.cordova?this.eventListener(d):("about:blank"===a&&(this.popup.location=a),this.polling(d))},a.prototype.polling=function(a){var d=this;return this.$q(function(e,f){var g=document.createElement("a");g.href=a;var h=b(g),i=d.$interval(function(){d.popup&&!d.popup.closed&&void 0!==d.popup.closed||(d.$interval.cancel(i),f(new Error("The popup window was closed")));try{var a=b(d.popup.location);if(a===h){if(d.popup.location.search||d.popup.location.hash){var g=c(d.popup.location.search.substring(1).replace(/\/$/,"")),j=c(d.popup.location.hash.substring(1).replace(/[\/$]/,"")),k=angular.extend({},g,j);k.error?f(new Error(k.error)):e(k)}else f(new Error("OAuth redirect has occurred but no query or hash parameters were found. They were either not set during the redirect, or were removed—typically by a routing library—before Satellizer could read it."));d.$interval.cancel(i),d.popup.close()}}catch(a){}},500)})},a.prototype.eventListener=function(a){var b=this;return this.$q(function(d,e){b.popup.addEventListener("loadstart",function(f){if(0===f.url.indexOf(a)){var g=document.createElement("a");if(g.href=f.url,g.search||g.hash){var h=c(g.search.substring(1).replace(/\/$/,"")),i=c(g.hash.substring(1).replace(/[\/$]/,"")),j=angular.extend({},h,i);j.error?e(new Error(j.error)):d(j),b.popup.close()}}}),b.popup.addEventListener("loaderror",function(){e(new Error("Authorization failed"))}),b.popup.addEventListener("exit",function(){e(new Error("The popup window was closed"))})})},a.$inject=["$interval","$window","$q"],a}(),j=function(){function b(a,b,c,d){this.$http=a,this.$window=b,this.SatellizerConfig=c,this.SatellizerPopup=d,this.defaults={name:null,url:null,authorizationEndpoint:null,scope:null,scopePrefix:null,scopeDelimiter:null,redirectUri:null,requiredUrlParams:null,defaultUrlParams:null,oauthType:"1.0",popupOptions:{width:null,height:null}}}return b.prototype.init=function(a,b){var c=this;angular.extend(this.defaults,a);var d=a.name,e=a.popupOptions,f=this.defaults.redirectUri;return this.$window.cordova||this.SatellizerPopup.open("about:blank",d,e,f,!0),this.getRequestToken().then(function(d){return c.openPopup(a,d).then(function(a){return c.exchangeForToken(a,b)})})},b.prototype.openPopup=function(a,b){var c=[a.authorizationEndpoint,this.buildQueryString(b.data)].join("?"),d=this.defaults.redirectUri;return this.$window.cordova?this.SatellizerPopup.open(c,a.name,a.popupOptions,d):(this.SatellizerPopup.popup.location=c,this.SatellizerPopup.polling(d))},b.prototype.getRequestToken=function(){var b=this.SatellizerConfig.baseUrl?a(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(b,this.defaults)},b.prototype.exchangeForToken=function(b,c){var d=angular.extend({},c,b),e=this.SatellizerConfig.baseUrl?a(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(e,d,{withCredentials:this.SatellizerConfig.withCredentials})},b.prototype.buildQueryString=function(a){var b=[];return angular.forEach(a,function(a,c){b.push(encodeURIComponent(c)+"="+encodeURIComponent(a))}),b.join("&")},b.$inject=["$http","$window","SatellizerConfig","SatellizerPopup"],b}(),k=function(){function b(a,b,c,d,e,f,g){this.$http=a,this.$window=b,this.$timeout=c,this.$q=d,this.SatellizerConfig=e,this.SatellizerPopup=f,this.SatellizerStorage=g,this.defaults={name:null,url:null,clientId:null,authorizationEndpoint:null,redirectUri:null,scope:null,scopePrefix:null,scopeDelimiter:null,state:null,requiredUrlParams:null,defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"},oauthType:"2.0",popupOptions:{width:null,height:null}}}return b.camelCase=function(a){return a.replace(/([\:\-\_]+(.))/g,function(a,b,c,d){return d?c.toUpperCase():c})},b.prototype.init=function(a,b){var c=this;return this.$q(function(d,e){angular.extend(c.defaults,a);var f=c.defaults.name+"_state",g=c.defaults,h=g.name,i=g.state,j=g.popupOptions,k=g.redirectUri,l=g.responseType;"function"==typeof i?c.SatellizerStorage.set(f,i()):"string"==typeof i&&c.SatellizerStorage.set(f,i);var m=[c.defaults.authorizationEndpoint,c.buildQueryString()].join("?");c.SatellizerPopup.open(m,h,j,k).then(function(a){return"token"!==l&&m?a.state&&a.state!==c.SatellizerStorage.get(f)?e(new Error("The value returned in the state parameter does not match the state value from your original authorization code request.")):void d(c.exchangeForToken(a,b)):d(a)}).catch(function(a){return e(a)})})},b.prototype.exchangeForToken=function(b,c){var d=this,e=angular.extend({},c);angular.forEach(this.defaults.responseParams,function(a,c){switch(c){case"code":e[a]=b.code;break;case"clientId":e[a]=d.defaults.clientId;break;case"redirectUri":e[a]=d.defaults.redirectUri;break;default:e[a]=b[c]}}),b.state&&(e.state=b.state);var f=this.SatellizerConfig.baseUrl?a(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(f,e,{withCredentials:this.SatellizerConfig.withCredentials})},b.prototype.buildQueryString=function(){var a=this,c=[],d=["defaultUrlParams","requiredUrlParams","optionalUrlParams"];return angular.forEach(d,function(d){angular.forEach(a.defaults[d],function(d){var e=b.camelCase(d),f=angular.isFunction(a.defaults[d])?a.defaults[d]():a.defaults[e];if("redirect_uri"!==d||f){if("state"===d){var g=a.defaults.name+"_state";f=encodeURIComponent(a.SatellizerStorage.get(g))}"scope"===d&&Array.isArray(f)&&(f=f.join(a.defaults.scopeDelimiter),a.defaults.scopePrefix&&(f=[a.defaults.scopePrefix,f].join(a.defaults.scopeDelimiter))),c.push([d,f])}})}),c.map(function(a){return a.join("=")}).join("&")},b.$inject=["$http","$window","$timeout","$q","SatellizerConfig","SatellizerPopup","SatellizerStorage"],b}(),l=function(){function b(a,b,c,d,e,f,g,h,i,j){this.$http=a,this.$window=b,this.$timeout=c,this.$q=d,this.SatellizerConfig=e,this.SatellizerPopup=f,this.SatellizerStorage=g,this.SatellizerShared=h,this.SatellizerOAuth1=i,this.SatellizerOAuth2=j}return b.prototype.authenticate=function(a,b){var c=this;return this.$q(function(d,e){var f=c.SatellizerConfig.providers[a],g=null;switch(f.oauthType){case"1.0":g=new j(c.$http,c.$window,c.SatellizerConfig,c.SatellizerPopup);break;case"2.0":g=new k(c.$http,c.$window,c.$timeout,c.$q,c.SatellizerConfig,c.SatellizerPopup,c.SatellizerStorage);break;default:return e(new Error("Invalid OAuth Type"))}return g.init(f,b).then(function(a){f.url&&c.SatellizerShared.setToken(a),d(a)}).catch(function(a){e(a)})})},b.prototype.unlink=function(b,c){return void 0===c&&(c={}),c.url=c.url?c.url:a(this.SatellizerConfig.baseUrl,this.SatellizerConfig.unlinkUrl),c.data={provider:b}||c.data,c.method=c.method||"POST",c.withCredentials=c.withCredentials||this.SatellizerConfig.withCredentials,this.$http(c)},b.$inject=["$http","$window","$timeout","$q","SatellizerConfig","SatellizerPopup","SatellizerStorage","SatellizerShared","SatellizerOAuth1","SatellizerOAuth2"],b}(),m=function(){function a(a,b){this.$window=a,this.SatellizerConfig=b,this.memoryStore={}}return a.prototype.get=function(a){try{return this.$window[this.SatellizerConfig.storageType].getItem(a)}catch(b){return this.memoryStore[a]}},a.prototype.set=function(a,b){try{this.$window[this.SatellizerConfig.storageType].setItem(a,b)}catch(c){this.memoryStore[a]=b}},a.prototype.remove=function(a){try{this.$window[this.SatellizerConfig.storageType].removeItem(a)}catch(b){delete this.memoryStore[a]}},a.$inject=["$window","SatellizerConfig"],a}(),n=function(){function a(a,b,c){var d=this;this.SatellizerConfig=a,this.SatellizerShared=b,this.SatellizerStorage=c,this.request=function(a){if(a.skipAuthorization)return a;if(d.SatellizerShared.isAuthenticated()&&d.SatellizerConfig.httpInterceptor()){var b=d.SatellizerConfig.tokenPrefix?[d.SatellizerConfig.tokenPrefix,d.SatellizerConfig.tokenName].join("_"):d.SatellizerConfig.tokenName,c=d.SatellizerStorage.get(b);d.SatellizerConfig.tokenHeader&&d.SatellizerConfig.tokenType&&(c=d.SatellizerConfig.tokenType+" "+c),a.headers[d.SatellizerConfig.tokenHeader]=c}return a}}return a.Factory=function(b,c,d){return new a(b,c,d)},a.$inject=["SatellizerConfig","SatellizerShared","SatellizerStorage"],a}();n.Factory.$inject=["SatellizerConfig","SatellizerShared","SatellizerStorage"];var o=function(){function a(a){this.$httpProvider=a,a.interceptors.push(n.Factory)}return a.$inject=["$httpProvider"],a}();angular.module("satellizer",[]).provider("$auth",["SatellizerConfig",function(a){return new f(a)}]).constant("SatellizerConfig",e.getConstant).service("SatellizerShared",g).service("SatellizerLocal",h).service("SatellizerPopup",i).service("SatellizerOAuth",l).service("SatellizerOAuth2",k).service("SatellizerOAuth1",j).service("SatellizerStorage",m).service("SatellizerInterceptor",n).config(["$httpProvider",function(a){return new o(a)}]);var p="satellizer";return p}),function(a,b,c){function d(b,c){if(a.isArray(b)){for(var d=b.length-1;d>=0;d--){var e=b[d];"string"===a.type(e)&&i.transports[e]||(c.log("Invalid transport: "+e+", removing it from the transports list."),b.splice(d,1))}0===b.length&&(c.log("No transports remain within the specified transport array."),b=null)}else if(i.transports[b]||"auto"===b){if("auto"===b&&i._.ieVersion<=8)return["longPolling"]}else c.log("Invalid transport: "+b.toString()+"."),b=null;return b}function e(a){return"http:"===a?80:"https:"===a?443:void 0}function f(a,b){return b.match(/:\d+$/)?b:b+":"+e(a)}function g(b,c){var d=this,e=[];d.tryBuffer=function(c){return b.state===a.signalR.connectionState.connecting&&(e.push(c),!0)},d.drain=function(){if(b.state===a.signalR.connectionState.connected)for(;e.length>0;)c(e.shift())},d.clear=function(){e=[]}}var h={nojQuery:"jQuery was not found. Please ensure jQuery is referenced before the SignalR client JavaScript file.",noTransportOnInit:"No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.",errorOnNegotiate:"Error during negotiation request.",stoppedWhileLoading:"The connection was stopped during page load.",stoppedWhileNegotiating:"The connection was stopped during the negotiate request.",errorParsingNegotiateResponse:"Error parsing negotiate response.",errorDuringStartRequest:"Error during start request. Stopping the connection.",stoppedDuringStartRequest:"The connection was stopped during the start request.",errorParsingStartResponse:"Error parsing start response: '{0}'. Stopping the connection.",invalidStartResponse:"Invalid start response: '{0}'. Stopping the connection.",protocolIncompatible:"You are using a version of the client that isn't compatible with the server. Client version {0}, server version {1}.",sendFailed:"Send failed.",parseFailed:"Failed at parsing response: {0}",longPollFailed:"Long polling request failed.",eventSourceFailedToConnect:"EventSource failed to connect.",eventSourceError:"Error raised by EventSource",webSocketClosed:"WebSocket closed.",pingServerFailedInvalidResponse:"Invalid ping response when pinging server: '{0}'.",pingServerFailed:"Failed to ping server.",pingServerFailedStatusCode:"Failed to ping server.  Server responded with status code {0}, stopping the connection.",pingServerFailedParse:"Failed to parse ping server response, stopping the connection.",noConnectionTransport:"Connection is in an invalid state, there is no transport active.",webSocketsInvalidState:"The Web Socket transport is in an invalid state, transitioning into reconnecting.",reconnectTimeout:"Couldn't reconnect within the configured timeout of {0} ms, disconnecting.",reconnectWindowTimeout:"The client has been inactive since {0} and it has exceeded the inactivity timeout of {1} ms. Stopping the connection."};if("function"!=typeof a)throw new Error(h.nojQuery);var i,j,k="complete"===b.document.readyState,l=a(b),m="__Negotiate Aborted__",n={onStart:"onStart",onStarting:"onStarting",onReceived:"onReceived",onError:"onError",onConnectionSlow:"onConnectionSlow",onReconnecting:"onReconnecting",onReconnect:"onReconnect",onStateChanged:"onStateChanged",onDisconnect:"onDisconnect"},o={processData:!0,timeout:null,async:!0,global:!1,cache:!1},p=function(a,c){if(c!==!1){var d;"undefined"!=typeof b.console&&(d="["+(new Date).toTimeString()+"] SignalR: "+a,b.console.debug?b.console.debug(d):b.console.log&&b.console.log(d))}},q=function(b,c,d){return c===b.state&&(b.state=d,a(b).triggerHandler(n.onStateChanged,[{oldState:c,newState:d}]),!0)},r=function(a){return a.state===i.connectionState.disconnected},s=function(a){return a._.keepAliveData.activated&&a.transport.supportsKeepAlive(a)},t=function(c){var d,e;c._.configuredStopReconnectingTimeout||(e=function(b){var c=i._.format(i.resources.reconnectTimeout,b.disconnectTimeout);b.log(c),a(b).triggerHandler(n.onError,[i._.error(c,"TimeoutException")]),b.stop(!1,!1)},c.reconnecting(function(){var a=this;a.state===i.connectionState.reconnecting&&(d=b.setTimeout(function(){e(a)},a.disconnectTimeout))}),c.stateChanged(function(a){a.oldState===i.connectionState.reconnecting&&b.clearTimeout(d)}),c._.configuredStopReconnectingTimeout=!0)};i=function(a,b,c){return new i.fn.init(a,b,c)},i._={defaultContentType:"application/x-www-form-urlencoded; charset=UTF-8",ieVersion:function(){var a,c;return"Microsoft Internet Explorer"===b.navigator.appName&&(c=/MSIE ([0-9]+\.[0-9]+)/.exec(b.navigator.userAgent),c&&(a=b.parseFloat(c[1]))),a}(),error:function(a,b,c){var d=new Error(a);return d.source=b,"undefined"!=typeof c&&(d.context=c),d},transportError:function(a,b,d,e){var f=this.error(a,d,e);return f.transport=b?b.name:c,f},format:function(){for(var a=arguments[0],b=0;b<arguments.length-1;b++)a=a.replace("{"+b+"}",arguments[b+1]);return a},firefoxMajorVersion:function(a){var b=a.match(/Firefox\/(\d+)/);return!b||!b.length||b.length<2?0:parseInt(b[1],10)},configurePingInterval:function(c){var d=c._.config,e=function(b){a(c).triggerHandler(n.onError,[b])};d&&!c._.pingIntervalId&&d.pingInterval&&(c._.pingIntervalId=b.setInterval(function(){i.transports._logic.pingServer(c).fail(e)},d.pingInterval))}},i.events=n,i.resources=h,i.ajaxDefaults=o,i.changeState=q,i.isDisconnecting=r,i.connectionState={connecting:0,connected:1,reconnecting:2,disconnected:4},i.hub={start:function(){throw new Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/js'></script>.")}},"function"==typeof l.on?l.on("load",function(){k=!0}):l.load(function(){k=!0}),i.fn=i.prototype={init:function(b,c,d){var e=a(this);this.url=b,this.qs=c,this.lastError=null,this._={keepAliveData:{},connectingMessageBuffer:new g(this,function(a){e.triggerHandler(n.onReceived,[a])}),lastMessageAt:(new Date).getTime(),lastActiveAt:(new Date).getTime(),beatInterval:5e3,beatHandle:null,totalTransportConnectTimeout:0},"boolean"==typeof d&&(this.logging=d)},_parseResponse:function(a){var b=this;return a&&"string"==typeof a?b.json.parse(a):a},_originalJson:b.JSON,json:b.JSON,isCrossDomain:function(c,d){var e;return c=a.trim(c),d=d||b.location,0===c.indexOf("http")&&(e=b.document.createElement("a"),e.href=c,e.protocol+f(e.protocol,e.host)!==d.protocol+f(d.protocol,d.host))},ajaxDataType:"text",contentType:"application/json; charset=UTF-8",logging:!1,state:i.connectionState.disconnected,clientProtocol:"1.5",reconnectDelay:2e3,transportConnectTimeout:0,disconnectTimeout:3e4,reconnectWindow:3e4,keepAliveWarnAt:2/3,start:function(c,e){var f,g=this,j={pingInterval:3e5,waitForPageLoad:!0,transport:"auto",jsonp:!1},o=g._deferral||a.Deferred(),p=b.document.createElement("a");if(g.lastError=null,g._deferral=o,!g.json)throw new Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.");if("function"===a.type(c)?e=c:"object"===a.type(c)&&(a.extend(j,c),"function"===a.type(j.callback)&&(e=j.callback)),j.transport=d(j.transport,g),!j.transport)throw new Error("SignalR: Invalid transport(s) specified, aborting start.");if(g._.config=j,!k&&j.waitForPageLoad===!0)return g._.deferredStartHandler=function(){g.start(c,e)},l.bind("load",g._.deferredStartHandler),o.promise();if(g.state===i.connectionState.connecting)return o.promise();if(q(g,i.connectionState.disconnected,i.connectionState.connecting)===!1)return o.resolve(g),o.promise();t(g),p.href=g.url,p.protocol&&":"!==p.protocol?(g.protocol=p.protocol,g.host=p.host):(g.protocol=b.document.location.protocol,g.host=p.host||b.document.location.host),g.baseUrl=g.protocol+"//"+g.host,g.wsProtocol="https:"===g.protocol?"wss://":"ws://","auto"===j.transport&&j.jsonp===!0&&(j.transport="longPolling"),0===g.url.indexOf("//")&&(g.url=b.location.protocol+g.url,g.log("Protocol relative URL detected, normalizing it to '"+g.url+"'.")),this.isCrossDomain(g.url)&&(g.log("Auto detected cross domain url."),"auto"===j.transport&&(j.transport=["webSockets","serverSentEvents","longPolling"]),"undefined"==typeof j.withCredentials&&(j.withCredentials=!0),j.jsonp||(j.jsonp=!a.support.cors,j.jsonp&&g.log("Using jsonp because this browser doesn't support CORS.")),g.contentType=i._.defaultContentType),g.withCredentials=j.withCredentials,g.ajaxDataType=j.jsonp?"jsonp":"text",a(g).bind(n.onStart,function(b,c){"function"===a.type(e)&&e.call(g),o.resolve(g)}),g._.initHandler=i.transports._logic.initHandler(g),f=function(c,d){var e=i._.error(h.noTransportOnInit);if(d=d||0,d>=c.length)return 0===d?g.log("No transports supported by the server were selected."):1===d?g.log("No fallback transports were selected."):g.log("Fallback transports exhausted."),a(g).triggerHandler(n.onError,[e]),o.reject(e),void g.stop();if(g.state!==i.connectionState.disconnected){var j=c[d],k=i.transports[j],m=function(){f(c,d+1)};g.transport=k;try{g._.initHandler.start(k,function(){var c=i._.firefoxMajorVersion(b.navigator.userAgent)>=11,d=!!g.withCredentials&&c;g.log("The start request succeeded. Transitioning to the connected state."),s(g)&&i.transports._logic.monitorKeepAlive(g),i.transports._logic.startHeartbeat(g),i._.configurePingInterval(g),q(g,i.connectionState.connecting,i.connectionState.connected)||g.log("WARNING! The connection was not in the connecting state."),g._.connectingMessageBuffer.drain(),a(g).triggerHandler(n.onStart),l.bind("unload",function(){g.log("Window unloading, stopping the connection."),g.stop(d)}),c&&l.bind("beforeunload",function(){b.setTimeout(function(){g.stop(d)},0)})},m)}catch(a){g.log(k.name+" transport threw '"+a.message+"' when attempting to start."),m()}}};var r=g.url+"/negotiate",u=function(b,c){var d=i._.error(h.errorOnNegotiate,b,c._.negotiateRequest);a(c).triggerHandler(n.onError,d),o.reject(d),c.stop()};return a(g).triggerHandler(n.onStarting),r=i.transports._logic.prepareQueryString(g,r),g.log("Negotiating with '"+r+"'."),g._.negotiateRequest=i.transports._logic.ajax(g,{url:r,error:function(a,b){b!==m?u(a,g):o.reject(i._.error(h.stoppedWhileNegotiating,null,g._.negotiateRequest))},success:function(b){var c,d,e,k=[],l=[];try{c=g._parseResponse(b)}catch(a){return void u(i._.error(h.errorParsingNegotiateResponse,a),g)}return d=g._.keepAliveData,g.appRelativeUrl=c.Url,g.id=c.ConnectionId,g.token=c.ConnectionToken,g.webSocketServerUrl=c.WebSocketServerUrl,g._.pollTimeout=1e3*c.ConnectionTimeout+1e4,g.disconnectTimeout=1e3*c.DisconnectTimeout,g._.totalTransportConnectTimeout=g.transportConnectTimeout+1e3*c.TransportConnectTimeout,c.KeepAliveTimeout?(d.activated=!0,d.timeout=1e3*c.KeepAliveTimeout,d.timeoutWarning=d.timeout*g.keepAliveWarnAt,g._.beatInterval=(d.timeout-d.timeoutWarning)/3):d.activated=!1,g.reconnectWindow=g.disconnectTimeout+(d.timeout||0),c.ProtocolVersion&&c.ProtocolVersion===g.clientProtocol?(a.each(i.transports,function(a){return 0===a.indexOf("_")||"webSockets"===a&&!c.TryWebSockets||void l.push(a)}),a.isArray(j.transport)?a.each(j.transport,function(b,c){a.inArray(c,l)>=0&&k.push(c)}):"auto"===j.transport?k=l:a.inArray(j.transport,l)>=0&&k.push(j.transport),void f(k)):(e=i._.error(i._.format(h.protocolIncompatible,g.clientProtocol,c.ProtocolVersion)),a(g).triggerHandler(n.onError,[e]),void o.reject(e))}}),o.promise()},starting:function(b){var c=this;return a(c).bind(n.onStarting,function(a,d){b.call(c)}),c},send:function(a){var b=this;if(b.state===i.connectionState.disconnected)throw new Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()");if(b.state===i.connectionState.connecting)throw new Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.");return b.transport.send(b,a),b},received:function(b){var c=this;return a(c).bind(n.onReceived,function(a,d){b.call(c,d)}),c},stateChanged:function(b){var c=this;return a(c).bind(n.onStateChanged,function(a,d){b.call(c,d)}),c},error:function(b){var c=this;return a(c).bind(n.onError,function(a,d,e){c.lastError=d,b.call(c,d,e)}),c},disconnected:function(b){var c=this;return a(c).bind(n.onDisconnect,function(a,d){b.call(c)}),c},connectionSlow:function(b){var c=this;return a(c).bind(n.onConnectionSlow,function(a,d){b.call(c)}),c},reconnecting:function(b){var c=this;return a(c).bind(n.onReconnecting,function(a,d){b.call(c)}),c},reconnected:function(b){var c=this;return a(c).bind(n.onReconnect,function(a,d){b.call(c)}),c},stop:function(c,d){var e=this,f=e._deferral;return e._.deferredStartHandler&&l.unbind("load",e._.deferredStartHandler),delete e._.config,delete e._.deferredStartHandler,k||e._.config&&e._.config.waitForPageLoad!==!0?e.state!==i.connectionState.disconnected?(e.log("Stopping connection."),b.clearTimeout(e._.beatHandle),b.clearInterval(e._.pingIntervalId),e.transport&&(e.transport.stop(e),d!==!1&&e.transport.abort(e,c),s(e)&&i.transports._logic.stopMonitoringKeepAlive(e),e.transport=null),e._.negotiateRequest&&(e._.negotiateRequest.abort(m),delete e._.negotiateRequest),e._.initHandler&&e._.initHandler.stop(),delete e._deferral,delete e.messageId,delete e.groupsToken,delete e.id,delete e._.pingIntervalId,delete e._.lastMessageAt,delete e._.lastActiveAt,e._.connectingMessageBuffer.clear(),q(e,e.state,i.connectionState.disconnected),a(e).triggerHandler(n.onDisconnect),e):void 0:(e.log("Stopping connection prior to negotiate."),void(f&&f.reject(i._.error(h.stoppedWhileLoading))))},log:function(a){p(a,this.logging)}},i.fn.init.prototype=i.fn,i.noConflict=function(){return a.connection===i&&(a.connection=j),i},a.connection&&(j=a.connection),a.connection=a.signalR=i}(window.jQuery,window),function(a,b,c){function d(a){a._.keepAliveData.monitoring&&e(a),h.markActive(a)&&(a._.beatHandle=b.setTimeout(function(){d(a)},a._.beatInterval))}function e(b){var c,d=b._.keepAliveData;b.state===i.connectionState.connected&&(c=(new Date).getTime()-b._.lastMessageAt,c>=d.timeout?(b.log("Keep alive timed out.  Notifying transport that connection has been lost."),b.transport.lostConnection(b)):c>=d.timeoutWarning?d.userNotified||(b.log("Keep alive has been missed, connection may be dead/slow."),a(b).triggerHandler(j.onConnectionSlow),d.userNotified=!0):d.userNotified=!1)}function f(a,b){var c=a.url+b;return a.transport&&(c+="?transport="+a.transport.name),h.prepareQueryString(a,c)}function g(a){this.connection=a,this.startRequested=!1,this.startCompleted=!1,this.connectionStopped=!1}var h,i=a.signalR,j=a.signalR.events,k=a.signalR.changeState,l="__Start Aborted__";i.transports={},g.prototype={start:function(a,d,e){var f=this,g=f.connection,h=!1;return f.startRequested||f.connectionStopped?void g.log("WARNING! "+a.name+" transport cannot be started. Initialization ongoing or completed."):(g.log(a.name+" transport starting."),a.start(g,function(){h||f.initReceived(a,d)},function(b){return h||(h=!0,f.transportFailed(a,b,e)),!f.startCompleted||f.connectionStopped}),void(f.transportTimeoutHandle=b.setTimeout(function(){h||(h=!0,g.log(a.name+" transport timed out when trying to connect."),f.transportFailed(a,c,e))},g._.totalTransportConnectTimeout)))},stop:function(){this.connectionStopped=!0,b.clearTimeout(this.transportTimeoutHandle),i.transports._logic.tryAbortStartRequest(this.connection)},initReceived:function(a,c){var d=this,e=d.connection;return d.startRequested?void e.log("WARNING! The client received multiple init messages."):void(d.connectionStopped||(d.startRequested=!0,b.clearTimeout(d.transportTimeoutHandle),e.log(a.name+" transport connected. Initiating start request."),i.transports._logic.ajaxStart(e,function(){d.startCompleted=!0,c()})))},transportFailed:function(c,d,e){var f,g=this.connection,h=g._deferral;this.connectionStopped||(b.clearTimeout(this.transportTimeoutHandle),this.startRequested?this.startCompleted||(f=i._.error(i.resources.errorDuringStartRequest,d),g.log(c.name+" transport failed during the start request. Stopping the connection."),a(g).triggerHandler(j.onError,[f]),h&&h.reject(f),g.stop()):(c.stop(g),g.log(c.name+" transport failed to connect. Attempting to fall back."),e()))}},h=i.transports._logic={ajax:function(b,c){return a.ajax(a.extend(!0,{},a.signalR.ajaxDefaults,{type:"GET",data:{},xhrFields:{withCredentials:b.withCredentials},contentType:b.contentType,dataType:b.ajaxDataType},c))},pingServer:function(b){var c,d,e=a.Deferred();return b.transport?(c=b.url+"/ping",c=h.addQs(c,b.qs),d=h.ajax(b,{url:c,success:function(a){var c;try{c=b._parseResponse(a)}catch(a){return e.reject(i._.transportError(i.resources.pingServerFailedParse,b.transport,a,d)),void b.stop()}"pong"===c.Response?e.resolve():e.reject(i._.transportError(i._.format(i.resources.pingServerFailedInvalidResponse,a),b.transport,null,d))},error:function(a){401===a.status||403===a.status?(e.reject(i._.transportError(i._.format(i.resources.pingServerFailedStatusCode,a.status),b.transport,a,d)),b.stop()):e.reject(i._.transportError(i.resources.pingServerFailed,b.transport,a,d))}})):e.reject(i._.transportError(i.resources.noConnectionTransport,b.transport)),e.promise()},prepareQueryString:function(a,c){var d;return d=h.addQs(c,"clientProtocol="+a.clientProtocol),d=h.addQs(d,a.qs),a.token&&(d+="&connectionToken="+b.encodeURIComponent(a.token)),a.data&&(d+="&connectionData="+b.encodeURIComponent(a.data)),d},addQs:function(b,c){var d,e=b.indexOf("?")!==-1?"&":"?";if(!c)return b;if("object"==typeof c)return b+e+a.param(c);if("string"==typeof c)return d=c.charAt(0),"?"!==d&&"&"!==d||(e=""),b+e+c;throw new Error("Query string property must be either a string or object.")},getUrl:function(a,c,d,e,f){var g="webSockets"===c?"":a.baseUrl,i=g+a.appRelativeUrl,j="transport="+c;return!f&&a.groupsToken&&(j+="&groupsToken="+b.encodeURIComponent(a.groupsToken)),d?(i+=e?"/poll":"/reconnect",!f&&a.messageId&&(j+="&messageId="+b.encodeURIComponent(a.messageId))):i+="/connect",i+="?"+j,i=h.prepareQueryString(a,i),f||(i+="&tid="+Math.floor(11*Math.random())),i},maximizePersistentResponse:function(a){return{MessageId:a.C,Messages:a.M,Initialized:"undefined"!=typeof a.S,ShouldReconnect:"undefined"!=typeof a.T,LongPollDelay:a.L,GroupsToken:a.G}},updateGroups:function(a,b){b&&(a.groupsToken=b)},stringifySend:function(a,b){return"string"==typeof b||"undefined"==typeof b||null===b?b:a.json.stringify(b)},ajaxSend:function(b,c){var d,e=h.stringifySend(b,c),g=f(b,"/send"),k=function(b,e){a(e).triggerHandler(j.onError,[i._.transportError(i.resources.sendFailed,e.transport,b,d),c])};return d=h.ajax(b,{url:g,type:"jsonp"===b.ajaxDataType?"GET":"POST",contentType:i._.defaultContentType,data:{data:e},success:function(a){var c;if(a){try{c=b._parseResponse(a)}catch(a){return k(a,b),void b.stop()}h.triggerReceived(b,c)}},error:function(a,c){"abort"!==c&&"parsererror"!==c&&k(a,b)}})},ajaxAbort:function(a,b){if("undefined"!=typeof a.transport){b="undefined"==typeof b||b;var c=f(a,"/abort");h.ajax(a,{url:c,async:b,timeout:1e3,type:"POST"}),a.log("Fired ajax abort async = "+b+".")}},ajaxStart:function(b,c){var d=function(a){var c=b._deferral;c&&c.reject(a)},e=function(c){b.log("The start request failed. Stopping the connection."),a(b).triggerHandler(j.onError,[c]),d(c),b.stop()};b._.startRequest=h.ajax(b,{url:f(b,"/start"),success:function(a,d,f){var g;try{g=b._parseResponse(a)}catch(b){return void e(i._.error(i._.format(i.resources.errorParsingStartResponse,a),b,f))}"started"===g.Response?c():e(i._.error(i._.format(i.resources.invalidStartResponse,a),null,f))},error:function(a,c,f){c!==l?e(i._.error(i.resources.errorDuringStartRequest,f,a)):(b.log("The start request aborted because connection.stop() was called."),d(i._.error(i.resources.stoppedDuringStartRequest,null,a)))}})},tryAbortStartRequest:function(a){a._.startRequest&&(a._.startRequest.abort(l),delete a._.startRequest)},tryInitialize:function(a,b,c){b.Initialized&&c?c():b.Initialized&&a.log("WARNING! The client received an init message after reconnecting.")},triggerReceived:function(b,c){b._.connectingMessageBuffer.tryBuffer(c)||a(b).triggerHandler(j.onReceived,[c])},processMessages:function(b,c,d){var e;h.markLastMessage(b),c&&(e=h.maximizePersistentResponse(c),h.updateGroups(b,e.GroupsToken),e.MessageId&&(b.messageId=e.MessageId),
e.Messages&&(a.each(e.Messages,function(a,c){h.triggerReceived(b,c)}),h.tryInitialize(b,e,d)))},monitorKeepAlive:function(b){var c=b._.keepAliveData;c.monitoring?b.log("Tried to monitor keep alive but it's already being monitored."):(c.monitoring=!0,h.markLastMessage(b),b._.keepAliveData.reconnectKeepAliveUpdate=function(){h.markLastMessage(b)},a(b).bind(j.onReconnect,b._.keepAliveData.reconnectKeepAliveUpdate),b.log("Now monitoring keep alive with a warning timeout of "+c.timeoutWarning+", keep alive timeout of "+c.timeout+" and disconnecting timeout of "+b.disconnectTimeout))},stopMonitoringKeepAlive:function(b){var c=b._.keepAliveData;c.monitoring&&(c.monitoring=!1,a(b).unbind(j.onReconnect,b._.keepAliveData.reconnectKeepAliveUpdate),b._.keepAliveData={},b.log("Stopping the monitoring of the keep alive."))},startHeartbeat:function(a){a._.lastActiveAt=(new Date).getTime(),d(a)},markLastMessage:function(a){a._.lastMessageAt=(new Date).getTime()},markActive:function(a){return!!h.verifyLastActive(a)&&(a._.lastActiveAt=(new Date).getTime(),!0)},isConnectedOrReconnecting:function(a){return a.state===i.connectionState.connected||a.state===i.connectionState.reconnecting},ensureReconnectingState:function(b){return k(b,i.connectionState.connected,i.connectionState.reconnecting)===!0&&a(b).triggerHandler(j.onReconnecting),b.state===i.connectionState.reconnecting},clearReconnectTimeout:function(a){a&&a._.reconnectTimeout&&(b.clearTimeout(a._.reconnectTimeout),delete a._.reconnectTimeout)},verifyLastActive:function(b){if((new Date).getTime()-b._.lastActiveAt>=b.reconnectWindow){var c=i._.format(i.resources.reconnectWindowTimeout,new Date(b._.lastActiveAt),b.reconnectWindow);return b.log(c),a(b).triggerHandler(j.onError,[i._.error(c,"TimeoutException")]),b.stop(!1,!1),!1}return!0},reconnect:function(a,c){var d=i.transports[c];if(h.isConnectedOrReconnecting(a)&&!a._.reconnectTimeout){if(!h.verifyLastActive(a))return;a._.reconnectTimeout=b.setTimeout(function(){h.verifyLastActive(a)&&(d.stop(a),h.ensureReconnectingState(a)&&(a.log(c+" reconnecting."),d.start(a)))},a.reconnectDelay)}},handleParseFailure:function(b,c,d,e,f){var g=i._.transportError(i._.format(i.resources.parseFailed,c),b.transport,d,f);e&&e(g)?b.log("Failed to parse server response while attempting to connect."):(a(b).triggerHandler(j.onError,[g]),b.stop())},initHandler:function(a){return new g(a)},foreverFrame:{count:0,connections:{}}}}(window.jQuery,window),function(a,b,c){var d=a.signalR,e=a.signalR.events,f=a.signalR.changeState,g=d.transports._logic;d.transports.webSockets={name:"webSockets",supportsKeepAlive:function(){return!0},send:function(b,c){var f=g.stringifySend(b,c);try{b.socket.send(f)}catch(f){a(b).triggerHandler(e.onError,[d._.transportError(d.resources.webSocketsInvalidState,b.transport,f,b.socket),c])}},start:function(c,h,i){var j,k=!1,l=this,m=!h,n=a(c);return b.WebSocket?void(c.socket||(j=c.webSocketServerUrl?c.webSocketServerUrl:c.wsProtocol+c.host,j+=g.getUrl(c,this.name,m),c.log("Connecting to websocket endpoint '"+j+"'."),c.socket=new b.WebSocket(j),c.socket.onopen=function(){k=!0,c.log("Websocket opened."),g.clearReconnectTimeout(c),f(c,d.connectionState.reconnecting,d.connectionState.connected)===!0&&n.triggerHandler(e.onReconnect)},c.socket.onclose=function(b){var f;this===c.socket&&(k&&"undefined"!=typeof b.wasClean&&b.wasClean===!1?(f=d._.transportError(d.resources.webSocketClosed,c.transport,b),c.log("Unclean disconnect from websocket: "+(b.reason||"[no reason given]."))):c.log("Websocket closed."),i&&i(f)||(f&&a(c).triggerHandler(e.onError,[f]),l.reconnect(c)))},c.socket.onmessage=function(b){var d;try{d=c._parseResponse(b.data)}catch(a){return void g.handleParseFailure(c,b.data,a,i,b)}d&&(a.isEmptyObject(d)||d.M?g.processMessages(c,d,h):g.triggerReceived(c,d))})):void i()},reconnect:function(a){g.reconnect(a,this.name)},lostConnection:function(a){this.reconnect(a)},stop:function(a){g.clearReconnectTimeout(a),a.socket&&(a.log("Closing the Websocket."),a.socket.close(),a.socket=null)},abort:function(a,b){g.ajaxAbort(a,b)}}}(window.jQuery,window),function(a,b,c){var d=a.signalR,e=a.signalR.events,f=a.signalR.changeState,g=d.transports._logic,h=function(a){b.clearTimeout(a._.reconnectAttemptTimeoutHandle),delete a._.reconnectAttemptTimeoutHandle};d.transports.serverSentEvents={name:"serverSentEvents",supportsKeepAlive:function(){return!0},timeOut:3e3,start:function(c,i,j){var k,l=this,m=!1,n=a(c),o=!i;if(c.eventSource&&(c.log("The connection already has an event source. Stopping it."),c.stop()),!b.EventSource)return void(j&&(c.log("This browser doesn't support SSE."),j()));k=g.getUrl(c,this.name,o);try{c.log("Attempting to connect to SSE endpoint '"+k+"'."),c.eventSource=new b.EventSource(k,{withCredentials:c.withCredentials})}catch(a){return c.log("EventSource failed trying to connect with error "+a.Message+"."),void(j?j():(n.triggerHandler(e.onError,[d._.transportError(d.resources.eventSourceFailedToConnect,c.transport,a)]),o&&l.reconnect(c)))}o&&(c._.reconnectAttemptTimeoutHandle=b.setTimeout(function(){m===!1&&c.eventSource.readyState!==b.EventSource.OPEN&&l.reconnect(c)},l.timeOut)),c.eventSource.addEventListener("open",function(a){c.log("EventSource connected."),h(c),g.clearReconnectTimeout(c),m===!1&&(m=!0,f(c,d.connectionState.reconnecting,d.connectionState.connected)===!0&&n.triggerHandler(e.onReconnect))},!1),c.eventSource.addEventListener("message",function(a){var b;if("initialized"!==a.data){try{b=c._parseResponse(a.data)}catch(b){return void g.handleParseFailure(c,a.data,b,j,a)}g.processMessages(c,b,i)}},!1),c.eventSource.addEventListener("error",function(a){var f=d._.transportError(d.resources.eventSourceError,c.transport,a);this===c.eventSource&&(j&&j(f)||(c.log("EventSource readyState: "+c.eventSource.readyState+"."),a.eventPhase===b.EventSource.CLOSED?(c.log("EventSource reconnecting due to the server connection ending."),l.reconnect(c)):(c.log("EventSource error."),n.triggerHandler(e.onError,[f]))))},!1)},reconnect:function(a){g.reconnect(a,this.name)},lostConnection:function(a){this.reconnect(a)},send:function(a,b){g.ajaxSend(a,b)},stop:function(a){h(a),g.clearReconnectTimeout(a),a&&a.eventSource&&(a.log("EventSource calling close()."),a.eventSource.close(),a.eventSource=null,delete a.eventSource)},abort:function(a,b){g.ajaxAbort(a,b)}}}(window.jQuery,window),function(a,b,c){var d=a.signalR,e=a.signalR.events,f=a.signalR.changeState,g=d.transports._logic,h=function(){var a=b.document.createElement("iframe");return a.setAttribute("style","position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;"),a},i=function(){var a=null,c=1e3,e=0;return{prevent:function(){d._.ieVersion<=8&&(0===e&&(a=b.setInterval(function(){var a=h();b.document.body.appendChild(a),b.document.body.removeChild(a),a=null},c)),e++)},cancel:function(){1===e&&b.clearInterval(a),e>0&&e--}}}();d.transports.foreverFrame={name:"foreverFrame",supportsKeepAlive:function(){return!0},iframeClearThreshold:50,start:function(a,c,d){var e,f=this,j=g.foreverFrame.count+=1,k=h(),l=function(){a.log("Forever frame iframe finished loading and is no longer receiving messages."),d&&d()||f.reconnect(a)};return b.EventSource?void(d&&(a.log("Forever Frame is not supported by SignalR on browsers with SSE support."),d())):(k.setAttribute("data-signalr-connection-id",a.id),i.prevent(),e=g.getUrl(a,this.name),e+="&frameId="+j,b.document.documentElement.appendChild(k),a.log("Binding to iframe's load event."),k.addEventListener?k.addEventListener("load",l,!1):k.attachEvent&&k.attachEvent("onload",l),k.src=e,g.foreverFrame.connections[j]=a,a.frame=k,a.frameId=j,void(c&&(a.onSuccess=function(){a.log("Iframe transport started."),c()})))},reconnect:function(a){var c=this;g.isConnectedOrReconnecting(a)&&g.verifyLastActive(a)&&b.setTimeout(function(){if(g.verifyLastActive(a)&&a.frame&&g.ensureReconnectingState(a)){var b=a.frame,d=g.getUrl(a,c.name,!0)+"&frameId="+a.frameId;a.log("Updating iframe src to '"+d+"'."),b.src=d}},a.reconnectDelay)},lostConnection:function(a){this.reconnect(a)},send:function(a,b){g.ajaxSend(a,b)},receive:function(b,c){var e,f,h;if(b.json!==b._originalJson&&(c=b._originalJson.stringify(c)),h=b._parseResponse(c),g.processMessages(b,h,b.onSuccess),b.state===a.signalR.connectionState.connected&&(b.frameMessageCount=(b.frameMessageCount||0)+1,b.frameMessageCount>d.transports.foreverFrame.iframeClearThreshold&&(b.frameMessageCount=0,e=b.frame.contentWindow||b.frame.contentDocument,e&&e.document&&e.document.body)))for(f=e.document.body;f.firstChild;)f.removeChild(f.firstChild)},stop:function(a){var c=null;if(i.cancel(),a.frame){if(a.frame.stop)a.frame.stop();else try{c=a.frame.contentWindow||a.frame.contentDocument,c.document&&c.document.execCommand&&c.document.execCommand("Stop")}catch(b){a.log("Error occurred when stopping foreverFrame transport. Message = "+b.message+".")}a.frame.parentNode===b.document.body&&b.document.body.removeChild(a.frame),delete g.foreverFrame.connections[a.frameId],a.frame=null,a.frameId=null,delete a.frame,delete a.frameId,delete a.onSuccess,delete a.frameMessageCount,a.log("Stopping forever frame.")}},abort:function(a,b){g.ajaxAbort(a,b)},getConnection:function(a){return g.foreverFrame.connections[a]},started:function(b){f(b,d.connectionState.reconnecting,d.connectionState.connected)===!0&&a(b).triggerHandler(e.onReconnect)}}}(window.jQuery,window),function(a,b,c){var d=a.signalR,e=a.signalR.events,f=a.signalR.changeState,g=a.signalR.isDisconnecting,h=d.transports._logic;d.transports.longPolling={name:"longPolling",supportsKeepAlive:function(){return!1},reconnectDelay:3e3,start:function(c,i,j){var k=this,l=function(){l=a.noop,c.log("LongPolling connected."),i?i():c.log("WARNING! The client received an init message after reconnecting.")},m=function(a){return!!j(a)&&(c.log("LongPolling failed to connect."),!0)},n=c._,o=0,p=function(c){b.clearTimeout(n.reconnectTimeoutId),n.reconnectTimeoutId=null,f(c,d.connectionState.reconnecting,d.connectionState.connected)===!0&&(c.log("Raising the reconnect event"),a(c).triggerHandler(e.onReconnect))},q=36e5;c.pollXhr&&(c.log("Polling xhr requests already exists, aborting."),c.stop()),c.messageId=null,n.reconnectTimeoutId=null,n.pollTimeoutId=b.setTimeout(function(){!function f(i,j){var r=i.messageId,s=null===r,t=!s,u=!j,v=h.getUrl(i,k.name,t,u,!0),w={};i.messageId&&(w.messageId=i.messageId),i.groupsToken&&(w.groupsToken=i.groupsToken),g(i)!==!0&&(c.log("Opening long polling request to '"+v+"'."),i.pollXhr=h.ajax(c,{xhrFields:{onprogress:function(){h.markLastMessage(c)}},url:v,type:"POST",contentType:d._.defaultContentType,data:w,timeout:c._.pollTimeout,success:function(d){var e,j,k,q=0;c.log("Long poll complete."),o=0;try{e=c._parseResponse(d)}catch(a){return void h.handleParseFailure(i,d,a,m,i.pollXhr)}null!==n.reconnectTimeoutId&&p(i),e&&(j=h.maximizePersistentResponse(e)),h.processMessages(i,e,l),j&&"number"===a.type(j.LongPollDelay)&&(q=j.LongPollDelay),g(i)!==!0&&(k=j&&j.ShouldReconnect,k&&!h.ensureReconnectingState(i)||(q>0?n.pollTimeoutId=b.setTimeout(function(){f(i,k)},q):f(i,k)))},error:function(g,j){var l=d._.transportError(d.resources.longPollFailed,c.transport,g,i.pollXhr);if(b.clearTimeout(n.reconnectTimeoutId),n.reconnectTimeoutId=null,"abort"===j)return void c.log("Aborted xhr request.");if(!m(l)){if(o++,c.state!==d.connectionState.reconnecting&&(c.log("An error occurred using longPolling. Status = "+j+".  Response = "+g.responseText+"."),a(i).triggerHandler(e.onError,[l])),(c.state===d.connectionState.connected||c.state===d.connectionState.reconnecting)&&!h.verifyLastActive(c))return;if(!h.ensureReconnectingState(i))return;n.pollTimeoutId=b.setTimeout(function(){f(i,!0)},k.reconnectDelay)}}}),t&&j===!0&&(n.reconnectTimeoutId=b.setTimeout(function(){p(i)},Math.min(1e3*(Math.pow(2,o)-1),q))))}(c)},250)},lostConnection:function(a){a.pollXhr&&a.pollXhr.abort("lostConnection")},send:function(a,b){h.ajaxSend(a,b)},stop:function(a){b.clearTimeout(a._.pollTimeoutId),b.clearTimeout(a._.reconnectTimeoutId),delete a._.pollTimeoutId,delete a._.reconnectTimeoutId,a.pollXhr&&(a.pollXhr.abort(),a.pollXhr=null,delete a.pollXhr)},abort:function(a,b){h.ajaxAbort(a,b)}}}(window.jQuery,window),function(a,b,c){function d(a){return a+k}function e(a,b,c){var d,e=a.length,f=[];for(d=0;d<e;d+=1)a.hasOwnProperty(d)&&(f[d]=b.call(c,a[d],d,a));return f}function f(b){return a.isFunction(b)?null:"undefined"===a.type(b)?null:b}function g(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1}function h(a,b){var c,d=a._.invocationCallbacks;g(d)&&a.log("Clearing hub invocation callbacks with error: "+b+"."),a._.invocationCallbackId=0,delete a._.invocationCallbacks,a._.invocationCallbacks={};for(var e in d)c=d[e],c.method.call(c.scope,{E:b})}function i(a,b){return new i.fn.init(a,b)}function j(b,c){var d={qs:null,logging:!1,useDefaultPath:!0};return a.extend(d,c),b&&!d.useDefaultPath||(b=(b||"")+"/signalr"),new j.fn.init(b,d)}var k=".hubProxy",l=a.signalR;i.fn=i.prototype={init:function(a,b){this.state={},this.connection=a,this.hubName=b,this._={callbackMap:{}}},constructor:i,hasSubscriptions:function(){return g(this._.callbackMap)},on:function(b,c){var e=this,f=e._.callbackMap;return b=b.toLowerCase(),f[b]||(f[b]={}),f[b][c]=function(a,b){c.apply(e,b)},a(e).bind(d(b),f[b][c]),e},off:function(b,c){var e,f=this,h=f._.callbackMap;return b=b.toLowerCase(),e=h[b],e&&(e[c]?(a(f).unbind(d(b),e[c]),delete e[c],g(e)||delete h[b]):c||(a(f).unbind(d(b)),delete h[b])),f},invoke:function(b){var c=this,d=c.connection,g=a.makeArray(arguments).slice(1),h=e(g,f),i={H:c.hubName,M:b,A:h,I:d._.invocationCallbackId},j=a.Deferred(),k=function(e){var f,g,h=c._maximizeHubResponse(e);a.extend(c.state,h.State),h.Progress?j.notifyWith?j.notifyWith(c,[h.Progress.Data]):d._.progressjQueryVersionLogged||(d.log("A hub method invocation progress update was received but the version of jQuery in use ("+a.prototype.jquery+") does not support progress updates. Upgrade to jQuery 1.7+ to receive progress notifications."),d._.progressjQueryVersionLogged=!0):h.Error?(h.StackTrace&&d.log(h.Error+"\n"+h.StackTrace+"."),f=h.IsHubException?"HubException":"Exception",g=l._.error(h.Error,f),g.data=h.ErrorData,d.log(c.hubName+"."+b+" failed to execute. Error: "+g.message),j.rejectWith(c,[g])):(d.log("Invoked "+c.hubName+"."+b),j.resolveWith(c,[h.Result]))};return d._.invocationCallbacks[d._.invocationCallbackId.toString()]={scope:c,method:k},d._.invocationCallbackId+=1,a.isEmptyObject(c.state)||(i.S=c.state),d.log("Invoking "+c.hubName+"."+b),d.send(i),j.promise()},_maximizeHubResponse:function(a){return{State:a.S,Result:a.R,Progress:a.P?{Id:a.P.I,Data:a.P.D}:null,Id:a.I,IsHubException:a.H,Error:a.E,StackTrace:a.T,ErrorData:a.D}}},i.fn.init.prototype=i.fn,j.fn=j.prototype=a.connection(),j.fn.init=function(b,c){var e={qs:null,logging:!1,useDefaultPath:!0},f=this;a.extend(e,c),a.signalR.fn.init.call(f,b,e.qs,e.logging),f.proxies={},f._.invocationCallbackId=0,f._.invocationCallbacks={},f.received(function(b){var c,e,g,h,i,j;b&&("undefined"!=typeof b.P?(g=b.P.I.toString(),h=f._.invocationCallbacks[g],h&&h.method.call(h.scope,b)):"undefined"!=typeof b.I?(g=b.I.toString(),h=f._.invocationCallbacks[g],h&&(f._.invocationCallbacks[g]=null,delete f._.invocationCallbacks[g],h.method.call(h.scope,b))):(c=this._maximizeClientHubInvocation(b),f.log("Triggering client hub event '"+c.Method+"' on hub '"+c.Hub+"'."),i=c.Hub.toLowerCase(),j=c.Method.toLowerCase(),e=this.proxies[i],a.extend(e.state,c.State),a(e).triggerHandler(d(j),[c.Args])))}),f.error(function(a,b){var c,d;b&&(c=b.I,d=f._.invocationCallbacks[c],d&&(f._.invocationCallbacks[c]=null,delete f._.invocationCallbacks[c],d.method.call(d.scope,{E:a})))}),f.reconnecting(function(){f.transport&&"webSockets"===f.transport.name&&h(f,"Connection started reconnecting before invocation result was received.")}),f.disconnected(function(){h(f,"Connection was disconnected before invocation result was received.")})},j.fn._maximizeClientHubInvocation=function(a){return{Hub:a.H,Method:a.M,Args:a.A,State:a.S}},j.fn._registerSubscribedHubs=function(){var b=this;b._subscribedToHubs||(b._subscribedToHubs=!0,b.starting(function(){var c=[];a.each(b.proxies,function(a){this.hasSubscriptions()&&(c.push({name:a}),b.log("Client subscribed to hub '"+a+"'."))}),0===c.length&&b.log("No hubs have been subscribed to.  The client will not receive data from hubs.  To fix, declare at least one client side function prior to connection start for each hub you wish to subscribe to."),b.data=b.json.stringify(c)}))},j.fn.createHubProxy=function(a){a=a.toLowerCase();var b=this.proxies[a];return b||(b=i(this,a),this.proxies[a]=b),this._registerSubscribedHubs(),b},j.fn.init.prototype=j.fn,a.hubConnection=j}(window.jQuery,window),function(a,b){a.signalR.version="2.2.1"}(window.jQuery),!function(){function a(a){return a&&(a.ownerDocument||a.document||a).documentElement}function b(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function c(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function d(a){return null===a?NaN:+a}function e(a){return!isNaN(a)}function f(a){return{left:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);d<e;){var f=d+e>>>1;a(b[f],c)<0?d=f+1:e=f}return d},right:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);d<e;){var f=d+e>>>1;a(b[f],c)>0?e=f:d=f+1}return d}}}function g(a){return a.length}function h(a){for(var b=1;a*b%1;)b*=10;return b}function i(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}function j(){this._=Object.create(null)}function k(a){return(a+="")===sg||a[0]===tg?tg+a:a}function l(a){return(a+="")[0]===tg?a.slice(1):a}function m(a){return k(a)in this._}function n(a){return(a=k(a))in this._&&delete this._[a]}function o(){var a=[];for(var b in this._)a.push(l(b));return a}function p(){var a=0;for(var b in this._)++a;return a}function q(){for(var a in this._)return!1;return!0}function r(){this._=Object.create(null)}function s(a){return a}function t(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function u(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=ug.length;c<d;++c){var e=ug[c]+b;if(e in a)return e}}function v(){}function w(){}function x(a){function b(){for(var b,d=c,e=-1,f=d.length;++e<f;)(b=d[e].on)&&b.apply(this,arguments);return a}var c=[],d=new j;return b.on=function(b,e){var f,g=d.get(b);return arguments.length<2?g&&g.on:(g&&(g.on=null,c=c.slice(0,f=c.indexOf(g)).concat(c.slice(f+1)),d.remove(b)),e&&c.push(d.set(b,{on:e})),a)},b}function y(){hg.event.preventDefault()}function z(){for(var a,b=hg.event;a=b.sourceEvent;)b=a;return b}function A(a){for(var b=new w,c=0,d=arguments.length;++c<d;)b[arguments[c]]=x(b);return b.of=function(c,d){return function(e){try{var f=e.sourceEvent=hg.event;e.target=a,hg.event=e,b[e.type].apply(c,d)}finally{hg.event=f}}},b}function B(a){return wg(a,Ag),a}function C(a){return"function"==typeof a?a:function(){return xg(a,this)}}function D(a){return"function"==typeof a?a:function(){return yg(a,this)}}function E(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function f(){this.setAttributeNS(a.space,a.local,b)}function g(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function h(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}return a=hg.ns.qualify(a),null==b?a.local?d:c:"function"==typeof b?a.local?h:g:a.local?f:e}function F(a){return a.trim().replace(/\s+/g," ")}function G(a){return new RegExp("(?:^|\\s+)"+hg.requote(a)+"(?:\\s+|$)","g")}function H(a){return(a+"").trim().split(/^|\s+/)}function I(a,b){function c(){for(var c=-1;++c<e;)a[c](this,b)}function d(){for(var c=-1,d=b.apply(this,arguments);++c<e;)a[c](this,d)}a=H(a).map(J);var e=a.length;return"function"==typeof b?d:c}function J(a){var b=G(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",F(e+" "+a))):c.setAttribute("class",F(e.replace(b," ")))}}function K(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"==typeof b?f:e}function L(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"==typeof b?e:d}function M(a){function b(){var b=this.ownerDocument,c=this.namespaceURI;return c===Bg&&b.documentElement.namespaceURI===Bg?b.createElement(a):b.createElementNS(c,a)}function c(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"==typeof a?a:(a=hg.ns.qualify(a)).local?c:b}function N(){var a=this.parentNode;a&&a.removeChild(this)}function O(a){return{__data__:a}}function P(a){return function(){return zg(this,a)}}function Q(a){return arguments.length||(a=c),function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function R(a,b){for(var c=0,d=a.length;c<d;c++)for(var e,f=a[c],g=0,h=f.length;g<h;g++)(e=f[g])&&b(e,g,c);return a}function S(a){return wg(a,Dg),a}function T(a){var b,c;return function(d,e,f){var g,h=a[f].update,i=h.length;for(f!=c&&(c=f,b=0),e>=b&&(b=e+1);!(g=h[b])&&++b<i;);return g}}function U(a,b,c){function d(){var b=this[g];b&&(this.removeEventListener(a,b,b.$),delete this[g])}function e(){var e=i(b,jg(arguments));d.call(this),this.addEventListener(a,this[g]=e,e.$=c),e._=b}function f(){var b,c=new RegExp("^__on([^.]+)"+hg.requote(a)+"$");for(var d in this)if(b=d.match(c)){var e=this[d];this.removeEventListener(b[1],e,e.$),delete this[d]}}var g="__on"+a,h=a.indexOf("."),i=V;h>0&&(a=a.slice(0,h));var j=Eg.get(a);return j&&(a=j,i=W),h?b?e:d:b?v:f}function V(a,b){return function(c){var d=hg.event;hg.event=c,b[0]=this.__data__;try{a.apply(this,b)}finally{hg.event=d}}}function W(a,b){var c=V(a,b);return function(a){var b=this,d=a.relatedTarget;d&&(d===b||8&d.compareDocumentPosition(b))||c.call(b,a)}}function X(c){var d=".dragsuppress-"+ ++Gg,e="click"+d,f=hg.select(b(c)).on("touchmove"+d,y).on("dragstart"+d,y).on("selectstart"+d,y);if(null==Fg&&(Fg=!("onselectstart"in c)&&u(c.style,"userSelect")),Fg){var g=a(c).style,h=g[Fg];g[Fg]="none"}return function(a){if(f.on(d,null),Fg&&(g[Fg]=h),a){var b=function(){f.on(e,null)};f.on(e,function(){y(),b()},!0),setTimeout(b,0)}}}function Y(a,c){c.changedTouches&&(c=c.changedTouches[0]);var d=a.ownerSVGElement||a;if(d.createSVGPoint){var e=d.createSVGPoint();if(Hg<0){var f=b(a);if(f.scrollX||f.scrollY){d=hg.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var g=d[0][0].getScreenCTM();Hg=!(g.f||g.e),d.remove()}}return Hg?(e.x=c.pageX,e.y=c.pageY):(e.x=c.clientX,e.y=c.clientY),e=e.matrixTransform(a.getScreenCTM().inverse()),[e.x,e.y]}var h=a.getBoundingClientRect();return[c.clientX-h.left-a.clientLeft,c.clientY-h.top-a.clientTop]}function Z(){return hg.event.changedTouches[0].identifier}function $(a){return a>0?1:a<0?-1:0}function _(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function aa(a){return a>1?0:a<-1?Kg:Math.acos(a)}function ba(a){return a>1?Ng:a<-1?-Ng:Math.asin(a)}function ca(a){return((a=Math.exp(a))-1/a)/2}function da(a){return((a=Math.exp(a))+1/a)/2}function ea(a){return((a=Math.exp(2*a))-1)/(a+1)}function fa(a){return(a=Math.sin(a/2))*a}function ga(){}function ha(a,b,c){return this instanceof ha?(this.h=+a,this.s=+b,void(this.l=+c)):arguments.length<2?a instanceof ha?new ha(a.h,a.s,a.l):va(""+a,wa,ha):new ha(a,b,c)}function ia(a,b,c){function d(a){return a>360?a-=360:a<0&&(a+=360),a<60?f+(g-f)*a/60:a<180?g:a<240?f+(g-f)*(240-a)/60:f}function e(a){return Math.round(255*d(a))}var f,g;return a=isNaN(a)?0:(a%=360)<0?a+360:a,b=isNaN(b)?0:b<0?0:b>1?1:b,c=c<0?0:c>1?1:c,g=c<=.5?c*(1+b):c+b-c*b,f=2*c-g,new ra(e(a+120),e(a),e(a-120))}function ja(a,b,c){return this instanceof ja?(this.h=+a,this.c=+b,void(this.l=+c)):arguments.length<2?a instanceof ja?new ja(a.h,a.c,a.l):a instanceof la?na(a.l,a.a,a.b):na((a=xa((a=hg.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new ja(a,b,c)}function ka(a,b,c){return isNaN(a)&&(a=0),isNaN(b)&&(b=0),new la(c,Math.cos(a*=Og)*b,Math.sin(a)*b)}function la(a,b,c){return this instanceof la?(this.l=+a,this.a=+b,void(this.b=+c)):arguments.length<2?a instanceof la?new la(a.l,a.a,a.b):a instanceof ja?ka(a.h,a.c,a.l):xa((a=ra(a)).r,a.g,a.b):new la(a,b,c)}function ma(a,b,c){var d=(a+16)/116,e=d+b/500,f=d-c/200;return e=oa(e)*Zg,d=oa(d)*$g,f=oa(f)*_g,new ra(qa(3.2404542*e-1.5371385*d-.4985314*f),qa(-.969266*e+1.8760108*d+.041556*f),qa(.0556434*e-.2040259*d+1.0572252*f))}function na(a,b,c){return a>0?new ja(Math.atan2(c,b)*Pg,Math.sqrt(b*b+c*c),a):new ja(NaN,NaN,a)}function oa(a){return a>.206893034?a*a*a:(a-4/29)/7.787037}function pa(a){return a>.008856?Math.pow(a,1/3):7.787037*a+4/29}function qa(a){return Math.round(255*(a<=.00304?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function ra(a,b,c){return this instanceof ra?(this.r=~~a,this.g=~~b,void(this.b=~~c)):arguments.length<2?a instanceof ra?new ra(a.r,a.g,a.b):va(""+a,ra,ia):new ra(a,b,c)}function sa(a){return new ra(a>>16,a>>8&255,255&a)}function ta(a){return sa(a)+""}function ua(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function va(a,b,c){var d,e,f,g=0,h=0,i=0;if(d=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase()))switch(e=d[2].split(","),d[1]){case"hsl":return c(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100);case"rgb":return b(za(e[0]),za(e[1]),za(e[2]))}return(f=ch.get(a))?b(f.r,f.g,f.b):(null==a||"#"!==a.charAt(0)||isNaN(f=parseInt(a.slice(1),16))||(4===a.length?(g=(3840&f)>>4,g=g>>4|g,h=240&f,h=h>>4|h,i=15&f,i=i<<4|i):7===a.length&&(g=(16711680&f)>>16,h=(65280&f)>>8,i=255&f)),b(g,h,i))}function wa(a,b,c){var d,e,f=Math.min(a/=255,b/=255,c/=255),g=Math.max(a,b,c),h=g-f,i=(g+f)/2;return h?(e=i<.5?h/(g+f):h/(2-g-f),d=a==g?(b-c)/h+(b<c?6:0):b==g?(c-a)/h+2:(a-b)/h+4,d*=60):(d=NaN,e=i>0&&i<1?0:d),new ha(d,e,i)}function xa(a,b,c){a=ya(a),b=ya(b),c=ya(c);var d=pa((.4124564*a+.3575761*b+.1804375*c)/Zg),e=pa((.2126729*a+.7151522*b+.072175*c)/$g),f=pa((.0193339*a+.119192*b+.9503041*c)/_g);return la(116*e-16,500*(d-e),200*(e-f))}function ya(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function za(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function Aa(a){return"function"==typeof a?a:function(){return a}}function Ba(a){return function(b,c,d){return 2===arguments.length&&"function"==typeof c&&(d=c,c=null),Ca(b,c,a,d)}}function Ca(a,b,c,d){function e(){var a,b=i.status;if(!b&&Ea(i)||b>=200&&b<300||304===b){try{a=c.call(f,i)}catch(a){return void g.error.call(f,a)}g.load.call(f,a)}else g.error.call(f,i)}var f={},g=hg.dispatch("beforesend","progress","load","error"),h={},i=new XMLHttpRequest,j=null;return!this.XDomainRequest||"withCredentials"in i||!/^(http(s)?:)?\/\//.test(a)||(i=new XDomainRequest),"onload"in i?i.onload=i.onerror=e:i.onreadystatechange=function(){i.readyState>3&&e()},i.onprogress=function(a){var b=hg.event;hg.event=a;try{g.progress.call(f,i)}finally{hg.event=b}},f.header=function(a,b){return a=(a+"").toLowerCase(),arguments.length<2?h[a]:(null==b?delete h[a]:h[a]=b+"",f)},f.mimeType=function(a){return arguments.length?(b=null==a?null:a+"",f):b},f.responseType=function(a){return arguments.length?(j=a,f):j},f.response=function(a){return c=a,f},["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(jg(arguments)))}}),f.send=function(c,d,e){if(2===arguments.length&&"function"==typeof d&&(e=d,d=null),i.open(c,a,!0),null==b||"accept"in h||(h.accept=b+",*/*"),i.setRequestHeader)for(var k in h)i.setRequestHeader(k,h[k]);return null!=b&&i.overrideMimeType&&i.overrideMimeType(b),null!=j&&(i.responseType=j),null!=e&&f.on("error",e).on("load",function(a){e(null,a)}),g.beforesend.call(f,i),i.send(null==d?null:d),f},f.abort=function(){return i.abort(),f},hg.rebind(f,g,"on"),null==d?f:f.get(Da(d))}function Da(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function Ea(a){var b=a.responseType;return b&&"text"!==b?a.response:a.responseText}function Fa(a,b,c){var d=arguments.length;d<2&&(b=0),d<3&&(c=Date.now());var e=c+b,f={c:a,t:e,n:null};return eh?eh.n=f:dh=f,eh=f,fh||(gh=clearTimeout(gh),fh=1,hh(Ga)),f}function Ga(){var a=Ha(),b=Ia()-a;b>24?(isFinite(b)&&(clearTimeout(gh),gh=setTimeout(Ga,b)),fh=0):(fh=1,hh(Ga))}function Ha(){for(var a=Date.now(),b=dh;b;)a>=b.t&&b.c(a-b.t)&&(b.c=null),b=b.n;return a}function Ia(){for(var a,b=dh,c=1/0;b;)b.c?(b.t<c&&(c=b.t),b=(a=b).n):b=a?a.n=b.n:dh=b.n;return eh=a,c}function Ja(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function Ka(a,b){var c=Math.pow(10,3*rg(8-b));return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}}function La(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d&&c?function(a,b){for(var e=a.length,f=[],g=0,h=d[0],i=0;e>0&&h>0&&(i+h+1>b&&(h=Math.max(1,b-i)),f.push(a.substring(e-=h,e+h)),!((i+=h+1)>b));)h=d[g=(g+1)%d.length];return f.reverse().join(c)}:s;return function(a){var c=jh.exec(a),d=c[1]||" ",g=c[2]||">",h=c[3]||"-",i=c[4]||"",j=c[5],k=+c[6],l=c[7],m=c[8],n=c[9],o=1,p="",q="",r=!1,s=!0;switch(m&&(m=+m.substring(1)),(j||"0"===d&&"="===g)&&(j=d="0",g="="),n){case"n":l=!0,n="g";break;case"%":o=100,q="%",n="f";break;case"p":o=100,q="%",n="r";break;case"b":case"o":case"x":case"X":"#"===i&&(p="0"+n.toLowerCase());case"c":s=!1;case"d":r=!0,m=0;break;case"s":o=-1,n="r"}"$"===i&&(p=e[0],q=e[1]),"r"!=n||m||(n="g"),null!=m&&("g"==n?m=Math.max(1,Math.min(21,m)):"e"!=n&&"f"!=n||(m=Math.max(0,Math.min(20,m)))),n=kh.get(n)||Ma;var t=j&&l;return function(a){var c=q;if(r&&a%1)return"";var e=a<0||0===a&&1/a<0?(a=-a,"-"):"-"===h?"":h;if(o<0){var i=hg.formatPrefix(a,m);a=i.scale(a),c=i.symbol+q}else a*=o;a=n(a,m);var u,v,w=a.lastIndexOf(".");if(w<0){var x=s?a.lastIndexOf("e"):-1;x<0?(u=a,v=""):(u=a.substring(0,x),v=a.substring(x))}else u=a.substring(0,w),v=b+a.substring(w+1);!j&&l&&(u=f(u,1/0));var y=p.length+u.length+v.length+(t?0:e.length),z=y<k?new Array(y=k-y+1).join(d):"";return t&&(u=f(z+u,z.length?k-v.length:1/0)),e+=p,a=u+v,("<"===g?e+a+z:">"===g?z+e+a:"^"===g?z.substring(0,y>>=1)+e+a+z.substring(y):e+(t?a:z+a))+c}}}function Ma(a){return a+""}function Na(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Oa(a,b,c){function d(b){var c=a(b),d=f(c,1);return b-c<d-b?c:d}function e(c){return b(c=a(new mh(c-1)),1),c}function f(a,c){return b(a=new mh(+a),c),a}function g(a,d,f){var g=e(a),h=[];if(f>1)for(;g<d;)c(g)%f||h.push(new Date(+g)),b(g,1);else for(;g<d;)h.push(new Date(+g)),b(g,1);return h}function h(a,b,c){try{mh=Na;var d=new Na;return d._=a,g(d,b,c)}finally{mh=Date}}a.floor=a,a.round=d,a.ceil=e,a.offset=f,a.range=g;var i=a.utc=Pa(a);return i.floor=i,i.round=Pa(d),i.ceil=Pa(e),i.offset=Pa(f),i.range=h,a}function Pa(a){return function(b,c){try{mh=Na;var d=new Na;return d._=b,a(d,c)._}finally{mh=Date}}}function Qa(a){function b(a){function b(b){for(var c,e,f,g=[],h=-1,i=0;++h<d;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=oh[c=a.charAt(++h)])&&(c=a.charAt(++h)),(f=C[c])&&(c=f(b,null==e?"e"===c?" ":"0":e)),g.push(c),i=h+1);return g.push(a.slice(i,h)),g.join("")}var d=a.length;return b.parse=function(b){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},e=c(d,a,b,0);if(e!=b.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);var f=null!=d.Z&&mh!==Na,g=new(f?Na:mh);return"j"in d?g.setFullYear(d.y,0,d.j):"W"in d||"U"in d?("w"in d||(d.w="W"in d?1:0),g.setFullYear(d.y,0,1),g.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(g.getDay()+5)%7:d.w+7*d.U-(g.getDay()+6)%7)):g.setFullYear(d.y,d.m,d.d),g.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L),
f?g._:g},b.toString=function(){return a},b}function c(a,b,c,d){for(var e,f,g,h=0,i=b.length,j=c.length;h<i;){if(d>=j)return-1;if(e=b.charCodeAt(h++),37===e){if(g=b.charAt(h++),f=D[g in oh?b.charAt(h++):g],!f||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function d(a,b,c){w.lastIndex=0;var d=w.exec(b.slice(c));return d?(a.w=x.get(d[0].toLowerCase()),c+d[0].length):-1}function e(a,b,c){u.lastIndex=0;var d=u.exec(b.slice(c));return d?(a.w=v.get(d[0].toLowerCase()),c+d[0].length):-1}function f(a,b,c){A.lastIndex=0;var d=A.exec(b.slice(c));return d?(a.m=B.get(d[0].toLowerCase()),c+d[0].length):-1}function g(a,b,c){y.lastIndex=0;var d=y.exec(b.slice(c));return d?(a.m=z.get(d[0].toLowerCase()),c+d[0].length):-1}function h(a,b,d){return c(a,C.c.toString(),b,d)}function i(a,b,d){return c(a,C.x.toString(),b,d)}function j(a,b,d){return c(a,C.X.toString(),b,d)}function k(a,b,c){var d=t.get(b.slice(c,c+=2).toLowerCase());return null==d?-1:(a.p=d,c)}var l=a.dateTime,m=a.date,n=a.time,o=a.periods,p=a.days,q=a.shortDays,r=a.months,s=a.shortMonths;b.utc=function(a){function c(a){try{mh=Na;var b=new mh;return b._=a,d(b)}finally{mh=Date}}var d=b(a);return c.parse=function(a){try{mh=Na;var b=d.parse(a);return b&&b._}finally{mh=Date}},c.toString=d.toString,c},b.multi=b.utc.multi=ib;var t=hg.map(),u=Sa(p),v=Ta(p),w=Sa(q),x=Ta(q),y=Sa(r),z=Ta(r),A=Sa(s),B=Ta(s);o.forEach(function(a,b){t.set(a.toLowerCase(),b)});var C={a:function(a){return q[a.getDay()]},A:function(a){return p[a.getDay()]},b:function(a){return s[a.getMonth()]},B:function(a){return r[a.getMonth()]},c:b(l),d:function(a,b){return Ra(a.getDate(),b,2)},e:function(a,b){return Ra(a.getDate(),b,2)},H:function(a,b){return Ra(a.getHours(),b,2)},I:function(a,b){return Ra(a.getHours()%12||12,b,2)},j:function(a,b){return Ra(1+lh.dayOfYear(a),b,3)},L:function(a,b){return Ra(a.getMilliseconds(),b,3)},m:function(a,b){return Ra(a.getMonth()+1,b,2)},M:function(a,b){return Ra(a.getMinutes(),b,2)},p:function(a){return o[+(a.getHours()>=12)]},S:function(a,b){return Ra(a.getSeconds(),b,2)},U:function(a,b){return Ra(lh.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return Ra(lh.mondayOfYear(a),b,2)},x:b(m),X:b(n),y:function(a,b){return Ra(a.getFullYear()%100,b,2)},Y:function(a,b){return Ra(a.getFullYear()%1e4,b,4)},Z:gb,"%":function(){return"%"}},D={a:d,A:e,b:f,B:g,c:h,d:ab,e:ab,H:cb,I:cb,j:bb,L:fb,m:_a,M:db,p:k,S:eb,U:Va,w:Ua,W:Wa,x:i,X:j,y:Ya,Y:Xa,Z:Za,"%":hb};return b}function Ra(a,b,c){var d=a<0?"-":"",e=(d?-a:a)+"",f=e.length;return d+(f<c?new Array(c-f+1).join(b)+e:e)}function Sa(a){return new RegExp("^(?:"+a.map(hg.requote).join("|")+")","i")}function Ta(a){for(var b=new j,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function Ua(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function Va(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c));return d?(a.U=+d[0],c+d[0].length):-1}function Wa(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c));return d?(a.W=+d[0],c+d[0].length):-1}function Xa(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function Ya(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+2));return d?(a.y=$a(+d[0]),c+d[0].length):-1}function Za(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function $a(a){return a+(a>68?1900:2e3)}function _a(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function ab(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function bb(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+3));return d?(a.j=+d[0],c+d[0].length):-1}function cb(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function db(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function eb(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function fb(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function gb(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",d=rg(b)/60|0,e=rg(b)%60;return c+Ra(d,"0",2)+Ra(e,"0",2)}function hb(a,b,c){qh.lastIndex=0;var d=qh.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function ib(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,d=a[c];!d[1](b);)d=a[++c];return d[0](b)}}function jb(){}function kb(a,b,c){var d=c.s=a+b,e=d-a,f=d-e;c.t=a-f+(b-e)}function lb(a,b){a&&uh.hasOwnProperty(a.type)&&uh[a.type](a,b)}function mb(a,b,c){var d,e=-1,f=a.length-c;for(b.lineStart();++e<f;)d=a[e],b.point(d[0],d[1],d[2]);b.lineEnd()}function nb(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)mb(a[c],b,1);b.polygonEnd()}function ob(){function a(a,b){a*=Og,b=b*Og/2+Kg/4;var c=a-d,g=c>=0?1:-1,h=g*c,i=Math.cos(b),j=Math.sin(b),k=f*j,l=e*i+k*Math.cos(h),m=k*g*Math.sin(h);wh.add(Math.atan2(m,l)),d=a,e=i,f=j}var b,c,d,e,f;xh.point=function(g,h){xh.point=a,d=(b=g)*Og,e=Math.cos(h=(c=h)*Og/2+Kg/4),f=Math.sin(h)},xh.lineEnd=function(){a(b,c)}}function pb(a){var b=a[0],c=a[1],d=Math.cos(c);return[d*Math.cos(b),d*Math.sin(b),Math.sin(c)]}function qb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function rb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function sb(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function tb(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function ub(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}function vb(a){return[Math.atan2(a[1],a[0]),ba(a[2])]}function wb(a,b){return rg(a[0]-b[0])<Ig&&rg(a[1]-b[1])<Ig}function xb(a,b){a*=Og;var c=Math.cos(b*=Og);yb(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function yb(a,b,c){++yh,Ah+=(a-Ah)/yh,Bh+=(b-Bh)/yh,Ch+=(c-Ch)/yh}function zb(){function a(a,e){a*=Og;var f=Math.cos(e*=Og),g=f*Math.cos(a),h=f*Math.sin(a),i=Math.sin(e),j=Math.atan2(Math.sqrt((j=c*i-d*h)*j+(j=d*g-b*i)*j+(j=b*h-c*g)*j),b*g+c*h+d*i);zh+=j,Dh+=j*(b+(b=g)),Eh+=j*(c+(c=h)),Fh+=j*(d+(d=i)),yb(b,c,d)}var b,c,d;Jh.point=function(e,f){e*=Og;var g=Math.cos(f*=Og);b=g*Math.cos(e),c=g*Math.sin(e),d=Math.sin(f),Jh.point=a,yb(b,c,d)}}function Ab(){Jh.point=xb}function Bb(){function a(a,b){a*=Og;var c=Math.cos(b*=Og),g=c*Math.cos(a),h=c*Math.sin(a),i=Math.sin(b),j=e*i-f*h,k=f*g-d*i,l=d*h-e*g,m=Math.sqrt(j*j+k*k+l*l),n=d*g+e*h+f*i,o=m&&-aa(n)/m,p=Math.atan2(m,n);Gh+=o*j,Hh+=o*k,Ih+=o*l,zh+=p,Dh+=p*(d+(d=g)),Eh+=p*(e+(e=h)),Fh+=p*(f+(f=i)),yb(d,e,f)}var b,c,d,e,f;Jh.point=function(g,h){b=g,c=h,Jh.point=a,g*=Og;var i=Math.cos(h*=Og);d=i*Math.cos(g),e=i*Math.sin(g),f=Math.sin(h),yb(d,e,f)},Jh.lineEnd=function(){a(b,c),Jh.lineEnd=Ab,Jh.point=xb}}function Cb(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])}),c}function Db(){return!0}function Eb(a,b,c,d,e){var f=[],g=[];if(a.forEach(function(a){if(!((b=a.length-1)<=0)){var b,c=a[0],d=a[b];if(wb(c,d)){e.lineStart();for(var h=0;h<b;++h)e.point((c=a[h])[0],c[1]);return void e.lineEnd()}var i=new Gb(c,a,null,!0),j=new Gb(c,null,i,!1);i.o=j,f.push(i),g.push(j),i=new Gb(d,a,null,!1),j=new Gb(d,null,i,!0),i.o=j,f.push(i),g.push(j)}}),g.sort(b),Fb(f),Fb(g),f.length){for(var h=0,i=c,j=g.length;h<j;++h)g[h].e=i=!i;for(var k,l,m=f[0];;){for(var n=m,o=!0;n.v;)if((n=n.n)===m)return;k=n.z,e.lineStart();do{if(n.v=n.o.v=!0,n.e){if(o)for(var h=0,j=k.length;h<j;++h)e.point((l=k[h])[0],l[1]);else d(n.x,n.n.x,1,e);n=n.n}else{if(o){k=n.p.z;for(var h=k.length-1;h>=0;--h)e.point((l=k[h])[0],l[1])}else d(n.x,n.p.x,-1,e);n=n.p}n=n.o,k=n.z,o=!o}while(!n.v);e.lineEnd()}}}function Fb(a){if(b=a.length){for(var b,c,d=0,e=a[0];++d<b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0],c.p=e}}function Gb(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function Hb(a,b,c,d){return function(e,f){function g(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function h(a,b){var c=e(a,b);q.point(c[0],c[1])}function i(){s.point=h,q.lineStart()}function j(){s.point=g,q.lineEnd()}function k(a,b){p.push([a,b]);var c=e(a,b);u.point(c[0],c[1])}function l(){u.lineStart(),p=[]}function m(){k(p[0][0],p[0][1]),u.lineEnd();var a,b=u.clean(),c=t.buffer(),d=c.length;if(p.pop(),o.push(p),p=null,d)if(1&b){a=c[0];var e,d=a.length-1,g=-1;if(d>0){for(v||(f.polygonStart(),v=!0),f.lineStart();++g<d;)f.point((e=a[g])[0],e[1]);f.lineEnd()}}else d>1&&2&b&&c.push(c.pop().concat(c.shift())),n.push(c.filter(Ib))}var n,o,p,q=b(f),r=e.invert(d[0],d[1]),s={point:g,lineStart:i,lineEnd:j,polygonStart:function(){s.point=k,s.lineStart=l,s.lineEnd=m,n=[],o=[]},polygonEnd:function(){s.point=g,s.lineStart=i,s.lineEnd=j,n=hg.merge(n);var a=Ob(r,o);n.length?(v||(f.polygonStart(),v=!0),Eb(n,Kb,a,c,f)):a&&(v||(f.polygonStart(),v=!0),f.lineStart(),c(null,null,1,f),f.lineEnd()),v&&(f.polygonEnd(),v=!1),n=o=null},sphere:function(){f.polygonStart(),f.lineStart(),c(null,null,1,f),f.lineEnd(),f.polygonEnd()}},t=Jb(),u=b(t),v=!1;return s}}function Ib(a){return a.length>1}function Jb(){var a,b=[];return{lineStart:function(){b.push(a=[])},point:function(b,c){a.push([b,c])},lineEnd:v,buffer:function(){var c=b;return b=[],a=null,c},rejoin:function(){b.length>1&&b.push(b.pop().concat(b.shift()))}}}function Kb(a,b){return((a=a.x)[0]<0?a[1]-Ng-Ig:Ng-a[1])-((b=b.x)[0]<0?b[1]-Ng-Ig:Ng-b[1])}function Lb(a){var b,c=NaN,d=NaN,e=NaN;return{lineStart:function(){a.lineStart(),b=1},point:function(f,g){var h=f>0?Kg:-Kg,i=rg(f-c);rg(i-Kg)<Ig?(a.point(c,d=(d+g)/2>0?Ng:-Ng),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),a.point(f,d),b=0):e!==h&&i>=Kg&&(rg(c-e)<Ig&&(c-=e*Ig),rg(f-h)<Ig&&(f-=h*Ig),d=Mb(c,d,f,g),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),b=0),a.point(c=f,d=g),e=h},lineEnd:function(){a.lineEnd(),c=d=NaN},clean:function(){return 2-b}}}function Mb(a,b,c,d){var e,f,g=Math.sin(a-c);return rg(g)>Ig?Math.atan((Math.sin(b)*(f=Math.cos(d))*Math.sin(c)-Math.sin(d)*(e=Math.cos(b))*Math.sin(a))/(e*f*g)):(b+d)/2}function Nb(a,b,c,d){var e;if(null==a)e=c*Ng,d.point(-Kg,e),d.point(0,e),d.point(Kg,e),d.point(Kg,0),d.point(Kg,-e),d.point(0,-e),d.point(-Kg,-e),d.point(-Kg,0),d.point(-Kg,e);else if(rg(a[0]-b[0])>Ig){var f=a[0]<b[0]?Kg:-Kg;e=c*f/2,d.point(-f,e),d.point(0,e),d.point(f,e)}else d.point(b[0],b[1])}function Ob(a,b){var c=a[0],d=a[1],e=[Math.sin(c),-Math.cos(c),0],f=0,g=0;wh.reset();for(var h=0,i=b.length;h<i;++h){var j=b[h],k=j.length;if(k)for(var l=j[0],m=l[0],n=l[1]/2+Kg/4,o=Math.sin(n),p=Math.cos(n),q=1;;){q===k&&(q=0),a=j[q];var r=a[0],s=a[1]/2+Kg/4,t=Math.sin(s),u=Math.cos(s),v=r-m,w=v>=0?1:-1,x=w*v,y=x>Kg,z=o*t;if(wh.add(Math.atan2(z*w*Math.sin(x),p*u+z*Math.cos(x))),f+=y?v+w*Lg:v,y^m>=c^r>=c){var A=rb(pb(l),pb(a));ub(A);var B=rb(e,A);ub(B);var C=(y^v>=0?-1:1)*ba(B[2]);(d>C||d===C&&(A[0]||A[1]))&&(g+=y^v>=0?1:-1)}if(!q++)break;m=r,o=t,p=u,l=a}}return(f<-Ig||f<Ig&&wh<-Ig)^1&g}function Pb(a){function b(a,b){return Math.cos(a)*Math.cos(b)>f}function c(a){var c,f,i,j,k;return{lineStart:function(){j=i=!1,k=1},point:function(l,m){var n,o=[l,m],p=b(l,m),q=g?p?0:e(l,m):p?e(l+(l<0?Kg:-Kg),m):0;if(!c&&(j=i=p)&&a.lineStart(),p!==i&&(n=d(c,o),(wb(c,n)||wb(o,n))&&(o[0]+=Ig,o[1]+=Ig,p=b(o[0],o[1]))),p!==i)k=0,p?(a.lineStart(),n=d(o,c),a.point(n[0],n[1])):(n=d(c,o),a.point(n[0],n[1]),a.lineEnd()),c=n;else if(h&&c&&g^p){var r;q&f||!(r=d(o,c,!0))||(k=0,g?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1])))}!p||c&&wb(c,o)||a.point(o[0],o[1]),c=o,i=p,f=q},lineEnd:function(){i&&a.lineEnd(),c=null},clean:function(){return k|(j&&i)<<1}}}function d(a,b,c){var d=pb(a),e=pb(b),g=[1,0,0],h=rb(d,e),i=qb(h,h),j=h[0],k=i-j*j;if(!k)return!c&&a;var l=f*i/k,m=-f*j/k,n=rb(g,h),o=tb(g,l),p=tb(h,m);sb(o,p);var q=n,r=qb(o,q),s=qb(q,q),t=r*r-s*(qb(o,o)-1);if(!(t<0)){var u=Math.sqrt(t),v=tb(q,(-r-u)/s);if(sb(v,o),v=vb(v),!c)return v;var w,x=a[0],y=b[0],z=a[1],A=b[1];y<x&&(w=x,x=y,y=w);var B=y-x,C=rg(B-Kg)<Ig,D=C||B<Ig;if(!C&&A<z&&(w=z,z=A,A=w),D?C?z+A>0^v[1]<(rg(v[0]-x)<Ig?z:A):z<=v[1]&&v[1]<=A:B>Kg^(x<=v[0]&&v[0]<=y)){var E=tb(q,(-r+u)/s);return sb(E,o),[v,vb(E)]}}}function e(b,c){var d=g?a:Kg-a,e=0;return b<-d?e|=1:b>d&&(e|=2),c<-d?e|=4:c>d&&(e|=8),e}var f=Math.cos(a),g=f>0,h=rg(f)>Ig,i=oc(a,6*Og);return Hb(b,c,i,g?[0,-a]:[-Kg,a-Kg])}function Qb(a,b,c,d){return function(e){var f,g=e.a,h=e.b,i=g.x,j=g.y,k=h.x,l=h.y,m=0,n=1,o=k-i,p=l-j;if(f=a-i,o||!(f>0)){if(f/=o,o<0){if(f<m)return;f<n&&(n=f)}else if(o>0){if(f>n)return;f>m&&(m=f)}if(f=c-i,o||!(f<0)){if(f/=o,o<0){if(f>n)return;f>m&&(m=f)}else if(o>0){if(f<m)return;f<n&&(n=f)}if(f=b-j,p||!(f>0)){if(f/=p,p<0){if(f<m)return;f<n&&(n=f)}else if(p>0){if(f>n)return;f>m&&(m=f)}if(f=d-j,p||!(f<0)){if(f/=p,p<0){if(f>n)return;f>m&&(m=f)}else if(p>0){if(f<m)return;f<n&&(n=f)}return m>0&&(e.a={x:i+m*o,y:j+m*p}),n<1&&(e.b={x:i+n*o,y:j+n*p}),e}}}}}}function Rb(a,b,c,d){function e(d,e){return rg(d[0]-a)<Ig?e>0?0:3:rg(d[0]-c)<Ig?e>0?2:1:rg(d[1]-b)<Ig?e>0?1:0:e>0?3:2}function f(a,b){return g(a.x,b.x)}function g(a,b){var c=e(a,1),d=e(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(h){function i(a){for(var b=0,c=q.length,d=a[1],e=0;e<c;++e)for(var f,g=1,h=q[e],i=h.length,j=h[0];g<i;++g)f=h[g],j[1]<=d?f[1]>d&&_(j,f,a)>0&&++b:f[1]<=d&&_(j,f,a)<0&&--b,j=f;return 0!==b}function j(f,h,i,j){var k=0,l=0;if(null==f||(k=e(f,i))!==(l=e(h,i))||g(f,h)<0^i>0){do j.point(0===k||3===k?a:c,k>1?d:b);while((k=(k+i+4)%4)!==l)}else j.point(h[0],h[1])}function k(e,f){return a<=e&&e<=c&&b<=f&&f<=d}function l(a,b){k(a,b)&&h.point(a,b)}function m(){D.point=o,q&&q.push(r=[]),y=!0,x=!1,v=w=NaN}function n(){p&&(o(s,t),u&&x&&B.rejoin(),p.push(B.buffer())),D.point=l,x&&h.lineEnd()}function o(a,b){a=Math.max(-Lh,Math.min(Lh,a)),b=Math.max(-Lh,Math.min(Lh,b));var c=k(a,b);if(q&&r.push([a,b]),y)s=a,t=b,u=c,y=!1,c&&(h.lineStart(),h.point(a,b));else if(c&&x)h.point(a,b);else{var d={a:{x:v,y:w},b:{x:a,y:b}};C(d)?(x||(h.lineStart(),h.point(d.a.x,d.a.y)),h.point(d.b.x,d.b.y),c||h.lineEnd(),z=!1):c&&(h.lineStart(),h.point(a,b),z=!1)}v=a,w=b,x=c}var p,q,r,s,t,u,v,w,x,y,z,A=h,B=Jb(),C=Qb(a,b,c,d),D={point:l,lineStart:m,lineEnd:n,polygonStart:function(){h=B,p=[],q=[],z=!0},polygonEnd:function(){h=A,p=hg.merge(p);var b=i([a,d]),c=z&&b,e=p.length;(c||e)&&(h.polygonStart(),c&&(h.lineStart(),j(null,null,1,h),h.lineEnd()),e&&Eb(p,f,b,j,h),h.polygonEnd()),p=q=r=null}};return D}}function Sb(a){var b=0,c=Kg/3,d=gc(a),e=d(b,c);return e.parallels=function(a){return arguments.length?d(b=a[0]*Kg/180,c=a[1]*Kg/180):[b/Kg*180,c/Kg*180]},e}function Tb(a,b){function c(a,b){var c=Math.sqrt(f-2*e*Math.sin(b))/e;return[c*Math.sin(a*=e),g-c*Math.cos(a)]}var d=Math.sin(a),e=(d+Math.sin(b))/2,f=1+d*(2*e-d),g=Math.sqrt(f)/e;return c.invert=function(a,b){var c=g-b;return[Math.atan2(a,c)/e,ba((f-(a*a+c*c)*e*e)/(2*e))]},c}function Ub(){function a(a,b){Nh+=e*a-d*b,d=a,e=b}var b,c,d,e;Sh.point=function(f,g){Sh.point=a,b=d=f,c=e=g},Sh.lineEnd=function(){a(b,c)}}function Vb(a,b){a<Oh&&(Oh=a),a>Qh&&(Qh=a),b<Ph&&(Ph=b),b>Rh&&(Rh=b)}function Wb(){function a(a,b){g.push("M",a,",",b,f)}function b(a,b){g.push("M",a,",",b),h.point=c}function c(a,b){g.push("L",a,",",b)}function d(){h.point=a}function e(){g.push("Z")}var f=Xb(4.5),g=[],h={point:a,lineStart:function(){h.point=b},lineEnd:d,polygonStart:function(){h.lineEnd=e},polygonEnd:function(){h.lineEnd=d,h.point=a},pointRadius:function(a){return f=Xb(a),h},result:function(){if(g.length){var a=g.join("");return g=[],a}}};return h}function Xb(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Yb(a,b){Ah+=a,Bh+=b,++Ch}function Zb(){function a(a,d){var e=a-b,f=d-c,g=Math.sqrt(e*e+f*f);Dh+=g*(b+a)/2,Eh+=g*(c+d)/2,Fh+=g,Yb(b=a,c=d)}var b,c;Uh.point=function(d,e){Uh.point=a,Yb(b=d,c=e)}}function $b(){Uh.point=Yb}function _b(){function a(a,b){var c=a-d,f=b-e,g=Math.sqrt(c*c+f*f);Dh+=g*(d+a)/2,Eh+=g*(e+b)/2,Fh+=g,g=e*a-d*b,Gh+=g*(d+a),Hh+=g*(e+b),Ih+=3*g,Yb(d=a,e=b)}var b,c,d,e;Uh.point=function(f,g){Uh.point=a,Yb(b=d=f,c=e=g)},Uh.lineEnd=function(){a(b,c)}}function ac(a){function b(b,c){a.moveTo(b+g,c),a.arc(b,c,g,0,Lg)}function c(b,c){a.moveTo(b,c),h.point=d}function d(b,c){a.lineTo(b,c)}function e(){h.point=b}function f(){a.closePath()}var g=4.5,h={point:b,lineStart:function(){h.point=c},lineEnd:e,polygonStart:function(){h.lineEnd=f},polygonEnd:function(){h.lineEnd=e,h.point=b},pointRadius:function(a){return g=a,h},result:v};return h}function bc(a){function b(a){return(h?d:c)(a)}function c(b){return ec(b,function(c,d){c=a(c,d),b.point(c[0],c[1])})}function d(b){function c(c,d){c=a(c,d),b.point(c[0],c[1])}function d(){t=NaN,y.point=f,b.lineStart()}function f(c,d){var f=pb([c,d]),g=a(c,d);e(t,u,s,v,w,x,t=g[0],u=g[1],s=c,v=f[0],w=f[1],x=f[2],h,b),b.point(t,u)}function g(){y.point=c,b.lineEnd()}function i(){d(),y.point=j,y.lineEnd=k}function j(a,b){f(l=a,m=b),n=t,o=u,p=v,q=w,r=x,y.point=f}function k(){e(t,u,s,v,w,x,n,o,l,p,q,r,h,b),y.lineEnd=g,g()}var l,m,n,o,p,q,r,s,t,u,v,w,x,y={point:c,lineStart:d,lineEnd:g,polygonStart:function(){b.polygonStart(),y.lineStart=i},polygonEnd:function(){b.polygonEnd(),y.lineStart=d}};return y}function e(b,c,d,h,i,j,k,l,m,n,o,p,q,r){var s=k-b,t=l-c,u=s*s+t*t;if(u>4*f&&q--){var v=h+n,w=i+o,x=j+p,y=Math.sqrt(v*v+w*w+x*x),z=Math.asin(x/=y),A=rg(rg(x)-1)<Ig||rg(d-m)<Ig?(d+m)/2:Math.atan2(w,v),B=a(A,z),C=B[0],D=B[1],E=C-b,F=D-c,G=t*E-s*F;(G*G/u>f||rg((s*E+t*F)/u-.5)>.3||h*n+i*o+j*p<g)&&(e(b,c,d,h,i,j,C,D,A,v/=y,w/=y,x,q,r),r.point(C,D),e(C,D,A,v,w,x,k,l,m,n,o,p,q,r))}}var f=.5,g=Math.cos(30*Og),h=16;return b.precision=function(a){return arguments.length?(h=(f=a*a)>0&&16,b):Math.sqrt(f)},b}function cc(a){var b=bc(function(b,c){return a([b*Pg,c*Pg])});return function(a){return hc(b(a))}}function dc(a){this.stream=a}function ec(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function fc(a){return gc(function(){return a})()}function gc(a){function b(a){return a=h(a[0]*Og,a[1]*Og),[a[0]*m+i,j-a[1]*m]}function c(a){return a=h.invert((a[0]-i)/m,(j-a[1])/m),a&&[a[0]*Pg,a[1]*Pg]}function d(){h=Cb(g=kc(r,t,u),f);var a=f(p,q);return i=n-a[0]*m,j=o+a[1]*m,e()}function e(){return k&&(k.valid=!1,k=null),b}var f,g,h,i,j,k,l=bc(function(a,b){return a=f(a,b),[a[0]*m+i,j-a[1]*m]}),m=150,n=480,o=250,p=0,q=0,r=0,t=0,u=0,v=Kh,w=s,x=null,y=null;return b.stream=function(a){return k&&(k.valid=!1),k=hc(v(g,l(w(a)))),k.valid=!0,k},b.clipAngle=function(a){return arguments.length?(v=null==a?(x=a,Kh):Pb((x=+a)*Og),e()):x},b.clipExtent=function(a){return arguments.length?(y=a,w=a?Rb(a[0][0],a[0][1],a[1][0],a[1][1]):s,e()):y},b.scale=function(a){return arguments.length?(m=+a,d()):m},b.translate=function(a){return arguments.length?(n=+a[0],o=+a[1],d()):[n,o]},b.center=function(a){return arguments.length?(p=a[0]%360*Og,q=a[1]%360*Og,d()):[p*Pg,q*Pg]},b.rotate=function(a){return arguments.length?(r=a[0]%360*Og,t=a[1]%360*Og,u=a.length>2?a[2]%360*Og:0,d()):[r*Pg,t*Pg,u*Pg]},hg.rebind(b,l,"precision"),function(){return f=a.apply(this,arguments),b.invert=f.invert&&c,d()}}function hc(a){return ec(a,function(b,c){a.point(b*Og,c*Og)})}function ic(a,b){return[a,b]}function jc(a,b){return[a>Kg?a-Lg:a<-Kg?a+Lg:a,b]}function kc(a,b,c){return a?b||c?Cb(mc(a),nc(b,c)):mc(a):b||c?nc(b,c):jc}function lc(a){return function(b,c){return b+=a,[b>Kg?b-Lg:b<-Kg?b+Lg:b,c]}}function mc(a){var b=lc(a);return b.invert=lc(-a),b}function nc(a,b){function c(a,b){var c=Math.cos(b),h=Math.cos(a)*c,i=Math.sin(a)*c,j=Math.sin(b),k=j*d+h*e;return[Math.atan2(i*f-k*g,h*d-j*e),ba(k*f+i*g)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),g=Math.sin(b);return c.invert=function(a,b){var c=Math.cos(b),h=Math.cos(a)*c,i=Math.sin(a)*c,j=Math.sin(b),k=j*f-i*g;return[Math.atan2(i*f+j*g,h*d+k*e),ba(k*d-h*e)]},c}function oc(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,g,h){var i=g*b;null!=e?(e=pc(c,e),f=pc(c,f),(g>0?e<f:e>f)&&(e+=g*Lg)):(e=a+g*Lg,f=a-.5*i);for(var j,k=e;g>0?k>f:k<f;k-=i)h.point((j=vb([c,-d*Math.cos(k),-d*Math.sin(k)]))[0],j[1])}}function pc(a,b){var c=pb(b);c[0]-=a,ub(c);var d=aa(-c[1]);return((-c[2]<0?-d:d)+2*Math.PI-Ig)%(2*Math.PI)}function qc(a,b,c){var d=hg.range(a,b-Ig,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function rc(a,b,c){var d=hg.range(a,b-Ig,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function sc(a){return a.source}function tc(a){return a.target}function uc(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),g=Math.cos(d),h=Math.sin(d),i=e*Math.cos(a),j=e*Math.sin(a),k=g*Math.cos(c),l=g*Math.sin(c),m=2*Math.asin(Math.sqrt(fa(d-b)+e*g*fa(c-a))),n=1/Math.sin(m),o=m?function(a){var b=Math.sin(a*=m)*n,c=Math.sin(m-a)*n,d=c*i+b*k,e=c*j+b*l,g=c*f+b*h;return[Math.atan2(e,d)*Pg,Math.atan2(g,Math.sqrt(d*d+e*e))*Pg]}:function(){return[a*Pg,b*Pg]};return o.distance=m,o}function vc(){function a(a,e){var f=Math.sin(e*=Og),g=Math.cos(e),h=rg((a*=Og)-b),i=Math.cos(h);Vh+=Math.atan2(Math.sqrt((h=g*Math.sin(h))*h+(h=d*f-c*g*i)*h),c*f+d*g*i),b=a,c=f,d=g}var b,c,d;Wh.point=function(e,f){b=e*Og,c=Math.sin(f*=Og),d=Math.cos(f),Wh.point=a},Wh.lineEnd=function(){Wh.point=Wh.lineEnd=v}}function wc(a,b){function c(b,c){var d=Math.cos(b),e=Math.cos(c),f=a(d*e);return[f*e*Math.sin(b),f*Math.sin(c)]}return c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),f=Math.sin(e),g=Math.cos(e);return[Math.atan2(a*f,d*g),Math.asin(d&&c*f/d)]},c}function xc(a,b){function c(a,b){g>0?b<-Ng+Ig&&(b=-Ng+Ig):b>Ng-Ig&&(b=Ng-Ig);var c=g/Math.pow(e(b),f);return[c*Math.sin(f*a),g-c*Math.cos(f*a)]}var d=Math.cos(a),e=function(a){return Math.tan(Kg/4+a/2)},f=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(e(b)/e(a)),g=d*Math.pow(e(a),f)/f;return f?(c.invert=function(a,b){var c=g-b,d=$(f)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/f,2*Math.atan(Math.pow(g/d,1/f))-Ng]},c):zc}function yc(a,b){function c(a,b){var c=f-b;return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-Math.cos(b))/(b-a),f=d/e+a;return rg(e)<Ig?ic:(c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/e,f-$(e)*Math.sqrt(a*a+c*c)]},c)}function zc(a,b){return[a,Math.log(Math.tan(Kg/4+b/2))]}function Ac(a){var b,c=fc(a),d=c.scale,e=c.translate,f=c.clipExtent;return c.scale=function(){var a=d.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.translate=function(){var a=e.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.clipExtent=function(a){var g=f.apply(c,arguments);if(g===c){if(b=null==a){var h=Kg*d(),i=e();f([[i[0]-h,i[1]-h],[i[0]+h,i[1]+h]])}}else b&&(g=null);return g},c.clipExtent(null)}function Bc(a,b){return[Math.log(Math.tan(Kg/4+b/2)),-a]}function Cc(a){return a[0]}function Dc(a){return a[1]}function Ec(a){for(var b=a.length,c=[0,1],d=2,e=2;e<b;e++){for(;d>1&&_(a[c[d-2]],a[c[d-1]],a[e])<=0;)--d;c[d++]=e}return c.slice(0,d)}function Fc(a,b){return a[0]-b[0]||a[1]-b[1]}function Gc(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Hc(a,b,c,d){var e=a[0],f=c[0],g=b[0]-e,h=d[0]-f,i=a[1],j=c[1],k=b[1]-i,l=d[1]-j,m=(h*(i-j)-l*(e-f))/(l*g-h*k);return[e+m*g,i+m*k]}function Ic(a){var b=a[0],c=a[a.length-1];return!(b[0]-c[0]||b[1]-c[1])}function Jc(){cd(this),this.edge=this.site=this.circle=null}function Kc(a){var b=gi.pop()||new Jc;return b.site=a,b}function Lc(a){Vc(a),di.remove(a),gi.push(a),cd(a)}function Mc(a){var b=a.circle,c=b.x,d=b.cy,e={x:c,y:d},f=a.P,g=a.N,h=[a];Lc(a);for(var i=f;i.circle&&rg(c-i.circle.x)<Ig&&rg(d-i.circle.cy)<Ig;)f=i.P,h.unshift(i),Lc(i),i=f;h.unshift(i),Vc(i);for(var j=g;j.circle&&rg(c-j.circle.x)<Ig&&rg(d-j.circle.cy)<Ig;)g=j.N,h.push(j),Lc(j),j=g;h.push(j),Vc(j);var k,l=h.length;for(k=1;k<l;++k)j=h[k],i=h[k-1],_c(j.edge,i.site,j.site,e);i=h[0],j=h[l-1],j.edge=Zc(i.site,j.site,null,e),Uc(i),Uc(j)}function Nc(a){for(var b,c,d,e,f=a.x,g=a.y,h=di._;h;)if(d=Oc(h,g)-f,d>Ig)h=h.L;else{if(e=f-Pc(h,g),!(e>Ig)){d>-Ig?(b=h.P,c=h):e>-Ig?(b=h,c=h.N):b=c=h;break}if(!h.R){b=h;break}h=h.R}var i=Kc(a);if(di.insert(b,i),b||c){if(b===c)return Vc(b),c=Kc(b.site),di.insert(i,c),i.edge=c.edge=Zc(b.site,i.site),Uc(b),void Uc(c);if(!c)return void(i.edge=Zc(b.site,i.site));Vc(b),Vc(c);var j=b.site,k=j.x,l=j.y,m=a.x-k,n=a.y-l,o=c.site,p=o.x-k,q=o.y-l,r=2*(m*q-n*p),s=m*m+n*n,t=p*p+q*q,u={x:(q*s-n*t)/r+k,y:(m*t-p*s)/r+l};_c(c.edge,j,o,u),i.edge=Zc(j,a,null,u),c.edge=Zc(a,o,null,u),Uc(b),Uc(c)}}function Oc(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-(1/0);c=g.site;var h=c.x,i=c.y,j=i-b;if(!j)return h;var k=h-d,l=1/f-1/j,m=k/j;return l?(-m+Math.sqrt(m*m-2*l*(k*k/(-2*j)-i+j/2+e-f/2)))/l+d:(d+h)/2}function Pc(a,b){var c=a.N;if(c)return Oc(c,b);var d=a.site;return d.y===b?d.x:1/0}function Qc(a){this.site=a,this.edges=[]}function Rc(a){for(var b,c,d,e,f,g,h,i,j,k,l=a[0][0],m=a[1][0],n=a[0][1],o=a[1][1],p=ci,q=p.length;q--;)if(f=p[q],f&&f.prepare())for(h=f.edges,i=h.length,g=0;g<i;)k=h[g].end(),d=k.x,e=k.y,j=h[++g%i].start(),b=j.x,c=j.y,(rg(d-b)>Ig||rg(e-c)>Ig)&&(h.splice(g,0,new ad($c(f.site,k,rg(d-l)<Ig&&o-e>Ig?{x:l,y:rg(b-l)<Ig?c:o}:rg(e-o)<Ig&&m-d>Ig?{x:rg(c-o)<Ig?b:m,y:o}:rg(d-m)<Ig&&e-n>Ig?{x:m,y:rg(b-m)<Ig?c:n}:rg(e-n)<Ig&&d-l>Ig?{x:rg(c-n)<Ig?b:l,y:n}:null),f.site,null)),++i)}function Sc(a,b){return b.angle-a.angle}function Tc(){cd(this),this.x=this.y=this.arc=this.site=this.cy=null}function Uc(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,e=a.site,f=c.site;if(d!==f){var g=e.x,h=e.y,i=d.x-g,j=d.y-h,k=f.x-g,l=f.y-h,m=2*(i*l-j*k);if(!(m>=-Jg)){var n=i*i+j*j,o=k*k+l*l,p=(l*n-j*o)/m,q=(i*o-k*n)/m,l=q+h,r=hi.pop()||new Tc;r.arc=a,r.site=e,r.x=p+g,r.y=l+Math.sqrt(p*p+q*q),r.cy=l,a.circle=r;for(var s=null,t=fi._;t;)if(r.y<t.y||r.y===t.y&&r.x<=t.x){if(!t.L){s=t.P;break}t=t.L}else{if(!t.R){s=t;break}t=t.R}fi.insert(s,r),s||(ei=r)}}}}function Vc(a){var b=a.circle;b&&(b.P||(ei=b.N),fi.remove(b),hi.push(b),cd(b),a.circle=null)}function Wc(a){for(var b,c=bi,d=Qb(a[0][0],a[0][1],a[1][0],a[1][1]),e=c.length;e--;)b=c[e],(!Xc(b,a)||!d(b)||rg(b.a.x-b.b.x)<Ig&&rg(b.a.y-b.b.y)<Ig)&&(b.a=b.b=null,c.splice(e,1))}function Xc(a,b){var c=a.b;if(c)return!0;var d,e,f=a.a,g=b[0][0],h=b[1][0],i=b[0][1],j=b[1][1],k=a.l,l=a.r,m=k.x,n=k.y,o=l.x,p=l.y,q=(m+o)/2,r=(n+p)/2;if(p===n){if(q<g||q>=h)return;if(m>o){if(f){if(f.y>=j)return}else f={x:q,y:i};c={x:q,y:j}}else{if(f){if(f.y<i)return}else f={x:q,y:j};c={x:q,y:i}}}else if(d=(m-o)/(p-n),e=r-d*q,d<-1||d>1)if(m>o){if(f){if(f.y>=j)return}else f={x:(i-e)/d,y:i};c={x:(j-e)/d,y:j}}else{if(f){if(f.y<i)return}else f={x:(j-e)/d,y:j};c={x:(i-e)/d,y:i}}else if(n<p){if(f){if(f.x>=h)return}else f={x:g,y:d*g+e};c={x:h,y:d*h+e}}else{if(f){if(f.x<g)return}else f={x:h,y:d*h+e};c={x:g,y:d*g+e}}return a.a=f,a.b=c,!0}function Yc(a,b){this.l=a,this.r=b,this.a=this.b=null}function Zc(a,b,c,d){var e=new Yc(a,b);return bi.push(e),c&&_c(e,a,b,c),d&&_c(e,b,a,d),ci[a.i].edges.push(new ad(e,a,b)),ci[b.i].edges.push(new ad(e,b,a)),e}function $c(a,b,c){var d=new Yc(a,null);return d.a=b,d.b=c,bi.push(d),d}function _c(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function ad(a,b,c){var d=a.a,e=a.b;this.edge=a,this.site=b,this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function bd(){this._=null}function cd(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function dd(a,b){var c=b,d=b.R,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.R=d.L,c.R&&(c.R.U=c),d.L=c}function ed(a,b){var c=b,d=b.L,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.L=d.R,c.L&&(c.L.U=c),d.R=c}function fd(a){for(;a.L;)a=a.L;return a}function gd(a,b){var c,d,e,f=a.sort(hd).pop();for(bi=[],ci=new Array(a.length),di=new bd,fi=new bd;;)if(e=ei,f&&(!e||f.y<e.y||f.y===e.y&&f.x<e.x))f.x===c&&f.y===d||(ci[f.i]=new Qc(f),Nc(f),c=f.x,d=f.y),f=a.pop();else{if(!e)break;Mc(e.arc)}b&&(Wc(b),Rc(b));var g={cells:ci,edges:bi};return di=fi=bi=ci=null,g}function hd(a,b){return b.y-a.y||b.x-a.x}function id(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}function jd(a){return a.x}function kd(a){return a.y}function ld(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function md(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=.5*(c+e),h=.5*(d+f),i=b.nodes;i[0]&&md(a,i[0],c,d,g,h),i[1]&&md(a,i[1],g,d,e,h),i[2]&&md(a,i[2],c,h,g,f),i[3]&&md(a,i[3],g,h,e,f)}}function nd(a,b,c,d,e,f,g){var h,i=1/0;return function a(j,k,l,m,n){if(!(k>f||l>g||m<d||n<e)){if(o=j.point){var o,p=b-j.x,q=c-j.y,r=p*p+q*q;if(r<i){var s=Math.sqrt(i=r);d=b-s,e=c-s,f=b+s,g=c+s,h=o}}for(var t=j.nodes,u=.5*(k+m),v=.5*(l+n),w=b>=u,x=c>=v,y=x<<1|w,z=y+4;y<z;++y)if(j=t[3&y])switch(3&y){case 0:a(j,k,l,u,v);break;case 1:a(j,u,l,m,v);break;case 2:a(j,k,v,u,n);break;case 3:a(j,u,v,m,n)}}}(a,d,e,f,g),h}function od(a,b){a=hg.rgb(a),b=hg.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-c,g=b.g-d,h=b.b-e;return function(a){return"#"+ua(Math.round(c+f*a))+ua(Math.round(d+g*a))+ua(Math.round(e+h*a))}}function pd(a,b){var c,d={},e={};for(c in a)c in b?d[c]=sd(a[c],b[c]):e[c]=a[c];for(c in b)c in a||(e[c]=b[c]);return function(a){for(c in d)e[c]=d[c](a);return e}}function qd(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function rd(a,b){var c,d,e,f=ji.lastIndex=ki.lastIndex=0,g=-1,h=[],i=[];for(a+="",b+="";(c=ji.exec(a))&&(d=ki.exec(b));)(e=d.index)>f&&(e=b.slice(f,e),h[g]?h[g]+=e:h[++g]=e),(c=c[0])===(d=d[0])?h[g]?h[g]+=d:h[++g]=d:(h[++g]=null,i.push({i:g,x:qd(c,d)})),f=ki.lastIndex;return f<b.length&&(e=b.slice(f),h[g]?h[g]+=e:h[++g]=e),h.length<2?i[0]?(b=i[0].x,function(a){return b(a)+""}):function(){return b}:(b=i.length,function(a){for(var c,d=0;d<b;++d)h[(c=i[d]).i]=c.x(a);return h.join("")})}function sd(a,b){for(var c,d=hg.interpolators.length;--d>=0&&!(c=hg.interpolators[d](a,b)););return c}function td(a,b){var c,d=[],e=[],f=a.length,g=b.length,h=Math.min(a.length,b.length);for(c=0;c<h;++c)d.push(sd(a[c],b[c]));for(;c<f;++c)e[c]=a[c];for(;c<g;++c)e[c]=b[c];return function(a){for(c=0;c<h;++c)e[c]=d[c](a);return e}}function ud(a){return function(b){return b<=0?0:b>=1?1:a(b)}}function vd(a){return function(b){return 1-a(1-b)}}function wd(a){return function(b){return.5*(b<.5?a(2*b):2-a(2-2*b))}}function xd(a){return a*a}function yd(a){return a*a*a}function zd(a){if(a<=0)return 0;if(a>=1)return 1;var b=a*a,c=b*a;return 4*(a<.5?c:3*(a-b)+c-.75)}function Ad(a){return function(b){return Math.pow(b,a)}}function Bd(a){return 1-Math.cos(a*Ng)}function Cd(a){return Math.pow(2,10*(a-1))}function Dd(a){return 1-Math.sqrt(1-a*a)}function Ed(a,b){var c;return arguments.length<2&&(b=.45),arguments.length?c=b/Lg*Math.asin(1/a):(a=1,c=b/4),function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*Lg/b)}}function Fd(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function Gd(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Hd(a,b){a=hg.hcl(a),b=hg.hcl(b);var c=a.h,d=a.c,e=a.l,f=b.h-c,g=b.c-d,h=b.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?b.c:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):f>180?f-=360:f<-180&&(f+=360),function(a){return ka(c+f*a,d+g*a,e+h*a)+""}}function Id(a,b){a=hg.hsl(a),b=hg.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,g=b.s-d,h=b.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?b.s:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):f>180?f-=360:f<-180&&(f+=360),function(a){return ia(c+f*a,d+g*a,e+h*a)+""}}function Jd(a,b){a=hg.lab(a),b=hg.lab(b);var c=a.l,d=a.a,e=a.b,f=b.l-c,g=b.a-d,h=b.b-e;return function(a){return ma(c+f*a,d+g*a,e+h*a)+""}}function Kd(a,b){return b-=a,function(c){return Math.round(a+b*c)}}function Ld(a){var b=[a.a,a.b],c=[a.c,a.d],d=Nd(b),e=Md(b,c),f=Nd(Od(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Pg,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*Pg:0}function Md(a,b){return a[0]*b[0]+a[1]*b[1]}function Nd(a){var b=Math.sqrt(Md(a,a));return b&&(a[0]/=b,a[1]/=b),b}function Od(a,b,c){return a[0]+=c*b[0],a[1]+=c*b[1],a}function Pd(a){return a.length?a.pop()+",":"";
}function Qd(a,b,c,d){if(a[0]!==b[0]||a[1]!==b[1]){var e=c.push("translate(",null,",",null,")");d.push({i:e-4,x:qd(a[0],b[0])},{i:e-2,x:qd(a[1],b[1])})}else(b[0]||b[1])&&c.push("translate("+b+")")}function Rd(a,b,c,d){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),d.push({i:c.push(Pd(c)+"rotate(",null,")")-2,x:qd(a,b)})):b&&c.push(Pd(c)+"rotate("+b+")")}function Sd(a,b,c,d){a!==b?d.push({i:c.push(Pd(c)+"skewX(",null,")")-2,x:qd(a,b)}):b&&c.push(Pd(c)+"skewX("+b+")")}function Td(a,b,c,d){if(a[0]!==b[0]||a[1]!==b[1]){var e=c.push(Pd(c)+"scale(",null,",",null,")");d.push({i:e-4,x:qd(a[0],b[0])},{i:e-2,x:qd(a[1],b[1])})}else 1===b[0]&&1===b[1]||c.push(Pd(c)+"scale("+b+")")}function Ud(a,b){var c=[],d=[];return a=hg.transform(a),b=hg.transform(b),Qd(a.translate,b.translate,c,d),Rd(a.rotate,b.rotate,c,d),Sd(a.skew,b.skew,c,d),Td(a.scale,b.scale,c,d),a=b=null,function(a){for(var b,e=-1,f=d.length;++e<f;)c[(b=d[e]).i]=b.x(a);return c.join("")}}function Vd(a,b){return b=(b-=a=+a)||1/b,function(c){return(c-a)/b}}function Wd(a,b){return b=(b-=a=+a)||1/b,function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function Xd(a){for(var b=a.source,c=a.target,d=Zd(b,c),e=[b];b!==d;)b=b.parent,e.push(b);for(var f=e.length;c!==d;)e.splice(f,0,c),c=c.parent;return e}function Yd(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function Zd(a,b){if(a===b)return a;for(var c=Yd(a),d=Yd(b),e=c.pop(),f=d.pop(),g=null;e===f;)g=e,e=c.pop(),f=d.pop();return g}function $d(a){a.fixed|=2}function _d(a){a.fixed&=-7}function ae(a){a.fixed|=4,a.px=a.x,a.py=a.y}function be(a){a.fixed&=-5}function ce(a,b,c){var d=0,e=0;if(a.charge=0,!a.leaf)for(var f,g=a.nodes,h=g.length,i=-1;++i<h;)f=g[i],null!=f&&(ce(f,b,c),a.charge+=f.charge,d+=f.charge*f.cx,e+=f.charge*f.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var j=b*c[a.point.index];a.charge+=a.pointCharge=j,d+=j*a.point.x,e+=j*a.point.y}a.cx=d/a.charge,a.cy=e/a.charge}function de(a,b){return hg.rebind(a,b,"sort","children","value"),a.nodes=a,a.links=je,a}function ee(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;--d>=0;)c.push(e[d])}function fe(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(f=a.children)&&(e=f.length))for(var e,f,g=-1;++g<e;)c.push(f[g]);for(;null!=(a=d.pop());)b(a)}function ge(a){return a.children}function he(a){return a.value}function ie(a,b){return b.value-a.value}function je(a){return hg.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function ke(a){return a.x}function le(a){return a.y}function me(a,b,c){a.y0=b,a.y=c}function ne(a){return hg.range(a.length)}function oe(a){for(var b=-1,c=a[0].length,d=[];++b<c;)d[b]=0;return d}function pe(a){for(var b,c=1,d=0,e=a[0][1],f=a.length;c<f;++c)(b=a[c][1])>e&&(d=c,e=b);return d}function qe(a){return a.reduce(re,0)}function re(a,b){return a+b[1]}function se(a,b){return te(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function te(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function ue(a){return[hg.min(a),hg.max(a)]}function ve(a,b){return a.value-b.value}function we(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function xe(a,b){a._pack_next=b,b._pack_prev=a}function ye(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return.999*e*e>c*c+d*d}function ze(a){function b(a){k=Math.min(a.x-a.r,k),l=Math.max(a.x+a.r,l),m=Math.min(a.y-a.r,m),n=Math.max(a.y+a.r,n)}if((c=a.children)&&(j=c.length)){var c,d,e,f,g,h,i,j,k=1/0,l=-(1/0),m=1/0,n=-(1/0);if(c.forEach(Ae),d=c[0],d.x=-d.r,d.y=0,b(d),j>1&&(e=c[1],e.x=e.r,e.y=0,b(e),j>2))for(f=c[2],De(d,e,f),b(f),we(d,f),d._pack_prev=f,we(f,e),e=d._pack_next,g=3;g<j;g++){De(d,e,f=c[g]);var o=0,p=1,q=1;for(h=e._pack_next;h!==e;h=h._pack_next,p++)if(ye(h,f)){o=1;break}if(1==o)for(i=d._pack_prev;i!==h._pack_prev&&!ye(i,f);i=i._pack_prev,q++);o?(p<q||p==q&&e.r<d.r?xe(d,e=h):xe(d=i,e),g--):(we(d,f),e=f,b(f))}var r=(k+l)/2,s=(m+n)/2,t=0;for(g=0;g<j;g++)f=c[g],f.x-=r,f.y-=s,t=Math.max(t,f.r+Math.sqrt(f.x*f.x+f.y*f.y));a.r=t,c.forEach(Be)}}function Ae(a){a._pack_next=a._pack_prev=a}function Be(a){delete a._pack_next,delete a._pack_prev}function Ce(a,b,c,d){var e=a.children;if(a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d,e)for(var f=-1,g=e.length;++f<g;)Ce(e[f],b,c,d)}function De(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f;g*=g,d*=d;var i=.5+(d-g)/(2*h),j=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+i*e+j*f,c.y=a.y+i*f-j*e}else c.x=a.x+d,c.y=a.y}function Ee(a,b){return a.parent==b.parent?1:2}function Fe(a){var b=a.children;return b.length?b[0]:a.t}function Ge(a){var b,c=a.children;return(b=c.length)?c[b-1]:a.t}function He(a,b,c){var d=c/(b.i-a.i);b.c-=d,b.s+=c,a.c+=d,b.z+=c,b.m+=c}function Ie(a){for(var b,c=0,d=0,e=a.children,f=e.length;--f>=0;)b=e[f],b.z+=c,b.m+=c,c+=b.s+(d+=b.c)}function Je(a,b,c){return a.a.parent===b.parent?a.a:c}function Ke(a){return 1+hg.max(a,function(a){return a.y})}function Le(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function Me(a){var b=a.children;return b&&b.length?Me(b[0]):a}function Ne(a){var b,c=a.children;return c&&(b=c.length)?Ne(c[b-1]):a}function Oe(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Pe(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return e<0&&(c+=e/2,e=0),f<0&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}function Qe(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function Re(a){return a.rangeExtent?a.rangeExtent():Qe(a.range())}function Se(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function Te(a,b){var c,d=0,e=a.length-1,f=a[d],g=a[e];return g<f&&(c=d,d=e,e=c,c=f,f=g,g=c),a[d]=b.floor(f),a[e]=b.ceil(g),a}function Ue(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:vi}function Ve(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;for(a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++g<=h;)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=hg.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function We(a,b,c,d){function e(){var e=Math.min(a.length,b.length)>2?Ve:Se,i=d?Wd:Vd;return g=e(a,b,i,c),h=e(b,a,i,sd),f}function f(a){return g(a)}var g,h;return f.invert=function(a){return h(a)},f.domain=function(b){return arguments.length?(a=b.map(Number),e()):a},f.range=function(a){return arguments.length?(b=a,e()):b},f.rangeRound=function(a){return f.range(a).interpolate(Kd)},f.clamp=function(a){return arguments.length?(d=a,e()):d},f.interpolate=function(a){return arguments.length?(c=a,e()):c},f.ticks=function(b){return $e(a,b)},f.tickFormat=function(b,c){return _e(a,b,c)},f.nice=function(b){return Ye(a,b),e()},f.copy=function(){return We(a,b,c,d)},e()}function Xe(a,b){return hg.rebind(a,b,"range","rangeRound","interpolate","clamp")}function Ye(a,b){return Te(a,Ue(Ze(a,b)[2])),Te(a,Ue(Ze(a,b)[2])),a}function Ze(a,b){null==b&&(b=10);var c=Qe(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;return f<=.15?e*=10:f<=.35?e*=5:f<=.75&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+.5*e,c[2]=e,c}function $e(a,b){return hg.range.apply(hg,Ze(a,b))}function _e(a,b,c){var d=Ze(a,b);if(c){var e=jh.exec(c);if(e.shift(),"s"===e[8]){var f=hg.formatPrefix(Math.max(rg(d[0]),rg(d[1])));return e[7]||(e[7]="."+af(f.scale(d[2]))),e[8]="f",c=hg.format(e.join("")),function(a){return c(f.scale(a))+f.symbol}}e[7]||(e[7]="."+bf(e[8],d)),c=e.join("")}else c=",."+af(d[2])+"f";return hg.format(c)}function af(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function bf(a,b){var c=af(b[2]);return a in wi?Math.abs(c-af(Math.max(rg(b[0]),rg(b[1]))))+ +("e"!==a):c-2*("%"===a)}function cf(a,b,c,d){function e(a){return(c?Math.log(a<0?0:a):-Math.log(a>0?0:-a))/Math.log(b)}function f(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function g(b){return a(e(b))}return g.invert=function(b){return f(a.invert(b))},g.domain=function(b){return arguments.length?(c=b[0]>=0,a.domain((d=b.map(Number)).map(e)),g):d},g.base=function(c){return arguments.length?(b=+c,a.domain(d.map(e)),g):b},g.nice=function(){var b=Te(d.map(e),c?Math:yi);return a.domain(b),d=b.map(f),g},g.ticks=function(){var a=Qe(d),g=[],h=a[0],i=a[1],j=Math.floor(e(h)),k=Math.ceil(e(i)),l=b%1?2:b;if(isFinite(k-j)){if(c){for(;j<k;j++)for(var m=1;m<l;m++)g.push(f(j)*m);g.push(f(j))}else for(g.push(f(j));j++<k;)for(var m=l-1;m>0;m--)g.push(f(j)*m);for(j=0;g[j]<h;j++);for(k=g.length;g[k-1]>i;k--);g=g.slice(j,k)}return g},g.tickFormat=function(a,c){if(!arguments.length)return xi;arguments.length<2?c=xi:"function"!=typeof c&&(c=hg.format(c));var d=Math.max(1,b*a/g.ticks().length);return function(a){var g=a/f(Math.round(e(a)));return g*b<b-.5&&(g*=b),g<=d?c(a):""}},g.copy=function(){return cf(a.copy(),b,c,d)},Xe(g,a)}function df(a,b,c){function d(b){return a(e(b))}var e=ef(b),f=ef(1/b);return d.invert=function(b){return f(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain((c=b.map(Number)).map(e)),d):c},d.ticks=function(a){return $e(c,a)},d.tickFormat=function(a,b){return _e(c,a,b)},d.nice=function(a){return d.domain(Ye(c,a))},d.exponent=function(g){return arguments.length?(e=ef(b=g),f=ef(1/b),a.domain(c.map(e)),d):b},d.copy=function(){return df(a.copy(),b,c)},Xe(d,a)}function ef(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}function ff(a,b){function c(c){return f[((e.get(c)||("range"===b.t?e.set(c,a.push(c)):NaN))-1)%f.length]}function d(b,c){return hg.range(a.length).map(function(a){return b+c*a})}var e,f,g;return c.domain=function(d){if(!arguments.length)return a;a=[],e=new j;for(var f,g=-1,h=d.length;++g<h;)e.has(f=d[g])||e.set(f,a.push(f));return c[b.t].apply(c,b.a)},c.range=function(a){return arguments.length?(f=a,g=0,b={t:"range",a:arguments},c):f},c.rangePoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=a.length<2?(i=(i+j)/2,0):(j-i)/(a.length-1+h);return f=d(i+k*h/2,k),g=0,b={t:"rangePoints",a:arguments},c},c.rangeRoundPoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=a.length<2?(i=j=Math.round((i+j)/2),0):(j-i)/(a.length-1+h)|0;return f=d(i+Math.round(k*h/2+(j-i-(a.length-1+h)*k)/2),k),g=0,b={t:"rangeRoundPoints",a:arguments},c},c.rangeBands=function(e,h,i){arguments.length<2&&(h=0),arguments.length<3&&(i=h);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=(l-k)/(a.length-h+2*i);return f=d(k+m*i,m),j&&f.reverse(),g=m*(1-h),b={t:"rangeBands",a:arguments},c},c.rangeRoundBands=function(e,h,i){arguments.length<2&&(h=0),arguments.length<3&&(i=h);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=Math.floor((l-k)/(a.length-h+2*i));return f=d(k+Math.round((l-k-(a.length-h)*m)/2),m),j&&f.reverse(),g=Math.round(m*(1-h)),b={t:"rangeRoundBands",a:arguments},c},c.rangeBand=function(){return g},c.rangeExtent=function(){return Qe(b.a[0])},c.copy=function(){return ff(a,b)},c.domain(a)}function gf(a,b){function f(){var c=0,d=b.length;for(h=[];++c<d;)h[c-1]=hg.quantile(a,c/d);return g}function g(a){if(!isNaN(a=+a))return b[hg.bisect(h,a)]}var h;return g.domain=function(b){return arguments.length?(a=b.map(d).filter(e).sort(c),f()):a},g.range=function(a){return arguments.length?(b=a,f()):b},g.quantiles=function(){return h},g.invertExtent=function(c){return c=b.indexOf(c),c<0?[NaN,NaN]:[c>0?h[c-1]:a[0],c<h.length?h[c]:a[a.length-1]]},g.copy=function(){return gf(a,b)},f()}function hf(a,b,c){function d(b){return c[Math.max(0,Math.min(g,Math.floor(f*(b-a))))]}function e(){return f=c.length/(b-a),g=c.length-1,d}var f,g;return d.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],e()):[a,b]},d.range=function(a){return arguments.length?(c=a,e()):c},d.invertExtent=function(b){return b=c.indexOf(b),b=b<0?NaN:b/f+a,[b,b+1/f]},d.copy=function(){return hf(a,b,c)},e()}function jf(a,b){function c(c){if(c<=c)return b[hg.bisect(a,c)]}return c.domain=function(b){return arguments.length?(a=b,c):a},c.range=function(a){return arguments.length?(b=a,c):b},c.invertExtent=function(c){return c=b.indexOf(c),[a[c-1],a[c]]},c.copy=function(){return jf(a,b)},c}function kf(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return $e(a,b)},b.tickFormat=function(b,c){return _e(a,b,c)},b.copy=function(){return kf(a)},b}function lf(){return 0}function mf(a){return a.innerRadius}function nf(a){return a.outerRadius}function of(a){return a.startAngle}function pf(a){return a.endAngle}function qf(a){return a&&a.padAngle}function rf(a,b,c,d){return(a-c)*b-(b-d)*a>0?0:1}function sf(a,b,c,d,e){var f=a[0]-b[0],g=a[1]-b[1],h=(e?d:-d)/Math.sqrt(f*f+g*g),i=h*g,j=-h*f,k=a[0]+i,l=a[1]+j,m=b[0]+i,n=b[1]+j,o=(k+m)/2,p=(l+n)/2,q=m-k,r=n-l,s=q*q+r*r,t=c-d,u=k*n-m*l,v=(r<0?-1:1)*Math.sqrt(Math.max(0,t*t*s-u*u)),w=(u*r-q*v)/s,x=(-u*q-r*v)/s,y=(u*r+q*v)/s,z=(-u*q+r*v)/s,A=w-o,B=x-p,C=y-o,D=z-p;return A*A+B*B>C*C+D*D&&(w=y,x=z),[[w-i,x-j],[w*c/t,x*c/t]]}function tf(a){function b(b){function g(){j.push("M",f(a(k),h))}for(var i,j=[],k=[],l=-1,m=b.length,n=Aa(c),o=Aa(d);++l<m;)e.call(this,i=b[l],l)?k.push([+n.call(this,i,l),+o.call(this,i,l)]):k.length&&(g(),k=[]);return k.length&&g(),j.length?j.join(""):null}var c=Cc,d=Dc,e=Db,f=uf,g=f.key,h=.7;return b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b.defined=function(a){return arguments.length?(e=a,b):e},b.interpolate=function(a){return arguments.length?(g="function"==typeof a?f=a:(f=Ei.get(a)||uf).key,b):g},b.tension=function(a){return arguments.length?(h=a,b):h},b}function uf(a){return a.length>1?a.join("L"):a+"Z"}function vf(a){return a.join("L")+"Z"}function wf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);return c>1&&e.push("H",d[0]),e.join("")}function xf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function yf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function zf(a,b){return a.length<4?uf(a):a[1]+Cf(a.slice(1,-1),Df(a,b))}function Af(a,b){return a.length<3?vf(a):a[0]+Cf((a.push(a[0]),a),Df([a[a.length-2]].concat(a,[a[1]]),b))}function Bf(a,b){return a.length<3?uf(a):a[0]+Cf(a,Df(a,b))}function Cf(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2)return uf(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,i=1;if(c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],i=2),b.length>1){h=b[1],f=a[i],i++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(var j=2;j<b.length;j++,i++)f=a[i],h=b[j],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}if(c){var k=a[i];d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+k[0]+","+k[1]}return d}function Df(a,b){for(var c,d=[],e=(1-b)/2,f=a[0],g=a[1],h=1,i=a.length;++h<i;)c=f,f=g,g=a[h],d.push([e*(g[0]-c[0]),e*(g[1]-c[1])]);return d}function Ef(a){if(a.length<3)return uf(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],i=[e,",",f,"L",If(Hi,g),",",If(Hi,h)];for(a.push(a[c-1]);++b<=c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),Jf(i,g,h);return a.pop(),i.push("L",d),i.join("")}function Ff(a){if(a.length<4)return uf(a);for(var b,c=[],d=-1,e=a.length,f=[0],g=[0];++d<3;)b=a[d],f.push(b[0]),g.push(b[1]);for(c.push(If(Hi,f)+","+If(Hi,g)),--d;++d<e;)b=a[d],f.shift(),f.push(b[0]),g.shift(),g.push(b[1]),Jf(c,f,g);return c.join("")}function Gf(a){for(var b,c,d=-1,e=a.length,f=e+4,g=[],h=[];++d<4;)c=a[d%e],g.push(c[0]),h.push(c[1]);for(b=[If(Hi,g),",",If(Hi,h)],--d;++d<f;)c=a[d%e],g.shift(),g.push(c[0]),h.shift(),h.push(c[1]),Jf(b,g,h);return b.join("")}function Hf(a,b){var c=a.length-1;if(c)for(var d,e,f=a[0][0],g=a[0][1],h=a[c][0]-f,i=a[c][1]-g,j=-1;++j<=c;)d=a[j],e=j/c,d[0]=b*d[0]+(1-b)*(f+e*h),d[1]=b*d[1]+(1-b)*(g+e*i);return Ef(a)}function If(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Jf(a,b,c){a.push("C",If(Fi,b),",",If(Fi,c),",",If(Gi,b),",",If(Gi,c),",",If(Hi,b),",",If(Hi,c))}function Kf(a,b){return(b[1]-a[1])/(b[0]-a[0])}function Lf(a){for(var b=0,c=a.length-1,d=[],e=a[0],f=a[1],g=d[0]=Kf(e,f);++b<c;)d[b]=(g+(g=Kf(e=f,f=a[b+1])))/2;return d[b]=g,d}function Mf(a){for(var b,c,d,e,f=[],g=Lf(a),h=-1,i=a.length-1;++h<i;)b=Kf(a[h],a[h+1]),rg(b)<Ig?g[h]=g[h+1]=0:(c=g[h]/b,d=g[h+1]/b,e=c*c+d*d,e>9&&(e=3*b/Math.sqrt(e),g[h]=e*c,g[h+1]=e*d));for(h=-1;++h<=i;)e=(a[Math.min(i,h+1)][0]-a[Math.max(0,h-1)][0])/(6*(1+g[h]*g[h])),f.push([e||0,g[h]*e||0]);return f}function Nf(a){return a.length<3?uf(a):a[0]+Cf(a,Mf(a))}function Of(a){for(var b,c,d,e=-1,f=a.length;++e<f;)b=a[e],c=b[0],d=b[1]-Ng,b[0]=c*Math.cos(d),b[1]=c*Math.sin(d);return a}function Pf(a){function b(b){function i(){p.push("M",h(a(r),l),k,j(a(q.reverse()),l),"Z")}for(var m,n,o,p=[],q=[],r=[],s=-1,t=b.length,u=Aa(c),v=Aa(e),w=c===d?function(){return n}:Aa(d),x=e===f?function(){return o}:Aa(f);++s<t;)g.call(this,m=b[s],s)?(q.push([n=+u.call(this,m,s),o=+v.call(this,m,s)]),r.push([+w.call(this,m,s),+x.call(this,m,s)])):q.length&&(i(),q=[],r=[]);return q.length&&i(),p.length?p.join(""):null}var c=Cc,d=Cc,e=0,f=Dc,g=Db,h=uf,i=h.key,j=h,k="L",l=.7;return b.x=function(a){return arguments.length?(c=d=a,b):d},b.x0=function(a){return arguments.length?(c=a,b):c},b.x1=function(a){return arguments.length?(d=a,b):d},b.y=function(a){return arguments.length?(e=f=a,b):f},b.y0=function(a){return arguments.length?(e=a,b):e},b.y1=function(a){return arguments.length?(f=a,b):f},b.defined=function(a){return arguments.length?(g=a,b):g},b.interpolate=function(a){return arguments.length?(i="function"==typeof a?h=a:(h=Ei.get(a)||uf).key,j=h.reverse||h,k=h.closed?"M":"L",b):i},b.tension=function(a){return arguments.length?(l=a,b):l},b}function Qf(a){return a.radius}function Rf(a){return[a.x,a.y]}function Sf(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]-Ng;return[c*Math.cos(d),c*Math.sin(d)]}}function Tf(){return 64}function Uf(){return"circle"}function Vf(a){var b=Math.sqrt(a/Kg);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}function Wf(a){return function(){var b,c,d;(b=this[a])&&(d=b[c=b.active])&&(d.timer.c=null,d.timer.t=NaN,--b.count?delete b[c]:delete this[a],b.active+=.5,d.event&&d.event.interrupt.call(this,this.__data__,d.index))}}function Xf(a,b,c){return wg(a,Oi),a.namespace=b,a.id=c,a}function Yf(a,b,c,d){var e=a.id,f=a.namespace;return R(a,"function"==typeof c?function(a,g,h){a[f][e].tween.set(b,d(c.call(a,a.__data__,g,h)))}:(c=d(c),function(a){a[f][e].tween.set(b,c)}))}function Zf(a){return null==a&&(a=""),function(){this.textContent=a}}function $f(a){return null==a?"__transition__":"__transition_"+a+"__"}function _f(a,b,c,d,e){function f(a){var b=p.delay;return k.t=b+i,b<=a?g(a-b):void(k.c=g)}function g(c){var e=o.active,f=o[e];f&&(f.timer.c=null,f.timer.t=NaN,--o.count,delete o[e],f.event&&f.event.interrupt.call(a,a.__data__,f.index));for(var g in o)if(+g<d){var j=o[g];j.timer.c=null,j.timer.t=NaN,--o.count,delete o[g]}k.c=h,Fa(function(){return k.c&&h(c||1)&&(k.c=null,k.t=NaN),1},0,i),o.active=d,p.event&&p.event.start.call(a,a.__data__,b),n=[],p.tween.forEach(function(c,d){(d=d.call(a,a.__data__,b))&&n.push(d)}),m=p.ease,l=p.duration}function h(e){for(var f=e/l,g=m(f),h=n.length;h>0;)n[--h].call(a,g);if(f>=1)return p.event&&p.event.end.call(a,a.__data__,b),--o.count?delete o[d]:delete a[c],1}var i,k,l,m,n,o=a[c]||(a[c]={active:0,count:0}),p=o[d];p||(i=e.time,k=Fa(f,0,i),p=o[d]={tween:new j,time:i,timer:k,delay:e.delay,duration:e.duration,ease:e.ease,index:b},e=null,++o.count)}function ag(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate("+(isFinite(d)?d:c(a))+",0)"})}function bg(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate(0,"+(isFinite(d)?d:c(a))+")"})}function cg(a){return a.toISOString()}function dg(a,b,c){function d(b){return a(b)}function e(a,c){var d=a[1]-a[0],e=d/c,f=hg.bisect(Xi,e);return f==Xi.length?[b.year,Ze(a.map(function(a){return a/31536e6}),c)[2]]:f?b[e/Xi[f-1]<Xi[f]/e?f-1:f]:[$i,Ze(a,c)[2]]}return d.invert=function(b){return eg(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain(b),d):a.domain().map(eg)},d.nice=function(a,b){function c(c){return!isNaN(c)&&!a.range(c,eg(+c+1),b).length}var f=d.domain(),g=Qe(f),h=null==a?e(g,10):"number"==typeof a&&e(g,a);return h&&(a=h[0],b=h[1]),d.domain(Te(f,b>1?{floor:function(b){for(;c(b=a.floor(b));)b=eg(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=eg(+b+1);return b}}:a))},d.ticks=function(a,b){var c=Qe(d.domain()),f=null==a?e(c,10):"number"==typeof a?e(c,a):!a.range&&[{range:a},b];return f&&(a=f[0],b=f[1]),a.range(c[0],eg(+c[1]+1),b<1?1:b)},d.tickFormat=function(){return c},d.copy=function(){return dg(a.copy(),b,c)},Xe(d,a)}function eg(a){return new Date(a)}function fg(a){return JSON.parse(a.responseText)}function gg(a){var b=kg.createRange();return b.selectNode(kg.body),b.createContextualFragment(a.responseText)}var hg={version:"3.5.17"},ig=[].slice,jg=function(a){return ig.call(a)},kg=this.document;if(kg)try{jg(kg.documentElement.childNodes)[0].nodeType}catch(a){jg=function(a){for(var b=a.length,c=new Array(b);b--;)c[b]=a[b];return c}}if(Date.now||(Date.now=function(){return+new Date}),kg)try{kg.createElement("DIV").style.setProperty("opacity",0,"")}catch(a){var lg=this.Element.prototype,mg=lg.setAttribute,ng=lg.setAttributeNS,og=this.CSSStyleDeclaration.prototype,pg=og.setProperty;lg.setAttribute=function(a,b){mg.call(this,a,b+"")},lg.setAttributeNS=function(a,b,c){ng.call(this,a,b,c+"")},og.setProperty=function(a,b,c){pg.call(this,a,b+"",c)}}hg.ascending=c,hg.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},hg.min=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&c>d&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&c>d&&(c=d)}return c},hg.max=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&d>c&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&d>c&&(c=d)}return c},hg.extent=function(a,b){var c,d,e,f=-1,g=a.length;if(1===arguments.length){for(;++f<g;)if(null!=(d=a[f])&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=a[f])&&(c>d&&(c=d),e<d&&(e=d))}else{for(;++f<g;)if(null!=(d=b.call(a,a[f],f))&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=b.call(a,a[f],f))&&(c>d&&(c=d),e<d&&(e=d))}return[c,e]},hg.sum=function(a,b){var c,d=0,f=a.length,g=-1;if(1===arguments.length)for(;++g<f;)e(c=+a[g])&&(d+=c);else for(;++g<f;)e(c=+b.call(a,a[g],g))&&(d+=c);return d},hg.mean=function(a,b){var c,f=0,g=a.length,h=-1,i=g;if(1===arguments.length)for(;++h<g;)e(c=d(a[h]))?f+=c:--i;else for(;++h<g;)e(c=d(b.call(a,a[h],h)))?f+=c:--i;if(i)return f/i},hg.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e},hg.median=function(a,b){var f,g=[],h=a.length,i=-1;if(1===arguments.length)for(;++i<h;)e(f=d(a[i]))&&g.push(f);else for(;++i<h;)e(f=d(b.call(a,a[i],i)))&&g.push(f);if(g.length)return hg.quantile(g.sort(c),.5)},hg.variance=function(a,b){var c,f,g=a.length,h=0,i=0,j=-1,k=0;if(1===arguments.length)for(;++j<g;)e(c=d(a[j]))&&(f=c-h,h+=f/++k,i+=f*(c-h));else for(;++j<g;)e(c=d(b.call(a,a[j],j)))&&(f=c-h,h+=f/++k,i+=f*(c-h));if(k>1)return i/(k-1)},hg.deviation=function(){var a=hg.variance.apply(this,arguments);return a?Math.sqrt(a):a};var qg=f(c);hg.bisectLeft=qg.left,hg.bisect=hg.bisectRight=qg.right,hg.bisector=function(a){return f(1===a.length?function(b,d){return c(a(b),d)}:a)},hg.shuffle=function(a,b,c){(f=arguments.length)<3&&(c=a.length,f<2&&(b=0));for(var d,e,f=c-b;f;)e=Math.random()*f--|0,d=a[f+b],a[f+b]=a[e+b],a[e+b]=d;return a},hg.permute=function(a,b){for(var c=b.length,d=new Array(c);c--;)d[c]=a[b[c]];return d},hg.pairs=function(a){for(var b,c=0,d=a.length-1,e=a[0],f=new Array(d<0?0:d);c<d;)f[c]=[b=e,e=a[++c]];return f},hg.transpose=function(a){if(!(e=a.length))return[];for(var b=-1,c=hg.min(a,g),d=new Array(c);++b<c;)for(var e,f=-1,h=d[b]=new Array(e);++f<e;)h[f]=a[f][b];return d},hg.zip=function(){return hg.transpose(arguments)},hg.keys=function(a){var b=[];for(var c in a)b.push(c);return b},hg.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b},hg.entries=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},hg.merge=function(a){for(var b,c,d,e=a.length,f=-1,g=0;++f<e;)g+=a[f].length;for(c=new Array(g);--e>=0;)for(d=a[e],b=d.length;--b>=0;)c[--g]=d[b];return c};var rg=Math.abs;hg.range=function(a,b,c){if(arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0)),(b-a)/c===1/0)throw new Error("infinite range");var d,e=[],f=h(rg(c)),g=-1;if(a*=f,b*=f,c*=f,c<0)for(;(d=a+c*++g)>b;)e.push(d/f);else for(;(d=a+c*++g)<b;)e.push(d/f);return e},hg.map=function(a,b){var c=new j;if(a instanceof j)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var d,e=-1,f=a.length;if(1===arguments.length)for(;++e<f;)c.set(e,a[e]);else for(;++e<f;)c.set(b.call(a,d=a[e],e),d)}else for(var g in a)c.set(g,a[g]);return c};var sg="__proto__",tg="\0";i(j,{has:m,get:function(a){return this._[k(a)]},set:function(a,b){return this._[k(a)]=b},remove:n,keys:o,values:function(){var a=[];for(var b in this._)a.push(this._[b]);return a},entries:function(){var a=[];for(var b in this._)a.push({key:l(b),value:this._[b]});return a},size:p,empty:q,forEach:function(a){for(var b in this._)a.call(this,l(b),this._[b])}}),hg.nest=function(){function a(b,g,h){if(h>=f.length)return d?d.call(e,g):c?g.sort(c):g;for(var i,k,l,m,n=-1,o=g.length,p=f[h++],q=new j;++n<o;)(m=q.get(i=p(k=g[n])))?m.push(k):q.set(i,[k]);return b?(k=b(),l=function(c,d){k.set(c,a(b,d,h))}):(k={},l=function(c,d){k[c]=a(b,d,h)}),q.forEach(l),k}function b(a,c){if(c>=f.length)return a;var d=[],e=g[c++];return a.forEach(function(a,e){d.push({key:a,values:b(e,c)})}),e?d.sort(function(a,b){return e(a.key,b.key)}):d}var c,d,e={},f=[],g=[];return e.map=function(b,c){return a(c,b,0)},e.entries=function(c){return b(a(hg.map,c,0),0)},e.key=function(a){return f.push(a),e},e.sortKeys=function(a){return g[f.length-1]=a,e},e.sortValues=function(a){return c=a,e},e.rollup=function(a){return d=a,e},e},hg.set=function(a){var b=new r;if(a)for(var c=0,d=a.length;c<d;++c)b.add(a[c]);return b},i(r,{has:m,add:function(a){return this._[k(a+="")]=!0,a},remove:n,values:o,size:p,empty:q,forEach:function(a){for(var b in this._)a.call(this,l(b))}}),hg.behavior={},hg.rebind=function(a,b){for(var c,d=1,e=arguments.length;++d<e;)a[c=arguments[d]]=t(a,b,b[c]);return a};var ug=["webkit","ms","moz","Moz","o","O"];hg.dispatch=function(){for(var a=new w,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=x(a);return a},w.prototype.on=function(a,b){var c=a.indexOf("."),d="";if(c>=0&&(d=a.slice(c+1),a=a.slice(0,c)),a)return arguments.length<2?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)this.hasOwnProperty(a)&&this[a].on(d,null);return this}},hg.event=null,hg.requote=function(a){return a.replace(vg,"\\$&")};var vg=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,wg={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},xg=function(a,b){return b.querySelector(a)},yg=function(a,b){return b.querySelectorAll(a)},zg=function(a,b){var c=a.matches||a[u(a,"matchesSelector")];return(zg=function(a,b){return c.call(a,b)})(a,b)};"function"==typeof Sizzle&&(xg=function(a,b){return Sizzle(a,b)[0]||null},yg=Sizzle,zg=Sizzle.matchesSelector),hg.selection=function(){return hg.select(kg.documentElement)};var Ag=hg.selection.prototype=[];Ag.select=function(a){var b,c,d,e,f=[];a=C(a);for(var g=-1,h=this.length;++g<h;){f.push(b=[]),b.parentNode=(d=this[g]).parentNode;for(var i=-1,j=d.length;++i<j;)(e=d[i])?(b.push(c=a.call(e,e.__data__,i,g)),c&&"__data__"in e&&(c.__data__=e.__data__)):b.push(null)}return B(f)},Ag.selectAll=function(a){var b,c,d=[];a=D(a);for(var e=-1,f=this.length;++e<f;)for(var g=this[e],h=-1,i=g.length;++h<i;)(c=g[h])&&(d.push(b=jg(a.call(c,c.__data__,h,e))),b.parentNode=c);return B(d)};var Bg="http://www.w3.org/1999/xhtml",Cg={svg:"http://www.w3.org/2000/svg",xhtml:Bg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};hg.ns={prefix:Cg,qualify:function(a){var b=a.indexOf(":"),c=a;return b>=0&&"xmlns"!==(c=a.slice(0,b))&&(a=a.slice(b+1)),Cg.hasOwnProperty(c)?{space:Cg[c],local:a}:a}},Ag.attr=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node();return a=hg.ns.qualify(a),a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(E(b,a[b]));return this}return this.each(E(a,b))},Ag.classed=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node(),d=(a=H(a)).length,e=-1;if(b=c.classList){for(;++e<d;)if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!G(a[e]).test(b))return!1;return!0}for(b in a)this.each(I(b,a[b]));return this}return this.each(I(a,b))},Ag.style=function(a,c,d){var e=arguments.length;if(e<3){if("string"!=typeof a){e<2&&(c="");for(d in a)this.each(K(d,a[d],c));return this}if(e<2){var f=this.node();return b(f).getComputedStyle(f,null).getPropertyValue(a)}d=""}return this.each(K(a,c,d))},Ag.property=function(a,b){if(arguments.length<2){if("string"==typeof a)return this.node()[a];for(b in a)this.each(L(b,a[b]));return this}return this.each(L(a,b))},Ag.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},Ag.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},Ag.append=function(a){return a=M(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})},Ag.insert=function(a,b){return a=M(a),b=C(b),this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})},Ag.remove=function(){return this.each(N)},Ag.data=function(a,b){function c(a,c){var d,e,f,g=a.length,l=c.length,m=Math.min(g,l),n=new Array(l),o=new Array(l),p=new Array(g);if(b){var q,r=new j,s=new Array(g);for(d=-1;++d<g;)(e=a[d])&&(r.has(q=b.call(e,e.__data__,d))?p[d]=e:r.set(q,e),s[d]=q);for(d=-1;++d<l;)(e=r.get(q=b.call(c,f=c[d],d)))?e!==!0&&(n[d]=e,e.__data__=f):o[d]=O(f),r.set(q,!0);for(d=-1;++d<g;)d in s&&r.get(s[d])!==!0&&(p[d]=a[d])}else{for(d=-1;++d<m;)e=a[d],f=c[d],e?(e.__data__=f,n[d]=e):o[d]=O(f);for(;d<l;++d)o[d]=O(c[d]);for(;d<g;++d)p[d]=a[d]}o.update=n,o.parentNode=n.parentNode=p.parentNode=a.parentNode,h.push(o),i.push(n),k.push(p)}var d,e,f=-1,g=this.length;if(!arguments.length){for(a=new Array(g=(d=this[0]).length);++f<g;)(e=d[f])&&(a[f]=e.__data__);return a}var h=S([]),i=B([]),k=B([]);if("function"==typeof a)for(;++f<g;)c(d=this[f],a.call(d,d.parentNode.__data__,f));else for(;++f<g;)c(d=this[f],a);return i.enter=function(){return h},i.exit=function(){return k},i},Ag.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},Ag.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=P(a));for(var f=0,g=this.length;f<g;f++){e.push(b=[]),b.parentNode=(c=this[f]).parentNode;for(var h=0,i=c.length;h<i;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return B(e)},Ag.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c,d=this[a],e=d.length-1,f=d[e];--e>=0;)(c=d[e])&&(f&&f!==c.nextSibling&&f.parentNode.insertBefore(c,f),f=c);return this},Ag.sort=function(a){a=Q.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()},Ag.each=function(a){return R(this,function(b,c,d){a.call(b,b.__data__,c,d)})},Ag.call=function(a){
var b=jg(arguments);return a.apply(b[0]=this,b),this},Ag.empty=function(){return!this.node()},Ag.node=function(){for(var a=0,b=this.length;a<b;a++)for(var c=this[a],d=0,e=c.length;d<e;d++){var f=c[d];if(f)return f}return null},Ag.size=function(){var a=0;return R(this,function(){++a}),a};var Dg=[];hg.selection.enter=S,hg.selection.enter.prototype=Dg,Dg.append=Ag.append,Dg.empty=Ag.empty,Dg.node=Ag.node,Dg.call=Ag.call,Dg.size=Ag.size,Dg.select=function(a){for(var b,c,d,e,f,g=[],h=-1,i=this.length;++h<i;){d=(e=this[h]).update,g.push(b=[]),b.parentNode=e.parentNode;for(var j=-1,k=e.length;++j<k;)(f=e[j])?(b.push(d[j]=c=a.call(e.parentNode,f.__data__,j,h)),c.__data__=f.__data__):b.push(null)}return B(g)},Dg.insert=function(a,b){return arguments.length<2&&(b=T(this)),Ag.insert.call(this,a,b)},hg.select=function(b){var c;return"string"==typeof b?(c=[xg(b,kg)],c.parentNode=kg.documentElement):(c=[b],c.parentNode=a(b)),B([c])},hg.selectAll=function(a){var b;return"string"==typeof a?(b=jg(yg(a,kg)),b.parentNode=kg.documentElement):(b=jg(a),b.parentNode=null),B([b])},Ag.on=function(a,b,c){var d=arguments.length;if(d<3){if("string"!=typeof a){d<2&&(b=!1);for(c in a)this.each(U(c,a[c],b));return this}if(d<2)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(U(a,b,c))};var Eg=hg.map({mouseenter:"mouseover",mouseleave:"mouseout"});kg&&Eg.forEach(function(a){"on"+a in kg&&Eg.remove(a)});var Fg,Gg=0;hg.mouse=function(a){return Y(a,z())};var Hg=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;hg.touch=function(a,b,c){if(arguments.length<3&&(c=b,b=z().changedTouches),b)for(var d,e=0,f=b.length;e<f;++e)if((d=b[e]).identifier===c)return Y(a,d)},hg.behavior.drag=function(){function a(){this.on("mousedown.drag",f).on("touchstart.drag",g)}function c(a,b,c,f,g){return function(){function h(){var a,c,d=b(m,p);d&&(a=d[0]-t[0],c=d[1]-t[1],o|=a|c,t=d,n({type:"drag",x:d[0]+j[0],y:d[1]+j[1],dx:a,dy:c}))}function i(){b(m,p)&&(r.on(f+q,null).on(g+q,null),s(o),n({type:"dragend"}))}var j,k=this,l=hg.event.target.correspondingElement||hg.event.target,m=k.parentNode,n=d.of(k,arguments),o=0,p=a(),q=".drag"+(null==p?"":"-"+p),r=hg.select(c(l)).on(f+q,h).on(g+q,i),s=X(l),t=b(m,p);e?(j=e.apply(k,arguments),j=[j.x-t[0],j.y-t[1]]):j=[0,0],n({type:"dragstart"})}}var d=A(a,"drag","dragstart","dragend"),e=null,f=c(v,hg.mouse,b,"mousemove","mouseup"),g=c(Z,hg.touch,s,"touchmove","touchend");return a.origin=function(b){return arguments.length?(e=b,a):e},hg.rebind(a,d,"on")},hg.touches=function(a,b){return arguments.length<2&&(b=z().touches),b?jg(b).map(function(b){var c=Y(a,b);return c.identifier=b.identifier,c}):[]};var Ig=1e-6,Jg=Ig*Ig,Kg=Math.PI,Lg=2*Kg,Mg=Lg-Ig,Ng=Kg/2,Og=Kg/180,Pg=180/Kg,Qg=Math.SQRT2,Rg=2,Sg=4;hg.interpolateZoom=function(a,b){var c,d,e=a[0],f=a[1],g=a[2],h=b[0],i=b[1],j=b[2],k=h-e,l=i-f,m=k*k+l*l;if(m<Jg)d=Math.log(j/g)/Qg,c=function(a){return[e+a*k,f+a*l,g*Math.exp(Qg*a*d)]};else{var n=Math.sqrt(m),o=(j*j-g*g+Sg*m)/(2*g*Rg*n),p=(j*j-g*g-Sg*m)/(2*j*Rg*n),q=Math.log(Math.sqrt(o*o+1)-o),r=Math.log(Math.sqrt(p*p+1)-p);d=(r-q)/Qg,c=function(a){var b=a*d,c=da(q),h=g/(Rg*n)*(c*ea(Qg*b+q)-ca(q));return[e+h*k,f+h*l,g*c/da(Qg*b+q)]}}return c.duration=1e3*d,c},hg.behavior.zoom=function(){function a(a){a.on(F,l).on(Ug+".zoom",n).on("dblclick.zoom",o).on(I,m)}function c(a){return[(a[0]-z.x)/z.k,(a[1]-z.y)/z.k]}function d(a){return[a[0]*z.k+z.x,a[1]*z.k+z.y]}function e(a){z.k=Math.max(C[0],Math.min(C[1],a))}function f(a,b){b=d(b),z.x+=a[0]-b[0],z.y+=a[1]-b[1]}function g(b,c,d,g){b.__chart__={x:z.x,y:z.y,k:z.k},e(Math.pow(2,g)),f(q=c,d),b=hg.select(b),D>0&&(b=b.transition().duration(D)),b.call(a.event)}function h(){v&&v.domain(u.range().map(function(a){return(a-z.x)/z.k}).map(u.invert)),x&&x.domain(w.range().map(function(a){return(a-z.y)/z.k}).map(w.invert))}function i(a){E++||a({type:"zoomstart"})}function j(a){h(),a({type:"zoom",scale:z.k,translate:[z.x,z.y]})}function k(a){--E||(a({type:"zoomend"}),q=null)}function l(){function a(){h=1,f(hg.mouse(e),m),j(g)}function d(){l.on(G,null).on(H,null),n(h),k(g)}var e=this,g=J.of(e,arguments),h=0,l=hg.select(b(e)).on(G,a).on(H,d),m=c(hg.mouse(e)),n=X(e);Ni.call(e),i(g)}function m(){function a(){var a=hg.touches(o);return n=z.k,a.forEach(function(a){a.identifier in q&&(q[a.identifier]=c(a))}),a}function b(){var b=hg.event.target;hg.select(b).on(u,d).on(v,h),w.push(b);for(var c=hg.event.changedTouches,e=0,f=c.length;e<f;++e)q[c[e].identifier]=null;var i=a(),j=Date.now();if(1===i.length){if(j-t<500){var k=i[0];g(o,k,q[k.identifier],Math.floor(Math.log(z.k)/Math.LN2)+1),y()}t=j}else if(i.length>1){var k=i[0],l=i[1],m=k[0]-l[0],n=k[1]-l[1];r=m*m+n*n}}function d(){var a,b,c,d,g=hg.touches(o);Ni.call(o);for(var h=0,i=g.length;h<i;++h,d=null)if(c=g[h],d=q[c.identifier]){if(b)break;a=c,b=d}if(d){var k=(k=c[0]-a[0])*k+(k=c[1]-a[1])*k,l=r&&Math.sqrt(k/r);a=[(a[0]+c[0])/2,(a[1]+c[1])/2],b=[(b[0]+d[0])/2,(b[1]+d[1])/2],e(l*n)}t=null,f(a,b),j(p)}function h(){if(hg.event.touches.length){for(var b=hg.event.changedTouches,c=0,d=b.length;c<d;++c)delete q[b[c].identifier];for(var e in q)return void a()}hg.selectAll(w).on(s,null),x.on(F,l).on(I,m),A(),k(p)}var n,o=this,p=J.of(o,arguments),q={},r=0,s=".zoom-"+hg.event.changedTouches[0].identifier,u="touchmove"+s,v="touchend"+s,w=[],x=hg.select(o),A=X(o);b(),i(p),x.on(F,null).on(I,b)}function n(){var a=J.of(this,arguments);s?clearTimeout(s):(Ni.call(this),p=c(q=r||hg.mouse(this)),i(a)),s=setTimeout(function(){s=null,k(a)},50),y(),e(Math.pow(2,.002*Tg())*z.k),f(q,p),j(a)}function o(){var a=hg.mouse(this),b=Math.log(z.k)/Math.LN2;g(this,a,c(a),hg.event.shiftKey?Math.ceil(b)-1:Math.floor(b)+1)}var p,q,r,s,t,u,v,w,x,z={x:0,y:0,k:1},B=[960,500],C=Vg,D=250,E=0,F="mousedown.zoom",G="mousemove.zoom",H="mouseup.zoom",I="touchstart.zoom",J=A(a,"zoomstart","zoom","zoomend");return Ug||(Ug="onwheel"in kg?(Tg=function(){return-hg.event.deltaY*(hg.event.deltaMode?120:1)},"wheel"):"onmousewheel"in kg?(Tg=function(){return hg.event.wheelDelta},"mousewheel"):(Tg=function(){return-hg.event.detail},"MozMousePixelScroll")),a.event=function(a){a.each(function(){var a=J.of(this,arguments),b=z;Li?hg.select(this).transition().each("start.zoom",function(){z=this.__chart__||{x:0,y:0,k:1},i(a)}).tween("zoom:zoom",function(){var c=B[0],d=B[1],e=q?q[0]:c/2,f=q?q[1]:d/2,g=hg.interpolateZoom([(e-z.x)/z.k,(f-z.y)/z.k,c/z.k],[(e-b.x)/b.k,(f-b.y)/b.k,c/b.k]);return function(b){var d=g(b),h=c/d[2];this.__chart__=z={x:e-d[0]*h,y:f-d[1]*h,k:h},j(a)}}).each("interrupt.zoom",function(){k(a)}).each("end.zoom",function(){k(a)}):(this.__chart__=z,i(a),j(a),k(a))})},a.translate=function(b){return arguments.length?(z={x:+b[0],y:+b[1],k:z.k},h(),a):[z.x,z.y]},a.scale=function(b){return arguments.length?(z={x:z.x,y:z.y,k:null},e(+b),h(),a):z.k},a.scaleExtent=function(b){return arguments.length?(C=null==b?Vg:[+b[0],+b[1]],a):C},a.center=function(b){return arguments.length?(r=b&&[+b[0],+b[1]],a):r},a.size=function(b){return arguments.length?(B=b&&[+b[0],+b[1]],a):B},a.duration=function(b){return arguments.length?(D=+b,a):D},a.x=function(b){return arguments.length?(v=b,u=b.copy(),z={x:0,y:0,k:1},a):v},a.y=function(b){return arguments.length?(x=b,w=b.copy(),z={x:0,y:0,k:1},a):x},hg.rebind(a,J,"on")};var Tg,Ug,Vg=[0,1/0];hg.color=ga,ga.prototype.toString=function(){return this.rgb()+""},hg.hsl=ha;var Wg=ha.prototype=new ga;Wg.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new ha(this.h,this.s,this.l/a)},Wg.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new ha(this.h,this.s,a*this.l)},Wg.rgb=function(){return ia(this.h,this.s,this.l)},hg.hcl=ja;var Xg=ja.prototype=new ga;Xg.brighter=function(a){return new ja(this.h,this.c,Math.min(100,this.l+Yg*(arguments.length?a:1)))},Xg.darker=function(a){return new ja(this.h,this.c,Math.max(0,this.l-Yg*(arguments.length?a:1)))},Xg.rgb=function(){return ka(this.h,this.c,this.l).rgb()},hg.lab=la;var Yg=18,Zg=.95047,$g=1,_g=1.08883,ah=la.prototype=new ga;ah.brighter=function(a){return new la(Math.min(100,this.l+Yg*(arguments.length?a:1)),this.a,this.b)},ah.darker=function(a){return new la(Math.max(0,this.l-Yg*(arguments.length?a:1)),this.a,this.b)},ah.rgb=function(){return ma(this.l,this.a,this.b)},hg.rgb=ra;var bh=ra.prototype=new ga;bh.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;return b||c||d?(b&&b<e&&(b=e),c&&c<e&&(c=e),d&&d<e&&(d=e),new ra(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))):new ra(e,e,e)},bh.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new ra(a*this.r,a*this.g,a*this.b)},bh.hsl=function(){return wa(this.r,this.g,this.b)},bh.toString=function(){return"#"+ua(this.r)+ua(this.g)+ua(this.b)};var ch=hg.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ch.forEach(function(a,b){ch.set(a,sa(b))}),hg.functor=Aa,hg.xhr=Ba(s),hg.dsv=function(a,b){function c(a,c,f){arguments.length<3&&(f=c,c=null);var g=Ca(a,b,null==c?d:e(c),f);return g.row=function(a){return arguments.length?g.response(null==(c=a)?d:e(a)):c},g}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function f(b){return b.map(g).join(a)}function g(a){return h.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var h=new RegExp('["'+a+"\n]"),i=a.charCodeAt(0);return c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),c)}:e})},c.parseRows=function(a,b){function c(){if(k>=j)return g;if(e)return e=!1,f;var b=k;if(34===a.charCodeAt(b)){for(var c=b;c++<j;)if(34===a.charCodeAt(c)){if(34!==a.charCodeAt(c+1))break;++c}k=c+2;var d=a.charCodeAt(c+1);return 13===d?(e=!0,10===a.charCodeAt(c+2)&&++k):10===d&&(e=!0),a.slice(b+1,c).replace(/""/g,'"')}for(;k<j;){var d=a.charCodeAt(k++),h=1;if(10===d)e=!0;else if(13===d)e=!0,10===a.charCodeAt(k)&&(++k,++h);else if(d!==i)continue;return a.slice(b,k-h)}return a.slice(b)}for(var d,e,f={},g={},h=[],j=a.length,k=0,l=0;(d=c())!==g;){for(var m=[];d!==f&&d!==g;)m.push(d),d=c();b&&null==(m=b(m,l++))||h.push(m)}return h},c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);var d=new r,e=[];return b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))}),[e.map(g).join(a)].concat(b.map(function(b){return e.map(function(a){return g(b[a])}).join(a)})).join("\n")},c.formatRows=function(a){return a.map(f).join("\n")},c},hg.csv=hg.dsv(",","text/csv"),hg.tsv=hg.dsv("\t","text/tab-separated-values");var dh,eh,fh,gh,hh=this[u(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};hg.timer=function(){Fa.apply(this,arguments)},hg.timer.flush=function(){Ha(),Ia()},hg.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var ih=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ka);hg.formatPrefix=function(a,b){var c=0;return(a=+a)&&(a<0&&(a*=-1),b&&(a=hg.round(a,Ja(a,b))),c=1+Math.floor(1e-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/3)))),ih[8+c/3]};var jh=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,kh=hg.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=hg.round(a,Ja(a,b))).toFixed(Math.max(0,Math.min(20,Ja(a*(1+1e-15),b))))}}),lh=hg.time={},mh=Date;Na.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){nh.setUTCDate.apply(this._,arguments)},setDay:function(){nh.setUTCDay.apply(this._,arguments)},setFullYear:function(){nh.setUTCFullYear.apply(this._,arguments)},setHours:function(){nh.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){nh.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){nh.setUTCMinutes.apply(this._,arguments)},setMonth:function(){nh.setUTCMonth.apply(this._,arguments)},setSeconds:function(){nh.setUTCSeconds.apply(this._,arguments)},setTime:function(){nh.setTime.apply(this._,arguments)}};var nh=Date.prototype;lh.year=Oa(function(a){return a=lh.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()}),lh.years=lh.year.range,lh.years.utc=lh.year.utc.range,lh.day=Oa(function(a){var b=new mh(2e3,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1}),lh.days=lh.day.range,lh.days.utc=lh.day.utc.range,lh.dayOfYear=function(a){var b=lh.year(a);return Math.floor((a-b-6e4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(a,b){b=7-b;var c=lh[a]=Oa(function(a){return(a=lh.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=lh.year(a).getDay();return Math.floor((lh.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});lh[a+"s"]=c.range,lh[a+"s"].utc=c.utc.range,lh[a+"OfYear"]=function(a){var c=lh.year(a).getDay();return Math.floor((lh.dayOfYear(a)+(c+b)%7)/7)}}),lh.week=lh.sunday,lh.weeks=lh.sunday.range,lh.weeks.utc=lh.sunday.utc.range,lh.weekOfYear=lh.sundayOfYear;var oh={"-":"",_:" ",0:"0"},ph=/^\s*\d+/,qh=/^%/;hg.locale=function(a){return{numberFormat:La(a),timeFormat:Qa(a)}};var rh=hg.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});hg.format=rh.numberFormat,hg.geo={},jb.prototype={s:0,t:0,add:function(a){kb(a,this.t,sh),kb(sh.s,this.s,this),this.s?this.t+=sh.t:this.s=sh.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var sh=new jb;hg.geo.stream=function(a,b){a&&th.hasOwnProperty(a.type)?th[a.type](a,b):lb(a,b)};var th={Feature:function(a,b){lb(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)lb(c[d].geometry,b)}},uh={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){mb(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)mb(c[d],b,0)},Polygon:function(a,b){nb(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)nb(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)lb(c[d],b)}};hg.geo.area=function(a){return vh=0,hg.geo.stream(a,xh),vh};var vh,wh=new jb,xh={sphere:function(){vh+=4*Kg},point:v,lineStart:v,lineEnd:v,polygonStart:function(){wh.reset(),xh.lineStart=ob},polygonEnd:function(){var a=2*wh;vh+=a<0?4*Kg+a:a,xh.lineStart=xh.lineEnd=xh.point=v}};hg.geo.bounds=function(){function a(a,b){t.push(u=[k=a,m=a]),b<l&&(l=b),b>n&&(n=b)}function b(b,c){var d=pb([b*Og,c*Og]);if(r){var e=rb(r,d),f=[e[1],-e[0],0],g=rb(f,e);ub(g),g=vb(g);var i=b-o,j=i>0?1:-1,p=g[0]*Pg*j,q=rg(i)>180;if(q^(j*o<p&&p<j*b)){var s=g[1]*Pg;s>n&&(n=s)}else if(p=(p+360)%360-180,q^(j*o<p&&p<j*b)){var s=-g[1]*Pg;s<l&&(l=s)}else c<l&&(l=c),c>n&&(n=c);q?b<o?h(k,b)>h(k,m)&&(m=b):h(b,m)>h(k,m)&&(k=b):m>=k?(b<k&&(k=b),b>m&&(m=b)):b>o?h(k,b)>h(k,m)&&(m=b):h(b,m)>h(k,m)&&(k=b)}else a(b,c);r=d,o=b}function c(){v.point=b}function d(){u[0]=k,u[1]=m,v.point=a,r=null}function e(a,c){if(r){var d=a-o;s+=rg(d)>180?d+(d>0?360:-360):d}else p=a,q=c;xh.point(a,c),b(a,c)}function f(){xh.lineStart()}function g(){e(p,q),xh.lineEnd(),rg(s)>Ig&&(k=-(m=180)),u[0]=k,u[1]=m,r=null}function h(a,b){return(b-=a)<0?b+360:b}function i(a,b){return a[0]-b[0]}function j(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var k,l,m,n,o,p,q,r,s,t,u,v={point:a,lineStart:c,lineEnd:d,polygonStart:function(){v.point=e,v.lineStart=f,v.lineEnd=g,s=0,xh.polygonStart()},polygonEnd:function(){xh.polygonEnd(),v.point=a,v.lineStart=c,v.lineEnd=d,wh<0?(k=-(m=180),l=-(n=90)):s>Ig?n=90:s<-Ig&&(l=-90),u[0]=k,u[1]=m}};return function(a){n=m=-(k=l=1/0),t=[],hg.geo.stream(a,v);var b=t.length;if(b){t.sort(i);for(var c,d=1,e=t[0],f=[e];d<b;++d)c=t[d],j(c[0],e)||j(c[1],e)?(h(e[0],c[1])>h(e[0],e[1])&&(e[1]=c[1]),h(c[0],e[1])>h(e[0],e[1])&&(e[0]=c[0])):f.push(e=c);for(var g,c,o=-(1/0),b=f.length-1,d=0,e=f[b];d<=b;e=c,++d)c=f[d],(g=h(e[1],c[0]))>o&&(o=g,k=c[0],m=e[1])}return t=u=null,k===1/0||l===1/0?[[NaN,NaN],[NaN,NaN]]:[[k,l],[m,n]]}}(),hg.geo.centroid=function(a){yh=zh=Ah=Bh=Ch=Dh=Eh=Fh=Gh=Hh=Ih=0,hg.geo.stream(a,Jh);var b=Gh,c=Hh,d=Ih,e=b*b+c*c+d*d;return e<Jg&&(b=Dh,c=Eh,d=Fh,zh<Ig&&(b=Ah,c=Bh,d=Ch),e=b*b+c*c+d*d,e<Jg)?[NaN,NaN]:[Math.atan2(c,b)*Pg,ba(d/Math.sqrt(e))*Pg]};var yh,zh,Ah,Bh,Ch,Dh,Eh,Fh,Gh,Hh,Ih,Jh={sphere:v,point:xb,lineStart:zb,lineEnd:Ab,polygonStart:function(){Jh.lineStart=Bb},polygonEnd:function(){Jh.lineStart=zb}},Kh=Hb(Db,Lb,Nb,[-Kg,-Kg/2]),Lh=1e9;hg.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){return e&&(e.valid=!1),e=f(a),e.valid=!0,e},extent:function(h){return arguments.length?(f=Rb(a=+h[0][0],b=+h[0][1],c=+h[1][0],d=+h[1][1]),e&&(e.valid=!1,e=null),g):[[a,b],[c,d]]}};return g.extent([[0,0],[960,500]])},(hg.geo.conicEqualArea=function(){return Sb(Tb)}).raw=Tb,hg.geo.albers=function(){return hg.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},hg.geo.albersUsa=function(){function a(a){var f=a[0],g=a[1];return b=null,c(f,g),b||(d(f,g),b)||e(f,g),b}var b,c,d,e,f=hg.geo.albers(),g=hg.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=hg.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),i={point:function(a,c){b=[a,c]}};return a.invert=function(a){var b=f.scale(),c=f.translate(),d=(a[0]-c[0])/b,e=(a[1]-c[1])/b;return(e>=.12&&e<.234&&d>=-.425&&d<-.214?g:e>=.166&&e<.234&&d>=-.214&&d<-.115?h:f).invert(a)},a.stream=function(a){var b=f.stream(a),c=g.stream(a),d=h.stream(a);return{point:function(a,e){b.point(a,e),c.point(a,e),d.point(a,e)},sphere:function(){b.sphere(),c.sphere(),d.sphere()},lineStart:function(){b.lineStart(),c.lineStart(),d.lineStart()},lineEnd:function(){b.lineEnd(),c.lineEnd(),d.lineEnd()},polygonStart:function(){b.polygonStart(),c.polygonStart(),d.polygonStart()},polygonEnd:function(){b.polygonEnd(),c.polygonEnd(),d.polygonEnd()}}},a.precision=function(b){return arguments.length?(f.precision(b),g.precision(b),h.precision(b),a):f.precision()},a.scale=function(b){return arguments.length?(f.scale(b),g.scale(.35*b),h.scale(b),a.translate(f.translate())):f.scale()},a.translate=function(b){if(!arguments.length)return f.translate();var j=f.scale(),k=+b[0],l=+b[1];return c=f.translate(b).clipExtent([[k-.455*j,l-.238*j],[k+.455*j,l+.238*j]]).stream(i).point,d=g.translate([k-.307*j,l+.201*j]).clipExtent([[k-.425*j+Ig,l+.12*j+Ig],[k-.214*j-Ig,l+.234*j-Ig]]).stream(i).point,e=h.translate([k-.205*j,l+.212*j]).clipExtent([[k-.214*j+Ig,l+.166*j+Ig],[k-.115*j-Ig,l+.234*j-Ig]]).stream(i).point,a},a.scale(1070)};var Mh,Nh,Oh,Ph,Qh,Rh,Sh={point:v,lineStart:v,lineEnd:v,polygonStart:function(){Nh=0,Sh.lineStart=Ub},polygonEnd:function(){Sh.lineStart=Sh.lineEnd=Sh.point=v,Mh+=rg(Nh/2)}},Th={point:Vb,lineStart:v,lineEnd:v,polygonStart:v,polygonEnd:v},Uh={point:Yb,lineStart:Zb,lineEnd:$b,polygonStart:function(){Uh.lineStart=_b},polygonEnd:function(){Uh.point=Yb,Uh.lineStart=Zb,Uh.lineEnd=$b}};hg.geo.path=function(){function a(a){return a&&("function"==typeof h&&f.pointRadius(+h.apply(this,arguments)),g&&g.valid||(g=e(f)),hg.geo.stream(a,g)),f.result()}function b(){return g=null,a}var c,d,e,f,g,h=4.5;return a.area=function(a){return Mh=0,hg.geo.stream(a,e(Sh)),Mh},a.centroid=function(a){return Ah=Bh=Ch=Dh=Eh=Fh=Gh=Hh=Ih=0,hg.geo.stream(a,e(Uh)),Ih?[Gh/Ih,Hh/Ih]:Fh?[Dh/Fh,Eh/Fh]:Ch?[Ah/Ch,Bh/Ch]:[NaN,NaN]},a.bounds=function(a){return Qh=Rh=-(Oh=Ph=1/0),hg.geo.stream(a,e(Th)),[[Oh,Ph],[Qh,Rh]]},a.projection=function(a){return arguments.length?(e=(c=a)?a.stream||cc(a):s,b()):c},a.context=function(a){return arguments.length?(f=null==(d=a)?new Wb:new ac(a),"function"!=typeof h&&f.pointRadius(h),b()):d},a.pointRadius=function(b){return arguments.length?(h="function"==typeof b?b:(f.pointRadius(+b),+b),a):h},a.projection(hg.geo.albersUsa()).context(null)},hg.geo.transform=function(a){return{stream:function(b){var c=new dc(b);for(var d in a)c[d]=a[d];return c}}},dc.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},hg.geo.projection=fc,hg.geo.projectionMutator=gc,(hg.geo.equirectangular=function(){return fc(ic)}).raw=ic.invert=ic,hg.geo.rotation=function(a){function b(b){return b=a(b[0]*Og,b[1]*Og),b[0]*=Pg,b[1]*=Pg,b}return a=kc(a[0]%360*Og,a[1]*Og,a.length>2?a[2]*Og:0),b.invert=function(b){return b=a.invert(b[0]*Og,b[1]*Og),b[0]*=Pg,b[1]*=Pg,b},b},jc.invert=ic,hg.geo.circle=function(){function a(){var a="function"==typeof d?d.apply(this,arguments):d,b=kc(-a[0]*Og,-a[1]*Og,0).invert,e=[];return c(null,null,1,{point:function(a,c){e.push(a=b(a,c)),a[0]*=Pg,a[1]*=Pg}}),{type:"Polygon",coordinates:[e]}}var b,c,d=[0,0],e=6;return a.origin=function(b){return arguments.length?(d=b,a):d},a.angle=function(d){return arguments.length?(c=oc((b=+d)*Og,e*Og),a):b},a.precision=function(d){return arguments.length?(c=oc(b*Og,(e=+d)*Og),a):e},a.angle(90)},hg.geo.distance=function(a,b){var c,d=(b[0]-a[0])*Og,e=a[1]*Og,f=b[1]*Og,g=Math.sin(d),h=Math.cos(d),i=Math.sin(e),j=Math.cos(e),k=Math.sin(f),l=Math.cos(f);return Math.atan2(Math.sqrt((c=l*g)*c+(c=j*k-i*l*h)*c),i*k+j*l*h)},hg.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return hg.range(Math.ceil(f/q)*q,e,q).map(m).concat(hg.range(Math.ceil(j/r)*r,i,r).map(n)).concat(hg.range(Math.ceil(d/o)*o,c,o).filter(function(a){return rg(a%q)>Ig}).map(k)).concat(hg.range(Math.ceil(h/p)*p,g,p).filter(function(a){return rg(a%r)>Ig}).map(l))}var c,d,e,f,g,h,i,j,k,l,m,n,o=10,p=o,q=90,r=360,s=2.5;return a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[m(f).concat(n(i).slice(1),m(e).reverse().slice(1),n(j).reverse().slice(1))]}},a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()},a.majorExtent=function(b){return arguments.length?(f=+b[0][0],e=+b[1][0],j=+b[0][1],i=+b[1][1],f>e&&(b=f,f=e,e=b),j>i&&(b=j,j=i,i=b),a.precision(s)):[[f,j],[e,i]]},a.minorExtent=function(b){return arguments.length?(d=+b[0][0],c=+b[1][0],h=+b[0][1],g=+b[1][1],d>c&&(b=d,d=c,c=b),h>g&&(b=h,h=g,g=b),a.precision(s)):[[d,h],[c,g]]},a.step=function(b){return arguments.length?a.majorStep(b).minorStep(b):a.minorStep()},a.majorStep=function(b){return arguments.length?(q=+b[0],r=+b[1],a):[q,r]},a.minorStep=function(b){return arguments.length?(o=+b[0],p=+b[1],a):[o,p]},a.precision=function(b){return arguments.length?(s=+b,k=qc(h,g,90),l=rc(d,c,s),m=qc(j,i,90),n=rc(f,e,s),a):s},a.majorExtent([[-180,-90+Ig],[180,90-Ig]]).minorExtent([[-180,-80-Ig],[180,80+Ig]])},hg.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[b||d.apply(this,arguments),c||e.apply(this,arguments)]}}var b,c,d=sc,e=tc;return a.distance=function(){return hg.geo.distance(b||d.apply(this,arguments),c||e.apply(this,arguments))},a.source=function(c){return arguments.length?(d=c,b="function"==typeof c?null:c,a):d},a.target=function(b){return arguments.length?(e=b,c="function"==typeof b?null:b,a):e},a.precision=function(){return arguments.length?a:0},a},hg.geo.interpolate=function(a,b){return uc(a[0]*Og,a[1]*Og,b[0]*Og,b[1]*Og)},hg.geo.length=function(a){return Vh=0,hg.geo.stream(a,Wh),Vh};var Vh,Wh={sphere:v,point:v,lineStart:vc,lineEnd:v,polygonStart:v,polygonEnd:v},Xh=wc(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(hg.geo.azimuthalEqualArea=function(){return fc(Xh)}).raw=Xh;var Yh=wc(function(a){var b=Math.acos(a);return b&&b/Math.sin(b)},s);(hg.geo.azimuthalEquidistant=function(){return fc(Yh)}).raw=Yh,(hg.geo.conicConformal=function(){return Sb(xc)}).raw=xc,(hg.geo.conicEquidistant=function(){return Sb(yc)}).raw=yc;var Zh=wc(function(a){return 1/a},Math.atan);(hg.geo.gnomonic=function(){return fc(Zh)}).raw=Zh,zc.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Ng]},(hg.geo.mercator=function(){return Ac(zc)}).raw=zc;var $h=wc(function(){return 1},Math.asin);(hg.geo.orthographic=function(){return fc($h)}).raw=$h;var _h=wc(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(hg.geo.stereographic=function(){return fc(_h)}).raw=_h,Bc.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-Ng]},(hg.geo.transverseMercator=function(){var a=Ac(Bc),b=a.center,c=a.rotate;return a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return a?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90])}).raw=Bc,hg.geom={},hg.geom.hull=function(a){function b(a){if(a.length<3)return[];var b,e=Aa(c),f=Aa(d),g=a.length,h=[],i=[];for(b=0;b<g;b++)h.push([+e.call(this,a[b],b),+f.call(this,a[b],b),b]);for(h.sort(Fc),b=0;b<g;b++)i.push([h[b][0],-h[b][1]]);var j=Ec(h),k=Ec(i),l=k[0]===j[0],m=k[k.length-1]===j[j.length-1],n=[];for(b=j.length-1;b>=0;--b)n.push(a[h[j[b]][2]]);for(b=+l;b<k.length-m;++b)n.push(a[h[k[b]][2]]);return n}var c=Cc,d=Dc;return arguments.length?b(a):(b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b)},hg.geom.polygon=function(a){return wg(a,ai),a};var ai=hg.geom.polygon.prototype=[];ai.area=function(){for(var a,b=-1,c=this.length,d=this[c-1],e=0;++b<c;)a=d,d=this[b],e+=a[1]*d[0]-a[0]*d[1];return.5*e},ai.centroid=function(a){var b,c,d=-1,e=this.length,f=0,g=0,h=this[e-1];for(arguments.length||(a=-1/(6*this.area()));++d<e;)b=h,h=this[d],c=b[0]*h[1]-h[0]*b[1],f+=(b[0]+h[0])*c,g+=(b[1]+h[1])*c;return[f*a,g*a]},ai.clip=function(a){for(var b,c,d,e,f,g,h=Ic(a),i=-1,j=this.length-Ic(this),k=this[j-1];++i<j;){for(b=a.slice(),a.length=0,e=this[i],f=b[(d=b.length-h)-1],c=-1;++c<d;)g=b[c],Gc(g,k,e)?(Gc(f,k,e)||a.push(Hc(f,g,k,e)),a.push(g)):Gc(f,k,e)&&a.push(Hc(f,g,k,e)),f=g;h&&a.push(a[0]),k=e}return a};var bi,ci,di,ei,fi,gi=[],hi=[];Qc.prototype.prepare=function(){for(var a,b=this.edges,c=b.length;c--;)a=b[c].edge,a.b&&a.a||b.splice(c,1);return b.sort(Sc),b.length},ad.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},bd.prototype={insert:function(a,b){var c,d,e;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=fd(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);for(b.L=b.R=null,b.U=c,b.C=!0,a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(dd(this,c),a=c,c=a.U),c.C=!1,d.C=!0,ed(this,d))):(e=d.L,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(ed(this,c),a=c,c=a.U),c.C=!1,d.C=!0,dd(this,d))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var b,c,d,e=a.U,f=a.L,g=a.R;if(c=f?g?fd(g):f:g,e?e.L===a?e.L=c:e.R=c:this._=c,f&&g?(d=c.C,c.C=a.C,c.L=f,f.U=c,c!==g?(e=c.U,c.U=a.U,a=c.R,e.L=a,c.R=g,g.U=c):(c.U=e,e=c,a=c.R)):(d=a.C,a=c),a&&(a.U=e),!d){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===e.L){if(b=e.R,b.C&&(b.C=!1,e.C=!0,dd(this,e),b=e.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,ed(this,b),b=e.R),b.C=e.C,e.C=b.R.C=!1,dd(this,e),a=this._;break}}else if(b=e.L,b.C&&(b.C=!1,e.C=!0,ed(this,e),b=e.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,dd(this,b),b=e.L),b.C=e.C,e.C=b.L.C=!1,ed(this,e),a=this._;break}b.C=!0,a=e,e=e.U}while(!a.C);a&&(a.C=!1)}}},hg.geom.voronoi=function(a){function b(a){var b=new Array(a.length),d=h[0][0],e=h[0][1],f=h[1][0],g=h[1][1];return gd(c(a),h).cells.forEach(function(c,h){var i=c.edges,j=c.site,k=b[h]=i.length?i.map(function(a){var b=a.start();return[b.x,b.y]}):j.x>=d&&j.x<=f&&j.y>=e&&j.y<=g?[[d,g],[f,g],[f,e],[d,e]]:[];k.point=a[h]}),b}function c(a){return a.map(function(a,b){return{x:Math.round(f(a,b)/Ig)*Ig,y:Math.round(g(a,b)/Ig)*Ig,i:b}})}var d=Cc,e=Dc,f=d,g=e,h=ii;return a?b(a):(b.links=function(a){
return gd(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})},b.triangles=function(a){var b=[];return gd(c(a)).cells.forEach(function(c,d){for(var e,f,g=c.site,h=c.edges.sort(Sc),i=-1,j=h.length,k=h[j-1].edge,l=k.l===g?k.r:k.l;++i<j;)e=k,f=l,k=h[i].edge,l=k.l===g?k.r:k.l,d<f.i&&d<l.i&&id(g,f,l)<0&&b.push([a[d],a[f.i],a[l.i]])}),b},b.x=function(a){return arguments.length?(f=Aa(d=a),b):d},b.y=function(a){return arguments.length?(g=Aa(e=a),b):e},b.clipExtent=function(a){return arguments.length?(h=null==a?ii:a,b):h===ii?null:h},b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):h===ii?null:h&&h[1]},b)};var ii=[[-1e6,-1e6],[1e6,1e6]];hg.geom.delaunay=function(a){return hg.geom.voronoi().triangles(a)},hg.geom.quadtree=function(a,b,c,d,e){function f(a){function f(a,b,c,d,e,f,g,h){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var i=a.x,k=a.y;if(null!=i)if(rg(i-c)+rg(k-d)<.01)j(a,b,c,d,e,f,g,h);else{var l=a.point;a.x=a.y=a.point=null,j(a,l,i,k,e,f,g,h),j(a,b,c,d,e,f,g,h)}else a.x=c,a.y=d,a.point=b}else j(a,b,c,d,e,f,g,h)}function j(a,b,c,d,e,g,h,i){var j=.5*(e+h),k=.5*(g+i),l=c>=j,m=d>=k,n=m<<1|l;a.leaf=!1,a=a.nodes[n]||(a.nodes[n]=ld()),l?e=j:h=j,m?g=k:i=k,f(a,b,c,d,e,g,h,i)}var k,l,m,n,o,p,q,r,s,t=Aa(h),u=Aa(i);if(null!=b)p=b,q=c,r=d,s=e;else if(r=s=-(p=q=1/0),l=[],m=[],o=a.length,g)for(n=0;n<o;++n)k=a[n],k.x<p&&(p=k.x),k.y<q&&(q=k.y),k.x>r&&(r=k.x),k.y>s&&(s=k.y),l.push(k.x),m.push(k.y);else for(n=0;n<o;++n){var v=+t(k=a[n],n),w=+u(k,n);v<p&&(p=v),w<q&&(q=w),v>r&&(r=v),w>s&&(s=w),l.push(v),m.push(w)}var x=r-p,y=s-q;x>y?s=q+x:r=p+y;var z=ld();if(z.add=function(a){f(z,a,+t(a,++n),+u(a,n),p,q,r,s)},z.visit=function(a){md(a,z,p,q,r,s)},z.find=function(a){return nd(z,a[0],a[1],p,q,r,s)},n=-1,null==b){for(;++n<o;)f(z,a[n],l[n],m[n],p,q,r,s);--n}else a.forEach(z.add);return l=m=a=k=null,z}var g,h=Cc,i=Dc;return(g=arguments.length)?(h=jd,i=kd,3===g&&(e=c,d=b,c=b=0),f(a)):(f.x=function(a){return arguments.length?(h=a,f):h},f.y=function(a){return arguments.length?(i=a,f):i},f.extent=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]),f):null==b?null:[[b,c],[d,e]]},f.size=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]),f):null==b?null:[d-b,e-c]},f)},hg.interpolateRgb=od,hg.interpolateObject=pd,hg.interpolateNumber=qd,hg.interpolateString=rd;var ji=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ki=new RegExp(ji.source,"g");hg.interpolate=sd,hg.interpolators=[function(a,b){var c=typeof b;return("string"===c?ch.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?od:rd:b instanceof ga?od:Array.isArray(b)?td:"object"===c&&isNaN(b)?pd:qd)(a,b)}],hg.interpolateArray=td;var li=function(){return s},mi=hg.map({linear:li,poly:Ad,quad:function(){return xd},cubic:function(){return yd},sin:function(){return Bd},exp:function(){return Cd},circle:function(){return Dd},elastic:Ed,back:Fd,bounce:function(){return Gd}}),ni=hg.map({in:s,out:vd,"in-out":wd,"out-in":function(a){return wd(vd(a))}});hg.ease=function(a){var b=a.indexOf("-"),c=b>=0?a.slice(0,b):a,d=b>=0?a.slice(b+1):"in";return c=mi.get(c)||li,d=ni.get(d)||s,ud(d(c.apply(null,ig.call(arguments,1))))},hg.interpolateHcl=Hd,hg.interpolateHsl=Id,hg.interpolateLab=Jd,hg.interpolateRound=Kd,hg.transform=function(a){var b=kg.createElementNS(hg.ns.prefix.svg,"g");return(hg.transform=function(a){if(null!=a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new Ld(c?c.matrix:oi)})(a)},Ld.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var oi={a:1,b:0,c:0,d:1,e:0,f:0};hg.interpolateTransform=Ud,hg.layout={},hg.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(Xd(a[c]));return b}},hg.layout.chord=function(){function a(){var a,j,l,m,n,o={},p=[],q=hg.range(f),r=[];for(c=[],d=[],a=0,m=-1;++m<f;){for(j=0,n=-1;++n<f;)j+=e[m][n];p.push(j),r.push(hg.range(f)),a+=j}for(g&&q.sort(function(a,b){return g(p[a],p[b])}),h&&r.forEach(function(a,b){a.sort(function(a,c){return h(e[b][a],e[b][c])})}),a=(Lg-k*f)/a,j=0,m=-1;++m<f;){for(l=j,n=-1;++n<f;){var s=q[m],t=r[s][n],u=e[s][t],v=j,w=j+=u*a;o[s+"-"+t]={index:s,subindex:t,startAngle:v,endAngle:w,value:u}}d[s]={index:s,startAngle:l,endAngle:j,value:p[s]},j+=k}for(m=-1;++m<f;)for(n=m-1;++n<f;){var x=o[m+"-"+n],y=o[n+"-"+m];(x.value||y.value)&&c.push(x.value<y.value?{source:y,target:x}:{source:x,target:y})}i&&b()}function b(){c.sort(function(a,b){return i((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c,d,e,f,g,h,i,j={},k=0;return j.matrix=function(a){return arguments.length?(f=(e=a)&&e.length,c=d=null,j):e},j.padding=function(a){return arguments.length?(k=a,c=d=null,j):k},j.sortGroups=function(a){return arguments.length?(g=a,c=d=null,j):g},j.sortSubgroups=function(a){return arguments.length?(h=a,c=null,j):h},j.sortChords=function(a){return arguments.length?(i=a,c&&b(),j):i},j.chords=function(){return c||a(),c},j.groups=function(){return d||a(),d},j},hg.layout.force=function(){function a(a){return function(b,c,d,e){if(b.point!==a){var f=b.cx-a.x,g=b.cy-a.y,h=e-c,i=f*f+g*g;if(h*h/r<i){if(i<p){var j=b.charge/i;a.px-=f*j,a.py-=g*j}return!0}if(b.point&&i&&i<p){var j=b.pointCharge/i;a.px-=f*j,a.py-=g*j}}return!b.charge}}function b(a){a.px=hg.event.x,a.py=hg.event.y,i.resume()}var c,d,e,f,g,h,i={},j=hg.dispatch("start","tick","end"),k=[1,1],l=.9,m=pi,n=qi,o=-30,p=ri,q=.1,r=.64,t=[],u=[];return i.tick=function(){if((e*=.99)<.005)return c=null,j.end({type:"end",alpha:e=0}),!0;var b,d,i,m,n,p,r,s,v,w=t.length,x=u.length;for(d=0;d<x;++d)i=u[d],m=i.source,n=i.target,s=n.x-m.x,v=n.y-m.y,(p=s*s+v*v)&&(p=e*g[d]*((p=Math.sqrt(p))-f[d])/p,s*=p,v*=p,n.x-=s*(r=m.weight+n.weight?m.weight/(m.weight+n.weight):.5),n.y-=v*r,m.x+=s*(r=1-r),m.y+=v*r);if((r=e*q)&&(s=k[0]/2,v=k[1]/2,d=-1,r))for(;++d<w;)i=t[d],i.x+=(s-i.x)*r,i.y+=(v-i.y)*r;if(o)for(ce(b=hg.geom.quadtree(t),e,h),d=-1;++d<w;)(i=t[d]).fixed||b.visit(a(i));for(d=-1;++d<w;)i=t[d],i.fixed?(i.x=i.px,i.y=i.py):(i.x-=(i.px-(i.px=i.x))*l,i.y-=(i.py-(i.py=i.y))*l);j.tick({type:"tick",alpha:e})},i.nodes=function(a){return arguments.length?(t=a,i):t},i.links=function(a){return arguments.length?(u=a,i):u},i.size=function(a){return arguments.length?(k=a,i):k},i.linkDistance=function(a){return arguments.length?(m="function"==typeof a?a:+a,i):m},i.distance=i.linkDistance,i.linkStrength=function(a){return arguments.length?(n="function"==typeof a?a:+a,i):n},i.friction=function(a){return arguments.length?(l=+a,i):l},i.charge=function(a){return arguments.length?(o="function"==typeof a?a:+a,i):o},i.chargeDistance=function(a){return arguments.length?(p=a*a,i):Math.sqrt(p)},i.gravity=function(a){return arguments.length?(q=+a,i):q},i.theta=function(a){return arguments.length?(r=a*a,i):Math.sqrt(r)},i.alpha=function(a){return arguments.length?(a=+a,e?a>0?e=a:(c.c=null,c.t=NaN,c=null,j.end({type:"end",alpha:e=0})):a>0&&(j.start({type:"start",alpha:e=a}),c=Fa(i.tick)),i):e},i.start=function(){function a(a,d){if(!c){for(c=new Array(e),i=0;i<e;++i)c[i]=[];for(i=0;i<j;++i){var f=u[i];c[f.source.index].push(f.target),c[f.target.index].push(f.source)}}for(var g,h=c[b],i=-1,k=h.length;++i<k;)if(!isNaN(g=h[i][a]))return g;return Math.random()*d}var b,c,d,e=t.length,j=u.length,l=k[0],p=k[1];for(b=0;b<e;++b)(d=t[b]).index=b,d.weight=0;for(b=0;b<j;++b)d=u[b],"number"==typeof d.source&&(d.source=t[d.source]),"number"==typeof d.target&&(d.target=t[d.target]),++d.source.weight,++d.target.weight;for(b=0;b<e;++b)d=t[b],isNaN(d.x)&&(d.x=a("x",l)),isNaN(d.y)&&(d.y=a("y",p)),isNaN(d.px)&&(d.px=d.x),isNaN(d.py)&&(d.py=d.y);if(f=[],"function"==typeof m)for(b=0;b<j;++b)f[b]=+m.call(this,u[b],b);else for(b=0;b<j;++b)f[b]=m;if(g=[],"function"==typeof n)for(b=0;b<j;++b)g[b]=+n.call(this,u[b],b);else for(b=0;b<j;++b)g[b]=n;if(h=[],"function"==typeof o)for(b=0;b<e;++b)h[b]=+o.call(this,t[b],b);else for(b=0;b<e;++b)h[b]=o;return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){return d||(d=hg.behavior.drag().origin(s).on("dragstart.force",$d).on("drag.force",b).on("dragend.force",_d)),arguments.length?void this.on("mouseover.force",ae).on("mouseout.force",be).call(d):d},hg.rebind(i,j,"on")};var pi=20,qi=1,ri=1/0;hg.layout.hierarchy=function(){function a(e){var f,g=[e],h=[];for(e.depth=0;null!=(f=g.pop());)if(h.push(f),(j=c.call(a,f,f.depth))&&(i=j.length)){for(var i,j,k;--i>=0;)g.push(k=j[i]),k.parent=f,k.depth=f.depth+1;d&&(f.value=0),f.children=j}else d&&(f.value=+d.call(a,f,f.depth)||0),delete f.children;return fe(e,function(a){var c,e;b&&(c=a.children)&&c.sort(b),d&&(e=a.parent)&&(e.value+=a.value)}),h}var b=ie,c=ge,d=he;return a.sort=function(c){return arguments.length?(b=c,a):b},a.children=function(b){return arguments.length?(c=b,a):c},a.value=function(b){return arguments.length?(d=b,a):d},a.revalue=function(b){return d&&(ee(b,function(a){a.children&&(a.value=0)}),fe(b,function(b){var c;b.children||(b.value=+d.call(a,b,b.depth)||0),(c=b.parent)&&(c.value+=b.value)})),b},a},hg.layout.partition=function(){function a(b,c,d,e){var f=b.children;if(b.x=c,b.y=b.depth*e,b.dx=d,b.dy=e,f&&(g=f.length)){var g,h,i,j=-1;for(d=b.value?d/b.value:0;++j<g;)a(h=f[j],c,i=h.value*d,e),c+=i}}function b(a){var c=a.children,d=0;if(c&&(e=c.length))for(var e,f=-1;++f<e;)d=Math.max(d,b(c[f]));return 1+d}function c(c,f){var g=d.call(this,c,f);return a(g[0],0,e[0],e[1]/b(g[0])),g}var d=hg.layout.hierarchy(),e=[1,1];return c.size=function(a){return arguments.length?(e=a,c):e},de(c,d)},hg.layout.pie=function(){function a(g){var h,i=g.length,j=g.map(function(c,d){return+b.call(a,c,d)}),k=+("function"==typeof d?d.apply(this,arguments):d),l=("function"==typeof e?e.apply(this,arguments):e)-k,m=Math.min(Math.abs(l)/i,+("function"==typeof f?f.apply(this,arguments):f)),n=m*(l<0?-1:1),o=hg.sum(j),p=o?(l-i*n)/o:0,q=hg.range(i),r=[];return null!=c&&q.sort(c===si?function(a,b){return j[b]-j[a]}:function(a,b){return c(g[a],g[b])}),q.forEach(function(a){r[a]={data:g[a],value:h=j[a],startAngle:k,endAngle:k+=h*p+n,padAngle:m}}),r}var b=Number,c=si,d=0,e=Lg,f=0;return a.value=function(c){return arguments.length?(b=c,a):b},a.sort=function(b){return arguments.length?(c=b,a):c},a.startAngle=function(b){return arguments.length?(d=b,a):d},a.endAngle=function(b){return arguments.length?(e=b,a):e},a.padAngle=function(b){return arguments.length?(f=b,a):f},a};var si={};hg.layout.stack=function(){function a(h,i){if(!(m=h.length))return h;var j=h.map(function(c,d){return b.call(a,c,d)}),k=j.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),g.call(a,b,c)]})}),l=c.call(a,k,i);j=hg.permute(j,l),k=hg.permute(k,l);var m,n,o,p,q=d.call(a,k,i),r=j[0].length;for(o=0;o<r;++o)for(e.call(a,j[0][o],p=q[o],k[0][o][1]),n=1;n<m;++n)e.call(a,j[n][o],p+=k[n-1][o][1],k[n][o][1]);return h}var b=s,c=ne,d=oe,e=me,f=ke,g=le;return a.values=function(c){return arguments.length?(b=c,a):b},a.order=function(b){return arguments.length?(c="function"==typeof b?b:ti.get(b)||ne,a):c},a.offset=function(b){return arguments.length?(d="function"==typeof b?b:ui.get(b)||oe,a):d},a.x=function(b){return arguments.length?(f=b,a):f},a.y=function(b){return arguments.length?(g=b,a):g},a.out=function(b){return arguments.length?(e=b,a):e},a};var ti=hg.map({"inside-out":function(a){var b,c,d=a.length,e=a.map(pe),f=a.map(qe),g=hg.range(d).sort(function(a,b){return e[a]-e[b]}),h=0,i=0,j=[],k=[];for(b=0;b<d;++b)c=g[b],h<i?(h+=f[c],j.push(c)):(i+=f[c],k.push(c));return k.reverse().concat(j)},reverse:function(a){return hg.range(a.length).reverse()},default:ne}),ui=hg.map({silhouette:function(a){var b,c,d,e=a.length,f=a[0].length,g=[],h=0,i=[];for(c=0;c<f;++c){for(b=0,d=0;b<e;b++)d+=a[b][c][1];d>h&&(h=d),g.push(d)}for(c=0;c<f;++c)i[c]=(h-g[c])/2;return i},wiggle:function(a){var b,c,d,e,f,g,h,i,j,k=a.length,l=a[0],m=l.length,n=[];for(n[0]=i=j=0,c=1;c<m;++c){for(b=0,e=0;b<k;++b)e+=a[b][c][1];for(b=0,f=0,h=l[c][0]-l[c-1][0];b<k;++b){for(d=0,g=(a[b][c][1]-a[b][c-1][1])/(2*h);d<b;++d)g+=(a[d][c][1]-a[d][c-1][1])/h;f+=g*a[b][c][1]}n[c]=i-=e?f/e*h:0,i<j&&(j=i)}for(c=0;c<m;++c)n[c]-=j;return n},expand:function(a){var b,c,d,e=a.length,f=a[0].length,g=1/e,h=[];for(c=0;c<f;++c){for(b=0,d=0;b<e;b++)d+=a[b][c][1];if(d)for(b=0;b<e;b++)a[b][c][1]/=d;else for(b=0;b<e;b++)a[b][c][1]=g}for(c=0;c<f;++c)h[c]=0;return h},zero:oe});hg.layout.histogram=function(){function a(a,f){for(var g,h,i=[],j=a.map(c,this),k=d.call(this,j,f),l=e.call(this,k,j,f),f=-1,m=j.length,n=l.length-1,o=b?1:1/m;++f<n;)g=i[f]=[],g.dx=l[f+1]-(g.x=l[f]),g.y=0;if(n>0)for(f=-1;++f<m;)h=j[f],h>=k[0]&&h<=k[1]&&(g=i[hg.bisect(l,h,1,n)-1],g.y+=o,g.push(a[f]));return i}var b=!0,c=Number,d=ue,e=se;return a.value=function(b){return arguments.length?(c=b,a):c},a.range=function(b){return arguments.length?(d=Aa(b),a):d},a.bins=function(b){return arguments.length?(e="number"==typeof b?function(a){return te(a,b)}:Aa(b),a):e},a.frequency=function(c){return arguments.length?(b=!!c,a):b},a},hg.layout.pack=function(){function a(a,f){var g=c.call(this,a,f),h=g[0],i=e[0],j=e[1],k=null==b?Math.sqrt:"function"==typeof b?b:function(){return b};if(h.x=h.y=0,fe(h,function(a){a.r=+k(a.value)}),fe(h,ze),d){var l=d*(b?1:Math.max(2*h.r/i,2*h.r/j))/2;fe(h,function(a){a.r+=l}),fe(h,ze),fe(h,function(a){a.r-=l})}return Ce(h,i/2,j/2,b?1:1/Math.max(2*h.r/i,2*h.r/j)),g}var b,c=hg.layout.hierarchy().sort(ve),d=0,e=[1,1];return a.size=function(b){return arguments.length?(e=b,a):e},a.radius=function(c){return arguments.length?(b=null==c||"function"==typeof c?c:+c,a):b},a.padding=function(b){return arguments.length?(d=+b,a):d},de(a,c)},hg.layout.tree=function(){function a(a,e){var k=g.call(this,a,e),l=k[0],m=b(l);if(fe(m,c),m.parent.m=-m.z,ee(m,d),j)ee(l,f);else{var n=l,o=l,p=l;ee(l,function(a){a.x<n.x&&(n=a),a.x>o.x&&(o=a),a.depth>p.depth&&(p=a)});var q=h(n,o)/2-n.x,r=i[0]/(o.x+h(o,n)/2+q),s=i[1]/(p.depth||1);ee(l,function(a){a.x=(a.x+q)*r,a.y=a.depth*s})}return k}function b(a){for(var b,c={A:null,children:[a]},d=[c];null!=(b=d.pop());)for(var e,f=b.children,g=0,h=f.length;g<h;++g)d.push((f[g]=e={_:f[g],parent:b,children:(e=f[g].children)&&e.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=e);return c.children[0]}function c(a){var b=a.children,c=a.parent.children,d=a.i?c[a.i-1]:null;if(b.length){Ie(a);var f=(b[0].z+b[b.length-1].z)/2;d?(a.z=d.z+h(a._,d._),a.m=a.z-f):a.z=f}else d&&(a.z=d.z+h(a._,d._));a.parent.A=e(a,d,a.parent.A||c[0])}function d(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function e(a,b,c){if(b){for(var d,e=a,f=a,g=b,i=e.parent.children[0],j=e.m,k=f.m,l=g.m,m=i.m;g=Ge(g),e=Fe(e),g&&e;)i=Fe(i),f=Ge(f),f.a=a,d=g.z+l-e.z-j+h(g._,e._),d>0&&(He(Je(g,a,c),a,d),j+=d,k+=d),l+=g.m,j+=e.m,m+=i.m,k+=f.m;g&&!Ge(f)&&(f.t=g,f.m+=l-k),e&&!Fe(i)&&(i.t=e,i.m+=j-m,c=a)}return c}function f(a){a.x*=i[0],a.y=a.depth*i[1]}var g=hg.layout.hierarchy().sort(null).value(null),h=Ee,i=[1,1],j=null;return a.separation=function(b){return arguments.length?(h=b,a):h},a.size=function(b){return arguments.length?(j=null==(i=b)?f:null,a):j?null:i},a.nodeSize=function(b){return arguments.length?(j=null==(i=b)?null:f,a):j?i:null},de(a,g)},hg.layout.cluster=function(){function a(a,f){var g,h=b.call(this,a,f),i=h[0],j=0;fe(i,function(a){var b=a.children;b&&b.length?(a.x=Le(b),a.y=Ke(b)):(a.x=g?j+=c(a,g):0,a.y=0,g=a)});var k=Me(i),l=Ne(i),m=k.x-c(k,l)/2,n=l.x+c(l,k)/2;return fe(i,e?function(a){a.x=(a.x-i.x)*d[0],a.y=(i.y-a.y)*d[1]}:function(a){a.x=(a.x-m)/(n-m)*d[0],a.y=(1-(i.y?a.y/i.y:1))*d[1]}),h}var b=hg.layout.hierarchy().sort(null).value(null),c=Ee,d=[1,1],e=!1;return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(e=null==(d=b),a):e?null:d},a.nodeSize=function(b){return arguments.length?(e=null!=(d=b),a):e?d:null},de(a,b)},hg.layout.treemap=function(){function a(a,b){for(var c,d,e=-1,f=a.length;++e<f;)d=(c=a[e]).value*(b<0?0:b),c.area=isNaN(d)||d<=0?0:d}function b(c){var f=c.children;if(f&&f.length){var g,h,i,j=l(c),k=[],m=f.slice(),o=1/0,p="slice"===n?j.dx:"dice"===n?j.dy:"slice-dice"===n?1&c.depth?j.dy:j.dx:Math.min(j.dx,j.dy);for(a(m,j.dx*j.dy/c.value),k.area=0;(i=m.length)>0;)k.push(g=m[i-1]),k.area+=g.area,"squarify"!==n||(h=d(k,p))<=o?(m.pop(),o=h):(k.area-=k.pop().area,e(k,p,j,!1),p=Math.min(j.dx,j.dy),k.length=k.area=0,o=1/0);k.length&&(e(k,p,j,!0),k.length=k.area=0),f.forEach(b)}}function c(b){var d=b.children;if(d&&d.length){var f,g=l(b),h=d.slice(),i=[];for(a(h,g.dx*g.dy/b.value),i.area=0;f=h.pop();)i.push(f),i.area+=f.area,null!=f.z&&(e(i,f.z?g.dx:g.dy,g,!h.length),i.length=i.area=0);d.forEach(c)}}function d(a,b){for(var c,d=a.area,e=0,f=1/0,g=-1,h=a.length;++g<h;)(c=a[g].area)&&(c<f&&(f=c),c>e&&(e=c));return d*=d,b*=b,d?Math.max(b*e*o/d,d/(b*f*o)):1/0}function e(a,b,c,d){var e,f=-1,g=a.length,h=c.x,j=c.y,k=b?i(a.area/b):0;if(b==c.dx){for((d||k>c.dy)&&(k=c.dy);++f<g;)e=a[f],e.x=h,e.y=j,e.dy=k,h+=e.dx=Math.min(c.x+c.dx-h,k?i(e.area/k):0);e.z=!0,e.dx+=c.x+c.dx-h,c.y+=k,c.dy-=k}else{for((d||k>c.dx)&&(k=c.dx);++f<g;)e=a[f],e.x=h,e.y=j,e.dx=k,j+=e.dy=Math.min(c.y+c.dy-j,k?i(e.area/k):0);e.z=!1,e.dy+=c.y+c.dy-j,c.x+=k,c.dx-=k}}function f(d){var e=g||h(d),f=e[0];return f.x=f.y=0,f.value?(f.dx=j[0],f.dy=j[1]):f.dx=f.dy=0,g&&h.revalue(f),a([f],f.dx*f.dy/f.value),(g?c:b)(f),m&&(g=e),e}var g,h=hg.layout.hierarchy(),i=Math.round,j=[1,1],k=null,l=Oe,m=!1,n="squarify",o=.5*(1+Math.sqrt(5));return f.size=function(a){return arguments.length?(j=a,f):j},f.padding=function(a){function b(b){var c=a.call(f,b,b.depth);return null==c?Oe(b):Pe(b,"number"==typeof c?[c,c,c,c]:c)}function c(b){return Pe(b,a)}if(!arguments.length)return k;var d;return l=null==(k=a)?Oe:"function"==(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c,f},f.round=function(a){return arguments.length?(i=a?Math.round:Number,f):i!=Number},f.sticky=function(a){return arguments.length?(m=a,g=null,f):m},f.ratio=function(a){return arguments.length?(o=a,f):o},f.mode=function(a){return arguments.length?(n=a+"",f):n},de(f,h)},hg.random={normal:function(a,b){var c=arguments.length;return c<2&&(b=1),c<1&&(a=0),function(){var c,d,e;do c=2*Math.random()-1,d=2*Math.random()-1,e=c*c+d*d;while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var a=hg.random.normal.apply(hg,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=hg.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++)b+=Math.random();return b}}},hg.scale={};var vi={floor:s,ceil:s};hg.scale.linear=function(){return We([0,1],[0,1],sd,!1)};var wi={s:1,g:1,p:1,r:1,e:1};hg.scale.log=function(){return cf(hg.scale.linear().domain([0,1]),10,!0,[1,10])};var xi=hg.format(".0e"),yi={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};hg.scale.pow=function(){return df(hg.scale.linear(),1,[0,1])},hg.scale.sqrt=function(){return hg.scale.pow().exponent(.5)},hg.scale.ordinal=function(){return ff([],{t:"range",a:[[]]})},hg.scale.category10=function(){return hg.scale.ordinal().range(zi)},hg.scale.category20=function(){return hg.scale.ordinal().range(Ai)},hg.scale.category20b=function(){return hg.scale.ordinal().range(Bi)},hg.scale.category20c=function(){return hg.scale.ordinal().range(Ci)};var zi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ta),Ai=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ta),Bi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ta),Ci=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ta);hg.scale.quantile=function(){return gf([],[])},hg.scale.quantize=function(){return hf(0,1,[0,1])},hg.scale.threshold=function(){return jf([.5],[0,1])},hg.scale.identity=function(){return kf([0,1])},hg.svg={},hg.svg.arc=function(){function a(){var a=Math.max(0,+c.apply(this,arguments)),j=Math.max(0,+d.apply(this,arguments)),k=g.apply(this,arguments)-Ng,l=h.apply(this,arguments)-Ng,m=Math.abs(l-k),n=k>l?0:1;if(j<a&&(o=j,j=a,a=o),m>=Mg)return b(j,n)+(a?b(a,1-n):"")+"Z";var o,p,q,r,s,t,u,v,w,x,y,z,A=0,B=0,C=[];if((r=(+i.apply(this,arguments)||0)/2)&&(q=f===Di?Math.sqrt(a*a+j*j):+f.apply(this,arguments),n||(B*=-1),j&&(B=ba(q/j*Math.sin(r))),a&&(A=ba(q/a*Math.sin(r)))),j){s=j*Math.cos(k+B),t=j*Math.sin(k+B),u=j*Math.cos(l-B),v=j*Math.sin(l-B);var D=Math.abs(l-k-2*B)<=Kg?0:1;if(B&&rf(s,t,u,v)===n^D){var E=(k+l)/2;s=j*Math.cos(E),t=j*Math.sin(E),u=v=null}}else s=t=0;if(a){w=a*Math.cos(l-A),x=a*Math.sin(l-A),y=a*Math.cos(k+A),z=a*Math.sin(k+A);var F=Math.abs(k-l+2*A)<=Kg?0:1;if(A&&rf(w,x,y,z)===1-n^F){var G=(k+l)/2;w=a*Math.cos(G),x=a*Math.sin(G),y=z=null}}else w=x=0;if(m>Ig&&(o=Math.min(Math.abs(j-a)/2,+e.apply(this,arguments)))>.001){p=a<j^n?0:1;var H=o,I=o;if(m<Kg){var J=null==y?[w,x]:null==u?[s,t]:Hc([s,t],[y,z],[u,v],[w,x]),K=s-J[0],L=t-J[1],M=u-J[0],N=v-J[1],O=1/Math.sin(Math.acos((K*M+L*N)/(Math.sqrt(K*K+L*L)*Math.sqrt(M*M+N*N)))/2),P=Math.sqrt(J[0]*J[0]+J[1]*J[1]);I=Math.min(o,(a-P)/(O-1)),H=Math.min(o,(j-P)/(O+1))}if(null!=u){var Q=sf(null==y?[w,x]:[y,z],[s,t],j,H,n),R=sf([u,v],[w,x],j,H,n);o===H?C.push("M",Q[0],"A",H,",",H," 0 0,",p," ",Q[1],"A",j,",",j," 0 ",1-n^rf(Q[1][0],Q[1][1],R[1][0],R[1][1]),",",n," ",R[1],"A",H,",",H," 0 0,",p," ",R[0]):C.push("M",Q[0],"A",H,",",H," 0 1,",p," ",R[0])}else C.push("M",s,",",t);if(null!=y){var S=sf([s,t],[y,z],a,-I,n),T=sf([w,x],null==u?[s,t]:[u,v],a,-I,n);o===I?C.push("L",T[0],"A",I,",",I," 0 0,",p," ",T[1],"A",a,",",a," 0 ",n^rf(T[1][0],T[1][1],S[1][0],S[1][1]),",",1-n," ",S[1],"A",I,",",I," 0 0,",p," ",S[0]):C.push("L",T[0],"A",I,",",I," 0 0,",p," ",S[0])}else C.push("L",w,",",x)}else C.push("M",s,",",t),null!=u&&C.push("A",j,",",j," 0 ",D,",",n," ",u,",",v),C.push("L",w,",",x),null!=y&&C.push("A",a,",",a," 0 ",F,",",1-n," ",y,",",z);return C.push("Z"),C.join("")}function b(a,b){return"M0,"+a+"A"+a+","+a+" 0 1,"+b+" 0,"+-a+"A"+a+","+a+" 0 1,"+b+" 0,"+a}var c=mf,d=nf,e=lf,f=Di,g=of,h=pf,i=qf;return a.innerRadius=function(b){return arguments.length?(c=Aa(b),a):c},a.outerRadius=function(b){return arguments.length?(d=Aa(b),a):d},a.cornerRadius=function(b){return arguments.length?(e=Aa(b),a):e},a.padRadius=function(b){return arguments.length?(f=b==Di?Di:Aa(b),a):f},a.startAngle=function(b){return arguments.length?(g=Aa(b),a):g},a.endAngle=function(b){return arguments.length?(h=Aa(b),a):h},a.padAngle=function(b){return arguments.length?(i=Aa(b),a):i},a.centroid=function(){var a=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2,b=(+g.apply(this,arguments)+ +h.apply(this,arguments))/2-Ng;return[Math.cos(b)*a,Math.sin(b)*a]},a};var Di="auto";hg.svg.line=function(){return tf(s)};var Ei=hg.map({linear:uf,"linear-closed":vf,step:wf,"step-before":xf,"step-after":yf,basis:Ef,"basis-open":Ff,"basis-closed":Gf,bundle:Hf,cardinal:Bf,"cardinal-open":zf,"cardinal-closed":Af,monotone:Nf});Ei.forEach(function(a,b){b.key=a,b.closed=/-closed$/.test(a)});var Fi=[0,2/3,1/3,0],Gi=[0,1/3,2/3,0],Hi=[0,1/6,2/3,1/6];hg.svg.line.radial=function(){var a=tf(Of);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},xf.reverse=yf,yf.reverse=xf,hg.svg.area=function(){return Pf(s)},hg.svg.area.radial=function(){var a=Pf(Of);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},hg.svg.chord=function(){function a(a,h){var i=b(this,f,a,h),j=b(this,g,a,h);return"M"+i.p0+d(i.r,i.p1,i.a1-i.a0)+(c(i,j)?e(i.r,i.p1,i.r,i.p0):e(i.r,i.p1,j.r,j.p0)+d(j.r,j.p1,j.a1-j.a0)+e(j.r,j.p1,i.r,i.p0))+"Z"}function b(a,b,c,d){var e=b.call(a,c,d),f=h.call(a,e,d),g=i.call(a,e,d)-Ng,k=j.call(a,e,d)-Ng;return{r:f,a0:g,a1:k,p0:[f*Math.cos(g),f*Math.sin(g)],p1:[f*Math.cos(k),f*Math.sin(k)]}}function c(a,b){return a.a0==b.a0&&a.a1==b.a1}function d(a,b,c){return"A"+a+","+a+" 0 "+ +(c>Kg)+",1 "+b}function e(a,b,c,d){return"Q 0,0 "+d}var f=sc,g=tc,h=Qf,i=of,j=pf;return a.radius=function(b){return arguments.length?(h=Aa(b),a):h},a.source=function(b){return arguments.length?(f=Aa(b),a):f},a.target=function(b){return arguments.length?(g=Aa(b),a):g},a.startAngle=function(b){return arguments.length?(i=Aa(b),a):i},a.endAngle=function(b){return arguments.length?(j=Aa(b),a):j},a},hg.svg.diagonal=function(){function a(a,e){var f=b.call(this,a,e),g=c.call(this,a,e),h=(f.y+g.y)/2,i=[f,{x:f.x,y:h},{x:g.x,y:h},g];return i=i.map(d),"M"+i[0]+"C"+i[1]+" "+i[2]+" "+i[3]}var b=sc,c=tc,d=Rf;return a.source=function(c){return arguments.length?(b=Aa(c),a):b},a.target=function(b){return arguments.length?(c=Aa(b),a):c},a.projection=function(b){return arguments.length?(d=b,a):d},a},hg.svg.diagonal.radial=function(){var a=hg.svg.diagonal(),b=Rf,c=a.projection;return a.projection=function(a){return arguments.length?c(Sf(b=a)):b},a},hg.svg.symbol=function(){function a(a,d){return(Ii.get(b.call(this,a,d))||Vf)(c.call(this,a,d))}var b=Uf,c=Tf;return a.type=function(c){return arguments.length?(b=Aa(c),a):b},a.size=function(b){return arguments.length?(c=Aa(b),a):c},a};var Ii=hg.map({circle:Vf,cross:function(a){var b=Math.sqrt(a/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(a){var b=Math.sqrt(a/(2*Ki)),c=b*Ki;return"M0,"+-b+"L"+c+",0 0,"+b+" "+-c+",0Z"},square:function(a){var b=Math.sqrt(a)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(a){var b=Math.sqrt(a/Ji),c=b*Ji/2;return"M0,"+c+"L"+b+","+-c+" "+-b+","+-c+"Z"},"triangle-up":function(a){var b=Math.sqrt(a/Ji),c=b*Ji/2;return"M0,"+-c+"L"+b+","+c+" "+-b+","+c+"Z"}});hg.svg.symbolTypes=Ii.keys();var Ji=Math.sqrt(3),Ki=Math.tan(30*Og);Ag.transition=function(a){for(var b,c,d=Li||++Pi,e=$f(a),f=[],g=Mi||{time:Date.now(),ease:zd,delay:0,duration:250},h=-1,i=this.length;++h<i;){f.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(c=j[k])&&_f(c,k,e,d,g),b.push(c)}return Xf(f,e,d)},Ag.interrupt=function(a){return this.each(null==a?Ni:Wf($f(a)))};var Li,Mi,Ni=Wf($f()),Oi=[],Pi=0;Oi.call=Ag.call,Oi.empty=Ag.empty,Oi.node=Ag.node,Oi.size=Ag.size,hg.transition=function(a,b){return a&&a.transition?Li?a.transition(b):a:hg.selection().transition(a)},hg.transition.prototype=Oi,Oi.select=function(a){var b,c,d,e=this.id,f=this.namespace,g=[];a=C(a);for(var h=-1,i=this.length;++h<i;){g.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(d=j[k])&&(c=a.call(d,d.__data__,k,h))?("__data__"in d&&(c.__data__=d.__data__),_f(c,k,f,e,d[f][e]),b.push(c)):b.push(null)}return Xf(g,f,e)},Oi.selectAll=function(a){var b,c,d,e,f,g=this.id,h=this.namespace,i=[];a=D(a);for(var j=-1,k=this.length;++j<k;)for(var l=this[j],m=-1,n=l.length;++m<n;)if(d=l[m]){f=d[h][g],c=a.call(d,d.__data__,m,j),i.push(b=[]);for(var o=-1,p=c.length;++o<p;)(e=c[o])&&_f(e,o,h,g,f),b.push(e)}return Xf(i,h,g)},Oi.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=P(a));for(var f=0,g=this.length;f<g;f++){e.push(b=[]);for(var c=this[f],h=0,i=c.length;h<i;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return Xf(e,this.namespace,this.id)},Oi.tween=function(a,b){var c=this.id,d=this.namespace;return arguments.length<2?this.node()[d][c].tween.get(a):R(this,null==b?function(b){b[d][c].tween.remove(a)}:function(e){e[d][c].tween.set(a,b)})},Oi.attr=function(a,b){function c(){this.removeAttribute(h)}function d(){this.removeAttributeNS(h.space,h.local)}function e(a){return null==a?c:(a+="",function(){var b,c=this.getAttribute(h);return c!==a&&(b=g(c,a),function(a){this.setAttribute(h,b(a))})})}function f(a){return null==a?d:(a+="",function(){var b,c=this.getAttributeNS(h.space,h.local);return c!==a&&(b=g(c,a),function(a){this.setAttributeNS(h.space,h.local,b(a))})})}if(arguments.length<2){for(b in a)this.attr(b,a[b]);return this}var g="transform"==a?Ud:sd,h=hg.ns.qualify(a);return Yf(this,"attr."+a,b,h.local?f:e)},Oi.attrTween=function(a,b){function c(a,c){var d=b.call(this,a,c,this.getAttribute(e));return d&&function(a){this.setAttribute(e,d(a))}}function d(a,c){var d=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return d&&function(a){this.setAttributeNS(e.space,e.local,d(a))}}var e=hg.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)},Oi.style=function(a,c,d){function e(){this.style.removeProperty(a)}function f(c){return null==c?e:(c+="",function(){var e,f=b(this).getComputedStyle(this,null).getPropertyValue(a);return f!==c&&(e=sd(f,c),function(b){this.style.setProperty(a,e(b),d)})})}var g=arguments.length;if(g<3){if("string"!=typeof a){g<2&&(c="");for(d in a)this.style(d,a[d],c);return this}d=""}return Yf(this,"style."+a,c,f)},Oi.styleTween=function(a,c,d){function e(e,f){var g=c.call(this,e,f,b(this).getComputedStyle(this,null).getPropertyValue(a));return g&&function(b){this.style.setProperty(a,g(b),d)}}return arguments.length<3&&(d=""),this.tween("style."+a,e)},Oi.text=function(a){return Yf(this,"text",a,Zf)},Oi.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;this[a].count<2&&(b=this.parentNode)&&b.removeChild(this)})},Oi.ease=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].ease:("function"!=typeof a&&(a=hg.ease.apply(hg,arguments)),R(this,function(d){d[c][b].ease=a}))},Oi.delay=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].delay:R(this,"function"==typeof a?function(d,e,f){d[c][b].delay=+a.call(d,d.__data__,e,f)}:(a=+a,function(d){d[c][b].delay=a}))},Oi.duration=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].duration:R(this,"function"==typeof a?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))},Oi.each=function(a,b){var c=this.id,d=this.namespace;if(arguments.length<2){var e=Mi,f=Li;try{Li=c,R(this,function(b,e,f){Mi=b[d][c],a.call(b,b.__data__,e,f)})}finally{Mi=e,Li=f}}else R(this,function(e){var f=e[d][c];(f.event||(f.event=hg.dispatch("start","end","interrupt"))).on(a,b)});return this},Oi.transition=function(){for(var a,b,c,d,e=this.id,f=++Pi,g=this.namespace,h=[],i=0,j=this.length;i<j;i++){h.push(a=[]);for(var b=this[i],k=0,l=b.length;k<l;k++)(c=b[k])&&(d=c[g][e],_f(c,k,g,f,{time:d.time,ease:d.ease,delay:d.delay+d.duration,duration:d.duration})),a.push(c)}return Xf(h,g,f)},hg.svg.axis=function(){function a(a){a.each(function(){var a,j=hg.select(this),k=this.__chart__||c,l=this.__chart__=c.copy(),m=null==i?l.ticks?l.ticks.apply(l,h):l.domain():i,n=null==b?l.tickFormat?l.tickFormat.apply(l,h):s:b,o=j.selectAll(".tick").data(m,l),p=o.enter().insert("g",".domain").attr("class","tick").style("opacity",Ig),q=hg.transition(o.exit()).style("opacity",Ig).remove(),r=hg.transition(o.order()).style("opacity",1),t=Math.max(e,0)+g,u=Re(l),v=j.selectAll(".domain").data([0]),w=(v.enter().append("path").attr("class","domain"),hg.transition(v));p.append("line"),p.append("text");var x,y,z,A,B=p.select("line"),C=r.select("line"),D=o.select("text").text(n),E=p.select("text"),F=r.select("text"),G="top"===d||"left"===d?-1:1;if("bottom"===d||"top"===d?(a=ag,x="x",z="y",y="x2",A="y2",D.attr("dy",G<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+u[0]+","+G*f+"V0H"+u[1]+"V"+G*f)):(a=bg,x="y",z="x",y="y2",A="x2",D.attr("dy",".32em").style("text-anchor",G<0?"end":"start"),w.attr("d","M"+G*f+","+u[0]+"H0V"+u[1]+"H"+G*f)),B.attr(A,G*e),E.attr(z,G*t),C.attr(y,0).attr(A,G*e),F.attr(x,0).attr(z,G*t),l.rangeBand){var H=l,I=H.rangeBand()/2;k=l=function(a){return H(a)+I}}else k.rangeBand?k=l:q.call(a,l,k);p.call(a,k,l),r.call(a,l,l)})}var b,c=hg.scale.linear(),d=Qi,e=6,f=6,g=3,h=[10],i=null;
return a.scale=function(b){return arguments.length?(c=b,a):c},a.orient=function(b){return arguments.length?(d=b in Ri?b+"":Qi,a):d},a.ticks=function(){return arguments.length?(h=jg(arguments),a):h},a.tickValues=function(b){return arguments.length?(i=b,a):i},a.tickFormat=function(c){return arguments.length?(b=c,a):b},a.tickSize=function(b){var c=arguments.length;return c?(e=+b,f=+arguments[c-1],a):e},a.innerTickSize=function(b){return arguments.length?(e=+b,a):e},a.outerTickSize=function(b){return arguments.length?(f=+b,a):f},a.tickPadding=function(b){return arguments.length?(g=+b,a):g},a.tickSubdivide=function(){return arguments.length&&a},a};var Qi="bottom",Ri={top:1,right:1,bottom:1,left:1};hg.svg.brush=function(){function a(b){b.each(function(){var b=hg.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",f).on("touchstart.brush",f),g=b.selectAll(".background").data([0]);g.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),b.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var h=b.selectAll(".resize").data(p,s);h.exit().remove(),h.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Si[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),h.style("display",a.empty()?"none":null);var i,l=hg.transition(b),m=hg.transition(g);j&&(i=Re(j),m.attr("x",i[0]).attr("width",i[1]-i[0]),d(l)),k&&(i=Re(k),m.attr("y",i[0]).attr("height",i[1]-i[0]),e(l)),c(l)})}function c(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+l[+/e$/.test(a)]+","+m[+/^s/.test(a)]+")"})}function d(a){a.select(".extent").attr("x",l[0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function e(a){a.select(".extent").attr("y",m[0]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",m[1]-m[0])}function f(){function f(){32==hg.event.keyCode&&(D||(t=null,F[0]-=l[1],F[1]-=m[1],D=2),y())}function p(){32==hg.event.keyCode&&2==D&&(F[0]+=l[1],F[1]+=m[1],D=0,y())}function q(){var a=hg.mouse(v),b=!1;u&&(a[0]+=u[0],a[1]+=u[1]),D||(hg.event.altKey?(t||(t=[(l[0]+l[1])/2,(m[0]+m[1])/2]),F[0]=l[+(a[0]<t[0])],F[1]=m[+(a[1]<t[1])]):t=null),B&&r(a,j,0)&&(d(z),b=!0),C&&r(a,k,1)&&(e(z),b=!0),b&&(c(z),x({type:"brush",mode:D?"move":"resize"}))}function r(a,b,c){var d,e,f=Re(b),i=f[0],j=f[1],k=F[c],p=c?m:l,q=p[1]-p[0];if(D&&(i-=k,j-=q+k),d=(c?o:n)?Math.max(i,Math.min(j,a[c])):a[c],D?e=(d+=k)+q:(t&&(k=Math.max(i,Math.min(j,2*t[c]-d))),k<d?(e=d,d=k):e=k),p[0]!=d||p[1]!=e)return c?h=null:g=null,p[0]=d,p[1]=e,!0}function s(){q(),z.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null),hg.select("body").style("cursor",null),G.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),x({type:"brushend"})}var t,u,v=this,w=hg.select(hg.event.target),x=i.of(v,arguments),z=hg.select(v),A=w.datum(),B=!/^(n|s)$/.test(A)&&j,C=!/^(e|w)$/.test(A)&&k,D=w.classed("extent"),E=X(v),F=hg.mouse(v),G=hg.select(b(v)).on("keydown.brush",f).on("keyup.brush",p);if(hg.event.changedTouches?G.on("touchmove.brush",q).on("touchend.brush",s):G.on("mousemove.brush",q).on("mouseup.brush",s),z.interrupt().selectAll("*").interrupt(),D)F[0]=l[0]-F[0],F[1]=m[0]-F[1];else if(A){var H=+/w$/.test(A),I=+/^n/.test(A);u=[l[1-H]-F[0],m[1-I]-F[1]],F[0]=l[H],F[1]=m[I]}else hg.event.altKey&&(t=F.slice());z.style("pointer-events","none").selectAll(".resize").style("display",null),hg.select("body").style("cursor",w.style("cursor")),x({type:"brushstart"}),q()}var g,h,i=A(a,"brushstart","brush","brushend"),j=null,k=null,l=[0,0],m=[0,0],n=!0,o=!0,p=Ti[0];return a.event=function(a){a.each(function(){var a=i.of(this,arguments),b={x:l,y:m,i:g,j:h},c=this.__chart__||b;this.__chart__=b,Li?hg.select(this).transition().each("start.brush",function(){g=c.i,h=c.j,l=c.x,m=c.y,a({type:"brushstart"})}).tween("brush:brush",function(){var c=td(l,b.x),d=td(m,b.y);return g=h=null,function(e){l=b.x=c(e),m=b.y=d(e),a({type:"brush",mode:"resize"})}}).each("end.brush",function(){g=b.i,h=b.j,a({type:"brush",mode:"resize"}),a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},a.x=function(b){return arguments.length?(j=b,p=Ti[!j<<1|!k],a):j},a.y=function(b){return arguments.length?(k=b,p=Ti[!j<<1|!k],a):k},a.clamp=function(b){return arguments.length?(j&&k?(n=!!b[0],o=!!b[1]):j?n=!!b:k&&(o=!!b),a):j&&k?[n,o]:j?n:k?o:null},a.extent=function(b){var c,d,e,f,i;return arguments.length?(j&&(c=b[0],d=b[1],k&&(c=c[0],d=d[0]),g=[c,d],j.invert&&(c=j(c),d=j(d)),d<c&&(i=c,c=d,d=i),c==l[0]&&d==l[1]||(l=[c,d])),k&&(e=b[0],f=b[1],j&&(e=e[1],f=f[1]),h=[e,f],k.invert&&(e=k(e),f=k(f)),f<e&&(i=e,e=f,f=i),e==m[0]&&f==m[1]||(m=[e,f])),a):(j&&(g?(c=g[0],d=g[1]):(c=l[0],d=l[1],j.invert&&(c=j.invert(c),d=j.invert(d)),d<c&&(i=c,c=d,d=i))),k&&(h?(e=h[0],f=h[1]):(e=m[0],f=m[1],k.invert&&(e=k.invert(e),f=k.invert(f)),f<e&&(i=e,e=f,f=i))),j&&k?[[c,e],[d,f]]:j?[c,d]:k&&[e,f])},a.clear=function(){return a.empty()||(l=[0,0],m=[0,0],g=h=null),a},a.empty=function(){return!!j&&l[0]==l[1]||!!k&&m[0]==m[1]},hg.rebind(a,i,"on")};var Si={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ti=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ui=lh.format=rh.timeFormat,Vi=Ui.utc,Wi=Vi("%Y-%m-%dT%H:%M:%S.%LZ");Ui.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?cg:Wi,cg.parse=function(a){var b=new Date(a);return isNaN(b)?null:b},cg.toString=Wi.toString,lh.second=Oa(function(a){return new mh(1e3*Math.floor(a/1e3))},function(a,b){a.setTime(a.getTime()+1e3*Math.floor(b))},function(a){return a.getSeconds()}),lh.seconds=lh.second.range,lh.seconds.utc=lh.second.utc.range,lh.minute=Oa(function(a){return new mh(6e4*Math.floor(a/6e4))},function(a,b){a.setTime(a.getTime()+6e4*Math.floor(b))},function(a){return a.getMinutes()}),lh.minutes=lh.minute.range,lh.minutes.utc=lh.minute.utc.range,lh.hour=Oa(function(a){var b=a.getTimezoneOffset()/60;return new mh(36e5*(Math.floor(a/36e5-b)+b))},function(a,b){a.setTime(a.getTime()+36e5*Math.floor(b))},function(a){return a.getHours()}),lh.hours=lh.hour.range,lh.hours.utc=lh.hour.utc.range,lh.month=Oa(function(a){return a=lh.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()}),lh.months=lh.month.range,lh.months.utc=lh.month.utc.range;var Xi=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Yi=[[lh.second,1],[lh.second,5],[lh.second,15],[lh.second,30],[lh.minute,1],[lh.minute,5],[lh.minute,15],[lh.minute,30],[lh.hour,1],[lh.hour,3],[lh.hour,6],[lh.hour,12],[lh.day,1],[lh.day,2],[lh.week,1],[lh.month,1],[lh.month,3],[lh.year,1]],Zi=Ui.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",Db]]),$i={range:function(a,b,c){return hg.range(Math.ceil(a/c)*c,+b,c).map(eg)},floor:s,ceil:s};Yi.year=lh.year,lh.scale=function(){return dg(hg.scale.linear(),Yi,Zi)};var _i=Yi.map(function(a){return[a[0].utc,a[1]]}),aj=Vi.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",Db]]);_i.year=lh.year.utc,lh.scale.utc=function(){return dg(hg.scale.linear(),_i,aj)},hg.text=Ba(function(a){return a.responseText}),hg.json=function(a,b){return Ca(a,"application/json",fg,b)},hg.html=function(a,b){return Ca(a,"text/html",gg,b)},hg.xml=Ba(function(a){return a.responseXML}),"function"==typeof define&&define.amd?(this.d3=hg,define(hg)):"object"==typeof module&&module.exports?module.exports=hg:this.d3=hg}(),function(a,b){"function"==typeof define&&define.amd?define(["d3"],function(c){return a.Rickshaw=b(c)}):"object"==typeof exports?module.exports=b(require("d3")):a.Rickshaw=b(d3)}(this,function(a){var b={namespace:function(a,c){for(var d=a.split("."),e=b,f=1,g=d.length;f<g;f++){var h=d[f];e[h]=e[h]||{},e=e[h]}return e},keys:function(a){var b=[];for(var c in a)b.push(c);return b},extend:function(a,b){for(var c in b)a[c]=b[c];return a},clone:function(a){return JSON.parse(JSON.stringify(a))}};return function(a){function b(a){return l.call(a)===s}function c(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function d(a){if(e(a)!==r)throw new TypeError;var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}function e(a){switch(a){case null:return m;case void 0:return n}var b=typeof a;switch(b){case"boolean":return o;case"number":return p;case"string":return q}return r}function f(a){return"undefined"==typeof a}function g(a){var b=a.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=b.length||b[0]?b:[]}function h(a,b){var c=a;return function(){var a=i([k(c,this)],arguments);return b.apply(this,a)}}function i(a,b){for(var c=a.length,d=b.length;d--;)a[c+d]=b[d];return a}function j(a,b){return a=t.call(a,0),i(a,b)}function k(a,b){if(arguments.length<2&&f(arguments[0]))return this;var c=a,d=t.call(arguments,2);return function(){var a=j(d,arguments);return c.apply(b,a)}}var l=Object.prototype.toString,m="Null",n="Undefined",o="Boolean",p="Number",q="String",r="Object",s="[object Function]",t=Array.prototype.slice,u=function(){},v=function(){function a(){}function e(){function d(){this.initialize.apply(this,arguments)}var e=null,f=[].slice.apply(arguments);if(b(f[0])&&(e=f.shift()),c(d,v.Methods),d.superclass=e,d.subclasses=[],e){a.prototype=e.prototype,d.prototype=new a;try{e.subclasses.push(d)}catch(a){}}for(var g=0,h=f.length;g<h;g++)d.addMethods(f[g]);return d.prototype.initialize||(d.prototype.initialize=u),d.prototype.constructor=d,d}function f(a){var c=this.superclass&&this.superclass.prototype,e=d(a);i&&(a.toString!=Object.prototype.toString&&e.push("toString"),a.valueOf!=Object.prototype.valueOf&&e.push("valueOf"));for(var f=0,j=e.length;f<j;f++){var l=e[f],m=a[l];if(c&&b(m)&&"$super"==g(m)[0]){var n=m;m=h(function(a){return function(){return c[a].apply(this,arguments)}}(l),n),m.valueOf=k(n.valueOf,n),m.toString=k(n.toString,n)}this.prototype[l]=m}return this}var i=function(){for(var a in{toString:1})if("toString"===a)return!1;return!0}();return{create:e,Methods:{addMethods:f}}}();a.exports?a.exports.Class=v:a.Class=v}(b),b.namespace("Rickshaw.Compat.ClassList"),b.Compat.ClassList=function(){"undefined"==typeof document||"classList"in document.createElement("a")||!function(a){"use strict";var b="classList",c="prototype",d=(a.HTMLElement||a.Element)[c],e=Object,f=String[c].trim||function(){return this.replace(/^\s+|\s+$/g,"")},g=Array[c].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},h=function(a,b){this.name=a,this.code=DOMException[a],this.message=b},i=function(a,b){if(""===b)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return g.call(a,b)},j=function(a){for(var b=f.call(a.className),c=b?b.split(/\s+/):[],d=0,e=c.length;d<e;d++)this.push(c[d]);this._updateClassName=function(){a.className=this.toString()}},k=j[c]=[],l=function(){return new j(this)};if(h[c]=Error[c],k.item=function(a){return this[a]||null},k.contains=function(a){return a+="",i(this,a)!==-1},k.add=function(a){a+="",i(this,a)===-1&&(this.push(a),this._updateClassName())},k.remove=function(a){a+="";var b=i(this,a);b!==-1&&(this.splice(b,1),this._updateClassName())},k.toggle=function(a){a+="",i(this,a)===-1?this.add(a):this.remove(a)},k.toString=function(){return this.join(" ")},e.defineProperty){var m={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(d,b,m)}catch(a){a.number===-2146823252&&(m.enumerable=!1,e.defineProperty(d,b,m))}}else e[c].__defineGetter__&&d.__defineGetter__(b,l)}(window)},("undefined"!=typeof RICKSHAW_NO_COMPAT&&!RICKSHAW_NO_COMPAT||"undefined"==typeof RICKSHAW_NO_COMPAT)&&new b.Compat.ClassList,b.namespace("Rickshaw.Graph"),b.Graph=function(c){var d=this;this.initialize=function(b){if(!b.element)throw"Rickshaw.Graph needs a reference to an element";if(1!==b.element.nodeType)throw"Rickshaw.Graph element was defined but not an HTML element";this.element=b.element,this.series=b.series,this.window={},this.updateCallbacks=[],this.configureCallbacks=[],this.defaults={interpolation:"cardinal",offset:"zero",min:void 0,max:void 0,preserve:!1,xScale:void 0,yScale:void 0,stack:!0},this._loadRenderers(),this.configure(b),this.validateSeries(b.series),this.series.active=function(){return d.series.filter(function(a){return!a.disabled})},this.setSize({width:b.width,height:b.height}),this.element.classList.add("rickshaw_graph"),this.vis=a.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height),this.discoverRange()},this._loadRenderers=function(){for(var a in b.Graph.Renderer)if(a&&b.Graph.Renderer.hasOwnProperty(a)){var c=b.Graph.Renderer[a];c&&c.prototype&&c.prototype.render&&d.registerRenderer(new c({graph:d}))}},this.validateSeries=function(a){if(!(Array.isArray(a)||a instanceof b.Series)){var c=Object.prototype.toString.apply(a);throw"series is not an array: "+c}a.forEach(function(a){if(!(a instanceof Object))throw"series element is not an object: "+a;if(!a.data)throw"series has no data: "+JSON.stringify(a);if(!Array.isArray(a.data))throw"series data is not an array: "+JSON.stringify(a.data);if(a.data.length>0){var b=a.data[0].x,c=a.data[0].y;if("number"!=typeof b||"number"!=typeof c&&null!==c)throw"x and y properties of points should be numbers instead of "+typeof b+" and "+typeof c}if(a.data.length>=3&&(a.data[2].x<a.data[1].x||a.data[1].x<a.data[0].x||a.data[a.data.length-1].x<a.data[0].x))throw"series data needs to be sorted on x values for series name: "+a.name},this)},this.dataDomain=function(){var b=this.series.map(function(a){return a.data}),c=a.min(b.map(function(a){return a[0].x})),d=a.max(b.map(function(a){return a[a.length-1].x}));return[c,d]},this.discoverRange=function(){var b=this.renderer.domain();this.x=(this.xScale||a.scale.linear()).copy().domain(b.x).range([0,this.width]),this.y=(this.yScale||a.scale.linear()).copy().domain(b.y).range([this.height,0]),this.x.magnitude=a.scale.linear().domain([b.x[0]-b.x[0],b.x[1]-b.x[0]]).range([0,this.width]),this.y.magnitude=a.scale.linear().domain([b.y[0]-b.y[0],b.y[1]-b.y[0]]).range([0,this.height])},this.render=function(){this.stackData();this.discoverRange(),this.renderer.render(),this.updateCallbacks.forEach(function(a){a()})},this.update=this.render,this.stackData=function(){var c=this.series.active().map(function(a){return a.data}).map(function(a){return a.filter(function(a){return this._slice(a)},this)},this),e=this.preserve;e||this.series.forEach(function(a){a.scale&&(e=!0)}),c=e?b.clone(c):c,this.series.active().forEach(function(a,b){if(a.scale){var d=c[b];d&&d.forEach(function(b){b.y=a.scale(b.y)})}}),this.stackData.hooks.data.forEach(function(a){c=a.f.apply(d,[c])});var f;if(!this.renderer.unstack){this._validateStackable();var g=a.layout.stack();g.offset(d.offset),f=g(c)}f=f||c,this.renderer.unstack&&f.forEach(function(a){a.forEach(function(a){a.y0=void 0===a.y0?0:a.y0})}),this.stackData.hooks.after.forEach(function(a){f=a.f.apply(d,[c])});var h=0;return this.series.forEach(function(a){a.disabled||(a.stack=f[h++])}),this.stackedData=f,f},this._validateStackable=function(){var a,b=this.series;b.forEach(function(b){if(a=a||b.data.length,a&&b.data.length!=a)throw"stacked series cannot have differing numbers of points: "+a+" vs "+b.data.length+"; see Rickshaw.Series.fill()"},this)},this.stackData.hooks={data:[],after:[]},this._slice=function(a){if(this.window.xMin||this.window.xMax){var b=!0;return this.window.xMin&&a.x<this.window.xMin&&(b=!1),this.window.xMax&&a.x>this.window.xMax&&(b=!1),b}return!0},this.onUpdate=function(a){this.updateCallbacks.push(a)},this.onConfigure=function(a){this.configureCallbacks.push(a)},this.registerRenderer=function(a){this._renderers=this._renderers||{},this._renderers[a.name]=a},this.configure=function(a){this.config=this.config||{},(a.width||a.height)&&this.setSize(a),b.keys(this.defaults).forEach(function(b){this.config[b]=b in a?a[b]:b in this?this[b]:this.defaults[b]},this),b.keys(this.config).forEach(function(a){this[a]=this.config[a]},this),"stack"in a&&(a.unstack=!a.stack);var c=a.renderer||this.renderer&&this.renderer.name||"stack";this.setRenderer(c,a),this.configureCallbacks.forEach(function(b){b(a)})},this.setRenderer=function(a,b){if("function"==typeof a)this.renderer=new a({graph:d}),this.registerRenderer(this.renderer);else{if(!this._renderers[a])throw"couldn't find renderer "+a;this.renderer=this._renderers[a]}"object"==typeof b&&this.renderer.configure(b)},this.setSize=function(a){if(a=a||{},void 0!==typeof window)var b=window.getComputedStyle(this.element,null),c=parseInt(b.getPropertyValue("width"),10),d=parseInt(b.getPropertyValue("height"),10);this.width=a.width||c||400,this.height=a.height||d||250,this.vis&&this.vis.attr("width",this.width).attr("height",this.height)},this.initialize(c)},b.namespace("Rickshaw.Fixtures.Color"),b.Fixtures.Color=function(){this.schemes={},this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse(),this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"],this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"],this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse(),this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"},this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse(),this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"],this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]},b.namespace("Rickshaw.Fixtures.RandomData"),b.Fixtures.RandomData=function(a){a=a||1;var b=200,c=Math.floor((new Date).getTime()/1e3);this.addData=function(d){var e=100*Math.random()+15+b,f=d[0].length,g=1;d.forEach(function(b){var d=20*Math.random(),h=e/25+g++ +15*(Math.cos(f*g*11/960)+2)+7*(Math.cos(f/7)+2)+1*(Math.cos(f/17)+2);b.push({x:f*a+c,y:h+d})}),b=.85*e},this.removeData=function(b){b.forEach(function(a){a.shift()}),c+=a}},b.namespace("Rickshaw.Fixtures.Time"),b.Fixtures.Time=function(){var b=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(a){return 10*parseInt(a.getUTCFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(a){return a.getUTCFullYear()}},{name:"month",seconds:2635200,formatter:function(a){return b.months[a.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(a){return b.formatDate(a)}},{name:"day",seconds:86400,formatter:function(a){return a.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(a){return b.formatTime(a)}},{name:"hour",seconds:3600,formatter:function(a){return b.formatTime(a)}},{name:"15 minute",seconds:900,formatter:function(a){return b.formatTime(a)}},{name:"minute",seconds:60,formatter:function(a){return a.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(a){return a.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(a){return a.getUTCSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(a){return a.getUTCMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(a){return a.getUTCMilliseconds()+"ms"}}],this.unit=function(a){return this.units.filter(function(b){return a==b.name}).shift()},this.formatDate=function(b){return a.time.format("%b %e")(b)},this.formatTime=function(a){return a.toUTCString().match(/(\d+:\d+):/)[1]},this.ceil=function(a,b){var c,d,e;if("month"==b.name){if(c=new Date(1e3*a),d=Date.UTC(c.getUTCFullYear(),c.getUTCMonth())/1e3,d==a)return a;e=c.getUTCFullYear();var f=c.getUTCMonth();return 11==f?(f=0,e+=1):f+=1,Date.UTC(e,f)/1e3}return"year"==b.name?(c=new Date(1e3*a),d=Date.UTC(c.getUTCFullYear(),0)/1e3,d==a?a:(e=c.getUTCFullYear()+1,Date.UTC(e,0)/1e3)):Math.ceil(a/b.seconds)*b.seconds}},b.namespace("Rickshaw.Fixtures.Time.Local"),b.Fixtures.Time.Local=function(){var b=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(a){return 10*parseInt(a.getFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(a){return a.getFullYear()}},{name:"month",seconds:2635200,formatter:function(a){return b.months[a.getMonth()]}},{name:"week",seconds:604800,formatter:function(a){return b.formatDate(a)}},{name:"day",seconds:86400,formatter:function(a){return a.getDate()}},{name:"6 hour",seconds:21600,formatter:function(a){return b.formatTime(a)}},{name:"hour",seconds:3600,formatter:function(a){return b.formatTime(a)}},{name:"15 minute",seconds:900,formatter:function(a){return b.formatTime(a)}},{name:"minute",seconds:60,formatter:function(a){return a.getMinutes()}},{name:"15 second",seconds:15,formatter:function(a){return a.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(a){return a.getSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(a){return a.getMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(a){return a.getMilliseconds()+"ms"}}],this.unit=function(a){return this.units.filter(function(b){return a==b.name}).shift()},this.formatDate=function(b){return a.time.format("%b %e")(b)},this.formatTime=function(a){return a.toString().match(/(\d+:\d+):/)[1]},this.ceil=function(a,b){var c,d,e;if("day"==b.name){var f=new Date(1e3*(a+b.seconds-1)),g=new Date(0);return g.setMilliseconds(0),g.setSeconds(0),g.setMinutes(0),g.setHours(0),g.setDate(f.getDate()),g.setMonth(f.getMonth()),g.setFullYear(f.getFullYear()),g.getTime()/1e3}if("month"==b.name){if(c=new Date(1e3*a),d=new Date(c.getFullYear(),c.getMonth()).getTime()/1e3,d==a)return a;e=c.getFullYear();var h=c.getMonth();return 11==h?(h=0,e+=1):h+=1,new Date(e,h).getTime()/1e3}return"year"==b.name?(c=new Date(1e3*a),d=new Date(c.getUTCFullYear(),0).getTime()/1e3,d==a?a:(e=c.getFullYear()+1,new Date(e,0).getTime()/1e3)):Math.ceil(a/b.seconds)*b.seconds}},b.namespace("Rickshaw.Fixtures.Number"),b.Fixtures.Number.formatKMBT=function(a){var b=Math.abs(a);return b>=1e12?a/1e12+"T":b>=1e9?a/1e9+"B":b>=1e6?a/1e6+"M":b>=1e3?a/1e3+"K":b<1&&a>0?a.toFixed(2):0===b?"":a},b.Fixtures.Number.formatBase1024KMGTP=function(a){var b=Math.abs(a);return b>=0x4000000000000?a/0x4000000000000+"P":b>=1099511627776?a/1099511627776+"T":b>=1073741824?a/1073741824+"G":b>=1048576?a/1048576+"M":b>=1024?a/1024+"K":b<1&&a>0?a.toFixed(2):0===b?"":a},b.namespace("Rickshaw.Color.Palette"),b.Color.Palette=function(c){var d=new b.Fixtures.Color;if(c=c||{},this.schemes={},this.scheme=d.schemes[c.scheme]||c.scheme||d.schemes.colorwheel,this.runningIndex=0,this.generatorIndex=0,c.interpolatedStopCount){var e,f,g=this.scheme.length-1,h=[];for(e=0;e<g;e++){h.push(this.scheme[e]);var i=a.interpolateHsl(this.scheme[e],this.scheme[e+1]);for(f=1;f<c.interpolatedStopCount;f++)h.push(i(1/c.interpolatedStopCount*f))}h.push(this.scheme[this.scheme.length-1]),this.scheme=h}this.rotateCount=this.scheme.length,this.color=function(a){return this.scheme[a]||this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"},this.interpolateColor=function(){if(Array.isArray(this.scheme)){var b;return this.generatorIndex==2*this.rotateCount-1?(b=a.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(.5),this.generatorIndex=0,this.rotateCount*=2):(b=a.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(.5),this.generatorIndex++),this.scheme.push(b),b}}},b.namespace("Rickshaw.Graph.Ajax"),b.Graph.Ajax=b.Class.create({initialize:function(a){this.dataURL=a.dataURL,this.onData=a.onData||function(a){return a},this.onComplete=a.onComplete||function(){},this.onError=a.onError||function(){},this.args=a,this.request()},request:function(){jQuery.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL),this.onError(this)},success:function(a,c){a=this.onData(a),this.args.series=this._splice({data:a,series:this.args.series}),this.graph=this.graph||new b.Graph(this.args),this.graph.render(),this.onComplete(this)},_splice:function(a){var b=a.data,c=a.series;return a.series?(c.forEach(function(a){var c=a.key||a.name;if(!c)throw"series needs a key or a name";b.forEach(function(b){var d=b.key||b.name;if(!d)throw"data needs a key or a name";if(c==d){var e=["color","name","data"];e.forEach(function(c){b[c]&&(a[c]=b[c])})}})}),c):b}}),b.namespace("Rickshaw.Graph.Annotate"),b.Graph.Annotate=function(a){this.graph=a.graph;this.elements={timeline:a.element};var c=this;this.data={},this.elements.timeline.classList.add("rickshaw_annotation_timeline"),this.add=function(a,b,d){c.data[a]=c.data[a]||{boxes:[]},c.data[a].boxes.push({content:b,end:d})},this.update=function(){b.keys(c.data).forEach(function(a){var b=c.data[a],d=c.graph.x(a);if(d<0||d>c.graph.x.range()[1])return b.element&&(b.line.classList.add("offscreen"),b.element.style.display="none"),void b.boxes.forEach(function(a){a.rangeElement&&a.rangeElement.classList.add("offscreen")});if(!b.element){var e=b.element=document.createElement("div");e.classList.add("annotation"),this.elements.timeline.appendChild(e),e.addEventListener("click",function(a){e.classList.toggle("active"),b.line.classList.toggle("active"),b.boxes.forEach(function(a){a.rangeElement&&a.rangeElement.classList.toggle("active")})},!1)}b.element.style.left=d+"px",b.element.style.display="block",b.boxes.forEach(function(a){var e=a.element;if(e||(e=a.element=document.createElement("div"),e.classList.add("content"),e.innerHTML=a.content,b.element.appendChild(e),b.line=document.createElement("div"),b.line.classList.add("annotation_line"),c.graph.element.appendChild(b.line),a.end&&(a.rangeElement=document.createElement("div"),a.rangeElement.classList.add("annotation_range"),c.graph.element.appendChild(a.rangeElement))),a.end){var f=d,g=Math.min(c.graph.x(a.end),c.graph.x.range()[1]);f>g&&(g=d,f=Math.max(c.graph.x(a.end),c.graph.x.range()[0]));var h=g-f;a.rangeElement.style.left=f+"px",a.rangeElement.style.width=h+"px",a.rangeElement.classList.remove("offscreen")}b.line.classList.remove("offscreen"),b.line.style.left=d+"px"})},this)},this.graph.onUpdate(function(){c.update()})},b.namespace("Rickshaw.Graph.Axis.Time"),b.Graph.Axis.Time=function(a){var c=this;this.graph=a.graph,this.elements=[],this.ticksTreatment=a.ticksTreatment||"plain",this.fixedTimeUnit=a.timeUnit;var d=a.timeFixture||new b.Fixtures.Time;this.appropriateTimeUnit=function(){var a,b=d.units,c=this.graph.x.domain(),e=c[1]-c[0];return b.forEach(function(b){Math.floor(e/b.seconds)>=2&&(a=a||b)}),a||d.units[d.units.length-1]},this.tickOffsets=function(){for(var a=this.graph.x.domain(),b=this.fixedTimeUnit||this.appropriateTimeUnit(),c=Math.ceil((a[1]-a[0])/b.seconds),e=a[0],f=[],g=0;g<c;g++){var h=d.ceil(e,b);e=h+b.seconds/2,f.push({value:h,unit:b})}return f},this.render=function(){this.elements.forEach(function(a){a.parentNode.removeChild(a)}),this.elements=[];var a=this.tickOffsets();a.forEach(function(a){if(!(c.graph.x(a.value)>c.graph.x.range()[1])){var b=document.createElement("div");b.style.left=c.graph.x(a.value)+"px",b.classList.add("x_tick"),b.classList.add(c.ticksTreatment);var d=document.createElement("div");d.classList.add("title"),d.innerHTML=a.unit.formatter(new Date(1e3*a.value)),b.appendChild(d),c.graph.element.appendChild(b),c.elements.push(b)}})},this.graph.onUpdate(function(){c.render()})},b.namespace("Rickshaw.Graph.Axis.X"),b.Graph.Axis.X=function(b){var c=this,d=.1;this.initialize=function(b){this.graph=b.graph,this.orientation=b.orientation||"top",this.pixelsPerTick=b.pixelsPerTick||75,b.ticks&&(this.staticTicks=b.ticks),b.tickValues&&(this.tickValues=b.tickValues),this.tickSize=b.tickSize||4,this.ticksTreatment=b.ticksTreatment||"plain",b.element?(this.element=b.element,this._discoverSize(b.element,b),this.vis=a.select(b.element).append("svg:svg").attr("height",this.height).attr("width",this.width).attr("class","rickshaw_graph x_axis_d3"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:b.width,height:b.height})):this.vis=this.graph.vis,this.graph.onUpdate(function(){c.render()})},this.setSize=function(a){if(a=a||{},this.element){this._discoverSize(this.element.parentNode,a),this.vis.attr("height",this.height).attr("width",this.width*(1+d));var b=Math.floor(this.width*d/2);this.element.style.left=-1*b+"px"}},this.render=function(){void 0!==this._renderWidth&&this.graph.width!==this._renderWidth&&this.setSize({auto:!0});var c=a.svg.axis().scale(this.graph.x).orient(this.orientation);c.tickFormat(b.tickFormat||function(a){return a}),this.tickValues&&c.tickValues(this.tickValues),this.ticks=this.staticTicks||Math.floor(this.graph.width/this.pixelsPerTick);var e,f=Math.floor(this.width*d/2)||0;if("top"==this.orientation){var g=this.height||this.graph.height;e="translate("+f+","+g+")"}else e="translate("+f+", 0)";this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["x_ticks_d3",this.ticksTreatment].join(" ")).attr("transform",e).call(c.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));var h=("bottom"==this.orientation?1:-1)*this.graph.height;this.graph.vis.append("svg:g").attr("class","x_grid_d3").call(c.ticks(this.ticks).tickSubdivide(0).tickSize(h)).selectAll("text").each(function(){this.parentNode.setAttribute("data-x-value",this.textContent)}),this._renderHeight=this.graph.height},this._discoverSize=function(a,b){if("undefined"!=typeof window){var c=window.getComputedStyle(a,null),e=parseInt(c.getPropertyValue("height"),10);if(!b.auto)var f=parseInt(c.getPropertyValue("width"),10)}this.width=(b.width||f||this.graph.width)*(1+d),this.height=b.height||e||40},this.initialize(b)},b.namespace("Rickshaw.Graph.Axis.Y"),b.Graph.Axis.Y=b.Class.create({initialize:function(b){this.graph=b.graph,this.orientation=b.orientation||"right",this.pixelsPerTick=b.pixelsPerTick||75,b.ticks&&(this.staticTicks=b.ticks),
b.tickValues&&(this.tickValues=b.tickValues),this.tickSize=b.tickSize||4,this.ticksTreatment=b.ticksTreatment||"plain",this.tickFormat=b.tickFormat||function(a){return a},this.berthRate=.1,b.element?(this.element=b.element,this.vis=a.select(b.element).append("svg:svg").attr("class","rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:b.width,height:b.height})):this.vis=this.graph.vis;var c=this;this.graph.onUpdate(function(){c.render()})},setSize:function(a){if(a=a||{},this.element){if("undefined"!=typeof window){var b=window.getComputedStyle(this.element.parentNode,null),c=parseInt(b.getPropertyValue("width"),10);if(!a.auto)var d=parseInt(b.getPropertyValue("height"),10)}this.width=a.width||c||this.graph.width*this.berthRate,this.height=a.height||d||this.graph.height,this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));var e=this.height*this.berthRate;"left"==this.orientation&&(this.element.style.top=-1*e+"px")}},render:function(){void 0!==this._renderHeight&&this.graph.height!==this._renderHeight&&this.setSize({auto:!0}),this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var a=this._drawAxis(this.graph.y);this._drawGrid(a),this._renderHeight=this.graph.height},_drawAxis:function(b){var c=a.svg.axis().scale(b).orient(this.orientation);if(c.tickFormat(this.tickFormat),this.tickValues&&c.tickValues(this.tickValues),"left"==this.orientation)var d=this.height*this.berthRate,e="translate("+this.width+", "+d+")";return this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",e).call(c.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize)),c},_drawGrid:function(a){var b=("right"==this.orientation?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(a.ticks(this.ticks).tickSubdivide(0).tickSize(b)).selectAll("text").each(function(){this.parentNode.setAttribute("data-y-value",this.textContent)})}}),b.namespace("Rickshaw.Graph.Axis.Y.Scaled"),b.Graph.Axis.Y.Scaled=b.Class.create(b.Graph.Axis.Y,{initialize:function($super,a){if("undefined"==typeof a.scale)throw new Error("Scaled requires scale");this.scale=a.scale,"undefined"==typeof a.grid?this.grid=!0:this.grid=a.grid,$super(a)},_drawAxis:function($super,b){var c=this.scale.domain(),d=this.graph.renderer.domain().y,e=[Math.min.apply(Math,c),Math.max.apply(Math,c)],f=a.scale.linear().domain([0,1]).range(e),g=[f(d[0]),f(d[1])],h=a.scale.linear().domain(e).range(g),i=this.scale.copy().domain(c.map(h)).range(b.range());return $super(i)},_drawGrid:function($super,a){this.grid&&$super(a)}}),b.namespace("Rickshaw.Graph.Behavior.Series.Highlight"),b.Graph.Behavior.Series.Highlight=function(b){this.graph=b.graph,this.legend=b.legend;var c=this,d={},e=null,f=b.disabledColor||function(b){return a.interpolateRgb(b,a.rgb("#d8d8d8"))(.8).toString()};this.addHighlightEvents=function(a){a.element.addEventListener("mouseover",function(b){e||(e=a,c.legend.lines.forEach(function(b){if(a!==b)d[b.series.name]=d[b.series.name]||b.series.color,b.series.color=f(b.series.color);else if(c.graph.renderer.unstack&&(!b.series.renderer||b.series.renderer.unstack)){var e=c.graph.series.indexOf(b.series);b.originalIndex=e;var g=c.graph.series.splice(e,1)[0];c.graph.series.push(g)}}),c.graph.update())},!1),a.element.addEventListener("mouseout",function(b){e&&(e=null,c.legend.lines.forEach(function(b){if(a===b&&b.hasOwnProperty("originalIndex")){var e=c.graph.series.pop();c.graph.series.splice(b.originalIndex,0,e),delete b.originalIndex}d[b.series.name]&&(b.series.color=d[b.series.name])}),c.graph.update())},!1)},this.legend&&this.legend.lines.forEach(function(a){c.addHighlightEvents(a)})},b.namespace("Rickshaw.Graph.Behavior.Series.Order"),b.Graph.Behavior.Series.Order=function(a){this.graph=a.graph,this.legend=a.legend;var b=this;if("undefined"==typeof window.jQuery)throw"couldn't find jQuery at window.jQuery";if("undefined"==typeof window.jQuery.ui)throw"couldn't find jQuery UI at window.jQuery.ui";jQuery(function(){jQuery(b.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(a,c){var d=[];jQuery(b.legend.list).find("li").each(function(a,b){b.series&&d.push(b.series)});for(var e=b.graph.series.length-1;e>=0;e--)b.graph.series[e]=d.shift();b.graph.update()}}),jQuery(b.legend.list).disableSelection()}),this.graph.onUpdate(function(){var a=window.getComputedStyle(b.legend.element).height;b.legend.element.style.height=a})},b.namespace("Rickshaw.Graph.Behavior.Series.Toggle"),b.Graph.Behavior.Series.Toggle=function(a){this.graph=a.graph,this.legend=a.legend;var b=this;if(this.addAnchor=function(a){var c=document.createElement("a");c.innerHTML="&#10004;",c.classList.add("action"),a.element.insertBefore(c,a.element.firstChild),c.onclick=function(c){if(a.series.disabled)a.series.enable(),a.element.classList.remove("disabled");else{if(this.graph.series.filter(function(a){return!a.disabled}).length<=1)return;a.series.disable(),a.element.classList.add("disabled")}b.graph.update()}.bind(this);var d=a.element.getElementsByTagName("span")[0];d.onclick=function(c){var d=a.series.disabled;if(!d)for(var e=0;e<b.legend.lines.length;e++){var f=b.legend.lines[e];if(a.series===f.series);else if(!f.series.disabled){d=!0;break}}d?(a.series.enable(),a.element.classList.remove("disabled"),b.legend.lines.forEach(function(b){a.series===b.series||(b.series.disable(),b.element.classList.add("disabled"))})):b.legend.lines.forEach(function(a){a.series.enable(),a.element.classList.remove("disabled")}),b.graph.update()}},this.legend){var c=jQuery;"undefined"!=typeof c&&c(this.legend.list).sortable&&c(this.legend.list).sortable({start:function(a,b){b.item.bind("no.onclick",function(a){a.preventDefault()})},stop:function(a,b){setTimeout(function(){b.item.unbind("no.onclick")},250)}}),this.legend.lines.forEach(function(a){b.addAnchor(a)})}this._addBehavior=function(){this.graph.series.forEach(function(a){a.disable=function(){if(b.graph.series.length<=1)throw"only one series left";a.disabled=!0},a.enable=function(){a.disabled=!1}})},this._addBehavior(),this.updateBehaviour=function(){this._addBehavior()}},b.namespace("Rickshaw.Graph.HoverDetail"),b.Graph.HoverDetail=b.Class.create({initialize:function(a){var b=this.graph=a.graph;this.xFormatter=a.xFormatter||function(a){return new Date(1e3*a).toUTCString()},this.yFormatter=a.yFormatter||function(a){return null===a?a:a.toFixed(2)};var c=this.element=document.createElement("div");c.className="detail",this.visible=!0,b.element.appendChild(c),this.lastEvent=null,this._addListeners(),this.onShow=a.onShow,this.onHide=a.onHide,this.onRender=a.onRender,this.formatter=a.formatter||this.formatter},formatter:function(a,b,c,d,e,f){return a.name+":&nbsp;"+e},update:function(b){if(b=b||this.lastEvent,b&&(this.lastEvent=b,b.target.nodeName.match(/^(path|svg|rect|circle)$/))){var c,d=this.graph,e=b.offsetX||b.layerX,f=b.offsetY||b.layerY,g=0,h=[];if(this.graph.series.active().forEach(function(b){var i=this.graph.stackedData[g++];if(i.length){var j=d.x.invert(e),k=a.scale.linear().domain([i[0].x,i.slice(-1)[0].x]).range([0,i.length-1]),l=Math.round(k(j));l==i.length-1&&l--;for(var m=Math.min(l||0,i.length-1),n=l;n<i.length-1&&(i[n]&&i[n+1]);){if(i[n].x<=j&&i[n+1].x>j){m=Math.abs(j-i[n].x)<Math.abs(j-i[n+1].x)?n:n+1;break}i[n+1].x<=j?n++:n--}m<0&&(m=0);var o=i[m],p=Math.sqrt(Math.pow(Math.abs(d.x(o.x)-e),2)+Math.pow(Math.abs(d.y(o.y+o.y0)-f),2)),q=b.xFormatter||this.xFormatter,r=b.yFormatter||this.yFormatter,s={formattedXValue:q(o.x),formattedYValue:r(b.scale?b.scale.invert(o.y):o.y),series:b,value:o,distance:p,order:g,name:b.name};(!c||p<c.distance)&&(c=s),h.push(s)}},this),c){c.active=!0;var i=c.value.x,j=c.formattedXValue;this.element.innerHTML="",this.element.style.left=d.x(i)+"px",this.visible&&this.render({points:h,detail:h,mouseX:e,mouseY:f,formattedXValue:j,domainX:i})}}},hide:function(){this.visible=!1,this.element.classList.add("inactive"),"function"==typeof this.onHide&&this.onHide()},show:function(){this.visible=!0,this.element.classList.remove("inactive"),"function"==typeof this.onShow&&this.onShow()},render:function(a){var b=this.graph,c=a.points,d=c.filter(function(a){return a.active}).shift();if(null!==d.value.y){var e=d.formattedXValue,f=d.formattedYValue;this.element.innerHTML="",this.element.style.left=b.x(d.value.x)+"px";var g=document.createElement("div");g.className="x_label",g.innerHTML=e,this.element.appendChild(g);var h=document.createElement("div");h.className="item";var i=d.series,j=i.scale?i.scale.invert(d.value.y):d.value.y;h.innerHTML=this.formatter(i,d.value.x,j,e,f,d),h.style.top=this.graph.y(d.value.y0+d.value.y)+"px",this.element.appendChild(h);var k=document.createElement("div");k.className="dot",k.style.top=h.style.top,k.style.borderColor=i.color,this.element.appendChild(k),d.active&&(h.classList.add("active"),k.classList.add("active"));var l=[g,h];l.forEach(function(a){a.classList.add("left")}),this.show();var m=this._calcLayoutError(l);if(m>0){l.forEach(function(a){a.classList.remove("left"),a.classList.add("right")});var n=this._calcLayoutError(l);n>m&&l.forEach(function(a){a.classList.remove("right"),a.classList.add("left")})}"function"==typeof this.onRender&&this.onRender(a)}},_calcLayoutError:function(a){var b=this.element.parentNode.getBoundingClientRect(),c=0;a.forEach(function(a){var d=a.getBoundingClientRect();d.width&&(d.right>b.right&&(c+=d.right-b.right),d.left<b.left&&(c+=b.left-d.left))});return c},_addListeners:function(){this.graph.element.addEventListener("mousemove",function(a){this.visible=!0,this.update(a)}.bind(this),!1),this.graph.onUpdate(function(){this.update()}.bind(this)),this.graph.element.addEventListener("mouseout",function(a){!a.relatedTarget||a.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS||this.hide()}.bind(this),!1)}}),b.namespace("Rickshaw.Graph.JSONP"),b.Graph.JSONP=b.Class.create(b.Graph.Ajax,{request:function(){jQuery.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}}),b.namespace("Rickshaw.Graph.Legend"),b.Graph.Legend=b.Class.create({className:"rickshaw_legend",initialize:function(a){this.element=a.element,this.graph=a.graph,this.naturalOrder=a.naturalOrder,this.element.classList.add(this.className),this.list=document.createElement("ul"),this.element.appendChild(this.list),this.render(),this.graph.onUpdate(function(){})},render:function(){for(var a=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.lines=[];var b=this.graph.series.map(function(a){return a});this.naturalOrder||(b=b.reverse()),b.forEach(function(b){a.addLine(b)})},addLine:function(b){var c=document.createElement("li");c.className="line",b.disabled&&(c.className+=" disabled"),b.className&&a.select(c).classed(b.className,!0);var d=document.createElement("div");d.className="swatch",d.style.backgroundColor=b.color,c.appendChild(d);var e=document.createElement("span");e.className="label",e.innerHTML=b.name,c.appendChild(e),this.list.appendChild(c),c.series=b,b.noLegend&&(c.style.display="none");var f={element:c,series:b};return this.shelving&&(this.shelving.addAnchor(f),this.shelving.updateBehaviour()),this.highlighter&&this.highlighter.addHighlightEvents(f),this.lines.push(f),c}}),b.namespace("Rickshaw.Graph.RangeSlider"),b.Graph.RangeSlider=b.Class.create({initialize:function(a){var b=(this.element=a.element,this.graph=a.graph);this.slideCallbacks=[],this.build(),b.onUpdate(function(){this.update()}.bind(this))},build:function(){var a=this.element,b=this.graph,c=jQuery,d=b.dataDomain(),e=this;c(function(){c(a).slider({range:!0,min:d[0],max:d[1],values:[d[0],d[1]],slide:function(a,c){if(!(c.values[1]<=c.values[0])){b.window.xMin=c.values[0],b.window.xMax=c.values[1],b.update();var d=b.dataDomain();d[0]==c.values[0]&&(b.window.xMin=void 0),d[1]==c.values[1]&&(b.window.xMax=void 0),e.slideCallbacks.forEach(function(a){a(b,b.window.xMin,b.window.xMax)})}}})}),c(a)[0].style.width=b.width+"px"},update:function(){var a=this.element,b=this.graph,c=jQuery,d=c(a).slider("option","values"),e=b.dataDomain();c(a).slider("option","min",e[0]),c(a).slider("option","max",e[1]),null==b.window.xMin&&(d[0]=e[0]),null==b.window.xMax&&(d[1]=e[1]),c(a).slider("option","values",d)},onSlide:function(a){this.slideCallbacks.push(a)}}),b.namespace("Rickshaw.Graph.RangeSlider.Preview"),b.Graph.RangeSlider.Preview=b.Class.create({initialize:function(b){if(!b.element)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an element";if(!b.graph&&!b.graphs)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs";this.element=b.element,this.element.style.position="relative",this.graphs=b.graph?[b.graph]:b.graphs,this.defaults={height:75,width:400,gripperColor:void 0,frameTopThickness:3,frameHandleThickness:10,frameColor:"#d4d4d4",frameOpacity:1,minimumFrameWidth:0,heightRatio:.2},this.heightRatio=b.heightRatio||this.defaults.heightRatio,this.defaults.gripperColor=a.rgb(this.defaults.frameColor).darker().toString(),this.configureCallbacks=[],this.slideCallbacks=[],this.previews=[],b.width||(this.widthFromGraph=!0),b.height||(this.heightFromGraph=!0),(this.widthFromGraph||this.heightFromGraph)&&this.graphs[0].onConfigure(function(){this.configure(b),this.render()}.bind(this)),b.width=b.width||this.graphs[0].width||this.defaults.width,b.height=b.height||this.graphs[0].height*this.heightRatio||this.defaults.height,this.configure(b),this.render()},onSlide:function(a){this.slideCallbacks.push(a)},onConfigure:function(a){this.configureCallbacks.push(a)},configure:function(a){this.config=this.config||{},this.configureCallbacks.forEach(function(b){b(a)}),b.keys(this.defaults).forEach(function(b){this.config[b]=b in a?a[b]:b in this.config?this.config[b]:this.defaults[b]},this),("width"in a||"height"in a)&&(this.widthFromGraph&&(this.config.width=this.graphs[0].width),this.heightFromGraph&&(this.config.height=this.graphs[0].height*this.heightRatio,this.previewHeight=this.config.height),this.previews.forEach(function(a){var b=this.previewHeight/this.graphs.length-2*this.config.frameTopThickness,c=this.config.width-2*this.config.frameHandleThickness;if(a.setSize({width:c,height:b}),this.svg){var d=b+2*this.config.frameHandleThickness,e=c+2*this.config.frameHandleThickness;this.svg.style("width",e+"px"),this.svg.style("height",d+"px")}},this))},render:function(){var c=this;this.svg=a.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]),this.previewHeight=this.config.height-2*this.config.frameTopThickness,this.previewWidth=this.config.width-2*this.config.frameHandleThickness,this.currentFrame=[0,this.previewWidth];var d=function(a,d){var e=b.extend({},a.config),f=c.previewHeight/c.graphs.length,g=a.renderer.name;b.extend(e,{element:this.appendChild(document.createElement("div")),height:f,width:c.previewWidth,series:a.series,renderer:g});var h=new b.Graph(e);c.previews.push(h),a.onUpdate(function(){h.render(),c.render()}),a.onConfigure(function(a){delete a.height,a.width=a.width-2*c.config.frameHandleThickness,h.configure(a),h.render()}),h.render()},e=a.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs),f="translate("+this.config.frameHandleThickness+"px, "+this.config.frameTopThickness+"px)";e.enter().append("div").classed("rickshaw_range_slider_preview_container",!0).style("-webkit-transform",f).style("-moz-transform",f).style("-ms-transform",f).style("transform",f).each(d),e.exit().remove();var g=this.graphs[0],h=a.scale.linear().domain([0,this.previewWidth]).range(g.dataDomain()),i=[g.window.xMin,g.window.xMax];this.currentFrame[0]=void 0===i[0]?0:Math.round(h.invert(i[0])),this.currentFrame[0]<0&&(this.currentFrame[0]=0),this.currentFrame[1]=void 0===i[1]?this.previewWidth:h.invert(i[1]),this.currentFrame[1]-this.currentFrame[0]<c.config.minimumFrameWidth&&(this.currentFrame[1]=(this.currentFrame[0]||0)+c.config.minimumFrameWidth),this.svg.enter().append("svg").classed("rickshaw_range_slider_preview",!0).style("height",this.config.height+"px").style("width",this.config.width+"px").style("position","absolute").style("top",0),this._renderDimming(),this._renderFrame(),this._renderGrippers(),this._renderHandles(),this._renderMiddle(),this._registerMouseEvents()},_renderDimming:function(){var a=this.svg.selectAll("path.dimming").data([null]);a.enter().append("path").attr("fill","white").attr("fill-opacity","0.7").attr("fill-rule","evenodd").classed("dimming",!0);var b="";b+=" M "+this.config.frameHandleThickness+" "+this.config.frameTopThickness,b+=" h "+this.previewWidth,b+=" v "+this.previewHeight,b+=" h "+-this.previewWidth,b+=" z ",b+=" M "+Math.max(this.currentFrame[0],this.config.frameHandleThickness)+" "+this.config.frameTopThickness,b+=" H "+Math.min(this.currentFrame[1]+2*this.config.frameHandleThickness,this.previewWidth+this.config.frameHandleThickness),b+=" v "+this.previewHeight,b+=" H "+Math.max(this.currentFrame[0],this.config.frameHandleThickness),b+=" z",a.attr("d",b)},_renderFrame:function(){var a=this.svg.selectAll("path.frame").data([null]);a.enter().append("path").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").attr("fill",this.config.frameColor).attr("fill-opacity",this.config.frameOpacity).attr("fill-rule","evenodd").classed("frame",!0);var b="";b+=" M "+this.currentFrame[0]+" 0",b+=" H "+(this.currentFrame[1]+2*this.config.frameHandleThickness),b+=" V "+this.config.height,b+=" H "+this.currentFrame[0],b+=" z",b+=" M "+(this.currentFrame[0]+this.config.frameHandleThickness)+" "+this.config.frameTopThickness,b+=" H "+(this.currentFrame[1]+this.config.frameHandleThickness),b+=" v "+this.previewHeight,b+=" H "+(this.currentFrame[0]+this.config.frameHandleThickness),b+=" z",a.attr("d",b)},_renderGrippers:function(){var a=this.svg.selectAll("path.gripper").data([null]);a.enter().append("path").attr("stroke",this.config.gripperColor).classed("gripper",!0);var b="";[.4,.6].forEach(function(a){b+=" M "+Math.round(this.currentFrame[0]+this.config.frameHandleThickness*a)+" "+Math.round(.3*this.config.height),b+=" V "+Math.round(.7*this.config.height),b+=" M "+Math.round(this.currentFrame[1]+this.config.frameHandleThickness*(1+a))+" "+Math.round(.3*this.config.height),b+=" V "+Math.round(.7*this.config.height)}.bind(this)),a.attr("d",b)},_renderHandles:function(){var a=this.svg.selectAll("rect.left_handle").data([null]);a.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("left_handle",!0),a.attr("x",this.currentFrame[0]).attr("height",this.config.height);var b=this.svg.selectAll("rect.right_handle").data([null]);b.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("right_handle",!0),b.attr("x",this.currentFrame[1]+this.config.frameHandleThickness).attr("height",this.config.height)},_renderMiddle:function(){var a=this.svg.selectAll("rect.middle_handle").data([null]);a.enter().append("rect").style("cursor","move").style("fill-opacity","0").classed("middle_handle",!0),a.attr("width",Math.max(0,this.currentFrame[1]-this.currentFrame[0])).attr("x",this.currentFrame[0]+this.config.frameHandleThickness).attr("height",this.config.height)},_registerMouseEvents:function(){function b(b,c){i.stop=j._getClientXFromEvent(a.event,i);var d=i.stop-i.start,e=j.frameBeforeDrag.slice(0),f=j.config.minimumFrameWidth;i.rigid&&(f=j.frameBeforeDrag[1]-j.frameBeforeDrag[0]),i.left&&(e[0]=Math.max(e[0]+d,0)),i.right&&(e[1]=Math.min(e[1]+d,j.previewWidth));var g=e[1]-e[0];g<=f&&(i.left&&(e[0]=e[1]-f),i.right&&(e[1]=e[0]+f),e[0]<=0&&(e[1]-=e[0],e[0]=0),e[1]>=j.previewWidth&&(e[0]-=e[1]-j.previewWidth,e[1]=j.previewWidth)),j.graphs.forEach(function(b){var c=a.scale.linear().interpolate(a.interpolateNumber).domain([0,j.previewWidth]).range(b.dataDomain()),d=[c(e[0]),c(e[1])];j.slideCallbacks.forEach(function(a){a(b,d[0],d[1])}),0===e[0]&&(d[0]=void 0),e[1]===j.previewWidth&&(d[1]=void 0),b.window.xMin=d[0],b.window.xMax=d[1],b.update()})}function c(){i.target=a.event.target,i.start=j._getClientXFromEvent(a.event,i),j.frameBeforeDrag=j.currentFrame.slice(),a.event.preventDefault?a.event.preventDefault():a.event.returnValue=!1,a.select(document).on("mousemove.rickshaw_range_slider_preview",b),a.select(document).on("mouseup.rickshaw_range_slider_preview",g),a.select(document).on("touchmove.rickshaw_range_slider_preview",b),a.select(document).on("touchend.rickshaw_range_slider_preview",g),a.select(document).on("touchcancel.rickshaw_range_slider_preview",g)}function d(a,b){i.left=!0,c()}function e(a,b){i.right=!0,c()}function f(a,b){i.left=!0,i.right=!0,i.rigid=!0,c()}function g(b,c){a.select(document).on("mousemove.rickshaw_range_slider_preview",null),a.select(document).on("mouseup.rickshaw_range_slider_preview",null),a.select(document).on("touchmove.rickshaw_range_slider_preview",null),a.select(document).on("touchend.rickshaw_range_slider_preview",null),a.select(document).on("touchcancel.rickshaw_range_slider_preview",null),delete j.frameBeforeDrag,i.left=!1,i.right=!1,i.rigid=!1}var h=a.select(this.element),i={target:null,start:null,stop:null,left:!1,right:!1,rigid:!1},j=this;h.select("rect.left_handle").on("mousedown",d),h.select("rect.right_handle").on("mousedown",e),h.select("rect.middle_handle").on("mousedown",f),h.select("rect.left_handle").on("touchstart",d),h.select("rect.right_handle").on("touchstart",e),h.select("rect.middle_handle").on("touchstart",f)},_getClientXFromEvent:function(a,b){switch(a.type){case"touchstart":case"touchmove":for(var c=a.changedTouches,d=null,e=0;e<c.length;e++)if(c[e].target===b.target){d=c[e];break}return null!==d?d.clientX:void 0;default:return a.clientX}}}),b.namespace("Rickshaw.Graph.Renderer"),b.Graph.Renderer=b.Class.create({initialize:function(a){this.graph=a.graph,this.tension=a.tension||this.tension,this.configure(a)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:.8,strokeWidth:2,unstack:!0,padding:{top:.01,right:0,bottom:.01,left:0},stroke:!1,fill:!1}},domain:function(a){var b=a||this.graph.stackedData||this.graph.stackData(),c=+(1/0),d=-(1/0),e=+(1/0),f=-(1/0);return b.forEach(function(a){a.forEach(function(a){if(null!=a.y){var b=a.y+a.y0;b<e&&(e=b),b>f&&(f=b)}}),a.length&&(a[0].x<c&&(c=a[0].x),a[a.length-1].x>d&&(d=a[a.length-1].x))}),c-=(d-c)*this.padding.left,d+=(d-c)*this.padding.right,e="auto"===this.graph.min?e:this.graph.min||0,f=void 0===this.graph.max?f:this.graph.max,("auto"===this.graph.min||e<0)&&(e-=(f-e)*this.padding.bottom),void 0===this.graph.max&&(f+=(f-e)*this.padding.top),{x:[c,d],y:[e,f]}},render:function(a){a=a||{};var b=this.graph,c=a.series||b.series,d=a.vis||b.vis;d.selectAll("*").remove();var e=c.filter(function(a){return!a.disabled}).map(function(a){return a.stack}),f=d.selectAll("path.path").data(e).enter().append("svg:path").classed("path",!0).attr("d",this.seriesPathFactory());if(this.stroke)var g=d.selectAll("path.stroke").data(e).enter().append("svg:path").classed("stroke",!0).attr("d",this.seriesStrokeFactory());var h=0;c.forEach(function(a){a.disabled||(a.path=f[0][h],this.stroke&&(a.stroke=g[0][h]),this._styleSeries(a),h++)},this)},_styleSeries:function(b){var c=this.fill?b.color:"none",d=this.stroke?b.color:"none";b.path.setAttribute("fill",c),b.path.setAttribute("stroke",d),b.path.setAttribute("stroke-width",this.strokeWidth),b.className&&a.select(b.path).classed(b.className,!0),b.className&&this.stroke&&a.select(b.stroke).classed(b.className,!0)},configure:function(a){a=a||{},b.keys(this.defaults()).forEach(function(c){return a.hasOwnProperty(c)?void("object"==typeof this.defaults()[c]?b.keys(this.defaults()[c]).forEach(function(b){this[c][b]=void 0!==a[c][b]?a[c][b]:void 0!==this[c][b]?this[c][b]:this.defaults()[c][b]},this):this[c]=void 0!==a[c]?a[c]:void 0!==this[c]?this[c]:void 0!==this.graph[c]?this.graph[c]:this.defaults()[c]):void(this[c]=this[c]||this.graph[c]||this.defaults()[c])},this)},setStrokeWidth:function(a){void 0!==a&&(this.strokeWidth=a)},setTension:function(a){void 0!==a&&(this.tension=a)}}),b.namespace("Rickshaw.Graph.Renderer.Line"),b.Graph.Renderer.Line=b.Class.create(b.Graph.Renderer,{name:"line",defaults:function($super){return b.extend($super(),{unstack:!0,fill:!1,stroke:!0})},seriesPathFactory:function(){var b=this.graph,c=a.svg.line().x(function(a){return b.x(a.x)}).y(function(a){return b.y(a.y)}).interpolate(this.graph.interpolation).tension(this.tension);return c.defined&&c.defined(function(a){return null!==a.y}),c}}),b.namespace("Rickshaw.Graph.Renderer.Stack"),b.Graph.Renderer.Stack=b.Class.create(b.Graph.Renderer,{name:"stack",defaults:function($super){return b.extend($super(),{fill:!0,stroke:!1,unstack:!1})},seriesPathFactory:function(){var b=this.graph,c=a.svg.area().x(function(a){return b.x(a.x)}).y0(function(a){return b.y(a.y0)}).y1(function(a){return b.y(a.y+a.y0)}).interpolate(this.graph.interpolation).tension(this.tension);return c.defined&&c.defined(function(a){return null!==a.y}),c}}),b.namespace("Rickshaw.Graph.Renderer.Bar"),b.Graph.Renderer.Bar=b.Class.create(b.Graph.Renderer,{name:"bar",defaults:function($super){var a=b.extend($super(),{gapSize:.05,unstack:!1});return delete a.tension,a},initialize:function($super,a){a=a||{},this.gapSize=a.gapSize||this.gapSize,$super(a)},domain:function($super){var a=$super(),b=this._frequentInterval(this.graph.stackedData.slice(-1).shift());return a.x[1]+=Number(b.magnitude),a},barWidth:function(a){var b=this._frequentInterval(a.stack),c=this.graph.x.magnitude(b.magnitude)*(1-this.gapSize);return c},render:function(a){a=a||{};var b=this.graph,c=a.series||b.series,d=a.vis||b.vis;d.selectAll("*").remove();var e=this.barWidth(c.active()[0]),f=0,g=c.filter(function(a){return!a.disabled}).length,h=this.unstack?e/g:e,i=function(a){var c=[1,0,0,a.y<0?-1:1,0,a.y<0?2*b.y.magnitude(Math.abs(a.y)):0];return"matrix("+c.join(",")+")"};c.forEach(function(a){if(!a.disabled){var c=(this.barWidth(a),d.selectAll("path").data(a.stack.filter(function(a){return null!==a.y})).enter().append("svg:rect").attr("x",function(a){return b.x(a.x)+f}).attr("y",function(a){return b.y(a.y0+Math.abs(a.y))*(a.y<0?-1:1)}).attr("width",h).attr("height",function(a){return b.y.magnitude(Math.abs(a.y))}).attr("transform",i));Array.prototype.forEach.call(c[0],function(b){b.setAttribute("fill",a.color)}),this.unstack&&(f+=h)}},this)},_frequentInterval:function(a){for(var c={},d=0;d<a.length-1;d++){var e=a[d+1].x-a[d].x;c[e]=c[e]||0,c[e]++}var f={count:0,magnitude:1};return b.keys(c).forEach(function(a){f.count<c[a]&&(f={count:c[a],magnitude:a})}),f}}),b.namespace("Rickshaw.Graph.Renderer.Area"),b.Graph.Renderer.Area=b.Class.create(b.Graph.Renderer,{name:"area",defaults:function($super){return b.extend($super(),{unstack:!1,fill:!1,stroke:!1})},seriesPathFactory:function(){var b=this.graph,c=a.svg.area().x(function(a){return b.x(a.x)}).y0(function(a){return b.y(a.y0)}).y1(function(a){return b.y(a.y+a.y0)}).interpolate(b.interpolation).tension(this.tension);return c.defined&&c.defined(function(a){return null!==a.y}),c},seriesStrokeFactory:function(){var b=this.graph,c=a.svg.line().x(function(a){return b.x(a.x)}).y(function(a){return b.y(a.y+a.y0)}).interpolate(b.interpolation).tension(this.tension);return c.defined&&c.defined(function(a){return null!==a.y}),c},render:function(a){a=a||{};var b=this.graph,c=a.series||b.series,d=a.vis||b.vis;d.selectAll("*").remove();var e=this.unstack?"append":"insert",f=c.filter(function(a){return!a.disabled}).map(function(a){return a.stack}),g=d.selectAll("path").data(f).enter()[e]("svg:g","g");g.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area"),this.stroke&&g.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line");var h=0;c.forEach(function(a){a.disabled||(a.path=g[0][h++],this._styleSeries(a))},this)},_styleSeries:function(b){b.path&&(a.select(b.path).select(".area").attr("fill",b.color),this.stroke&&a.select(b.path).select(".line").attr("fill","none").attr("stroke",b.stroke||a.interpolateRgb(b.color,"black")(.125)).attr("stroke-width",this.strokeWidth),b.className&&b.path.setAttribute("class",b.className))}}),b.namespace("Rickshaw.Graph.Renderer.ScatterPlot"),b.Graph.Renderer.ScatterPlot=b.Class.create(b.Graph.Renderer,{name:"scatterplot",defaults:function($super){return b.extend($super(),{unstack:!0,fill:!0,stroke:!1,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:4})},initialize:function($super,a){$super(a)},render:function(a){a=a||{};var b=this.graph,c=a.series||b.series,d=a.vis||b.vis,e=this.dotSize;d.selectAll("*").remove(),c.forEach(function(a){if(!a.disabled){var c=d.selectAll("path").data(a.stack.filter(function(a){return null!==a.y})).enter().append("svg:circle").attr("cx",function(a){return b.x(a.x)}).attr("cy",function(a){return b.y(a.y)}).attr("r",function(a){return"r"in a?a.r:e});a.className&&c.classed(a.className,!0),Array.prototype.forEach.call(c[0],function(b){b.setAttribute("fill",a.color)})}},this)}}),b.namespace("Rickshaw.Graph.Renderer.Multi"),b.Graph.Renderer.Multi=b.Class.create(b.Graph.Renderer,{name:"multi",initialize:function($super,a){$super(a)},defaults:function($super){return b.extend($super(),{unstack:!0,fill:!1,stroke:!0})},configure:function($super,a){a=a||{},this.config=a,$super(a)},domain:function($super){this.graph.stackData();var b=[],c=this._groups();this._stack(c),c.forEach(function(a){var c=a.series.filter(function(a){return!a.disabled}).map(function(a){return a.stack});if(c.length){var d=null;d=a.renderer&&a.renderer.domain?a.renderer.domain(c):$super(c),b.push(d)}});var d=a.min(b.map(function(a){return a.x[0]})),e=a.max(b.map(function(a){return a.x[1]})),f=a.min(b.map(function(a){return a.y[0]})),g=a.max(b.map(function(a){return a.y[1]}));return{x:[d,e],y:[f,g]}},_groups:function(){var c=this.graph,d={};c.series.forEach(function(e){if(!e.disabled){if(!d[e.renderer]){var f="http://www.w3.org/2000/svg",g=document.createElementNS(f,"g");c.vis[0][0].appendChild(g);var h=c._renderers[e.renderer],i={},j=[this.defaults(),h.defaults(),this.config,this.graph];j.forEach(function(a){b.extend(i,a)}),h.configure(i),d[e.renderer]={renderer:h,series:[],vis:a.select(g)}}d[e.renderer].series.push(e)}},this);var e=[];return Object.keys(d).forEach(function(a){var b=d[a];e.push(b)}),e},_stack:function(c){return c.forEach(function(c){var d=c.series.filter(function(a){return!a.disabled}),e=d.map(function(a){return a.stack});if(!c.renderer.unstack){var f=a.layout.stack(),g=b.clone(f(e));d.forEach(function(a,c){a._stack=b.clone(g[c])})}},this),c},render:function(){this.graph.series.forEach(function(a){if(!a.renderer)throw new Error("Each series needs a renderer for graph 'multi' renderer")}),this.graph.vis.selectAll("*").remove();var a=this._groups();a=this._stack(a),a.forEach(function(a){var b=a.series.filter(function(a){return!a.disabled});b.active=function(){return b},a.renderer.render({series:b,vis:a.vis}),b.forEach(function(a){a.stack=a._stack||a.stack||a.data})})}}),b.namespace("Rickshaw.Graph.Renderer.LinePlot"),b.Graph.Renderer.LinePlot=b.Class.create(b.Graph.Renderer,{name:"lineplot",defaults:function($super){return b.extend($super(),{unstack:!0,fill:!1,stroke:!0,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:3,strokeWidth:2})},seriesPathFactory:function(){var b=this.graph,c=a.svg.line().x(function(a){return b.x(a.x)}).y(function(a){return b.y(a.y)}).interpolate(this.graph.interpolation).tension(this.tension);return c.defined&&c.defined(function(a){return null!==a.y}),c},render:function(a){a=a||{};var b=this.graph,c=a.series||b.series,d=a.vis||b.vis,e=this.dotSize;d.selectAll("*").remove();var f=c.filter(function(a){return!a.disabled;
}).map(function(a){return a.stack}),g=d.selectAll("path").data(f).enter().append("svg:path").attr("d",this.seriesPathFactory()),h=0;c.forEach(function(a){a.disabled||(a.path=g[0][h++],this._styleSeries(a))},this),c.forEach(function(a){if(!a.disabled){var c=d.selectAll("x").data(a.stack.filter(function(a){return null!==a.y})).enter().append("svg:circle").attr("cx",function(a){return b.x(a.x)}).attr("cy",function(a){return b.y(a.y)}).attr("r",function(a){return"r"in a?a.r:e});Array.prototype.forEach.call(c[0],function(b){b&&(b.setAttribute("data-color",a.color),b.setAttribute("fill","white"),b.setAttribute("stroke",a.color),b.setAttribute("stroke-width",this.strokeWidth))}.bind(this))}},this)}}),b.namespace("Rickshaw.Graph.Smoother"),b.Graph.Smoother=b.Class.create({initialize:function(a){this.graph=a.graph,this.element=a.element,this.aggregationScale=1,this.build(),this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var a=this,b=jQuery;this.element&&b(function(){b(a.element).slider({min:1,max:100,slide:function(b,c){a.setScale(c.value)}})})},setScale:function(a){if(a<1)throw"scale out of range: "+a;this.aggregationScale=a,this.graph.update()},transformer:function(a){if(1==this.aggregationScale)return a;var b=[];return a.forEach(function(a){for(var c=[];a.length;){var d=0,e=0,f=a.splice(0,this.aggregationScale);f.forEach(function(a){d+=a.x/f.length,e+=a.y/f.length}),c.push({x:d,y:e})}b.push(c)}.bind(this)),b}}),b.namespace("Rickshaw.Graph.Socketio"),b.Graph.Socketio=b.Class.create(b.Graph.Ajax,{request:function(){var a=io.connect(this.dataURL),b=this;a.on("rickshaw",function(a){b.success(a)})}}),b.namespace("Rickshaw.Series"),b.Series=b.Class.create(Array,{initialize:function(a,c,d){d=d||{},this.palette=new b.Color.Palette(c),this.timeBase="undefined"==typeof d.timeBase?Math.floor((new Date).getTime()/1e3):d.timeBase;var e="undefined"==typeof d.timeInterval?1e3:d.timeInterval;this.setTimeInterval(e),a&&"object"==typeof a&&Array.isArray(a)&&a.forEach(function(a){this.addItem(a)},this)},addItem:function(a){if("undefined"==typeof a.name)throw"addItem() needs a name";a.color=a.color||this.palette.color(a.name),a.data=a.data||[],0===a.data.length&&this.length&&this.getIndex()>0?this[0].data.forEach(function(b){a.data.push({x:b.x,y:0})}):0===a.data.length&&a.data.push({x:this.timeBase-(this.timeInterval||0),y:0}),this.push(a),this.legend&&this.legend.addLine(this.itemByName(a.name))},addData:function(a,c){var d=this.getIndex();b.keys(a).forEach(function(a){this.itemByName(a)||this.addItem({name:a})},this),this.forEach(function(b){b.data.push({x:c||(d*this.timeInterval||1)+this.timeBase,y:a[b.name]||0})},this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(a){for(var b=0;b<this.length;b++)if(this[b].name==a)return this[b]},setTimeInterval:function(a){this.timeInterval=a/1e3},setTimeBase:function(a){this.timeBase=a},dump:function(){var a={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};return this.forEach(function(b){var c={color:b.color,name:b.name,data:[]};b.data.forEach(function(a){c.data.push({x:a.x,y:a.y})}),a.items.push(c)}),a},load:function(a){a.timeInterval&&(this.timeInterval=a.timeInterval),a.timeBase&&(this.timeBase=a.timeBase),a.items&&a.items.forEach(function(a){this.push(a),this.legend&&this.legend.addLine(this.itemByName(a.name))},this)}}),b.Series.zeroFill=function(a){b.Series.fill(a,0)},b.Series.fill=function(a,b){for(var c,d=0,e=a.map(function(a){return a.data});d<Math.max.apply(null,e.map(function(a){return a.length}));)c=Math.min.apply(null,e.filter(function(a){return a[d]}).map(function(a){return a[d].x})),e.forEach(function(a){a[d]&&a[d].x==c||a.splice(d,0,{x:c,y:b})}),d++},b.namespace("Rickshaw.Series.FixedDuration"),b.Series.FixedDuration=b.Class.create(b.Series,{initialize:function(a,c,d){if(d=d||{},"undefined"==typeof d.timeInterval)throw new Error("FixedDuration series requires timeInterval");if("undefined"==typeof d.maxDataPoints)throw new Error("FixedDuration series requires maxDataPoints");if(this.palette=new b.Color.Palette(c),this.timeBase="undefined"==typeof d.timeBase?Math.floor((new Date).getTime()/1e3):d.timeBase,this.setTimeInterval(d.timeInterval),this[0]&&this[0].data&&this[0].data.length?(this.currentSize=this[0].data.length,this.currentIndex=this[0].data.length):(this.currentSize=0,this.currentIndex=0),this.maxDataPoints=d.maxDataPoints,a&&"object"==typeof a&&Array.isArray(a)&&(a.forEach(function(a){this.addItem(a)},this),this.currentSize+=1,this.currentIndex+=1),this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval,"undefined"!=typeof this.maxDataPoints&&this.currentSize<this.maxDataPoints)for(var e=this.maxDataPoints-this.currentSize-1;e>1;e--)this.currentSize+=1,this.currentIndex+=1,this.forEach(function(a){a.data.unshift({x:((e-1)*this.timeInterval||1)+this.timeBase,y:0,i:e})},this)},addData:function($super,a,b){if($super(a,b),this.currentSize+=1,this.currentIndex+=1,void 0!==this.maxDataPoints)for(;this.currentSize>this.maxDataPoints;)this.dropData()},dropData:function(){this.forEach(function(a){a.data.splice(0,1)}),this.currentSize-=1},getIndex:function(){return this.currentIndex}}),b}),function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=b():"function"==typeof c.define&&c.define.amd?define(b):c[a]=b()}("li",function(){return{parse:function(a){for(var b={},c=a.split(","),d=/\brel=(?:"([^"]+)"|([^";,]+)(?:[;,]|$))/,e=/([^\s]+)/g,f=/^<(.*)>/,g=0;g<c.length;g++){var h=c[g].trim(),i=f.exec(h),j=d.exec(h);if(i&&j){var k,l=i[1],m=j[1]||j[2],n=m.match(e),o=n.length;for(k=0;k<o;k+=1)b[n[k]]=l}}return b},stringify:function(a,b){var c="";for(var d in a)c+="<"+a[d]+'>; rel="'+d+'", ';return c=c.substring(0,c.length-2)}}},this),function(){"use strict";angular.module("app",["angular-filters","angular-loading-bar","angular-locker","angular-intercom","angular-rickshaw","angular-stripe","angulartics","angulartics.google.tagmanager","cfp.hotkeys","checklist-model","debounce","ngAnimate","restangular","satellizer","ui.bootstrap","ui.gravatar","ui.router","xeditable","dialogs.main","dialogs.default-translations","exceptionless","exceptionless.auth","exceptionless.auto-active","exceptionless.billing","exceptionless.date-filter","exceptionless.event","exceptionless.events","exceptionless.filter","exceptionless.intercom","exceptionless.loading-bar","exceptionless.notification","exceptionless.organization","exceptionless.organization-notifications","exceptionless.project","exceptionless.project-filter","exceptionless.rate-limit","exceptionless.refresh","exceptionless.release-notification","exceptionless.search-filter","exceptionless.signalr","exceptionless.stack","exceptionless.stacks","exceptionless.stat","exceptionless.state","exceptionless.ui-nav","exceptionless.ui-scroll","exceptionless.ui-shift","exceptionless.ui-toggle-class","exceptionless.user","app.account","app.admin","app.auth","app.config","app.event","app.organization","app.payment","app.project","app.session","app.stack","app.status"]).config(["$compileProvider","$httpProvider","$locationProvider","$stateProvider","$uiViewScrollProvider","$urlRouterProvider","$analyticsProvider","dialogsProvider","gravatarServiceProvider","RestangularProvider","BASE_URL","EXCEPTIONLESS_API_KEY","$ExceptionlessClient","stripeProvider","STRIPE_PUBLISHABLE_KEY","USE_HTML5_MODE",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(a,b,c,d){a.setOrganizationId(b,!0),a.setProjectId(c,!0),a.setEventType(d,!0)}if(a.debugInfoEnabled(!1),b.useApplyAsync(!0),l){var r=m.config;r.apiKey=l,r.serverUrl=k,r.defaultTags.push("UI"),r.setVersion("2.5.1009"),r.useReferenceIds(),r.useSessions()}c.html5Mode({enabled:"boolean"==typeof p&&p||"true"===p,requireBase:!1}),e.useAnchorScroll(),g.registerPageTrack(function(a){window.fbq&&fbq("track","PageView")}),g.registerEventTrack(function(a,b){if(window.fbq){b=b||{};var c=["ViewContent","Search","AddToCart","AddToWishlist","InitiateCheckout","AddPaymentInfo","Purchase","Lead","CompleteRegistration"];c.indexOf(a)===-1?fbq("trackCustom",a,b):fbq("track",a,b)}}),h.setSize("md"),i.defaults={default:"mm"},j.setBaseUrl(k+"/api/v2"),j.setFullResponse(!0),o&&n.setPublishableKey(o),d.state("app",{abstract:!0,templateUrl:"app/app.tpl.html",controller:"App",controllerAs:"appVm",data:{requireAuthentication:!0}});var s=[{key:"dashboard",title:"Dashboard",controller:"app.Dashboard"},{key:"frequent",title:"Most Frequent",controller:"app.Frequent"},{key:"new",title:"New",controller:"app.New"},{key:"recent",title:"Most Recent",controller:"app.Recent"},{key:"users",title:"Most Users",controller:"app.Users"}],t=["filterService",function(a){a.setEventType(null,!0)}];s.forEach(function(a){var b={controller:a.controller,controllerAs:"vm",templateUrl:"app/"+a.key+".tpl.html",title:a.title};d.state("app."+a.key,angular.extend({},{url:"/"+a.key,onEnter:["filterService",function(a){q(a,null,null,null)}]},b)),d.state("app.project-"+a.key,angular.extend({},{url:"/project/{projectId:[0-9a-fA-F]{24}}/"+a.key,onEnter:["$stateParams","filterService",function(a,b){q(b,null,a.projectId,null)}]},b)),d.state("app.project-type-"+a.key,angular.extend({},{url:"/project/{projectId:[0-9a-fA-F]{24}}/:type/"+a.key,onEnter:["$state","$stateParams","filterService",function(a,b,c){return"session"===b.type?a.go("app.session-project-dashboard",b):void q(c,null,b.projectId,b.type)}],onExit:t},b)),d.state("app.organization-"+a.key,angular.extend({},{url:"/organization/{organizationId:[0-9a-fA-F]{24}}/"+a.key,onEnter:["$stateParams","filterService",function(a,b){q(b,a.organizationId,null,null)}]},b)),d.state("app.organization-type-"+a.key,angular.extend({},{url:"/organization/{organizationId:[0-9a-fA-F]{24}}/:type/"+a.key,onEnter:["$state","$stateParams","filterService",function(a,b,c){return"session"===b.type?a.go("app.session-organization-dashboard",b):void q(c,b.organizationId,null,b.type)}],onExit:t},b)),d.state("app.type-"+a.key,angular.extend({},{url:"/type/:type/"+a.key,onEnter:["$state","$stateParams","filterService",function(a,b,c){return"session"===b.type?a.go("app.session-dashboard",b):void q(c,null,null,b.type)}],onExit:t},b))});var u=["authService","$location","$state","$timeout",function(a,b,c,d){if(!b.search().code)return d(function(){a.isAuthenticated()?c.transitionTo("app.type-dashboard",{type:"error"}):c.transitionTo("auth.login")})}];d.state("loading",{url:"",template:null,onEnter:u}),d.state("loading-slash",{url:"/",template:null,onEnter:u}),d.state("otherwise",{url:"*path",templateUrl:"app/not-found.tpl.html",onEnter:["$stateParams",function(a){m.createNotFound(a.path).setProperty("$stateParams",a).submit()}]})}]).run(["$http","$rootScope","$state","authService","editableOptions","$location","rateLimitService","Restangular","stateService","USE_SSL","$window",function(a,b,c,d,e,f,g,h,i,j,k){k.top.location.hostname!==k.self.location.hostname&&(k.top.location.href=k.self.location.href),("boolean"==typeof j&&j||"true"===j)&&"https"!==f.protocol()&&(k.location.href=f.absUrl().replace("http","https")),e.theme="bs3",h.setErrorInterceptor(function(b,d,e){function f(a){return"status"===c.current.name||0!==a.status&&503!==a.status?401===a.status?(i.save(["auth."]),c.go("auth.login"),!0):409===a.status:(i.save(["auth.","status"]),c.go("status",{redirect:!0}),!0)}return g.updateFromResponseHeader(b),"status"===c.current.name||0!==b.status&&503!==b.status?!f(b):(a(b.config).then(e,function(a){f(a)||d.reject(a)}),!1)}),b.page={setTitle:function(a){a?this.title=a+" - Exceptionless":this.title="Exceptionless"}},b.$on("$stateChangeStart",function(a,e){e&&e.data&&e.data.requireAuthentication&&(d.isAuthenticated()||(a.preventDefault(),i.save(["auth."]),c.transitionTo("auth.login")),b.page.setTitle(e.title))})}])}(),function(){"use strict";angular.module("exceptionless.admin",["restangular"]).factory("adminService",["Restangular",function(a){function b(b){return a.one("admin").customPOST(null,"change-plan",b)}var c={changePlan:b};return c}])}(),function(){"use strict";angular.module("exceptionless.auth",["restangular","satellizer","ui.router","exceptionless","exceptionless.state"]).factory("authService",["$auth","$ExceptionlessClient","$rootScope","$state","stateService","Restangular",function(a,b,c,d,e,f){function g(b,d){function e(){c.$emit("auth:login",{})}return a.authenticate(b,d||{}).then(e)}function h(a){return f.one("auth","cancel-reset-password").one(a).post()}function i(a){return f.one("auth","change-password").customPOST(a)}function j(a){return f.one("auth","forgot-password").one(a).get()}function k(){return a.getToken()}function l(){return a.isAuthenticated()}function m(a){return f.one("auth","check-email-address").one(a).get()}function n(b){return a.login(b).then(function(){p(b)})}function o(f,g){function h(){if(b.submitSessionEnd(),b.config.setUserIdentity(),c.$emit("auth:logout",{}),f)return e.save(["auth."]),d.go("auth.login",g)}return e.clear(),a.logout().then(h)}function p(a){b.config.setUserIdentity({identity:a.email,data:{InviteToken:a.invite_token}}),b.submitSessionStart(),c.$emit("auth:login",{})}function q(a){return f.one("auth","reset-password").customPOST(a)}function r(b){function c(c){return a.setToken(c),p(b),c}return a.signup(b).then(c)}function s(a,b){return f.one("auth","unlink").one(a).customPOST(b)}var t={authenticate:g,cancelResetPassword:h,changePassword:i,forgotPassword:j,getToken:k,isAuthenticated:l,isEmailAddressAvailable:m,login:n,logout:o,resetPassword:q,signup:r,unlink:s};return t}])}(),function(){"use strict";angular.module("exceptionless.auto-active",[]).directive("autoActive",["$location","$timeout",function(a,b){return{restrict:"A",scope:!1,link:function(c,d,e){function f(){function b(b){var c=b+"(?=\\?|$)";return a.absUrl().match(c)}a.path()&&(angular.forEach(d.find("li"),function(a){var c=a.querySelector("a");c&&c.href&&(b(c.href)?angular.element(a).addClass("active"):angular.element(a).removeClass("active"))}),e&&e.href&&(b(e.href)?d.addClass("active"):d.removeClass("active")))}function g(){var a=b(f,100);c.$on("$destroy",function(){b.cancel(a)})}g();var h=c.$on("$locationChangeSuccess",g);c.$on("$destroy",function(){h()})}}}])}(),function(){"use strict";angular.module("exceptionless.autofocus",[]).directive("autofocus",["$timeout",function(a){return{restrict:"A",scope:!1,link:function(b,c,d){var e=a(function(){c[0].focus()});b.$on("$destroy",function(){a.cancel(e)})}}}])}(),function(){"use strict";angular.module("exceptionless.billing",["angularPayments","angulartics","angular-stripe","ui.bootstrap","dialogs.main","dialogs.default-translations","app.config","exceptionless","exceptionless.admin","exceptionless.autofocus","exceptionless.dialog","exceptionless.notification","exceptionless.organization","exceptionless.promise-button","exceptionless.user","exceptionless.refresh"])}(),function(){"use strict";angular.module("exceptionless.billing").factory("billingService",["$analytics","$ExceptionlessClient","dialogs","dialogService","$q",function(a,b,c,d,e){function f(d){return a.eventTrack("InitiateCheckout"),b.createFeatureUsage(h+".changePlan").setProperty("OrganizationId",d).submit(),c.create("components/billing/change-plan-dialog.tpl.html","ChangePlanDialog as vm",d).result}function g(a,c){function g(){return f(c)}function i(){return b.createFeatureUsage(h+".confirmUpgradePlan.cancel").setMessage(a).setProperty("OrganizationId",c).submit(),e.reject("cancelled")}return b.createFeatureUsage(h+".confirmUpgradePlan").setMessage(a).setProperty("OrganizationId",c).submit(),d.confirm(a,"Upgrade Plan").then(g,i)}var h="exceptionless.billing.billingService",i={changePlan:f,confirmUpgradePlan:g};return i}])}(),function(){"use strict";angular.module("exceptionless.billing").controller("ChangePlanDialog",["$uibModalInstance","adminService","$analytics","Common","$ExceptionlessClient","$intercom","INTERCOM_APPID","notificationService","organizationService","stripe","STRIPE_PUBLISHABLE_KEY","userService","$window","data",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){c.eventTrack("Lead",q()),e.createFeatureUsage(E+".cancel").setProperty("CurrentPlan",H.currentPlan).setProperty("CouponId",H.coupon).setProperty("IsNewCard",B()).setProperty("OrganizationId",H.currentOrganization.id).submit(),a.dismiss("cancel")}function p(){function a(a){return c.eventTrack("AddPaymentInfo"),a}var b=d.parseExpiry(H.card.expiry),e={number:H.card.number,cvc:H.card.cvc,exp_month:b.month,exp_year:b.year,name:H.card.name};return j.card.createToken(e).then(a)}function q(){return{content_name:H.currentPlan.name,content_ids:[H.currentPlan.id],content_type:"product",currency:"USD",value:H.currentPlan.price}}function r(b){function d(a){return t(!1,{stripeToken:a.id,last4:a.card.last4,couponId:H.coupon}).then(f,g)}function f(b){return b.data.success?(c.eventTrack("Purchase",q()),e.createFeatureUsage(E+".save").markAsCritical().setMessage(b.data.message).setProperty("CurrentPlan",H.currentPlan).setProperty("CouponId",H.coupon).setProperty("IsNewCard",B()).setProperty("OrganizationId",H.currentOrganization.id).submit(),a.close(H.currentPlan),void h.success("Thanks! Your billing plan has been successfully changed.")):(c.eventTrack("Lead",q()),H.paymentMessage="An error occurred while changing plans. Message: "+b.data.message,void e.createException(new Error(b.data.message)).markAsCritical().setSource(E+".save.error").setProperty("CurrentPlan",H.currentPlan).setProperty("CouponId",H.coupon).setProperty("IsNewCard",B()).setProperty("OrganizationId",H.currentOrganization.id).submit())}function g(a){a.error&&a.error.message?H.paymentMessage=a.error.message:H.paymentMessage="An error occurred while changing plans.",c.eventTrack("Lead",q()),e.createException(new Error(H.paymentMessage)).markAsCritical().setSource(E+".save.error").setProperty("CurrentPlan",H.currentPlan).setProperty("CouponId",H.coupon).setProperty("IsNewCard",B()).setProperty("OrganizationId",H.currentOrganization.id).submit()}if(b&&H.currentPlan){if(H.paymentMessage=null,H.currentOrganization.plan_id===G&&H.currentPlan.id===G)return void o();if(x()||H.currentPlan.id===G)return t(x()).then(f,g);if(H.currentPlan.price>0&&B())try{return p().then(d,g)}catch(a){return H.paymentMessage="An error occurred while changing plans.",e.createException(a).markAsCritical().setSource(E+".save.error").setProperty("CurrentPlan",H.currentPlan).setProperty("CouponId",H.coupon).setProperty("IsNewCard",B()).setProperty("OrganizationId",H.currentOrganization.id).submit(),null}return t(!1,{couponId:H.coupon}).then(f,g)}}function s(){return H.card.mode=y()?"existing":"new",v()}function t(a,c){return a?b.changePlan({organizationId:H.currentOrganization.id,planId:H.currentPlan.id}):i.changePlan(H.currentOrganization.id,angular.extend({},{planId:H.currentPlan.id},c))}function u(){function a(){function a(a){return H.organizations.push(a.data.plain()),H.organizations}if(n&&!H.organizations.filter(function(a){return a.id===n})[0])return i.getById(n,!1).then(a)}function b(){function a(a){return angular.forEach(a.data.plain(),function(a,b){H.organizations.push(a)}),H.organizations}return i.getAll({},!1).then(a)}function c(){H.currentOrganization=H.organizations.filter(function(a){return a.id===(H.currentOrganization.id||n)})[0],H.currentOrganization||(H.currentOrganization=H.organizations.length>0?H.organizations[0]:{}),H.card.mode=y()?"existing":"new"}function d(a){h.error("An error occurred while loading your organizations. "+F),e.createFeatureUsage(E+".getOrganizations.error").markAsCritical().setMessage(a&&a.data&&a.data.message).submit(),o()}return H.organizations=[],b().then(a).then(c,d)}function v(){function a(a){H.plans=a.data.plain();var b=H.plans.filter(function(a){return a.id===H.currentOrganization.plan_id})[0]||H.plans[0],c=H.plans.indexOf(b);return H.currentPlan=H.plans.length>c+1?H.plans[c+1]:b,H.plans}function b(a){h.error("An error occurred while loading available billing plans. "+F),e.createFeatureUsage(E+".getPlans.error").markAsCritical().setMessage(a&&a.data&&a.data.message).submit(),o()}return i.getPlans(H.currentOrganization.id).then(a,b)}function w(){function a(a){return H.user=a.data.plain(),H.card.name||(H.card.name=H.user.full_name),H.user}function b(a){h.error("An error occurred while loading your user account. "+F),e.createFeatureUsage(E+".getUser.error").markAsCritical().setMessage(a&&a.data&&a.data.message).submit(),o()}return l.getCurrentUser().then(a,b)}function x(){return l.hasAdminRole(H.user)}function y(){return!!H.currentOrganization.card_last4}function z(){return!!k}function A(){return H.currentPlan&&H.currentPlan.id===G&&H.currentOrganization.plan_id!==G}function B(){return H.card&&"new"===H.card.mode}function C(){return H.currentPlan&&0!==H.currentPlan.price}function D(){e.submitFeatureUsage(E+".showIntercom"),g?f.showNewMessage():m.open("http://exceptionless.com/contact/","_blank")}var E="exceptionless.billing.ChangePlanDialog",F="Please contact support for more information.",G="EX_FREE",H=this;H.cancel=o,H.card={},H.changeOrganization=s,H.coupon=null,H.currentOrganization={},H.currentPlan={},H.getPlans=v,H.hasAdminRole=x,H.hasExistingCard=y,H.isBillingEnabled=z,H.isCancellingPlan=A,H.isNewCard=B,H.isPaidPlan=C,H.organizations=[],H.paymentMessage=z()?null:"Billing is currently disabled.",H.plans=[],H.save=r,H.showIntercom=D,H.stripe={},e.submitFeatureUsage(E),u().then(v).then(w)}])}(),function(){"use strict";angular.module("exceptionless.date-filter",["ui.bootstrap","dialogs.main","dialogs.default-translations","exceptionless","exceptionless.autofocus","exceptionless.date-range-parser","exceptionless.date-range-picker","exceptionless.refresh"])}(),function(){"use strict";angular.module("exceptionless.date-filter").controller("CustomDateRangeDialog",["$ExceptionlessClient","$uibModalInstance","data",function(a,b,c){function d(){a.submitFeatureUsage(f+".cancel"),b.dismiss("cancel")}function e(){g.range.start&&g.range.end&&(angular.isObject(g.range.start)||(g.range.start=moment(g.range.start)),angular.isObject(g.range.end)||(g.range.end=moment(g.range.end)),0!==g.range.start.diff(g.range.end,"seconds")&&0!==g.maxDate.diff(g.range.end,"seconds")||(g.range.end=g.range.end.endOf("day")),a.createFeatureUsage(f+".save").setProperty("Range",g.range).submit(),b.close(g.range))}var f="exceptionless.date-filter.CustomDateRangeDialog",g=this;g.cancel=d,g.maxDate=moment(),g.minDate=moment(new Date(2012,1,1)),g.range={start:c.start,end:c.end},g.save=e,a.submitFeatureUsage(f)}])}(),function(){"use strict";angular.module("exceptionless.date-filter").directive("dateFilter",["$interval","dateRangeParserService",function(a,b){return{restrict:"E",replace:!0,scope:!0,templateUrl:"components/date-filter/date-filter-directive.tpl.html",controller:["$interval","$scope","dialogs","filterService",function(a,c,d,e){function f(){var a=e.getTime();if("last hour"===a)return"Last Hour";if("last 24 hours"===a)return"Last 24 Hours";if("last week"===a)return"Last Week";if("last 30 days"===a)return"Last 30 Days";if("all"===a)return"All Time";var c=b.parse(a);return c&&c.start&&c.end?moment(c.start).twix(moment(c.end)).format():(j("last week"),"Last Week")}function g(a){var c=e.getTime();if(c&&"Custom"===a){var d=b.parse(c);return d&&d.start&&d.end}return a===c}function h(){return"all"!==e.getTime()}function i(){function a(a){return j(a.start.format("YYYY-MM-DDTHH:mm:ss")+"-"+a.end.format("YYYY-MM-DDTHH:mm:ss")),a}var c=moment().subtract(7,"days").startOf("day"),f=moment(),g=e.getTime();if("last hour"===g)c=moment().subtract(1,"hours");else if("last 24 hours"===g)c=moment().subtract(24,"hours");else if("last week"===g||"all"===g)c=moment().subtract(7,"days").startOf("day");else if("last 30 days"===g)c=moment().subtract(30,"days").startOf("day");else{var h=b.parse(g);h&&h.start&&h.end&&(c=moment(h.start),f=moment(h.end))}return d.create("components/date-filter/custom-date-range-dialog.tpl.html","CustomDateRangeDialog as vm",{start:c,end:f}).result.then(a)}function j(a){e.setTime(a)}function k(){l.filteredDisplayName=f()}var l=this,m=a(k,6e4);c.$on("$destroy",function(){a.cancel(m)}),l.hasFilter=h,l.isActive=g,l.filteredDisplayName=f(),l.isDropDownOpen=!1,l.setCustomFilter=i,l.setFilter=j,l.updateFilterDisplayName=k}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.date-range-parser",[]).factory("dateRangeParserService",[function(){function a(a){if(!a)return null;for(var c,d=[];c=b.exec(a);)d.push(c[0]);return 2===d.length?{start:d[0],end:d[1]}:null}var b=/(\d{4}-\d{2}-\d{2}(?:T(?:\d{2}:\d{2}:\d{2}|\d{2}:\d{2}|\d{2}))?)/g,c={parse:a};return c}])}(),function(){"use strict";angular.module("exceptionless.date-range-picker",["exceptionless.autofocus"]).directive("dateRangePicker",["$compile","$parse",function(a){return{restrict:"E",scope:{format:"=",maxDate:"=",minDate:"=",range:"=",showDropdowns:"=",timePicker:"=",timePickerSeconds:"=",timePicker12Hour:"="},templateUrl:"components/date-range-picker/date-range-picker-directive.tpl.html",link:function(a,b){var c=a,d={endDate:c.range.end,format:c.format||"YYYY-MM-DD",maxDate:c.maxDate,minDate:c.minDate,showDropdowns:!!c.showDropdowns,startDate:c.range.start,timePicker:!!c.timePicker,timePicker12Hour:!!c.timePicker12Hour,timePickerSeconds:!!c.timePickerSeconds,timePickerIncrement:c.timePickerIncrement||1},e=a.$watch(c.range,function(a){a&&(b.data("daterangepicker").setStartDate(a.start),b.data("daterangepicker").setEndDate(a.end))});a.$on("$destroy",function(){e()}),b.daterangepicker(d,function(b,d){a.$apply(function(){c.range={start:b,end:d}})}),b.data("daterangepicker").setStartDate(c.range.start),b.data("daterangepicker").setEndDate(c.range.end)}}}])}(),function(){"use strict";angular.module("exceptionless.dialog",["ui.bootstrap","dialogs.main","dialogs.default-translations","exceptionless.autofocus"])}(),function(){"use strict";angular.module("exceptionless.dialog").factory("dialogService",["dialogs",function(a){function b(b,c){return a.create("components/dialog/confirm-dialog.tpl.html","confirmDialog as vm",{message:b,confirmButtonText:c}).result}function c(b,c){return a.create("components/dialog/confirm-dialog.tpl.html","confirmDialog as vm",{message:b,confirmButtonText:c,danger:!0}).result}var d={confirm:b,confirmDanger:c};return d}])}(),function(){"use strict";angular.module("exceptionless.dialog").controller("confirmDialog",["$uibModalInstance","$translate","data",function(a,b,c){function d(){a.dismiss("cancel")}function e(){a.close("confirm")}var f=this;f.confirmButtonText=angular.isDefined(c.confirmButtonText)?c.confirmButtonText:b.instant("DIALOGS_YES"),f.danger=angular.isDefined(c.danger)&&c.danger===!0,f.header=angular.isDefined(c.header)?c.header:b.instant("DIALOGS_CONFIRMATION"),f.message=angular.isDefined(c.message)?c.message:b.instant("DIALOGS_CONFIRMATION_MSG"),f.cancel=d,f.confirm=e}])}(),function(){"use strict";angular.module("exceptionless.duration",[]).directive("duration",["$interval",function(a){return{restrict:"AE",scope:{value:"=",period:"="},link:function(b,c){function d(){if("number"==typeof b.value){var a=moment.duration(b.value,b.period||"seconds");c.text(a.humanize())}else c.text("never")}d(),b.$watch("value",function(a){d()});var e=a(d,15e3);b.$on("$destroy",function(){a.cancel(e)})}}}])}(),function(){"use strict";angular.module("exceptionless.error",[]).factory("errorService",[function(){function a(a){for(var b=[],c=a;c;)b.push(c),c=c.inner;return b}function b(a){return a&&a.data?a.data["@target"]:null}function c(a){var c=b(a);return c&&c.ExceptionType?c.ExceptionType:null}function d(a){var c=b(a);return c&&c.Method?c.Method:null}function e(a){var c=b(a);return c&&c.Message?c.Message:null}var f={getExceptions:a,getTargetInfoExceptionType:c,getTargetInfoMethod:d,getTargetInfoMessage:e};return f}])}(),function(){"use strict";angular.module("exceptionless.event",["restangular","exceptionless.filter"]).factory("eventService",["filterService","Restangular",function(a,b){function c(c,d){return d=angular.isFunction(d)?d:function(a){return a},b.all("events").getList(d(a.apply(c)))}function d(c){return b.one("events").all("sessions").getList(a.apply(c))}function e(c,d,e){return e=angular.isFunction(e)?e:function(a){return a},b.one("events",c).get(e(a.apply(d)))}function f(c,d){return b.one("events","by-ref").all(c).getList(a.apply(d))}function g(c,d,e){return e=angular.isFunction(e)?e:function(a){return a},b.one("events","sessions").all(c).getList(e(a.apply(d)))}function h(c,d){return b.one("stacks",c).all("events").getList(a.apply(d))}function i(a){return b.one("events",a).one("mark-critical").post()}function j(a){return b.one("events",a).one("mark-critical").remove()}function k(a){return b.one("events",a).remove()}var l={getAll:c,getAllSessions:d,getById:e,getByReferenceId:f,getBySessionId:g,getByStackId:h,markCritical:i,markNotCritical:j,remove:k};return l}])}(),function(){"use strict";angular.module("exceptionless.events",["checklist-model","ui.bootstrap","dialogs.main","dialogs.default-translations","exceptionless","exceptionless.filter","exceptionless.link","exceptionless.notification","exceptionless.pagination","exceptionless.refresh","exceptionless.relative-time","exceptionless.summary","exceptionless.timeago"])}(),function(){"use strict";angular.module("exceptionless.events").factory("eventsActionsService",["$ExceptionlessClient","dialogService","eventService","notificationService","$q",function(a,b,c,d,e){function f(){return[h]}var g="exceptionless.events.eventsActionsService",h={name:"Delete",run:function(f){return a.createFeatureUsage(g+".delete").setProperty("count",f.length).submit(),b.confirmDanger("Are you sure you want to delete these events?","DELETE EVENTS").then(function(){function b(){d.info("Successfully queued the events for deletion.")}function h(){a.createFeatureUsage(g+".delete.error").setProperty("count",f.length).submit(),d.error("An error occurred while deleting the events.")}var i=e.defer(),j=_.chunk(f,10).reduce(function(a,b){return a.then(c.remove(b.join(",")))},i.promise).then(b,h);return i.resolve(),j})}},i={getActions:f};return i}])}(),function(){"use strict";angular.module("exceptionless.events").directive("events",["linkService",function(a){return{bindToController:!0,restrict:"E",replace:!0,scope:{settings:"="},templateUrl:"components/events/events-directive.tpl.html",controller:["$ExceptionlessClient","$window","$state","$stateParams","eventsActionsService","filterService","linkService","notificationService","paginationService",function(a,b,c,d,e,f,g,h,i){function j(a){return a&&"PersistentEvent"===a.type?!!a.deleted&&(a.id&&s.events?s.events.filter(function(b){return b.id===a.id}).length>0:f.includedInProjectOrOrganizationFilter({organizationId:a.organization_id,projectId:a.project_id})):!a||"Stack"!==a.type||f.includedInProjectOrOrganizationFilter({organizationId:a.organization_id,projectId:a.project_id})}function k(a){function b(a){s.events=a.data.plain(),s.selectedIds=s.selectedIds.filter(function(a){return s.events.filter(function(b){return b.id===a}).length>0});var b=g.getLinksQueryParameters(a.headers("link"));return s.previous=b.previous,s.next=b.next,s.pageSummary=i.getCurrentPageSummary(a.data,s.currentOptions.page,s.currentOptions.limit),0===s.events.length&&s.currentOptions.page&&s.currentOptions.page>1?k():s.events}return s.loading=0===s.events.length,s.currentOptions=a||s.settings.options,s.settings.get(s.currentOptions).then(b).finally(function(){s.loading=!1})}function l(){return s.events&&s.events.length>0}function m(){return s.selectedIds.length>0}function n(d,e){var f=e.ctrlKey||e.metaKey||2===e.which;a.createFeatureUsage(t+".open").setProperty("id",d).setProperty("_blank",f).submit(),f?b.open(c.href("app.event",{id:d},{absolute:!0}),"_blank"):c.go("app.event",{id:d}),e.preventDefault()}function o(){return a.createFeatureUsage(t+".nextPage").setProperty("next",s.next).submit(),
k(s.next)}function p(){return a.createFeatureUsage(t+".previousPage").setProperty("previous",s.previous).submit(),k(s.previous)}function q(a){function b(){s.selectedIds=[]}m()?a.run(s.selectedIds).then(b):h.info(null,"Please select one or more events")}function r(){l()&&(m()?s.selectedIds=[]:s.selectedIds=s.events.map(function(a){return a.id}))}var s=this,t=s.settings.source+".events";s.actions=s.settings.hideActions?[]:e.getActions(),s.canRefresh=j,s.events=[],s.get=k,s.hasEvents=l,s.hasFilter=f.hasFilter,s.hasSelection=m,s.hideSessionStartTime=s.settings.hideSessionStartTime||!1,s.loading=!0,s.open=n,s.nextPage=o,s.previousPage=p,s.timeHeaderText=s.settings.timeHeaderText||"Date",s.relativeTo=function(){return s.settings.relativeTo},s.save=q,s.selectedIds=[],s.showType=s.settings.summary?s.settings.summary.showType:!f.getEventType(),s.updateSelection=r,k()}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.filter",["angular-locker","exceptionless.objectid"])}(),function(){"use strict";angular.module("exceptionless.filter").factory("filterService",["$rootScope","filterStoreService","objectIDService",function(a,b,c){function d(a){return angular.extend({},i(),a)}function e(){var a=[];x&&a.push("organization:"+x),y&&a.push("project:"+y),w&&a.push("type:"+w);var b=z||"";if(!b||"*"!==b.trim()){var c=b.search(/\bfixed:/i)!==-1;c||a.push("fixed:false");var d=b.search(/\bhidden:/i)!==-1;d||a.push("hidden:false"),b&&a.push("("+b+")")}return a.join(" ").trim()}function f(){z&&(v(null,!1),h())}function g(){(x||y)&&(x=y=null,h())}function h(){var b={organization_id:x,project_id:y,type:w};a.$emit("filterChanged",angular.extend(b,i()))}function i(){var a={offset:o()},b=e();return b&&angular.extend(a,{filter:b}),B&&"all"!==B&&angular.extend(a,{time:B}),a}function j(){return z}function k(){return y}function l(){return x}function m(){return w}function n(){return B||A}function o(){return(new Date).getTimezoneOffset()*-1}function p(){return z||B&&"all"!==B}function q(a){return!(!a.organizationId&&!a.projectId)&&(!x&&!y||(x===a.organizationId||y===a.projectId))}function r(a,b){angular.equals(a,w)||(w=a,b||h())}function s(a,b){angular.equals(a,x)||a&&!c.isValid(a)||(x=a,y=null,b||h())}function t(a,b){angular.equals(a,y)||a&&!c.isValid(a)||(y=a,x=null,b||h())}function u(a,c){angular.equals(a,B)||(B=a||A,b.setTimeFilter(B),c||h())}function v(a,b){angular.equals(a,z)||(z=a,b||h())}var w,x,y,z,A="last week",B=b.getTimeFilter()||A;a.$on("OrganizationChanged",function(a,b){b.id===l()&&b.deleted&&s()}),a.$on("ProjectChanged",function(a,b){b.id===k()&&b.deleted&&t()});var C={apply:d,clearFilter:f,clearOrganizationAndProjectFilter:g,getEventType:m,getFilter:j,getProjectId:k,getOrganizationId:l,getTime:n,hasFilter:p,includedInProjectOrOrganizationFilter:q,setEventType:r,setFilter:v,setOrganizationId:s,setProjectId:t,setTime:u};return C}])}(),function(){"use strict";angular.module("exceptionless.filter").factory("filterStoreService",["$window","locker",function(a,b){function c(){return e.get("time")}function d(a){e.put("time",a)}var e=b.driver("local").namespace("filter"),f={getTimeFilter:c,setTimeFilter:d};return f}])}(),function(){"use strict";angular.module("exceptionless.intercom",["angular-intercom","app.config","exceptionless.objectid"]).config(["$intercomProvider","INTERCOM_APPID",function(a,b){b&&(a.appID(b),a.asyncLoading(!0))}])}(),function(){"use strict";angular.module("exceptionless.intercom").directive("intercom",[function(){return{bindToController:!0,restrict:"E",replace:!0,templateUrl:"components/intercom/intercom-directive.tpl.html",controller:["$interval","$scope","authService","filterService","INTERCOM_APPID","$intercom","objectIDService","organizationService","projectService","userService",function(a,b,c,d,e,f,g,h,i,j){function k(){return p().then(n).then(o)}function l(){function a(){if(!u.projects||!d.getProjectId())return null;var a=u.projects.filter(function(a){return a.id===d.getProjectId()})[0];return a?u.organizations.filter(function(b){return b.id===a.organization_id})[0]:null}if(!u.organizations||0===u.organizations.length)return null;var b;return d.getOrganizationId()?b=u.organizations.filter(function(a){return a.id===d.getOrganizationId()})[0]:d.getProjectId()&&(b=a()),b?b:u.organizations[0]}function m(){if(u.user){var a={user_id:u.user.id,user_hash:u.user.hash,name:u.user.full_name,email:u.user.email_address,remote_created_at:g.create(u.user.id).timestamp},b="2.5.1009".split(".");3===b.length&&(a.app_build=parseInt(b[2]));var c=l();if(c){var d=0;angular.forEach(c.usage||[],function(a,b){d+=a.total||0}),a.company={company_id:c.id,name:c.name,remote_created_at:g.create(c.id).timestamp,plan:c.plan_id,monthly_spend:c.billing_price,total_events:d},c.subscribe_date&&(a.company.subscribe_at=moment(c.subscribe_date).unix())}return a}}function n(a){function b(b){return u.organizations=b.data.plain(),a===!0&&t(),u.organizations}return h.getAll().then(b)}function o(a){function b(b){return u.projects=b.data.plain(),a===!0&&t(),u.projects}return i.getAll().then(b)}function p(a){function b(b){return u.user=b.data.plain(),a===!0&&t(),u.user}return j.getCurrentUser().then(b)}function q(){f.hide()}function r(){return f.boot(m())}function s(){return f.shutdown()}function t(a){return a===!0&&q(),f.update(m())}if(c.isAuthenticated()){var u=this,v=a(t,9e4);b.$on("$destroy",function(){a.cancel(v)}),u.getOrganizations=n,u.getProjects=o,u.getUser=p,u.hide=q,u.IntercomAppId=e,u.shutdown=s,u.updateIntercom=t,k().then(r)}}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.link",[]).factory("linkService",[function(){function a(a){return null==a?{}:li.parse(a||{})}function b(b){var d=a(b),e={};for(var f in d){var g=d[f];e[f]=c(g.slice(g.indexOf("?")))}return e}function c(a){var b=Object.create(null);return"string"!=typeof a?b:(a=a.trim().replace(/^(\?|#|&)/,""))?(a.split("&").forEach(function(a){var c=a.replace(/\+/g," ").split("="),d=c.shift(),e=c.length>0?c.join("="):void 0;d=decodeURIComponent(d),e=void 0===e?null:decodeURIComponent(e),void 0===b[d]?b[d]=e:Array.isArray(b[d])?b[d].push(e):b[d]=[b[d],e]}),b):b}var d={getLinks:a,getLinksQueryParameters:b};return d}])}(),function(){"use strict";angular.module("exceptionless.loading-bar",["cfp.loadingBarInterceptor"]).directive("loadingBar",["$rootScope",function(a){return{bindToController:!0,restrict:"A",link:function(b,c,d){var e=!1;a.$on("cfpLoadingBar:completed",function(){e&&(e=!1,c.addClass("loading-bar-disabled"))}),a.$on("$stateChangeStart",function(){c.removeClass("loading-bar-disabled"),e=!0})}}}])}(),function(){"use strict";angular.module("exceptionless.notification",["toaster"]).factory("notificationService",["toaster",function(a){function b(b,c){a.pop("error",b,c,5e3)}function c(b,c){a.pop("note",b,c,3e3)}function d(b,c){a.pop("success",b,c,3e3)}function e(b,c){a.pop("wait",b,c,3e3)}function f(b,c){a.pop("warning",b,c,3e3)}var g={error:b,info:c,success:d,wait:e,warning:f};return g}])}(),function(){"use strict";angular.module("exceptionless.object-dump",[])}(),function(){"use strict";angular.module("exceptionless.object-dump").directive("objectDump",["handlebarsService",function(a){return{restrict:"E",scope:{content:"=content",templateKey:"=templateKey"},link:function(b,c){if("undefined"!=typeof b.content)try{var d=b.content;("string"==typeof d||d instanceof String)&&(d=JSON.parse(b.content));var e=a.getTemplate(b.templateKey);c.html(e(d))}catch(a){c.text(b.content)}}}}])}(),function(){"use strict";angular.module("exceptionless.object-dump").factory("handlebarsService",[function(){function a(a){if(h||(d(),h=!0),a&&i.hasOwnProperty(a)||(a="__default"),j.hasOwnProperty(a))return j[a];var b=i[a],c=Handlebars.compile(b);return j[a]=c,j[a]}function b(a){return null===a||("object"==typeof a||a instanceof Object?!(Object.keys(a).length>0):("[object Array]"===Object.prototype.toString.call(a)||a instanceof Array)&&!(a.length>0))}function c(a){return{value:a,type:typeof a,isString:"string"==typeof a||a instanceof String,isNumber:"number"==typeof a||a instanceof Number,isBoolean:"boolean"==typeof a||a instanceof Boolean,isArray:"[object Array]"===Object.prototype.toString.call(a)||a instanceof Array,isObject:("object"==typeof a||a instanceof Object)&&null!==a,isNull:null===a,isEmptyValue:b(a),isSimpleType:!("[object Array]"===Object.prototype.toString.call(a)||a instanceof Array||"object"==typeof a||a instanceof Object)}}function d(){f(),e()}function e(){Handlebars.registerHelper("reflect",function(a,b){return b.fn(c(a))}),Handlebars.registerHelper("properties",function(a,b){var d,e=b.fn,f="";return b.data&&(d=Handlebars.createFrame(b.data)),a&&Object.keys(a||{}).sort().forEach(function(b){var g=c(a[b]);g.name=b,f+=e(g,{data:d})}),f}),Handlebars.registerHelper("toSpaceWords",function(a){return a&&a.length?(a=a.replace(/_/g," ").replace(/\s+/g," ").trim(),a=a.replace(/([a-z0-9])([A-Z0-9])/g,"$1 $2"),a=a.length>1?a.charAt(0).toUpperCase()+a.slice(1):a,new Handlebars.SafeString(Handlebars.Utils.escapeExpression(a))):""}),Handlebars.registerHelper("ifHasData",function(a,c){return b(a)?c.inverse(this):c.fn(this)})}function f(){Handlebars.registerPartial("objectDump",'{{#ifHasData this}}<table class="table table-striped table-bordered table-fixed table-key-value b-t object-dump">\r\n{{#properties this}}  <tr>\r\n    <th>{{toSpaceWords name}}</th>\r\n    <td>\r\n      {{#with value}}{{> valueDump}}{{/with}}    </td>\r\n  </tr>\r\n{{/properties}}</table>\r\n{{/ifHasData}}'),Handlebars.registerPartial("arrayDump","{{#ifHasData this}}<ul>\r\n{{#each this}}  <li>{{> valueDump}}</li>\r\n{{/each}}</ul>\r\n{{/ifHasData}}"),Handlebars.registerPartial("valueDump","{{#reflect this}}{{#if isArray}}{{#with value}}{{> arrayDump}}{{/with}}{{else}}{{#if isObject}} {{#with value}}{{> objectDump}}{{/with}}{{else}}{{#if isBoolean}}{{#if value}}True\r\n{{else}}False\r\n{{/if}}{{else}}{{#if isNull}}(Null)\r\n{{else}}{{value}}\r\n{{/if}}{{/if}}{{/if}}{{/if}}{{/reflect}}")}function g(a,b){i[a]=b}var h=!1,i={__default:"{{> valueDump}}"},j={},k={getTemplate:a,isEmpty:b,reflect:c,registerDefaults:d,registerHelpers:e,registerPartials:f,registerTemplate:g};return k}])}(),function(){"use strict";angular.module("exceptionless.objectid",[]).factory("objectIDService",[function(){function a(a){return new ObjectId(a)}function b(a){return!(!a||!("number"==typeof a||a instanceof Number||12===a.length||24===a.length))&&(!("string"==typeof a||a instanceof String)||24!==a.length||/^[0-9a-fA-F]{24}$/i.test(a))}var c={create:a,isValid:b};return c}])}(),function(){"use strict";angular.module("exceptionless.organization",["restangular"]).factory("organizationService",["$cacheFactory","$rootScope","Restangular",function(a,b,c){function d(a,b){return c.one("organizations",a).one("users",b).post()}function e(a){return c.all("organizations").post({name:a})}function f(a,b){return c.one("organizations",a).customPOST(null,"change-plan",b)}function g(a,b){return void 0===b||b?q.all("organizations").getList(a||{}):c.all("organizations").getList(a||{})}function h(a,b){return void 0===b||b?q.one("organizations",a).get():c.one("organizations",a).get()}function i(a){return c.one("organizations","invoice").one(a).get()}function j(a,b){return c.one("organizations",a).all("invoices").getList(b||{})}function k(a){return q.one("organizations",a).all("plans").getList()}function l(a){return c.one("organizations","check-name").get({name:encodeURIComponent(a)})}function m(a){return c.one("organizations",a).remove()}function n(a,b){return c.one("organizations",a).one("users",b).remove()}function o(a,b){return c.one("organizations",a).patch(b)}var p=a("http:organization");b.$on("cache:clear",p.removeAll),b.$on("cache:clear-organization",p.removeAll),b.$on("auth:logout",p.removeAll),b.$on("OrganizationChanged",p.removeAll),b.$on("ProjectChanged",p.removeAll),b.$on("StackChanged",function(a,b){b.added&&p.removeAll()});var q=c.withConfig(function(a){a.setDefaultHttpFields({cache:p})}),r={addUser:d,create:e,changePlan:f,getAll:g,getById:h,getInvoice:i,getInvoices:j,getPlans:k,isNameAvailable:l,remove:m,removeUser:n,update:o};return r}])}(),function(){"use strict";angular.module("exceptionless.organization-notifications",["angular-intercom","app.config","exceptionless.billing","exceptionless.filter","exceptionless.notification","exceptionless.organization","exceptionless.project","exceptionless.refresh","exceptionless.search"]).directive("organizationNotifications",[function(){return{restrict:"E",replace:!0,scope:{organizationId:"=",ignoreFree:"=",ignoreConfigureProjects:"=",requiresPremium:"="},templateUrl:"components/organization-notifications/organization-notifications-directive.tpl.html",controller:["$scope","billingService","filterService","INTERCOM_APPID","$intercom","notificationService","organizationService","projectService","searchService","STRIPE_PUBLISHABLE_KEY",function(a,b,c,d,e,f,g,h,i,j){function k(){return p().then(q).then(n).then(o)}function l(){function b(){if(!G.projects||!c.getProjectId())return null;var a=G.projects.filter(function(a){return a.id===c.getProjectId()})[0];return a?a.organization_id:null}return a.organizationId||c.getOrganizationId()||b()}function m(){var b=a.organizationId||c.getOrganizationId();return b?G.projects.filter(function(a){return a.organization_id===b}):c.getProjectId()?G.projects.filter(function(a){return a.id===c.getProjectId()}):G.projects}function n(){function a(a){return G.filterUsesPremiumFeatures=a.data.uses_premium_features===!0,G.filterUsesPremiumFeatures}return G.filterUsesPremiumFeatures=!1,i.validate(c.getFilter()).then(a)}function o(){G.exceededRequestLimitOrganizations=[],G.freeOrganizations=[],G.hourlyOverageOrganizations=[],G.monthlyOverageOrganizations=[],G.projectsRequiringConfiguration=[],G.organizationsWithoutPremiumFeatures=[],G.organizationsWithNoProjects=[],G.suspendedForBillingOrganizations=[],G.suspendedForAbuseOrOverageOrNotActiveOrganizations=[],G.suspendedOrganizations=[];var b=l(),c=m();angular.forEach(G.organizations,function(d){if(!b||d.id===b){if(d.is_suspended===!0)return G.suspendedOrganizations.push(d),void("Billing"===d.suspension_code?G.suspendedForBillingOrganizations.push(d):1===d.billing_status&&"Abuse"!==d.suspension_code&&"Overage"!==d.suspension_code||G.suspendedForAbuseOrOverageOrNotActiveOrganizations.push(d));var e=c.filter(function(a){return a.is_configured===!1}).length===c.length,f=G.filterUsesPremiumFeatures&&!d.has_premium_features,g=a.requiresPremium&&!d.has_premium_features;if(!f&&!g||e||G.organizationsWithoutPremiumFeatures.push(d),d.is_over_monthly_limit===!0)return void G.monthlyOverageOrganizations.push(d);if(d.is_over_hourly_limit===!0)return void G.hourlyOverageOrganizations.push(d);if(d.is_over_request_limit===!0)return void G.exceededRequestLimitOrganizations.push(d);if(0===c.length)return void G.organizationsWithNoProjects.push(d);if(!a.ignoreConfigureProjects&&e){var h=!1;if(angular.forEach(c,function(a){a.organization_id===d.id&&a.is_configured===!1&&(G.projectsRequiringConfiguration.push(a),h=!0)}),h)return}f||g||a.ignoreFree||"EX_FREE"!==d.plan_id||G.freeOrganizations.push(d)}}),G.hasNotifications=!0}function p(){function a(){function a(a){return G.organizations.push(a.data.plain()),G.organizations}var b=l();if(b&&!G.organizations.filter(function(a){return a.id===b})[0])return g.getById(b,!0).then(a)}function b(){function a(a){return G.organizations=a.data.plain(),G.organizations}return g.getAll().then(a)}return b().then(a)}function q(){function a(a){return G.projects=a.data.plain(),G.projects}return h.getAll().then(a)}function r(){return G.exceededRequestLimitOrganizations&&G.exceededRequestLimitOrganizations.length>0}function s(){return G.freeOrganizations&&G.freeOrganizations.length>0}function t(){return G.hourlyOverageOrganizations&&G.hourlyOverageOrganizations.length>0}function u(){return G.monthlyOverageOrganizations&&G.monthlyOverageOrganizations.length>0}function v(){return G.projectsRequiringConfiguration&&G.projectsRequiringConfiguration.length>0}function w(){return G.organizations&&G.organizations.length>0}function x(){return G.organizationsWithoutPremiumFeatures&&G.organizationsWithoutPremiumFeatures.length>0}function y(){return G.organizationsWithNoProjects&&G.organizationsWithNoProjects.length>0}function z(){return G.suspendedForBillingOrganizations&&G.suspendedForBillingOrganizations.length>0}function A(){return G.suspendedForAbuseOrOverageOrNotActiveOrganizations&&G.suspendedForAbuseOrOverageOrNotActiveOrganizations.length>0}function B(){return G.suspendedOrganizations&&G.suspendedOrganizations.length>0}function C(){return d}function D(){return n().then(o)}function E(a){return j?(a=a||l(),!a&&B()&&(a=G.suspendedOrganizations[0].id),!a&&u()&&(a=G.monthlyOverageOrganizations[0].id),!a&&t()&&(a=G.hourlyOverageOrganizations[0].id),!a&&s()&&(a=G.freeOrganizations[0].id),b.changePlan(a)):void f.error("Billing is currently disabled.")}function F(){e.showNewMessage()}var G=this;G.exceededRequestLimitOrganizations=[],G.freeOrganizations=[],G.get=k,G.getOrganizationNotifications=o,G.hasExceededRequestLimitOrganizations=r,G.hasFreeOrganizations=s,G.hasHourlyOverageOrganizations=t,G.hasMonthlyOverageOrganizations=u,G.hasNotifications=!1,G.hasProjectsRequiringConfiguration=v,G.hasOrganizations=w,G.hasOrganizationsWithoutPremiumFeatures=x,G.hasOrganizationsWithNoProjects=y,G.hasSuspendedForBillingOrganizations=z,G.hasSuspendedForAbuseOrOverageOrNotActiveOrganizations=A,G.hasSuspendedOrganizations=B,G.isIntercomEnabled=C,G.onFilterChanged=D,G.organizations=[],G.organizationsWithoutPremiumFeatures=[],G.organizationsWithNoProjects=[],G.hourlyOverageOrganizations=[],G.monthlyOverageOrganizations=[],G.projects=[],G.projectsRequiringConfiguration=[],G.showChangePlanDialog=E,G.showIntercom=F,G.suspendedForBillingOrganizations=[],G.suspendedForAbuseOrOverageOrNotActiveOrganizations=[],G.suspendedOrganizations=[],k()}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.pagination",[]).factory("paginationService",[function(){function a(a,b,c){b=b?parseInt(b):1,c=c?parseInt(c):100;var d=(b-1)*c+1,e=a&&a.length>0?d+a.length-1:d;return d+"-"+e}var b={getCurrentPageSummary:a};return b}])}(),function(){"use strict";angular.module("exceptionless.project",["restangular"]).factory("projectService",["$cacheFactory","$rootScope","Restangular",function(a,b,c){function d(a,b){return c.all("projects").post({organization_id:a,name:b,delete_bot_data_enabled:!0})}function e(a,b){return c.one("projects",a).one("promotedtabs").remove({name:b})}function f(a,b){return void 0===b||b?w.all("projects").getList(angular.extend({},{limit:100},a)):c.all("projects").getList(angular.extend({},{limit:100},a))}function g(a,b){return void 0===b||b?w.one("projects",a).get():c.one("projects",a).get()}function h(a,b,d){return void 0===d||d?w.one("organizations",a).all("projects").getList(b||{}):c.one("organizations",a).all("projects").getList(b||{})}function i(a){return w.one("projects",a).one("config").get()}function j(a,b){return w.one("users",b).one("projects",a).one("notifications").get()}function k(a){return c.one("projects","check-name").get({name:encodeURIComponent(a)})}function l(a,b){return c.one("projects",a).post("promotedtabs",null,{name:b})}function m(a){return c.one("projects",a).remove()}function n(a,b){return c.one("projects",a).one("config").remove({key:b})}function o(a,b){return c.one("projects",a).one("data").remove({key:b})}function p(a,b){return c.one("users",b).one("projects",a).one("notifications").remove()}function q(a){return c.one("projects",a).one("reset-data").get()}function r(a,b){return c.one("projects",a).patch(b)}function s(a,b,d){return c.one("projects",a).post("config",d,{key:b})}function t(a,b,d){return c.one("projects",a).post("data",d,{key:b})}function u(a,b,d){return c.one("users",b).one("projects",a).post("notifications",d)}var v=a("http:project");b.$on("cache:clear",v.removeAll),b.$on("cache:clear-project",v.removeAll),b.$on("auth:logout",v.removeAll),b.$on("OrganizationChanged",v.removeAll),b.$on("ProjectChanged",v.removeAll),b.$on("StackChanged",function(a,b){b.added&&v.removeAll()});var w=c.withConfig(function(a){a.setDefaultHttpFields({cache:v})}),x={create:d,demoteTab:e,getAll:f,getById:g,getByOrganizationId:h,getConfig:i,getNotificationSettings:j,isNameAvailable:k,promoteTab:l,remove:m,removeConfig:n,removeData:o,removeNotificationSettings:p,resetData:q,setConfig:s,setData:t,setNotificationSettings:u,update:r};return x}])}(),function(){"use strict";angular.module("exceptionless.project-filter",["angular.filter","exceptionless.auto-active","exceptionless.organization","exceptionless.project","exceptionless.refresh","exceptionless.show-on-hover-parent"]).directive("projectFilter",[function(){return{restrict:"E",replace:!0,scope:!0,templateUrl:"components/project-filter/project-filter-directive.tpl.html",controller:["$scope","$state","$stateParams","$window","debounce","filterService","notificationService","organizationService","projectService","urlService",function(a,b,c,d,e,f,g,h,i,j){function k(){return n().then(p)}function l(){return t()?j.buildFilterUrl({route:s(),routePrefix:"session"}):j.buildFilterUrl({route:s(),type:c.type})}function m(){var a=f.getOrganizationId();if(a){var b=x.organizations.filter(function(b){return b.id===a})[0];if(b)return b.name}var c=f.getProjectId();if(c){var d=x.projects.filter(function(a){return a.id===c})[0];if(d)return d.name}return"All Projects"}function n(){function a(a){x.organizations=a.data.plain(),f.getOrganizationId()&&!x.organizations.filter(function(a){return a.id===f.getOrganizationId()})&&f.setOrganizationId(),x.filteredDisplayName=m(),x.isLoadingOrganizations=!1}function b(){x.isLoadingOrganizations=!1,g.error("An error occurred while loading your organizations.")}return h.getAll().then(a,b)}function o(a){return t()?j.buildFilterUrl({route:s(),routePrefix:"session",organizationId:a.id}):j.buildFilterUrl({route:s(),organizationId:a.id,type:c.type})}function p(){function a(a){x.projects=a.data.plain(),f.getProjectId()&&!x.projects.filter(function(a){return a.id===f.getProjectId()})&&f.setProjectId(),x.filteredDisplayName=m(),x.isLoadingProjects=!1}function b(){x.isLoadingProjects=!1,g.error("An error occurred while loading your projects.")}return i.getAll().then(a,b)}function q(a){return x.projects.filter(function(b){return b.organization_id===a})}function r(a){return t()?j.buildFilterUrl({route:s(),routePrefix:"session",projectId:a.id}):j.buildFilterUrl({route:s(),projectId:a.id,type:c.type})}function s(){return b.current.name.endsWith("frequent")?"frequent":b.current.name.endsWith("new")?"new":b.current.name.endsWith("recent")?"recent":b.current.name.endsWith("users")?"users":"dashboard"}function t(){return b.current.name.contains("session-")||"app.session.dashboard"===b.current.name}var u=e(function(){x.filterDropDownMaxHeight=angular.element(d).height()-100},150),v=angular.element(d);v.bind("resize",u);var w=a.$watch(function(){return x.getFilterName()},function(a){x.filteredDisplayName=a});a.$on("$destroy",function(){w(),v.unbind("resize",u)});var x=this;x.filteredDisplayName="Loading",x.get=k,x.getAllProjectsUrl=l,x.getFilterName=m,x.getOrganizationUrl=o,x.getProjectUrl=r,x.getProjectsByOrganizationId=q,x.isLoadingOrganizations=!0,x.isLoadingProjects=!0,x.organizations=[],x.projects=[],u(),k()}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.projects",["exceptionless","exceptionless.dialog","exceptionless.filter","exceptionless.link","exceptionless.notification","exceptionless.pagination","exceptionless.project","exceptionless.refresh"]).directive("projects",function(){return{bindToController:!0,restrict:"E",replace:!0,scope:{settings:"="},templateUrl:"components/projects/projects-directive.tpl.html",controller:["$ExceptionlessClient","$window","$state","dialogService","filterService","linkService","notificationService","paginationService","projectService",function(a,b,c,d,e,f,g,h,i){function j(a,b){function c(a){r.projects=a.data.plain();var c=f.getLinksQueryParameters(a.headers("link"));return r.previous=c.previous,r.next=c.next,r.pageSummary=h.getCurrentPageSummary(a.data,r.currentOptions.page,r.currentOptions.limit),0===r.projects.length&&r.currentOptions.page&&r.currentOptions.page>1?j(null,b):r.projects}return r.loading=0===r.projects.length,r.currentOptions=a||r.settings.options,r.settings.get(r.currentOptions,b).then(c).finally(function(){r.loading=!1})}function k(){return r.projects&&r.projects.length>0}function l(a){if(!a||!a.type)return!0;var b=r.settings.organization;return"Organization"===a.type?!k()&&a.id===b||r.projects.filter(function(b){return a.id===b.organization_id}).length>0:"Project"===a.type?!k()&&a.organization_id===b||r.projects.filter(function(b){return a.id?a.id===b.id:a.organization_id=b.organization_id}).length>0:"PersistentEvent"===a.type&&!a.updated&&(!k()&&a.organization_id===b||r.projects.filter(function(b){return a.project_id?a.project_id===b.id:a.organization_id=b.organization_id}).length>0)}function m(d,e){var f=e.ctrlKey||e.metaKey||2===e.which;a.createFeatureUsage(q+".open").setProperty("id",d).setProperty("_blank",f).submit(),f?b.open(c.href("app.project.manage",{id:d},{absolute:!0}),"_blank"):c.go("app.project.manage",{id:d}),e.preventDefault()}function n(){return a.createFeatureUsage(q+".nextPage").setProperty("next",r.next).submit(),j(r.next)}function o(){return a.createFeatureUsage(q+".previousPage").setProperty("previous",r.previous).submit(),j(r.previous)}function p(b){return a.createFeatureUsage(q+".remove").setProperty("project",b).submit(),d.confirmDanger("Are you sure you want to delete this project?","DELETE PROJECT").then(function(){function c(){r.projects.splice(r.projects.indexOf(b),1),g.info("Successfully queued the project for deletion."),a.createFeatureUsage(q+".remove.success").setProperty("project",b).submit()}function d(){a.createFeatureUsage(q+".remove.error").setProperty("project",b).submit(),g.error("An error occurred while trying to remove the project.")}return i.remove(b.id).then(c,d)})}var q="exceptionless.projects",r=this;r.canRefresh=l,r.currentOptions={},r.get=j,r.hasFilter=e.hasFilter,r.hasProjects=k,r.includeOrganizationName=!r.settings.organization,r.loading=!0,r.nextPage=n,r.open=m,r.previousPage=o,r.projects=[],r.remove=p,a.submitFeatureUsage(q),j()}],controllerAs:"vm"}})}(),function(){"use strict";angular.module("exceptionless.promise-button",[]).directive("promiseButton",["$compile",function(a){return{restrict:"A",scope:{promiseButton:"&",promiseButtonBusyText:"@",promiseButtonBusySpinnerClass:"@"},templateUrl:"components/promise-button/promise-button-directive.tpl.html",transclude:!0,link:function(b,c,d){function e(){b.running=!1}c.attr("ng-click","start()"),c.removeAttr("promise-button"),c.find("[ng-transclude]").removeAttr("ng-transclude"),b.running=!1,b.start=function(){if(!b.running){var a=b.promiseButton();a&&a.finally&&(b.running=!0,a.finally(e))}},a(c)(b)}}}])}(),function(){"use strict";angular.module("exceptionless.rate-limit",["restangular"]).run(["rateLimitService","Restangular",function(a,b){b.addResponseInterceptor(function(b,c,d,e,f,g){return a.updateFromResponseHeader(f),b})}])}(),function(){"use strict";angular.module("exceptionless.rate-limit").directive("rateLimit",[function(){return{restrict:"E",replace:!0,scope:{organizationId:"=",ignoreFree:"=",ignoreConfigureProjects:"="},templateUrl:"components/rate-limit/rate-limit-directive.tpl.html",controller:["rateLimitService",function(a){function b(){return a.rateLimitExceeded()}var c=this;c.rateLimitExceeded=b}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.rate-limit").factory("rateLimitService",[function(a){function b(){return e}function c(a){var b=parseInt(a.headers("X-RateLimit-Limit"));d=isNaN(b)?-1:b;var c=parseInt(a.headers("X-RateLimit-Remaining"));f=isNaN(c)?-1:c,e=d>0&&f<=0}var d=-1,e=!1,f=-1,g={rateLimitExceeded:b,updateFromResponseHeader:c};return g}])}(),function(){"use strict";angular.module("exceptionless.refresh",["debounce"]).directive("refreshOn",["$parse","$rootScope","debounce",function(a,b,c){return{restrict:"AE",link:function(d,e,f){function g(c,e,g){var h=b.$on(c,function(a,b){g&&!d.$eval(g,{data:b})||e(d,{data:b})});d.$on("$destroy",function(){if(h(),f.refreshStopping){var b=a(f.refreshStopping);b(d)}})}if(f.refreshAction){var h=a(f.refreshAction);f.refreshDebounce?h=c(h,f.refreshDebounce||1e3,!0):f.refreshThrottle&&(h=_.throttle(h,f.refreshThrottle||1e3)),f.refreshOn&&angular.forEach(f.refreshOn.split(" "),function(a){g(a,h,f.refreshIf)}),f.refreshAlways&&angular.forEach(f.refreshAlways.split(" "),function(a){g(a,h)})}}}}])}(),function(){"use strict";angular.module("exceptionless.relative-time",[]).directive("relativeTime",["$interval",function(a){return{restrict:"AE",scope:{to:"=",date:"="},link:function(b,c){function d(){var a=moment(b.to),d=moment(b.date),e=!!b.to&&a.isValid()&&a.year()>1&&!!b.date&&d.isValid()&&d.year()>1;c.text(e?d.to(a,!0):"never")}d(),b.$watch("to",function(a){d()}),b.$watch("date",function(a){d()});var e=a(d,6e4);b.$on("$destroy",function(){a.cancel(e)})}}}])}(),function(){"use strict";angular.module("exceptionless.release-notification",["exceptionless.refresh"]).directive("releaseNotification",[function(){return{restrict:"E",templateUrl:"components/release-notification/release-notification-directive.tpl.html",controller:["$window",function(a){function b(b){b&&b.critical&&a.location.reload()}var c=this;c.processNotification=b}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("angular-rickshaw",["debounce"]).directive("rickshaw",["$compile","$window","debounce",function(a,b,c){return{restrict:"E",scope:{options:"=options",features:"=features"},link:function(d,e){function f(a){var b=angular.copy(d.options);return b.element=a,b}var g,h=c(function(){if(d.options&&d.options.series&&d.options.series[0]&&d.options.series[0].data){var b=angular.element(e);b.empty();var c=a('<div class="chart-holder-small"></div>')(d);b.append(c);var h=f(c[0]);if(g=new Rickshaw.Graph(h),d.features&&d.features.hover){var i={graph:g,xFormatter:d.features.hover.xFormatter,yFormatter:d.features.hover.yFormatter,formatter:d.features.hover.formatter,onRender:d.features.hover.onRender},j=d.features.hover.render?Rickshaw.Class.create(Rickshaw.Graph.HoverDetail,{render:d.features.hover.render}):Rickshaw.Graph.HoverDetail;new j(i)}if(d.features&&d.features.palette)for(var k=new Rickshaw.Color.Palette({scheme:d.features.palette}),l=0;l<h.series.length;l++)h.series[l].color=k.color();if(d.features&&d.features.range){new Rickshaw.Graph.RangeSelector({graph:g,selectionCallback:d.features.range.onSelection})}if(g.render(),d.features&&d.features.xAxis){var m={graph:g};d.features.xAxis.element&&(m.element=d.features.xAxis.element),d.features.xAxis.orientation&&(m.orientation=d.features.xAxis.orientation),d.features.xAxis.pixelsPerTick&&(m.pixelsPerTick=d.features.xAxis.pixelsPerTick);var n=d.features.xAxis.timeFixture;if(n&&(d.features.xAxis.overrideTimeFixtureCustomFormatters&&(n.units[2].formatter=function(a){return moment(a).format("MMM")},n.units[3].formatter=function(a){return moment(a).format("MMM D")},n.units[4].formatter=function(a){return moment(a).format("MMM D")},n.units[5].formatter=function(a){return moment(a).format("ha")},n.units[6].formatter=function(a){return moment(a).format("h:mma")},n.units[7].formatter=function(a){return moment(a).format("h:mma")},n.units[8].formatter=function(a){return moment(a).format("h:mma")},n.units[8].formatter=function(a){return moment(a).format("h:mma")},n.units[8].formatter=function(a){return moment(a).format("h:mma")},n.units[8].formatter=function(a){return moment(a).format("h:mma")}),m.timeFixture=n),d.features.xAxis.timeUnit){var o=new Rickshaw.Fixtures.Time;m.timeUnit=o.unit(d.features.xAxis.timeUnit)}d.features.xAxis.ticks&&(m.ticks=d.features.xAxis.ticks),
d.features.xAxis.tickValues&&(m.tickValues=d.features.xAxis.tickValues),d.features.xAxis.tickSize&&(m.tickSize=d.features.xAxis.tickSize),d.features.xAxis.ticksTreatment&&(m.ticksTreatment=d.features.xAxis.ticksTreatment);var p=m.orientation||m.pixelsPerTick||m.ticks||m.tickValues||m.tickSize||m.element,q=p?new Rickshaw.Graph.Axis.X(m):new Rickshaw.Graph.Axis.Time(m);q.render()}if(d.features&&d.features.yAxis){var r={graph:g};d.features.yAxis.element&&(r.element=d.features.yAxis.element),d.features.yAxis.orientation&&(r.orientation=d.features.yAxis.orientation),d.features.yAxis.pixelsPerTick&&(r.pixelsPerTick=d.features.yAxis.pixelsPerTick),d.features.yAxis.ticks&&(r.ticks=d.features.yAxis.ticks),d.features.yAxis.tickValues&&(r.tickValues=d.features.yAxis.tickValues),d.features.yAxis.tickSize&&(r.tickSize=d.features.yAxis.tickSize),d.features.yAxis.ticksTreatment&&(r.ticksTreatment=d.features.yAxis.ticksTreatment),d.features.yAxis.tickFormat&&(r.tickFormat=Rickshaw.Fixtures.Number[d.features.yAxis.tickFormat]),d.features.yAxis.ticksTreatment&&(r.ticksTreatment=d.features.yAxis.ticksTreatment);var s=new Rickshaw.Graph.Axis.Y(r);s.render()}if(d.features&&d.features.legend){var t=a("<div></div>")(d);b.append(t);var u=new Rickshaw.Graph.Legend({graph:g,element:t[0]});if(d.features.legend.toggle){new Rickshaw.Graph.Behavior.Series.Toggle({graph:g,legend:u})}if(d.features.legend.highlight){new Rickshaw.Graph.Behavior.Series.Highlight({graph:g,legend:u})}}}},150),i=d.$watch(function(){return d.options.series?d.options.series.length:0},function(a,b){angular.equals(a,b)||h()}),j=d.$watch(function(){return d.options.series&&d.options.series[0]&&d.options.series[0].data?d.options.series[0].data:d.options.series},function(a,b){angular.equals(a,b)||h()}),k=angular.element(b);k.bind("resize",h),d.$on("$destroy",function(a){i(),j(),k.unbind("resize",h)})},template:'<div class="rickshaw-container"></div>'}}])}(),function(){"use strict";Rickshaw.namespace("Rickshaw.Graph.RangeSelector"),Rickshaw.Graph.RangeSelector=Rickshaw.Class.create({initialize:function(a){var b=(this.element=a.element,this.graph=a.graph);b._selectionCallback=a.selectionCallback;var c=(this.position={},this.selectionBox=$('<div class="rickshaw_range_selector"></div>')),d=$('<div class="rickshaw_range_selector_loader"></div>');c.insertBefore(b.element.firstChild),d.insertBefore(b.element.firstChild),this._addListeners(),b.onUpdate(function(){this.update()}.bind(this))},_addListeners:function(){var a=this.graph,b=this.position,c=this.selectionBox,d=!1,e=function(e){a.element.addEventListener("mousemove",function(a){if(d!==!0)return!1;a.stopPropagation();var f;b.x=a.layerX,f=Math.max(b.x,e)-Math.min(b.x,e),b.minX=Math.min(b.x,e),b.maxX=b.minX+f,c.css({transition:"none",opacity:"1",width:f,height:"100%",left:b.minX,top:"0"})},!1)};a.element.addEventListener("mousedown",function(a){a.stopPropagation();var b=this.startPointX=a.layerX;c.css({left:a.layerX,height:"100%",width:0}),d=!0,e(b)},!0),document.body.addEventListener("keyup",function(a){d&&d!==!1&&(a.stopPropagation(),27===a.keyCode&&(d=!1,c.css({transition:"opacity 0.2s ease-out",opacity:"0",width:0,height:0})))},!0),document.body.addEventListener("mouseup",function(e){d&&d!==!1&&(d=!1,b.coordMinX=Math.round(a.x.invert(b.minX)),b.coordMaxX=Math.round(a.x.invert(b.maxX)),c.css({transition:"opacity 0.2s ease-out",width:0,height:0,opacity:"0"}),!a._selectionCallback||isNaN(b.coordMinX)||isNaN(b.coordMaxX)||this.startPointX===e.layerX||b.coordMinX===b.coordMaxX||0!==e.button||a._selectionCallback(b),this.startPointX=0)},!1)},update:function(){var a=this.graph,b=this.position;null===a.window.xMin&&(b.coordMinX=a.dataDomain()[0]),null===a.window.xMax&&(b.coordMaxX=a.dataDomain()[1])}}),Rickshaw.namespace("Rickshaw.Graph.Renderer.DottedLine"),Rickshaw.Graph.Renderer.DottedLine=Rickshaw.Class.create(Rickshaw.Graph.Renderer.Line,{name:"dotted_line",_styleSeries:function(a){var b=Rickshaw.Graph.Renderer.Line.prototype._styleSeries.call(this,a);return d3.select(a.path).style("stroke-dasharray","3, 2"),b}})}(),function(){"use strict";angular.module("exceptionless.search",["restangular"]).factory("searchService",["$cacheFactory","$timeout","$q","Restangular",function(a,b,c,d){function e(a){if(!a||a.trim&&"*"===a.trim()){var d=c.defer();return b(function(){d.resolve({data:{is_valid:!0,uses_premium_features:!1}})},0),d.promise}return g.one("search","validate").get({query:a})}var f=a("http:search"),g=d.withConfig(function(a){a.setDefaultHttpFields({cache:f})}),h={validate:e};return h}])}();!function(){"use strict";angular.module("exceptionless.search-filter",["ngMessages","exceptionless","exceptionless.autofocus","exceptionless.refresh","exceptionless.validators"])}();!function(){"use strict";angular.module("exceptionless.search-filter").directive("searchFilter",function(){return{restrict:"E",replace:!0,scope:!0,templateUrl:"components/search-filter/search-filter-directive.tpl.html",controller:["filterService",function(a){function b(b){a.setFilter(b)}function c(){d.filter=a.getFilter()}var d=this;d.searchFilterForm={},d.setSearchFilter=b,d.updateFilter=c,c()}],controllerAs:"vm"}})}(),function(){"use strict";angular.module("exceptionless.show-on-hover-parent",[]).directive("showOnHoverParent",[function(){return{restrict:"A",link:function(a,b){b.parent().bind("mouseenter",function(){b.show()}),b.parent().bind("mouseleave",function(){b.hide()}),b.hide()}}}])}(),function(){"use strict";angular.module("exceptionless.signalr",["app.config","exceptionless","exceptionless.auth"]).factory("signalRService",["$ExceptionlessClient","$rootScope","$interval","$timeout","authService","BASE_URL",function(a,b,c,d,e,f){function g(){h(1)}function h(a){(j||k||l)&&i(),j=$.connection(f+"/api/v2/push",{access_token:e.getToken()}),j.received(function(a){a&&"string"!=typeof a&&(a.message&&a.message.change_type&&(a.message.added=0===a.message.change_type,a.message.updated=1===a.message.change_type,a.message.deleted=2===a.message.change_type),b.$emit(a.type,a.message),"UserMembershipChanged"===a.type&&a.message&&a.message.organization_id&&(b.$emit("OrganizationChanged",a.message),b.$emit("ProjectChanged",a.message)))}),j.stateChanged(function(a){a.newState===$.signalR.connectionState.disconnected&&e.isAuthenticated()&&(l=c(function(){return j?void j.start().then(function(){c.cancel(l)}):c.cancel(l)},5e3))}),k=d(function(){j.start()},a||1e3)}function i(){k&&(d.cancel(k),k=null),l&&(c.cancel(l),l=null),j&&(j.stop(),j=null)}var j,k,l,m={start:g,startDelayed:h,stop:i};return m}])}(),function(){"use strict";angular.module("exceptionless.simple-error",[]).factory("simpleErrorService",[function(){function a(a){for(var b=[],c=a;c;)b.push(c),c=c.inner;return b}var b={getExceptions:a};return b}])}(),function(){"use strict";angular.module("exceptionless.simple-stack-trace",["ngSanitize","exceptionless","exceptionless.simple-error"]).directive("simpleStackTrace",["$ExceptionlessClient","$sanitize","$sce","simpleErrorService",function(a,b,c,d){function e(a){for(var b="",c=0;c<a.length;c++){var d=a[c].stack_trace;d&&(b+='<div class="stack-frame">'+h(d.replace(" ","")),c<a.length-1&&(b+="<div>--- End of inner exception stack trace ---</div>"),b+="</div>")}return b}function f(a){return g(a)+e(a.reverse())}function g(a){for(var b="",c=0;c<a.length;c++){b+='<span class="ex-header">',c>0&&(b+=" ---> ");var d=!!a[c].type;d&&(b+='<span class="ex-type">'+h(a[c].type)+"</span>: "),a[c].message&&(b+='<span class="ex-message">'+h(a[c].message)+"</span>"),d&&(b+="</span>")}return b}function h(a){return a&&a.replace?c.trustAsHtml(a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")):a}return{bindToController:!0,restrict:"E",replace:!0,scope:{exception:"="},template:'<pre class="stack-trace"><code ng-bind-html="vm.stackTrace"></code></pre>',controller:[function(){var a=this;a.stackTrace=c.trustAsHtml(f(d.getExceptions(a.exception)))}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.stack",["restangular","exceptionless.filter"]).factory("stackService",["filterService","Restangular",function(a,b){function c(a,c){return b.one("stacks",a).one("add-link").customPOST(c)}function d(a){return b.one("stacks",a).one("notifications").remove()}function e(a){return b.one("stacks",a).one("notifications").post()}function f(c){return b.all("stacks").getList(a.apply(c))}function g(a){return b.one("stacks",a).get()}function h(c){return b.one("stacks").all("frequent").getList(a.apply(c))}function i(c){return b.one("stacks").all("users").getList(a.apply(c))}function j(c){return b.one("stacks").all("new").getList(a.apply(c))}function k(a){return b.one("stacks",a).one("mark-critical").post()}function l(a){return b.one("stacks",a).one("mark-critical").remove()}function m(a,c){return b.one("stacks",a).post("mark-fixed",null,{version:c})}function n(a){return b.one("stacks",a).one("mark-fixed").remove()}function o(a){return b.one("stacks",a).one("mark-hidden").post()}function p(a){return b.one("stacks",a).one("mark-hidden").remove()}function q(a){return b.one("stacks",a).one("promote").post()}function r(a){return b.one("stacks",a).remove()}function s(a,c){return b.one("stacks",a).one("remove-link").customPOST(c)}var t={addLink:c,disableNotifications:d,enableNotifications:e,getAll:f,getById:g,getFrequent:h,getUsers:i,getNew:j,markCritical:k,markNotCritical:l,markFixed:m,markNotFixed:n,markHidden:o,markNotHidden:p,promote:q,remove:r,removeLink:s};return t}])}(),function(){"use strict";angular.module("exceptionless.stack-dialog",["ui.bootstrap","dialogs.main","dialogs.default-translations","exceptionless.autofocus","exceptionless.validators"])}(),function(){"use strict";angular.module("exceptionless.stack-dialog").factory("stackDialogService",["dialogs",function(a){function b(){return a.create("components/stack-dialog/mark-fixed-dialog.tpl.html","MarkFixedDialog as vm").result}var c={markFixed:b};return c}])}(),function(){"use strict";angular.module("exceptionless.stack-dialog").controller("MarkFixedDialog",["$ExceptionlessClient","$uibModalInstance",function(a,b){function c(){b.dismiss("cancel")}function d(c){c!==!1&&(a.createFeatureUsage(e+".save").setProperty("version",f.data.version).submit(),b.close(f.data.version))}var e="app.stack-dialog.MarkFixedDialog",f=this;f.cancel=c,f.data={},f.save=d,a.submitFeatureUsage(e)}])}(),function(){"use strict";angular.module("exceptionless.stack-trace",["ngSanitize","exceptionless","exceptionless.error"]).directive("stackTrace",["$ExceptionlessClient","$sanitize","$sce","errorService",function(a,b,c,d){function e(a){var b="",c=[];return a.type_namespace&&c.push(a.type_namespace),a.type&&c.push(a.type),b+=c.join(".").replace("+","."),a.generic_arguments&&a.generic_arguments.length>0&&(b+="["+a.generic_arguments.join(",")+"]"),a.name&&(b+=" "+a.name),b}function f(a){for(var b="(",c=0;c<(a||[]).length;c++)c>0&&(b+=", "),b+=e(a[c]);return b+")"}function g(a){if(!a)return"<null>\r\n";var b=[];a.declaring_namespace&&b.push(a.declaring_namespace),a.declaring_type&&b.push(a.declaring_type),b.push(a.name||"<anonymous>");var c="at "+b.join(".").replace("+",".");return a.generic_arguments&&a.generic_arguments.length>0&&(c+="["+a.generic_arguments.join(",")+"]"),c+=f(a.parameters),a.data&&(a.data.ILOffset>0||a.data.NativeOffset>0)&&(c+=" at offset "+a.data.ILOffset||a.data.NativeOffset),a.file_name&&(c+=" in "+a.file_name,a.line_number>0&&(c+=":line "+a.line_number),a.column>0&&(c+=":col "+a.column)),k(c+"\r\n")}function h(a){for(var b="",c=0;c<a.length;c++){var d=a[c].stack_trace;if(d){b+='<div class="stack-frame">';for(var e=0;e<d.length;e++)b+=k(g(d[e]));c<a.length-1&&(b+="<div>--- End of inner exception stack trace ---</div>"),b+="</div>"}}return b}function i(a){return a?j(a)+h(a.reverse()):null}function j(a){for(var b="",c=0;c<a.length;c++){b+='<span class="ex-header">',c>0&&(b+=" ---> ");var d=!!a[c].type;d&&(b+='<span class="ex-type">'+k(a[c].type)+"</span>: "),a[c].message&&(b+='<span class="ex-message">'+k(a[c].message)+"</span>"),d&&(b+="</span>")}return b}function k(a){return a&&a.replace?c.trustAsHtml(a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")):a}return{bindToController:!0,restrict:"E",replace:!0,scope:{exception:"="},template:'<pre class="stack-trace"><code ng-bind-html="vm.stackTrace"></code></pre>',controller:[function(){var a=this;a.stackTrace=c.trustAsHtml(i(d.getExceptions(a.exception)))}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.stacks",["angular-filters","checklist-model","ui.bootstrap","dialogs.main","dialogs.default-translations","exceptionless","exceptionless.filter","exceptionless.link","exceptionless.notification","exceptionless.pagination","exceptionless.refresh","exceptionless.summary","exceptionless.stack-dialog","exceptionless.timeago"])}(),function(){"use strict";angular.module("exceptionless.stacks").factory("stacksActionsService",["$ExceptionlessClient","dialogService","stackDialogService","stackService","notificationService","$q",function(a,b,c,d,e,f){function g(a,b,c,d){var e=f.defer(),g=_.chunk(a,10).reduce(function(a,c){return a.then(b(c.join(",")))},e.promise).then(c,d);return e.resolve(),g}function h(){return[k,l,m,n,j]}var i="exceptionless.stacks.stacksActionsService",j={name:"Delete",run:function(c){return a.createFeatureUsage(i+".delete").setProperty("count",c.length).submit(),b.confirmDanger("Are you sure you want to delete these stacks (includes all stack events)?","DELETE STACKS").then(function(){function b(){e.info("Successfully queued the stacks for deletion.")}function f(){a.createFeatureUsage(i+".delete.error").setProperty("count",c.length).submit(),e.error("An error occurred while deleting the stacks.")}return g(c,d.remove,b,f)})}},k={name:"Mark Fixed",run:function(b){return a.createFeatureUsage(i+".mark-fixed").setProperty("count",b.length).submit(),c.markFixed().then(function(c){function f(){e.info("Successfully queued the stacks to be marked as fixed.")}function h(){a.createFeatureUsage(i+".mark-fixed.error").setProperty("count",b.length).submit(),e.error("An error occurred while marking stacks as fixed.")}return g(b,function(a){return d.markFixed(a,c)},f,h)})}},l={name:"Mark Not Fixed",run:function(b){function c(){e.info("Successfully queued the stacks to be marked as not fixed.")}function f(){a.createFeatureUsage(i+".mark-not-fixed.error").setProperty("count",b.length).submit(),e.error("An error occurred while marking stacks as not fixed.")}return a.createFeatureUsage(i+".mark-not-fixed").setProperty("count",b.length).submit(),g(b,d.markNotFixed,c,f)}},m={name:"Mark Hidden",run:function(b){function c(){e.info("Successfully queued the stacks to be marked as hidden.")}function f(){a.createFeatureUsage(i+".mark-hidden.error").setProperty("count",b.length).submit(),e.error("An error occurred while marking stacks as hidden.")}return a.createFeatureUsage(i+".mark-hidden").setProperty("count",b.length).submit(),g(b,d.markHidden,c,f)}},n={name:"Mark Not Hidden",run:function(b){function c(){e.info("Successfully queued the stacks to be marked as not hidden.")}function f(){a.createFeatureUsage(i+".mark-not-hidden.error").setProperty("count",b.length).submit(),e.error("An error occurred while marking stacks as not hidden.")}return a.createFeatureUsage(i+".mark-not-hidden").setProperty("count",b.length).submit(),g(b,d.markNotHidden,c,f)}},o={getActions:h};return o}])}(),function(){"use strict";angular.module("exceptionless.stacks").directive("stacks",function(){return{bindToController:!0,restrict:"E",replace:!0,scope:{settings:"="},templateUrl:"components/stacks/stacks-directive.tpl.html",controller:["$ExceptionlessClient","$window","$state","$stateParams","linkService","filterService","notificationService","paginationService","stacksActionsService",function(a,b,c,d,e,f,g,h,i){function j(a){return!a||"Stack"!==a.type||f.includedInProjectOrOrganizationFilter({organizationId:a.organization_id,projectId:a.project_id})}function k(a){function b(a){s.stacks=a.data.plain(),s.selectedIds=s.selectedIds.filter(function(a){return s.stacks.filter(function(b){return b.id===a}).length>0});var b=e.getLinksQueryParameters(a.headers("link"));return s.previous=b.previous,s.next=b.next,s.pageSummary=h.getCurrentPageSummary(a.data,s.currentOptions.page,s.currentOptions.limit),0===s.stacks.length&&s.currentOptions.page&&s.currentOptions.page>1?k():s.stacks}return s.loading=0===s.stacks.length,s.currentOptions=a||s.settings.options,s.settings.get(s.currentOptions).then(b).finally(function(){s.loading=!1})}function l(){return s.stacks&&s.stacks.length>0}function m(){return s.selectedIds.length>0}function n(d,e){var f=e.ctrlKey||e.metaKey||2===e.which;a.createFeatureUsage(t+".open").setProperty("id",d).setProperty("_blank",f).submit(),f?b.open(c.href("app.stack",{id:d},{absolute:!0}),"_blank"):c.go("app.stack",{id:d}),e.preventDefault()}function o(){return a.createFeatureUsage(t+".nextPage").setProperty("next",s.next).submit(),k(s.next)}function p(){return a.createFeatureUsage(t+".previousPage").setProperty("previous",s.previous).submit(),k(s.previous)}function q(a){function b(){s.selectedIds=[]}m()?a.run(s.selectedIds).then(b):g.info(null,"Please select one or more stacks")}function r(){l()&&(m()?s.selectedIds=[]:s.selectedIds=s.stacks.map(function(a){return a.id}))}var s=this,t=s.settings.source+".stacks";s.actions=i.getActions(),s.canRefresh=j,s.get=k,s.hasFilter=f.hasFilter,s.hasStacks=l,s.hasSelection=m,s.loading=!0,s.nextPage=o,s.open=n,s.previousPage=p,s.save=q,s.selectedIds=[],s.showType=s.settings.summary?s.settings.showType:!f.getEventType(),s.stacks=[],s.updateSelection=r,k()}],controllerAs:"vm"}})}(),function(){"use strict";angular.module("exceptionless.stat",["restangular","exceptionless.filter"]).factory("statService",["filterService","Restangular",function(a,b){function c(c,d){var e=c&&c.length>0?{fields:c}:{};return d=angular.isFunction(d)?d:function(a){return a},b.one("stats").get(d(a.apply(e)))}function d(c,d){var e=c&&c.length>0?{fields:c}:{};return d=angular.isFunction(d)?d:function(a){return a},b.one("stats","timeline").get(d(a.apply(e)))}var e={get:c,getTimeline:d};return e}])}(),function(){"use strict";angular.module("exceptionless.state",["angular-locker","ui.router"]).factory("stateService",["$location","$state","locker",function(a,b,c){function d(){g.forget(["name","params"])}function e(c,d){var e=g.pull("name"),f=g.pull("params")||{};return e?b.go(e,f):c?b.go(c,d||{}):a.path("/")}function f(a){a&&a.filter(function(a){return b.current.name.startsWith(a)})[0]||g.has("name")||(g.put("name",b.current.name),g.put("params",b.params))}var g=c.driver("session").namespace("state"),h={clear:d,restore:e,save:f};return h}])}(),function(){"use strict";angular.module("exceptionless.status",["restangular"]).factory("statusService",["Restangular",function(a){function b(){return a.one("status").get()}var c={get:b};return c}])}(),function(){"use strict";angular.module("exceptionless.summary",["exceptionless.truncate"]).directive("summary",[function(){return{restrict:"E",scope:{source:"=",showType:"="},template:'<ng-include src="templateUrl" />',link:function(a){var b=a.source&&a.source.data&&a.source.data.Level?a.source.data.Level.toLowerCase():null;a.isLevelSuccess="trace"===b||"debug"===b,a.isLevelInfo="info"===b,a.isLevelWarning="warn"===b,a.isLevelError="error"===b,a.templateUrl="components/summary/templates/"+a.source.template_key+".tpl.html"}}}])}(),function(){"use strict";angular.module("exceptionless.timeago",[]).directive("timeago",["$interval",function(a){return{restrict:"AE",scope:{date:"="},link:function(b,c){function d(){var a=moment(b.date);c.text(b.date&&a.isValid()&&a.year()>1?a.fromNow():"never")}d(),b.$watch("date",function(a){d()});var e=a(d,15e3);b.$on("$destroy",function(){a.cancel(e)})}}}])}(),function(){"use strict";angular.module("exceptionless.token",["restangular"]).factory("tokenService",["Restangular",function(a){function b(b){var c={organization_id:b.organization_id,project_id:b.project_id,scopes:["client"]};return a.all("tokens").post(c)}function c(b){return a.one("tokens",b).get()}function d(b,c){return a.one("organizations",b).all("tokens").getList(c||{})}function e(b,c){return a.one("projects",b).all("tokens").getList(c||{})}function f(b){return a.one("projects",b).one("tokens","default").get()}function g(b){return a.one("tokens",b).remove()}var h={create:b,getById:c,getByOrganizationId:d,getByProjectId:e,getProjectDefault:f,remove:g};return h}])}(),function(){"use strict";angular.module("exceptionless.truncate",["debounce"]).directive("truncate",["$window","$timeout","debounce",function(a,b,c){return{restrict:"A",link:function(d,e,f){var g=c(function(){angular.element(e).trunk8({lines:f.lines||1,tooltip:void 0===f.overwriteTooltip||f.overwriteTooltip===!0})},150),h=b(g,150),i=angular.element(a);i.bind("resize",g),d.$on("$destroy",function(a){b.cancel(h),i.unbind("resize",g)})}}}])}(),function(){"use strict";angular.module("exceptionless.user",["restangular"]).factory("userService",["$cacheFactory","$rootScope","Restangular",function(a,b,c){function d(a){return c.one("users",a).one("admin-role").post()}function e(a){return void 0===a||a?p.one("users","me").get():c.one("users","me").get()}function f(a){return c.one("users",a).get()}function g(a,b){return c.one("organizations",a).all("users").getList(b||{})}function h(a){return i(a,"global")}function i(a,b){return!!a&&!!a.roles&&a.roles.indexOf(b)!==-1}function j(a){return c.one("users",a).one("admin-role").remove()}function k(a){return c.one("users",a).one("resend-verification-email").get()}function l(a,b){return c.one("users",a).patch(b)}function m(a,b){return c.one("users",a).one("email-address",b).post()}function n(a){return c.one("users","verify-email-address").one(a).get()}var o=a("http:user");b.$on("cache:clear",o.removeAll),b.$on("cache:clear-user",o.removeAll),b.$on("auth:logout",o.removeAll),b.$on("UserChanged",o.removeAll);var p=c.withConfig(function(a){a.setDefaultHttpFields({cache:o})}),q={addAdminRole:d,getCurrentUser:e,getById:f,getByOrganizationId:g,hasAdminRole:h,hasRole:i,removeAdminRole:j,resendVerificationEmail:k,update:l,updateEmailAddress:m,verifyEmailAddress:n};return q}])}(),function(){"use strict";angular.module("exceptionless.users",["exceptionless","exceptionless.dialog","exceptionless.link","exceptionless.notification","exceptionless.organization","exceptionless.pagination","exceptionless.refresh","exceptionless.user"]).directive("users",function(){return{bindToController:!0,restrict:"E",replace:!0,scope:{settings:"="},templateUrl:"components/users/users-directive.tpl.html",controller:["$ExceptionlessClient","$window","$state","dialogService","linkService","notificationService","organizationService","paginationService","userService",function(a,b,c,d,e,f,g,h,i){function j(a,b){function c(a){s.users=a.data.plain();var c=e.getLinksQueryParameters(a.headers("link"));return s.previous=c.previous,s.next=c.next,s.pageSummary=h.getCurrentPageSummary(a.data,s.currentOptions.page,s.currentOptions.limit),0===s.users.length&&s.currentOptions.page&&s.currentOptions.page>1?j(null,b):s.users}return s.currentOptions=a||s.settings.options,s.settings.get(s.currentOptions,b).then(c)}function k(a){return i.hasAdminRole(a)}function l(){return s.users&&s.users.length>0}function m(){return a.createFeatureUsage(r+".nextPage").setProperty("next",s.next).submit(),j(s.next)}function n(){return a.createFeatureUsage(r+".previousPage").setProperty("previous",s.previous).submit(),j(s.previous)}function o(b){return a.createFeatureUsage(r+".remove").setProperty("user",b).submit(),d.confirmDanger("Are you sure you want to remove this user from your organization?","REMOVE USER").then(function(){function c(){a.createFeatureUsage(r+".remove.success").setProperty("user",b).submit()}function d(){a.createFeatureUsage(r+".remove.error").setProperty("user",b).submit(),f.error("An error occurred while trying to remove the user.")}return g.removeUser(s.settings.organizationId,b.email_address).then(c,d)})}function p(a){function b(){f.error("An error occurred while trying to resend the notification.")}return g.addUser(s.settings.organizationId,a.email_address).catch(b)}function q(b){a.createFeatureUsage(r+".updateAdminRole").setProperty("user",b).submit();var c="Are you sure you want to "+(i.hasAdminRole(b)?"remove":"add")+" the admin role for this user?";return d.confirmDanger(c,i.hasAdminRole(b)?"REMOVE":"ADD").then(function(){function c(){a.createFeatureUsage(r+".updateAdminRole.success").setProperty("user",b).submit()}function d(){a.createFeatureUsage(r+".updateAdminRole.error").setProperty("user",b).submit(),f.error("An error occurred while "+(i.hasAdminRole(b)?"remove":"add")+" the admin role.")}return i.hasAdminRole(b)?i.removeAdminRole(b.id).then(c,d):i.addAdminRole(b.id).then(c,d)})}var r="exceptionless.users",s=this;s.currentOptions={},s.get=j,s.hasAdminRole=k,s.hasUsers=l,s.nextPage=m,s.open=open,s.previousPage=n,s.remove=o,s.resendNotification=p,s.updateAdminRole=q,s.users=[],a.submitFeatureUsage(r),j()}],controllerAs:"vm"}})}(),function(){"use strict";angular.module("exceptionless.url",[]).factory("urlService",["$state",function(a){function b(b){var c=[],d={};return b.routePrefix&&c.push(b.routePrefix),b.organizationId?(c.push("organization"),d.organizationId=b.organizationId):b.projectId&&(c.push("project"),d.projectId=b.projectId),b.type&&(c.push("type"),d.type=b.type),c.push(b.route),a.href("app."+c.join("-"),d,{absolute:!0})}function c(a,b,c,d,e){if(!b)return null;var f=(a?"https://":"http://")+b;if(80!==c&&443!==c&&(f+=":"+c),d&&(d&&0!==d.indexOf("/")&&(f+="/"),f+=d),e&&Object.keys(e).length>0){var g=!0;for(var h in e)g?(f+="?",g=!1):f+="&",f+=h+"="+e[h]}return f}var d={buildFilterUrl:b,buildUrl:c};return d}])}(),function(){"use strict";angular.module("exceptionless.ui-nav",[]).directive("uiNav",[function(){return{restrict:"AC",link:function(a,b){var c,d=$(window),e=768,f=$(".app-aside"),g=".dropdown-backdrop";b.on("click","a",function(a){c&&c.trigger("mouseleave.nav");var b=$(this);b.parent().siblings(".active").toggleClass("active"),b.next().is("ul")&&b.parent().toggleClass("active")&&a&&a.preventDefault&&a.preventDefault(),b.next().is("ul")||d.width()<e&&$(".app-aside").removeClass("show off-screen")}),b.on("mouseenter","a",function(a){if(c&&c.trigger("mouseleave.nav"),$(".app-aside-fixed.app-aside-folded").length&&!(d.width()<e)){var b,h=$(a.target),i=$(window).height(),j=50,k=150;h.is("a")||(h=h.closest("a")),h.next().is("ul")&&(c=h.next(),h.parent().addClass("active"),b=h.parent().position().top+j,c.css("top",b),b+c.height()>i&&c.css("bottom",0),b+k>i&&c.css("bottom",i-b-j).css("top","auto"),c.appendTo(f),c.on("mouseleave.nav",function(a){$(g).remove(),c.appendTo(h.parent()),c.off("mouseleave.nav").css("top","auto").css("bottom","auto"),h.parent().removeClass("active")}),$(".smart").length&&$('<div class="dropdown-backdrop"/>').insertAfter(".app-aside").on("click",function(a){a&&a.trigger("mouseleave.nav")}))}}),f.on("mouseleave",function(a){c&&c.trigger("mouseleave.nav")})}}}])}(),function(){"use strict";angular.module("exceptionless.ui-scroll",[]).directive("uiScroll",["$location","$anchorScroll",function(a,b){return{restrict:"AC",link:function(c,d,e){d.on("click",function(c){a.hash(e.uiScroll),b()})}}}])}(),function(){"use strict";angular.module("exceptionless.ui-shift",[]).directive("uiShift",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){function e(){a(function(){var a=d.uiShift,b=d.target;h.hasClass("in")||h[a](b).addClass("in")})}function f(){g&&g.prepend(c),g||h.insertAfter(j),h.removeClass("in")}var g,h=$(c),i=$(window),j=h.prev(),k=i.width();j.length||(g=h.parent()),k<768?e():f(),i.resize(function(){k!==i.width()&&a(function(){i.width()<768?e():f(),k=i.width()})})}}}])}(),function(){"use strict";angular.module("exceptionless.ui-toggle-class",[]).directive("uiToggleClass",["$timeout","$document",function(a,b){return{restrict:"AC",link:function(a,b,c){b.on("click",function(a){function d(a,b){for(var c=new RegExp("\\s"+a.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g"),d=" "+$(b)[0].className+" ";c.test(d);)d=d.replace(c," ");$(b)[0].className=$.trim(d)}a&&a.preventDefault&&a.preventDefault();var e=c.uiToggleClass.split(","),f=c.target&&c.target.split(",")||new Array(b),g=0;angular.forEach(e,function(a){var b=f[f.length&&g];a.indexOf("*")!==-1&&d(a,b),$(b).toggleClass(a),g++}),$(b).toggleClass("active")})}}}])}(),function(){"use strict";angular.module("exceptionless.validators",["exceptionless.auth","exceptionless.organization","exceptionless.project","exceptionless.search"])}(),function(){"use strict";angular.module("exceptionless.validators").directive("emailAddressAvailableValidator",["$timeout","$q","authService",function(a,b,c){return{restrict:"A",require:"ngModel",link:function(d,e,f,g){g.$asyncValidators.unique=function(d){var e=b.defer();return g.$pristine?a(function(){e.resolve(!0)},0):c.isEmailAddressAvailable(d).then(function(a){201===a.status?e.reject(""):e.resolve(!0)},function(){e.reject("An error occurred while validating the email address.")}),e.promise}}}}])}(),function(){"use strict";angular.module("exceptionless.validators").directive("organizationNameAvailableValidator",["$timeout","$q","organizationService",function(a,b,c){return{restrict:"A",require:"ngModel",link:function(d,e,f,g){g.$asyncValidators.unique=function(d){var e=b.defer();return g.$pristine?a(function(){e.resolve(!0)},0):c.isNameAvailable(d).then(function(a){201===a.status?e.reject(""):e.resolve(!0)},function(){e.reject("An error occurred while validating the organization name.")}),e.promise}}}}])}(),function(){"use strict";angular.module("exceptionless.validators").directive("projectNameAvailableValidator",["$timeout","$q","projectService",function(a,b,c){return{restrict:"A",require:"ngModel",link:function(d,e,f,g){g.$asyncValidators.unique=function(d){var e=b.defer();return g.$pristine?a(function(){e.resolve(!0)},0):c.isNameAvailable(d).then(function(a){201===a.status?e.reject(""):e.resolve(!0)},function(){e.reject("An error occurred while validating the project name.")}),e.promise}}}}])}(),function(){"use strict";angular.module("exceptionless.validators").directive("searchFilterValidator",["$timeout","$q","searchService",function(a,b,c){return{restrict:"A",require:"ngModel",link:function(d,e,f,g){g.$asyncValidators.valid=function(d){var e=b.defer();return g.$pristine?a(function(){e.resolve(!0)},0):c.validate(d).then(function(a){a.data.is_valid||e.reject(a.data.message),e.resolve(!0)},function(){e.reject("An error occurred while validating the search filter.")}),e.promise}}}}])}(),function(){"use strict";angular.module("exceptionless.validators").directive("semanticVersionValidator",["$timeout","$q","searchService",function(a,b,c){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$validators.semver=function(a,b){if("string"==typeof b){var c=b.trim();if(0!==c.length){if(c.length>256)return!1;var d=new RegExp("^v?(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][a-zA-Z0-9-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][a-zA-Z0-9-]*))*))?(?:\\+([0-9A-Za-z-]+(?:\\.[0-9A-Za-z-]+)*))?$");return d.test(c)}}}}}}])}(),function(){"use strict";angular.module("exceptionless.web-hook",["checklist-model","ngMessages","restangular","ui.bootstrap","dialogs.main","dialogs.default-translations","exceptionless","exceptionless.autofocus"])}(),function(){"use strict";angular.module("exceptionless.web-hook").controller("AddWebHookDialog",["$ExceptionlessClient","$uibModalInstance",function(a,b){function c(){a.submitFeatureUsage(g+".cancel"),b.dismiss("cancel")}function d(){return[{key:"NewError",name:"New Error",description:"Occurs when a new error that has never been seen before is reported to your project."
},{key:"CriticalError",name:"Critical Error",description:"Occurs when an error that has been marked as critical is reported to your project."},{key:"StackRegression",name:"Regression",description:"Occurs when an event that has been marked as fixed has reoccurred in your project."},{key:"NewEvent",name:"New Event",description:"Occurs when a new event that has never been seen before is reported to your project."},{key:"CriticalEvent",name:"Critical Event",description:"Occurs when an event that has been marked as critical is reported to your project."},{key:"StackPromoted",name:"Promoted",description:"Used to promote event stacks to external systems."}]}function e(){return h.data.event_types&&h.data.event_types.length>0}function f(c){c&&(a.createFeatureUsage(g+".save").setProperty("WebHook",h.data).submit(),b.close(h.data))}var g="exceptionless.web-hook.AddWebHookDialog",h=this;h.addWebHookForm={},h.cancel=c,h.data={},h.eventTypes=d(),h.hasEventTypeSelection=e,h.save=f,a.submitFeatureUsage(g)}])}(),function(){"use strict";angular.module("exceptionless.web-hook").factory("webHookService",["Restangular",function(a){function b(b){return a.all("webhooks").post(b)}function c(b){return a.all("webhooks").getList(b||{})}function d(b){return a.one("webhooks",b).get()}function e(b,c){return a.one("organizations",b).all("webhooks").getList(c||{})}function f(b,c){return a.one("projects",b).all("webhooks").getList(c||{})}function g(b){return a.one("webhooks",b).remove()}var h={create:b,getAll:c,getById:d,getByOrganizationId:e,getByProjectId:f,remove:g};return h}])}(),function(){"use strict";angular.module("app").controller("App",["$scope","$state","$stateParams","$window","authService","billingService","$ExceptionlessClient","filterService","hotkeys","INTERCOM_APPID","$intercom","locker","notificationService","organizationService","signalRService","stateService","STRIPE_PUBLISHABLE_KEY","SYSTEM_NOTIFICATION_MESSAGE","urlService","userService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){function u(){function c(a){g.createFeatureUsage(S+".hotkeys"+a).addTags("hotkeys").submit()}M()&&i.bindTo(a).add({combo:"c",description:"Chat with Support",callback:function(){c("Support"),Q()}}),i.bindTo(a).add({combo:"g w",description:"Go to Documentation",callback:function(){c("Documentation"),d.open("https://github.com/exceptionless/Exceptionless/wiki","_blank")}}).add({combo:"s",description:"Focus Search Bar",callback:function(a){a.preventDefault(),c("SearchBar"),$("#search").focus().select()}}).add({combo:"g a",description:"Go to My Account",callback:function(){c("Account"),b.go("app.account.manage",{tab:"general"})}}).add({combo:"g n",description:"Go to Notifications",callback:function(){c("Notifications"),b.go("app.account.manage",{tab:"notifications"})}}).add({combo:"g d",description:"Go to Dashboard",callback:function(){c("Dashboard"),d.open(y(),"_self")}}).add({combo:"g o",description:"Go to Organizations",callback:function(){c("Organizations"),b.go("app.organization.list")}}).add({combo:"g p",description:"Go to Projects",callback:function(){c("Projects"),b.go("app.project.list")}}).add({combo:"g+g",description:"Go to GitHub project",callback:function(){c("GitHub"),d.open("https://github.com/exceptionless/Exceptionless","_blank")}}).add({combo:"g s",description:"Go to public slack channel",callback:function(){c("Slack"),d.open("http://slack.exceptionless.com","_blank")}})}function v(){return!!q&&U.organizations&&U.organizations.length>0}function w(a){return q?f.changePlan(a):void m.error("Billing is currently disabled.")}function x(a,b){return s.buildFilterUrl({route:a,projectId:h.getProjectId(),organizationId:h.getOrganizationId(),type:b})}function y(a){return x("dashboard",a)}function z(){return s.buildFilterUrl({route:"dashboard",routePrefix:"session",projectId:h.getProjectId(),organizationId:h.getOrganizationId()})}function A(a){return x("recent",a)}function B(a){return x("frequent",a)}function C(a){return x("users",a)}function D(a){return x("new",a)}function E(){function a(a){return U.organizations=a.data.plain(),a}return n.getAll().then(a)}function F(a){function b(a){return U.user=a.data.plain(),g.config.setUserIdentity({identity:U.user.email_address,name:U.user.full_name,data:{user:U.user}}),a}return a&&"User"===a.type&&a.deleted&&a.id===U.user.id?(m.error("Your user account was deleted. Please create a new account."),e.logout(!0)):t.getCurrentUser().then(b)}function G(){return r}function H(){return t.hasAdminRole(U.user)}function I(){return!!r}function J(){for(var a in V)if(b.includes("app."+a,c)||b.includes("app.project-"+a,c)||b.includes("app.organization-"+a,c))return!0;return!1}function K(){return b.includes("app.project.list",c)||b.includes("app.organization.list",c)||b.includes("app.account.manage",c)||b.includes("app.admin.dashboard",c)}function L(){return b.includes("app.session-dashboard",c)||b.includes("app.session-project-dashboard",c)||b.includes("app.session-organization-dashboard",c)}function M(){return e.isAuthenticated()&&j}function N(a){var b=a.navigator.userAgent||a.navigator.vendor||a.opera;return/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(b)}function O(a){var d=angular.extend({},c,{type:a});for(var e in V)if(b.includes("app.type-"+e,d)||b.includes("app.project-type-"+e,d)||b.includes("app.organization-type-"+e,d))return!0;return!1}function P(){return o.startDelayed(1e3)}function Q(){M()&&(g.submitFeatureUsage(S+".showIntercom"),k.showNewMessage())}function R(){U.isSideNavCollapsed=!U.isSideNavCollapsed,T.put("sideNavCollapsed",U.isSideNavCollapsed)}var S="app.App",T=l.driver("local").namespace("app"),U=this,V=["dashboard","frequent","new","recent","users"];navigator.userAgent.match(/MSIE/i)&&angular.element(d.document.body).addClass("ie"),N(d)&&angular.element(d.document.body).addClass("smart"),a.$on("$destroy",o.stop),U.canChangePlan=v,U.changePlan=w,U.getDashboardUrl=y,U.getSessionDashboardUrl=z,U.getRecentUrl=A,U.getFrequentUrl=B,U.getUsersUrl=C,U.getNewUrl=D,U.getOrganizations=E,U.getUser=F,U.getSystemNotificationMessage=G,U.hasAdminRole=H,U.hasSystemNotificationMessage=I,U.isAllMenuActive=J,U.isAdminMenuActive=K,U.isReportsMenuActive=L,U.isIntercomEnabled=M,U.isSideNavCollapsed=T.get("sideNavCollapsed")===!0,U.isTypeMenuActive=O,U.organizations=[],U.showIntercom=Q,U.toggleSideNavCollapsed=R,U.user={},u(),F().then(E).then(P)}])}(),function(){"use strict";angular.module("app").controller("app.Dashboard",["$ExceptionlessClient","$filter","$stateParams","eventService","filterService","notificationService","stackService","statService",function(a,b,c,d,e,f,g,h){function i(a){return!a||"PersistentEvent"!==a.type||e.includedInProjectOrOrganizationFilter({organizationId:a.organization_id,projectId:a.project_id})}function j(){function a(a){l.stats=a.data.plain(),l.stats.timeline||(l.stats.timeline=[]),l.chart.options.series[0].data=l.stats.timeline.map(function(a){return{x:moment.utc(a.date).unix(),y:a.numbers[0],data:a}}),l.chart.options.series[1].data=l.stats.timeline.map(function(a){return{x:moment.utc(a.date).unix(),y:a.total,data:a}})}return h.getTimeline("distinct:stack_id,term:is_first_occurrence:-F").then(a)}var k="app.Dashboard",l=this;l.canRefresh=i,l.chart={options:{padding:{top:.085},renderer:"stack",series:[{name:"Unique",color:"rgba(60, 116, 0, .9)",stroke:"rgba(0, 0, 0, 0.15)"},{name:"Total",color:"rgba(124, 194, 49, .7)",stroke:"rgba(0, 0, 0, 0.15)"}],stroke:!0,unstack:!0},features:{hover:{render:function(a){var c=moment.unix(a.domainX),d=0===c.hours()&&0===c.minutes()?c.format("ddd, MMM D, YYYY"):c.format("ddd, MMM D, YYYY h:mma"),e='<div class="date">'+d+"</div>";a.detail.sort(function(a,b){return a.order-b.order}).forEach(function(a){var c='<span class="detail-swatch" style="background-color: '+a.series.color.replace("0.5","1")+'"></span>';e+=c+b("number")(a.formattedYValue)+" "+a.series.name+" <br />"},this);var f=document.createElement("div");f.className="x_label",f.innerHTML=e,this.element.appendChild(f);var g=this._calcLayoutError([f]);if(g>0){f.classList.remove("left"),f.classList.add("right");var h=this._calcLayoutError([f]);h>g&&(f.classList.remove("right"),f.classList.add("left"))}this.show()}},range:{onSelection:function(b){var c=moment.unix(b.coordMinX).utc().local(),d=moment.unix(b.coordMaxX).utc().local();return e.setTime(c.format("YYYY-MM-DDTHH:mm:ss")+"-"+d.format("YYYY-MM-DDTHH:mm:ss")),a.createFeatureUsage(k+".chart.range.onSelection").setProperty("start",c).setProperty("end",d).submit(),!1}},xAxis:{timeFixture:new Rickshaw.Fixtures.Time.Local,overrideTimeFixtureCustomFormatters:!0},yAxis:{ticks:5,tickFormat:"formatKMBT",ticksTreatment:"glow"}}},l.get=j,l.mostFrequent={get:g.getFrequent,options:{limit:10,mode:"summary"},source:k+".Frequent"},l.mostRecent={header:"Most Recent",get:d.getAll,options:{limit:10,mode:"summary"},source:k+".Recent"},l.stats={},l.type=c.type,j()}])}(),function(){"use strict";angular.module("app").controller("app.Frequent",["stackService",function(a){var b=this;b.mostFrequent={get:a.getFrequent,options:{limit:20,mode:"summary"},source:"app.Frequent"}}])}(),function(){"use strict";angular.module("app").controller("app.New",["stackService",function(a){var b=this;b.newest={get:a.getNew,options:{limit:20,mode:"summary"}}}])}(),function(){"use strict";angular.module("app").controller("app.Recent",["eventService",function(a){var b=this;b.mostRecent={get:a.getAll,options:{limit:20,mode:"summary"},source:"app.Recent"}}])}(),function(){"use strict";angular.module("app").controller("app.Users",["stackService",function(a){var b=this;b.mostUsers={get:a.getUsers,options:{limit:20,mode:"summary"},source:"app.MostUsers"}}])}(),function(){"use strict";angular.module("app.auth",["angulartics","directives.inputMatch","ngMessages","satellizer","ui.router","app.config","exceptionless","exceptionless.auth","exceptionless.autofocus","exceptionless.notification","exceptionless.project","exceptionless.rate-limit","exceptionless.user","exceptionless.validators"]).config(["$authProvider","$stateProvider","BASE_URL","FACEBOOK_APPID","GOOGLE_APPID","GITHUB_APPID","LIVE_APPID",function(a,b,c,d,e,f,g){a.baseUrl=c+"/api/v2",a.facebook({clientId:d}),a.google({clientId:e}),a.github({clientId:f}),a.live({clientId:g,scope:["wl.emails"]}),b.state("auth",{abstract:!0,template:'<ui-view autoscroll="true" />'}),b.state("auth.forgot-password",{title:"Forgot Password",url:"/forgot-password",controller:"auth.ForgotPassword",controllerAs:"vm",templateUrl:"app/auth/forgot-password.tpl.html"}),b.state("auth.login",{title:"Login",url:"/login?token",controller:"auth.Login",controllerAs:"vm",templateUrl:"app/auth/login.tpl.html"}),b.state("auth.logout",{title:"Logout",url:"/logout",template:null,controller:"auth.Logout"}),b.state("auth.reset-password",{title:"Reset Password",url:"/reset-password/:token?cancel",controller:"auth.ResetPassword",controllerAs:"vm",templateUrl:"app/auth/reset-password.tpl.html"}),b.state("auth.signup",{title:"Signup",url:"/signup?token",controller:"auth.Signup",controllerAs:"vm",templateUrl:"app/auth/signup.tpl.html"})}])}(),function(){"use strict";angular.module("app.auth").controller("auth.ForgotPassword",["$ExceptionlessClient","$state","authService","notificationService",function(a,b,c,d){function e(e){function h(){return a.createFeatureUsage(f+".resetPassword.success").setUserIdentity(g.email).submit(),d.info("An email was sent that contains instructions to change your password."),b.go("auth.login")}function i(b){a.createFeatureUsage(f+".resetPassword.error").setUserIdentity(g.email).setProperty("response",b).submit();var c="An error occurred while trying to reset your password.";b.data&&b.data.message&&(c+=" Message: "+b.data.message),d.error(c)}if(e)return a.createFeatureUsage(f+".resetPassword").setUserIdentity(g.email).submit(),c.forgotPassword(g.email).then(h,i)}var f="app.auth.ForgotPassword",g=this;g.email=null,g.resetPassword=e}])}(),function(){"use strict";angular.module("app.auth").controller("auth.Login",["$ExceptionlessClient","$state","$stateParams","authService","FACEBOOK_APPID","GOOGLE_APPID","GITHUB_APPID","LIVE_APPID","notificationService","projectService","stateService",function(a,b,c,d,e,f,g,h,i,j,k){function l(a){var b="An error occurred while logging in. Please contact support for more information.";return a.data&&a.data.message&&(b+=" Message: "+a.data.message),b}function m(b){function c(){a.createFeatureUsage(q+".authenticate").setProperty("InviteToken",r.token).addTags(b).submit()}function e(c){a.createFeatureUsage(q+".authenticate.error").setProperty("InviteToken",r.token).setProperty("response",c).addTags(b).submit(),i.error(l(c))}return d.authenticate(b,{InviteToken:r.token}).then(c,e).then(p)}function n(a){if(!a)return!!(e||g||f||h);switch(a){case"facebook":return!!e;case"github":return!!g;case"google":return!!f;case"live":return!!h;default:return!1}}function o(b){function c(){a.submitFeatureUsage(q+".login")}function e(b){a.createFeatureUsage(q+".login.error").setUserIdentity(r.user.email).submit(),i.error(l(b))}if(b)return d.login(r.user).then(c,e).then(p)}function p(){function a(a){return a.data&&a.data.length>0?k.restore():(k.clear(),b.go("app.project.add"))}function c(){return k.restore("app.project.add")}return j.getAll().then(a,c)}var q="app.auth.Login",r=this;d.isAuthenticated()&&d.logout(),r.authenticate=m,r.isExternalLoginEnabled=n,r.login=o,r.loginForm={},r.token=c.token,r.user={invite_token:r.token}}])}(),function(){"use strict";angular.module("app.auth").controller("auth.Logout",["$state","authService",function(a,b){b.isAuthenticated()&&b.logout(),a.go("auth.login")}])}(),function(){"use strict";angular.module("app.auth").controller("auth.ResetPassword",["$ExceptionlessClient","$state","$stateParams","authService","notificationService",function(a,b,c,d,e){function f(c){function f(){return a.createFeatureUsage(h+".changePassword.success").setProperty("ResetToken",j).submit(),e.info("You have successfully changed your password."),b.go("auth.login")}function g(b){a.createFeatureUsage(h+".changePassword.error").setProperty("ResetToken",j).setProperty("response",b).submit();var c="An error occurred while trying to change your password.";b.data&&b.data.message&&(c+=" Message: "+b.data.message),e.error(c)}if(c)return a.createFeatureUsage(h+".changePassword").setProperty("ResetToken",j).submit(),d.resetPassword(k.data).then(f,g)}function g(){function c(){return b.go("auth.login")}function e(){a.createFeatureUsage(h+".cancelResetPassword.success").setProperty("ResetToken",j).submit()}function f(b){a.createFeatureUsage(h+".cancelResetPassword.error").setProperty("ResetToken",j).setProperty("response",b).submit()}return a.createFeatureUsage(h+".cancelResetPassword").setProperty("ResetToken",j).submit(),d.cancelResetPassword(j).then(e,f).then(c,c)}var h="app.auth.ResetPassword",i="true"===c.cancel,j=c.token,k=this;k.changePassword=f,k.data={password_reset_token:j},i&&g()}])}(),function(){"use strict";angular.module("app.auth").controller("auth.Signup",["$analytics","$ExceptionlessClient","$state","$stateParams","$timeout","authService","FACEBOOK_APPID","GOOGLE_APPID","GITHUB_APPID","LIVE_APPID","notificationService","projectService","stateService",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a){var b="An error occurred while signing up.  Please contact support for more information.";return a.data&&a.data.message&&(b+=" Message: "+a.data.message),b}function o(c){function d(){a.eventTrack("CompleteRegistration"),b.createFeatureUsage(s+".authenticate").setProperty("InviteToken",u.token).addTags(c).submit()}function e(a){b.createFeatureUsage(s+".authenticate.error").setProperty("InviteToken",u.token).setProperty("response",a).addTags(c).submit(),k.error(n(a))}return f.authenticate(c,{InviteToken:u.token}).then(d,e).then(q)}function p(a){if(!a)return!!(g||i||h||j);switch(a){case"facebook":return!!g;case"github":return!!i;case"google":return!!h;case"live":return!!j;default:return!1}}function q(){function a(a){return a.data&&a.data.length>0?m.restore():(m.clear(),c.go("app.project.add"))}function b(){return m.restore("app.project.add")}return l.getAll().then(a,b)}function r(c){function d(){t=!0}function g(a){var b=e(function(){e.cancel(b),r(!0)},a||100)}function h(){a.eventTrack("CompleteRegistration"),b.submitFeatureUsage(s+".signup")}function i(a){b.createFeatureUsage(s+".signup.error").setUserIdentity(u.user.email).submit(),k.error(n(a))}if(!u.signupForm||u.signupForm.$invalid)return d(),!c&&g(1e3);if(!u.user.email||u.signupForm.$pending)return g();if(t)return t=!1,f.signup(u.user).then(h,i).then(q).then(d,d)}var s="app.auth.Signup",t=!0,u=this;f.isAuthenticated()&&f.logout(!0,d),u.authenticate=o,u.isExternalLoginEnabled=p,u.signup=r,u.signupForm={},u.token=d.token,u.user={invite_token:u.token}}])}(),function(){"use strict";angular.module("app.account",["directives.inputMatch","ngMessages","ui.bootstrap","ui.router","exceptionless","exceptionless.auth","exceptionless.autofocus","exceptionless.billing","exceptionless.dialog","exceptionless.project","exceptionless.promise-button","exceptionless.user","exceptionless.validators"]).config(["$stateProvider",function(a){a.state("app.account",{abstract:!0,url:"/account",template:'<ui-view autoscroll="true" />'}),a.state("app.account.manage",{title:"My Account",url:"/manage?projectId&tab",controller:"account.Manage",controllerAs:"vm",templateUrl:"app/account/manage.tpl.html"}),a.state("app.account.verify",{title:"Verify Account",url:"/verify?token",template:null,controller:"account.Verify"})}])}(),function(){"use strict";angular.module("app.account").controller("account.Manage",["$stateParams","$timeout","authService","billingService","FACEBOOK_APPID","GOOGLE_APPID","GITHUB_APPID","LIVE_APPID","notificationService","projectService","userService",function(a,b,c,d,e,f,g,h,i,j,k){function l(a){switch(a){case"notifications":I.activeTabIndex=1;break;case"password":I.activeTabIndex=2;break;case"external":I.activeTabIndex=3;break;default:I.activeTabIndex=0}}function m(a){function b(a){var b="An error occurred while adding external login.";a.data&&a.data.message&&(b+=" Message: "+a.data.message),i.error(b)}return c.authenticate(a).catch(b)}function n(){return u()||I.user.o_auth_accounts&&I.user.o_auth_accounts.length>1}function o(a){function b(){i.info("You have successfully changed your password."),I.password={},I.passwordForm.$setUntouched(!0),I.passwordForm.$setPristine(!0)}function d(a){var b="An error occurred while trying to change your password.";a.data&&a.data.message&&(b+=" Message: "+a.data.message),i.error(b)}if(a)return c.changePassword(I.password).then(b,d)}function p(a){return a&&"User"===a.type&&a.deleted&&a.id===I.user.id?(i.error("Your user account was deleted. Please create a new account."),c.logout(!0)):s().then(r).then(q)}function q(){function a(a){return I.emailNotificationSettings=a.data.plain(),I.emailNotificationSettings}function b(){i.error("An error occurred while loading the notification settings.")}if(I.emailNotificationSettings=null,I.currentProject.id)return j.getNotificationSettings(I.currentProject.id,I.user.id).then(a,b)}function r(){function b(b){I.projects=b.data.plain();var c=I.currentProject.id?I.currentProject.id:a.projectId;return I.currentProject=I.projects.filter(function(a){return a.id===c})[0],I.currentProject||(I.currentProject=I.projects.length>0?I.projects[0]:{}),I.projects}function c(){i.error("An error occurred while loading the projects.")}return j.getAll().then(b,c)}function s(){function a(a){return I.user=a.data.plain(),I.user.o_auth_accounts=I.user.o_auth_accounts||[],I.user}function b(a){var b="An error occurred while loading your user profile.";a.data&&a.data.message&&(b+=" Message: "+a.data.message),i.error(b)}return k.getCurrentUser().then(a,b)}function t(){return I.user.email_notifications_enabled&&I.emailNotificationSettings}function u(){return I.user.has_local_account===!0}function v(){return I.user&&I.user.o_auth_accounts&&I.user.o_auth_accounts.length>0}function w(){return I.currentProject&&I.currentProject.has_premium_features}function x(){return I.projects.length>0}function y(){return t()&&w()}function z(a){if(!a)return!!(e||g||f||h);switch(a){case"facebook":return!!e;case"github":return!!g;case"google":return!!f;case"live":return!!h;default:return!1}}function A(){function a(a){var b="An error occurred while sending your verification email.";a.data&&a.data.message&&(b+=" Message: "+a.data.message),i.error(b)}return k.resendVerificationEmail(I.user.id).catch(a)}function B(a){function c(){H=!0}function d(a){var c=b(function(){b.cancel(c),B(!0)},a||100)}function e(a){I.user.is_email_address_verified=a.data.is_verified}function f(a){var b="An error occurred while saving your email address.";a.data&&a.data.message&&(b+=" Message: "+a.data.message),i.error(b)}if(!I.emailAddressForm||I.emailAddressForm.$invalid)return c(),!a&&d(1e3);if(!I.user.email_address||I.emailAddressForm.$pending)return d();if(H)return H=!1,k.updateEmailAddress(I.user.id,I.user.email_address).then(e,f).then(c,c)}function C(){function a(a){var b="An error occurred while saving your notification settings.";a.data&&a.data.message&&(b+=" Message: "+a.data.message),i.error(b)}return j.setNotificationSettings(I.currentProject.id,I.user.id,I.emailNotificationSettings).catch(a)}function D(){function a(a){var b="An error occurred while saving your email notification preferences.";a.data&&a.data.message&&(b+=" Message: "+a.data.message),i.error(b)}return k.update(I.user.id,{email_notifications_enabled:I.user.email_notifications_enabled}).catch(a)}function E(a){function b(a){var b="An error occurred while saving your full name.";a.data&&a.data.message&&(b+=" Message: "+a.data.message),i.error(b)}if(a)return k.update(I.user.id,I.user).catch(b)}function F(){return d.changePlan(I.currentProject?I.currentProject.organization_id:null)}function G(a){function b(){I.user.o_auth_accounts.splice(I.user.o_auth_accounts.indexOf(a),1)}function d(a){var b="An error occurred while removing the external login.";a.data&&a.data.message&&(b+=" Message: "+a.data.message),i.error(b)}return c.unlink(a.provider,a.provider_user_id).then(b,d)}var H=!0,I=this;I.activeTabIndex=0,I.authenticate=m,I.canRemoveOAuthAccount=n,I.changePassword=o,I.currentProject={},I.emailAddressForm={},I.emailNotificationSettings=null,I.getEmailNotificationSettings=q,I.hasEmailNotifications=t,I.hasLocalAccount=u,I.get=p,I.hasOAuthAccounts=v,I.hasPremiumEmailNotifications=y,I.hasPremiumFeatures=w,I.hasProjects=x,I.isExternalLoginEnabled=z,I.password={},I.passwordForm={},I.projects=[],I.resendVerificationEmail=A,I.saveEmailAddress=B,I.saveEmailNotificationSettings=C,I.saveEnableEmailNotification=D,I.saveUser=E,I.showChangePlanDialog=F,I.unlink=G,I.user={},l(a.tab),p()}])}(),function(){"use strict";angular.module("app.account").controller("account.Verify",["$ExceptionlessClient","$rootScope","$state","$stateParams","notificationService","userService",function(a,b,c,d,e,f){function g(){return c.go("app.account.manage")}function h(){function c(){a.createFeatureUsage(i+".verify.success").setProperty("Token",j).submit(),b.$emit("UserChanged"),e.info("Successfully verified your account.")}function d(b){a.createFeatureUsage(i+".verify.error").setProperty("Token",j).setProperty("response",b).submit();var c="An error occurred while verifying your account.";b&&b.data&&b.data.message&&(c+=" Message: "+b.data.message),e.error(c)}return a.createFeatureUsage(i+".verify").setProperty("Token",j).submit(),f.verifyEmailAddress(j).then(c,d)}var i="app.account.Verify",j=d.token;h().finally(g)}])}(),function(){"use strict";angular.module("app.admin",["ui.router"]).config(["$stateProvider",function(a){a.state("app.admin",{abstract:!0,url:"/admin",template:'<ui-view autoscroll="true"/>'}),a.state("app.admin.dashboard",{title:"Admin Dashboard",url:"/dashboard",controller:"admin.Dashboard",controllerAs:"vm",templateUrl:"app/admin/dashboard.tpl.html"})}])}(),function(){"use strict";angular.module("app.admin").controller("admin.Dashboard",[function(){}])}(),function(){"use strict";angular.module("app.event",["angular-clipboard","angular-filters","cfp.hotkeys","ui.router","exceptionless","exceptionless.billing","exceptionless.error","exceptionless.event","exceptionless.events","exceptionless.filter","exceptionless.organization-notifications","exceptionless.link","exceptionless.notification","exceptionless.object-dump","exceptionless.refresh","exceptionless.simple-error","exceptionless.simple-stack-trace","exceptionless.stack-trace","exceptionless.timeago","exceptionless.url"]).config(["$stateProvider",function(a){a.state("app.event",{title:"Event",url:"/event/{id:[0-9a-fA-F]{24}}?tab",controller:"Event",controllerAs:"vm",templateUrl:"app/event/event.tpl.html"}),a.state("app.event-reference",{title:"Event Reference",url:"/event/by-ref/{referenceId:.{8,100}}",controller:"Reference",controllerAs:"vm",templateUrl:"app/event/reference.tpl.html"})}])}(),function(){"use strict";angular.module("app.event").controller("Event",["$ExceptionlessClient","$scope","$state","$stateParams","$timeout","billingService","clipboard","errorService","eventService","filterService","hotkeys","linkService","notificationService","projectService","urlService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(a){for(var b=0;b<$.tabs.length;b++){var c=$.tabs[b];{if(c.title===a){c.active=!0,$.activeTabIndex=c.index;break}c.active=!1}}($.activeTabIndex<0||$.activeTabIndex>=$.tabs.length)&&($.tabs[0].active=!0,$.activeTabIndex=0)}function q(){k.del("mod+up"),k.del("mod+left"),k.del("mod+right"),k.del("mod+shift+c"),$.event.stack_id&&(k.bindTo(b).add({combo:"mod+up",description:"Go To Stack",callback:function(){a.createFeatureUsage(X+".hotkeys.GoToStack").addTags("hotkeys").setProperty("id",Y).submit(),c.go("app.stack",{id:$.event.stack_id})}}),g.supported&&k.bindTo(b).add({combo:"mod+shift+c",description:"Copy Event JSON to Clipboard",callback:function(){a.createFeatureUsage(X+".hotkeys.CopyEventJSON").addTags("hotkeys").setProperty("id",Y).submit(),console.log("hotkey"),g.copyText($.event_json),u()}})),$.previous&&k.bindTo(b).add({combo:"mod+left",description:"Previous Occurrence",callback:function(){a.createFeatureUsage(X+".hotkeys.PreviousOccurrence").addTags("hotkeys").setProperty("id",Y).submit(),c.go("app.event",{id:$.previous,tab:$.getCurrentTab()})}}),$.next&&k.bindTo(b).add({combo:"mod+right",description:"Next Occurrence",callback:function(){a.createFeatureUsage(X+".hotkeys.NextOccurrence").addTags("hotkeys").setProperty("id",Y).submit(),c.go("app.event",{id:$.next,tab:$.getCurrentTab()})}})}function r(){function a(a){return a=a.replace(/_/g," ").replace(/\s+/g," ").trim(),a=a.replace(/([a-z0-9])([A-Z0-9])/g,"$1 $2"),a.length>1?a.charAt(0).toUpperCase()+a.slice(1):a}$.references=[];var b="@ref:";angular.forEach($.event.data,function(c,d){d.startsWith(b)&&$.references.push({id:c,name:a(d.slice(5))})})}function s(a){var b=0,c=[{index:b,title:"Overview",template_key:"overview"}];$.event.reference_id&&V()&&c.push({index:++b,title:"Session Events",template_key:"session"}),P()&&($.event.data["@error"]?c.push({index:++b,title:"Exception",template_key:"error"}):$.event.data["@simple_error"]&&c.push({index:++b,title:"Exception",template_key:"simple-error"})),K()&&c.push({index:++b,title:V()?"Browser":"Request",template_key:"request"}),G()&&c.push({index:++b,title:"Environment",template_key:"environment"});var d=[];angular.forEach($.event.data,function(a,e){"@trace"===e&&(e="Trace Log"),e.startsWith("@")||(U(e)?c.push({index:++b,title:e,template_key:"promoted",data:a}):Z.indexOf(e)<0&&d.push({title:e,data:a}))},c),d.length>0&&c.push({index:++b,title:"Extended Data",template_key:"extended-data",data:d}),$.tabs=c,e(function(){p(a)},1)}function t(a){return a&&"PersistentEvent"===a.type?a.id&&$.event.id?a.id===$.event.id:j.includedInProjectOrOrganizationFilter({organizationId:a.organization_id,projectId:a.project_id}):!(!a||"Stack"!==a.type)&&j.includedInProjectOrOrganizationFilter({organizationId:a.organization_id,projectId:a.project_id})}function u(){m.success("Copied!")}function v(b){function c(){a.createFeatureUsage(X+".promoteTab.success").setProperty("id",Y).setProperty("TabName",b).submit(),$.project.promoted_tabs.splice(e,1),s("Extended Data")}function d(c){a.createFeatureUsage(X+".promoteTab.error").setProperty("id",Y).setProperty("response",c).setProperty("TabName",b).submit(),m.error("An error occurred promoting tab.")}var e=$.project.promoted_tabs.indexOf(b);if(!(e<0))return a.createFeatureUsage(X+".demoteTab").setProperty("id",Y).setProperty("TabName",b).submit(),n.demoteTab($.project.id,b).then(c,d)}function w(){var a=$.tabs.filter(function(a){return a.index===$.activeTabIndex})[0];return a&&a.index>0?a.title:"Overview"}function x(){return $.event.value||moment().diff($.event.date,"seconds")}function y(){if($.event.data["@error"]){var a=h.getTargetInfoExceptionType($.event.data["@error"]);if(a)return a}return $.event.data["@simple_error"]?$.event.data["@simple_error"].type:"Unknown"}function z(){function a(a){return a.filter?a.filter+=" stack:current":a.filter="stack:current",a}function b(a){$.event=a.data.plain(),$.event_json=angular.toJson($.event),$.sessionEvents.relativeTo=$.event.date;var b=l.getLinks(a.headers("link"));return $.previous=b.previous?b.previous.split("/").pop():null,$.next=b.next?b.next.split("/").pop():null,q(),r(),$.event}function e(a){return a&&426===a.status?f.confirmUpgradePlan(a.data.message).then(function(){return z()},function(){c.go("app.dashboard")}):(c.go("app.dashboard"),void m.error('The event "'+d.id+'" could not be found.'))}return Y||e(),i.getById(Y,{},a).then(b,e)}function A(){if($.event&&$.event.data&&$.event.data["@error"]){var a=h.getTargetInfoMessage($.event.data["@error"]);if(a)return a}return $.event.message}function B(){function a(a){return $.project=a.data.plain(),$.project.promoted_tabs=$.project.promoted_tabs||[],$.project}function b(){c.go("app.dashboard")}return $.event&&$.event.project_id||b(),n.getById($.event.project_id,!0).then(a,b)}function C(){var a=$.event.data?$.event.data["@location"]:null;if(a)return[a.locality,a.level1,a.country].filter(function(a){return a&&a.length}).reduce(function(a,b,c){return a+=(c>0?", ":"")+b},"")}function D(){var a=$.event.data?$.event.data["@request"]:null;return a?o.buildUrl(a.is_secure,a.host,a.port,a.path,a.query_string):null}function E(){return $.event.data["@version"]}function F(){return!!$.event.data["@request"].cookies&&Object.keys($.event.data["@request"].cookies).length>0}function G(){return $.event.data&&$.event.data["@environment"]}function H(){return $.event.data&&$.event.data["@user"]&&$.event.data["@user"].identity}function I(){return $.event.data&&$.event.data["@user"]&&$.event.data["@user"].name}function J(){return $.event.data&&$.event.data["@level"]}function K(){return $.event.data&&$.event.data["@request"]}function L(){return $.event.data&&$.event.data["@user_description"]&&$.event.data["@user_description"].email_address}function M(){return $.event.data&&$.event.data["@user_description"]&&$.event.data["@user_description"].description}function N(){return $.event.tags&&$.event.tags.length>0}function O(){return $.event.data&&$.event.data["@version"]}function P(){return"error"===$.event.type}function Q(){var a=J()?$.event.data["@level"].toLowerCase():null;return"trace"===a||"debug"===a}function R(){return J()&&"info"===$.event.data["@level"].toLowerCase()}function S(){return J()&&"warn"===$.event.data["@level"].toLowerCase()}function T(){return J()&&"error"===$.event.data["@level"].toLowerCase()}function U(a){return!(!$.project||!$.project.promoted_tabs)&&$.project.promoted_tabs.filter(function(b){return b===a}).length>0}function V(){return"session"===$.event.type}function W(b){function c(){a.createFeatureUsage(X+".promoteTab.success").setProperty("id",Y).setProperty("TabName",b).submit(),$.project.promoted_tabs.push(b),s(b)}function d(c){
a.createFeatureUsage(X+".promoteTab.error").setProperty("id",Y).setProperty("response",c).setProperty("TabName",b).submit(),m.error("An error occurred promoting tab.")}return a.createFeatureUsage(X+".promoteTab").setProperty("id",Y).setProperty("TabName",b).submit(),n.promoteTab($.project.id,b).then(c,d)}var X="app.event.Event",Y=d.id,Z=["error","simple_error","request","environment","user","user_description","sessionend","session_id","version"],$=this;$.activeTabIndex=-1,$.activateTab=p,$.canRefresh=t,$.copied=u,$.demoteTab=v,$.event={},$.event_json="",$.excludedAdditionalData=["@browser","@browser_version","@browser_major_version","@device","@os","@os_version","@os_major_version","@is_bot"],$.getCurrentTab=w,$.getDuration=x,$.getErrorType=y,$.getEvent=z,$.getLocation=C,$.getMessage=A,$.getRequestUrl=D,$.getVersion=E,$.hasCookies=F,$.hasIdentity=H,$.hasUserName=I,$.hasLevel=J,$.hasRequestInfo=K,$.hasTags=N,$.hasUserDescription=M,$.hasUserEmail=L,$.hasVersion=O,$.isError=P,$.isLevelSuccess=Q,$.isLevelInfo=R,$.isLevelWarning=S,$.isLevelError=T,$.isPromoted=U,$.isSessionStart=V,$.project={},$.promoteTab=W,$.references=[],$.sessionEvents={get:function(a){function b(a){return a.filter="-type:heartbeat",a.time=null,a}return i.getBySessionId($.event.reference_id,a,b)},options:{limit:10,mode:"summary"},source:X+".Recent",timeHeaderText:"Session Time",hideActions:!0,hideSessionStartTime:!0},$.tabs=[],z().then(B).then(function(){s(d.tab)})}])}(),function(){"use strict";angular.module("exceptionless.event").directive("extendedDataItem",[function(){return{restrict:"E",scope:{canPromote:"=",data:"=",demoteTab:"&",excludedKeys:"=",isPromoted:"=",promoteTab:"&",title:"="},templateUrl:"app/event/extended-data-item-directive.tpl.html",controller:["$scope","notificationService",function(a,b){function c(){b.success("Copied!")}function d(){return a.demoteTab({tabName:h.title})}function e(a,b){function c(a){return a=a.replace(/_/g," ").replace(/\s+/g," ").trim(),a=a.replace(/([a-z0-9])([A-Z0-9])/g,"$1 $2"),a.length>1?a.charAt(0).toUpperCase()+a.slice(1):a}return b=b&&b.length?b:[],"object"==typeof a&&a instanceof Object?Object.keys(a).filter(function(a){return a&&a.length&&b.indexOf(a)<0}).map(function(a){return{key:a,name:c(a)}}).sort(function(a,b){return a.name-b.name}).reduce(function(b,c){return b[c.name]=a[c.key],b},{}):a}function f(){return"undefined"!=typeof h.data&&!angular.equals({},h.data)}function g(){return a.promoteTab({tabName:h.title})}var h=this;h.copied=c,h.canPromote=a.canPromote!==!1,h.data=e(a.data,a.excludedKeys),h.data_json=f()?angular.toJson(h.data):"",h.demoteTab=d,h.hasData=f,h.isPromoted=a.isPromoted===!0,h.promoteTab=g,h.showRaw=!1,h.title=a.title}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("app.event").controller("Reference",["eventService","$state","$stateParams",function(a,b,c){var d=this;d.references={get:function(d){return a.getByReferenceId(c.referenceId,d).then(function(a){var c=a.data.plain();return c&&1===c.length&&b.go("app.event",{id:c[0].id}),a})},options:{limit:20,mode:"summary"},source:"app.event.Reference"}}])}(),function(){"use strict";angular.module("app.organization",["angular-rickshaw","ngMessages","ui.bootstrap","ui.router","dialogs.main","dialogs.default-translations","app.config","exceptionless","exceptionless.autofocus","exceptionless.billing","exceptionless.dialog","exceptionless.filter","exceptionless.organization","exceptionless.pagination","exceptionless.project","exceptionless.projects","exceptionless.refresh","exceptionless.timeago","exceptionless.token","exceptionless.user","exceptionless.users","exceptionless.validators","exceptionless.web-hook"]).config(["$stateProvider",function(a){a.state("app.organization",{abstract:!0,url:"/organization",template:'<ui-view autoscroll="true" />'}),a.state("app.organization.list",{title:"My Organizations",url:"/list",controller:"organization.List",controllerAs:"vm",templateUrl:"app/organization/list/list.tpl.html"}),a.state("app.organization.manage",{title:"Manage Organization",url:"/{id:[0-9a-fA-F]{24}}/manage?tab",controller:"organization.Manage",controllerAs:"vm",templateUrl:"app/organization/manage/manage.tpl.html"})}])}(),function(){"use strict";angular.module("app.organization").controller("AddOrganizationDialog",["$ExceptionlessClient","$uibModalInstance","$timeout",function(a,b,c){function d(){a.submitFeatureUsage(f+".cancel"),b.dismiss("cancel")}function e(d){function i(a){var b=c(function(){c.cancel(b),e(!0)},a||100)}return!h.addOrganizationForm||h.addOrganizationForm.$invalid?(g=!0,!d&&i(1e3)):!h.data.name||h.addOrganizationForm.$pending?i():void(g&&(g=!1,a.createFeatureUsage(f+".save").setProperty("name",h.data.name).submit(),b.close(h.data.name)))}var f="app.organization.AddOrganizationDialog",g=!0,h=this;h.addOrganizationForm={},h.cancel=d,h.data={},h.save=e,a.submitFeatureUsage(f)}])}(),function(){"use strict";angular.module("app.organization").controller("organization.List",["$ExceptionlessClient","$rootScope","$scope","$window","$state","billingService","dialogs","dialogService","filterService","linkService","notificationService","organizationService","paginationService","STRIPE_PUBLISHABLE_KEY",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){return g.create("app/organization/list/add-organization-dialog.tpl.html","AddOrganizationDialog as vm").result.then(r)}function p(){return!!n&&A.organizations&&A.organizations.length>0}function q(a){return n?f.changePlan(a):void k.error("Billing is currently disabled.")}function r(a){function b(a){A.organizations.push(a.data.plain())}function c(b){if(426===b.status)return f.confirmUpgradePlan(b.data.message).then(function(){return r(a)});var c="An error occurred while creating the organization.";b.data&&b.data.message&&(c+=" Message: "+b.data.message),k.error(c)}return l.create(a).then(b,c)}function s(a,b){function c(a){A.organizations=a.data.plain();var c=j.getLinksQueryParameters(a.headers("link"));return A.previous=c.previous,A.next=c.next,A.pageSummary=m.getCurrentPageSummary(a.data,A.currentOptions.page,A.currentOptions.limit),0===A.organizations.length&&A.currentOptions.page&&A.currentOptions.page>1?s(null,b):A.organizations}return A.loading=0===A.organizations.length,A.currentOptions=a||z,l.getAll(A.currentOptions,b).then(c).finally(function(){A.loading=!1})}function t(a,b){return h.confirmDanger("Are you sure you want to leave this organization?","LEAVE ORGANIZATION").then(function(){function c(){A.organizations.splice(A.organizations.indexOf(a),1)}function d(a){var b="An error occurred while trying to leave the organization.";400===a.status&&(b+=" Message: "+a.data.message),k.error(b)}return l.removeUser(a.id,b.email_address).then(c,d)})}function u(b,c){var f=c.ctrlKey||c.metaKey||2===c.which;a.createFeatureUsage(y+".open").setProperty("id",b).setProperty("_blank",f).submit(),f?d.open(e.href("app.organization.manage",{id:b},{absolute:!0}),"_blank"):e.go("app.organization.manage",{id:b}),c.preventDefault()}function v(){return a.createFeatureUsage(y+".nextPage").setProperty("next",A.next).submit(),s(A.next)}function w(){return a.createFeatureUsage(y+".previousPage").setProperty("previous",A.previous).submit(),s(A.previous)}function x(b){return a.createFeatureUsage(y+".remove").setProperty("organization",b).submit(),h.confirmDanger("Are you sure you want to delete this organization?","DELETE ORGANIZATION").then(function(){function c(){A.organizations.splice(A.organizations.indexOf(b),1),k.info("Successfully queued the organization for deletion."),a.createFeatureUsage(y+".remove.success").setProperty("organization",b).submit()}function d(c){var d="An error occurred while trying to delete the organization.";400===c.status&&(d+=" Message: "+c.data.message),a.createFeatureUsage(y+".remove.error").setProperty("organization",b).submit(),k.error(d)}return l.remove(b.id).then(c,d)})}var y="exceptionless.organization.List",z={mode:"stats"},A=this;A.add=o,A.canChangePlan=p,A.changePlan=q,A.get=s,A.hasFilter=i.hasFilter,A.leave=t,A.loading=!0,A.nextPage=v,A.open=u,A.organizations=[],A.previousPage=w,A.remove=x,a.submitFeatureUsage(y),s()}])}(),function(){"use strict";angular.module("app.organization").controller("AddUserDialog",["$ExceptionlessClient","$uibModalInstance",function(a,b){function c(){a.submitFeatureUsage(e+".cancel"),b.dismiss("cancel")}function d(c){c&&(a.createFeatureUsage(e+".save").setProperty("email",f.data.email).submit(),b.close(f.data.email))}var e="app.organization.AddUserDialog",f=this;f.cancel=c,f.save=d,a.submitFeatureUsage(e)}])}(),function(){"use strict";angular.module("app.organization").directive("invoices",function(){return{bindToController:!0,restrict:"E",replace:!0,scope:{settings:"="},templateUrl:"app/organization/manage/invoices-directive.tpl.html",controller:["$ExceptionlessClient","$window","$state","dialogService","linkService","notificationService","paginationService","userService",function(a,b,c,d,e,f,g,h){function i(a,b){function c(a){p.invoices=a.data.plain();var c=e.getLinksQueryParameters(a.headers("link"));return p.previous=c.previous,p.next=c.next,p.pageSummary=g.getCurrentPageSummary(a.data,p.currentOptions.page,p.currentOptions.limit),0===p.invoices.length&&p.currentOptions.page&&p.currentOptions.page>1?i(null,b):p.invoices}return p.currentOptions=a||p.settings.options,p.settings.get(p.currentOptions,b).then(c)}function j(a){return h.hasAdminRole(a)}function k(){return p.invoices&&p.invoices.length>0}function l(d){a.createFeatureUsage(o+".open").setProperty("id",d).submit(),b.open(c.href("payment",{id:d},{absolute:!0}),"_blank")}function m(){return a.createFeatureUsage(o+".nextPage").setProperty("next",p.next).submit(),i(p.next)}function n(){return a.createFeatureUsage(o+".previousPage").setProperty("previous",p.previous).submit(),i(p.previous)}var o="exceptionless.organization.invoices",p=this;p.currentOptions={},p.get=i,p.hasAdminRole=j,p.hasInvoices=k,p.nextPage=m,p.open=l,p.previousPage=n,p.invoices=[],a.submitFeatureUsage(o),i()}],controllerAs:"vm"}})}(),function(){"use strict";angular.module("app.organization").controller("organization.Manage",["$ExceptionlessClient","filterService","$filter","$state","$stateParams","$window","billingService","dialogService","organizationService","projectService","userService","notificationService","dialogs","STRIPE_PUBLISHABLE_KEY",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(a){switch(a){case"projects":E.activeTabIndex=1;break;case"users":E.activeTabIndex=2;break;case"billing":E.activeTabIndex=3;break;default:E.activeTabIndex=0}}function p(){return m.create("app/organization/manage/add-user-dialog.tpl.html","AddUserDialog as vm").result.then(s)}function q(){return n&&E.organization}function r(){return g.changePlan(E.organization.id)}function s(a){function b(b){if(426===b.status)return g.confirmUpgradePlan(b.data.message,D).then(function(){return s(a)});var c="An error occurred while inviting the user.";b.data&&b.data.message&&(c+=" Message: "+b.data.message),l.error(c)}return i.addUser(D,a).catch(b)}function t(a){if(!C)return a&&"Organization"===a.type&&a.deleted&&a.id===D?(d.go("app.dashboard"),void l.error('The organization "'+D+'" was deleted.')):u()}function u(){function a(a){E.organization=a.data.plain(),E.organization.usage=E.organization.usage||[{date:moment.utc().startOf("month").toISOString(),total:0,blocked:0,limit:E.organization.max_events_per_month,too_big:0}],E.hasMonthlyUsage=E.organization.max_events_per_month>0,E.chart.options.series[0].data=E.organization.usage.map(function(a){return{x:moment.utc(a.date).unix(),y:a.total-a.blocked-a.too_big,data:a}}),E.chart.options.series[1].data=E.organization.usage.map(function(a){return{x:moment.utc(a.date).unix(),y:a.blocked,data:a}}),E.chart.options.series[2].data=E.organization.usage.map(function(a){return{x:moment.utc(a.date).unix(),y:a.too_big,data:a}}),E.chart.options.series[3].data=E.organization.usage.map(function(a){return{x:moment.utc(a.date).unix(),y:a.limit,data:a}})}function b(){d.go("app.dashboard"),l.error('The organization "'+D+'" could not be found.')}return i.getById(D,!1).then(a,b)}function v(){if(!E.organization.max_events_per_month)return 0;var a=moment.utc().isBefore(moment.utc(E.organization.bonus_expiration))?E.organization.bonus_events_per_month:0,b=E.organization.usage&&E.organization.usage[E.organization.usage.length-1];if(b&&moment.utc(b.date).isSame(moment.utc().startOf("month"))){var c=b.limit-(b.total-b.blocked);return c>0?c:0}return E.organization.max_events_per_month+a}function w(a){return k.hasAdminRole(a)}function x(){return E.organization&&E.organization.has_premium_features}function y(a){return h.confirmDanger("Are you sure you want to leave this organization?","LEAVE ORGANIZATION").then(function(){function b(){d.go("app.organization.list")}function c(a){var b="An error occurred while trying to leave the organization.";400===a.status&&(b+=" Message: "+a.data.message),l.error(b),C=!1}return C=!0,i.removeUser(D,a.email_address).then(b,c)})}function z(){return h.confirmDanger("Are you sure you want to delete this organization?","DELETE ORGANIZATION").then(function(){function a(){l.info("Successfully queued the organization for deletion."),d.go("app.organization.list")}function b(a){var b="An error occurred while trying to delete the organization.";400===a.status&&(b+=" Message: "+a.data.message),l.error(b),C=!1}return C=!0,i.remove(D).then(a,b)})}function A(a){function b(){l.error("An error occurred while saving the organization.")}if(a)return i.update(D,E.organization).catch(b)}var B="organization.Manage",C=!1,D=e.id,E=this;E.activeTabIndex=0,E.addUser=p,E.canChangePlan=q,E.changePlan=r,E.chart={options:{padding:{top:.085},renderer:"multi",series:[{name:"Allowed",color:"#a4d56f",renderer:"stack"},{name:"Blocked",color:"#e2e2e2",renderer:"stack"},{name:"Too Big",color:"#ccc",renderer:"stack"},{name:"Limit",color:"#a94442",renderer:"dotted_line"}]},features:{hover:{render:function(a){var b=moment.utc(a.domainX,"X"),d=0===b.hours()&&0===b.minutes()?b.format("ddd, MMM D, YYYY"):b.format("ddd, MMM D, YYYY h:mma"),e='<div class="date">'+d+"</div>";a.detail.sort(function(a,b){return a.order-b.order}).forEach(function(a){var b='<span class="detail-swatch" style="background-color: '+a.series.color.replace("0.5","1")+'"></span>';e+=b+c("number")(a.formattedYValue)+" "+a.series.name+"<br />"},this),e+='<span class="detail-swatch"></span>'+c("number")(a.detail[0].value.data.total)+" Total<br />";var f=document.createElement("div");f.className="x_label",f.innerHTML=e,this.element.appendChild(f);var g=this._calcLayoutError([f]);if(g>0){f.classList.remove("left"),f.classList.add("right");var h=this._calcLayoutError([f]);h>g&&(f.classList.remove("right"),f.classList.add("left"))}this.show()}},range:{onSelection:function(c){var d=moment.unix(c.coordMinX).utc().local(),e=moment.unix(c.coordMaxX).utc().local();return b.setTime(d.format("YYYY-MM-DDTHH:mm:ss")+"-"+e.format("YYYY-MM-DDTHH:mm:ss")),a.createFeatureUsage(B+".chart.range.onSelection").setProperty("start",d).setProperty("end",e).submit(),!1}},xAxis:{timeFixture:new Rickshaw.Fixtures.Time.Local,overrideTimeFixtureCustomFormatters:!0},yAxis:{ticks:5,tickFormat:"formatKMBT",ticksTreatment:"glow"}}},E.get=t,E.getRemainingEventLimit=v,E.hasAdminRole=w,E.hasPremiumFeatures=x,E.hasMonthlyUsage=!0,E.invoices={get:function(a,b){return i.getInvoices(D,a,b)},options:{limit:12},organizationId:D},E.leaveOrganization=y,E.next_billing_date=moment().startOf("month").add(1,"months").toDate(),E.organization={},E.organizationForm={},E.projects={get:function(a,b){return j.getByOrganizationId(D,a,b)},organization:D,options:{limit:10,mode:"stats"}},E.removeOrganization=z,E.save=A,E.users={get:function(a,b){return k.getByOrganizationId(D,a,b)},options:{limit:10},organizationId:D},o(e.tab),t()}])}(),function(){"use strict";angular.module("app.payment",["ui.router","exceptionless.organization","exceptionless.rate-limit"]).config(["$stateProvider",function(a){a.state("payment",{title:"View Invoice",url:"/payment/:id",controller:"Payment",controllerAs:"vm",parent:null,templateUrl:"app/payment/payment.tpl.html"})}])}(),function(){"use strict";angular.module("app.payment").controller("Payment",["$state","$stateParams","notificationService","organizationService",function(a,b,c,d){function e(){function b(a){return h.invoice=a.data.plain(),h.invoice}function e(){a.go("app.dashboard"),c.error('The invoice "'+g+'" could not be found.')}return d.getInvoice(g).then(b,e)}function f(){return h.invoice&&h.invoice.paid}var g=b.id,h=this;h.isPaid=f,h.invoice={},e()}])}(),function(){"use strict";angular.module("app.project",["angular-clipboard","ngMessages","ui.bootstrap","ui.router","dialogs.main","dialogs.default-translations","xeditable","exceptionless","exceptionless.autofocus","exceptionless.billing","exceptionless.dialog","exceptionless.organization-notifications","exceptionless.project","exceptionless.organization","exceptionless.notification","exceptionless.refresh","exceptionless.token","exceptionless.validators"]).config(["$stateProvider","$urlRouterProvider",function(a){a.state("app.project",{abstract:!0,url:"/project",template:'<ui-view autoscroll="true" />'}),a.state("app.project.add",{title:"Add Project",url:"/add?{organizationId:[0-9a-fA-F]{24}}",controller:"project.Add",controllerAs:"vm",templateUrl:"app/project/add.tpl.html"}),a.state("app.project.configure",{title:"Configure Project",url:"/:id/configure?redirect",controller:"project.Configure",controllerAs:"vm",templateUrl:"app/project/configure.tpl.html"}),a.state("app.project.list",{title:"My Projects",url:"/list",controller:"project.List",controllerAs:"vm",templateUrl:"app/project/list.tpl.html"}),a.state("app.project.manage",{title:"Manage Project",url:"/{id:[0-9a-fA-F]{24}}/manage",controller:"project.Manage",controllerAs:"vm",templateUrl:"app/project/manage/manage.tpl.html"})}])}(),function(){"use strict";angular.module("app.project").controller("project.Add",["$state","$stateParams","$timeout","billingService","organizationService","projectService","notificationService",function(a,b,c,d,e,f,g){function h(a){function b(){n=!0}function d(a){var b=c(function(){c.cancel(b),h(!0)},a||100)}if(!p.addForm||p.addForm.$invalid)return b(),!a&&d(1e3);if(i()&&!p.organization_name||!p.project_name||p.addForm.$pending)return d();if(n)return n=!1,i()?j(p.organization_name).then(k).then(b,b):k(p.currentOrganization).then(b,b)}function i(){return p.currentOrganization.id===o||!m()}function j(a){function b(a){return p.organizations.push(a.data),p.currentOrganization=a.data,a.data}function c(b){if(426===b.status)return d.confirmUpgradePlan(b.data.message).then(function(){return j(a)});var c="An error occurred while creating the organization.";b.data&&b.data.message&&(c+=" Message: "+b.data.message),g.error(c)}return e.create(a).then(b,c)}function k(b){function c(b){a.go("app.project.configure",{id:b.data.id,redirect:!0})}function e(a){if(426===a.status)return d.confirmUpgradePlan(a.data.message,b.id).then(function(){return k(b)});var c="An error occurred while creating the project.";a.data&&a.data.message&&(c+=" Message: "+a.data.message),g.error(c)}return b?f.create(b.id,p.project_name).then(c,e):void(n=!0)}function l(){function a(a){p.organizations=a.data,p.organizations.push({id:o,name:"<New Organization>"});var c=p.currentOrganization.id?p.currentOrganization.id:b.organizationId;p.currentOrganization=p.organizations.filter(function(a){return a.id===c})[0],p.currentOrganization||(p.currentOrganization=p.organizations.length>0?p.organizations[0]:{})}e.getAll().then(a)}function m(){return p.organizations.filter(function(a){return a.id!==o}).length>0}var n=!0,o="__newOrganization",p=this;p.add=h,p.addForm={},p.canCreateOrganization=i,p.currentOrganization={},p.getOrganizations=l,p.hasOrganizations=m,p.organizations=[],l()}])}(),function(){"use strict";angular.module("app.project").controller("AddConfigurationDialog",["$ExceptionlessClient","$uibModalInstance",function(a,b,c){function d(){a.submitFeatureUsage(f+".cancel"),b.dismiss("cancel")}function e(c){c&&(a.createFeatureUsage(f+".save").setProperty("configuration",g.data).submit(),b.close(g.data))}var f="app.project.AddConfigurationDialog",g=this;g.cancel=d,g.configuration=c,g.data={},g.save=e,a.submitFeatureUsage(f)}])}(),function(){"use strict";angular.module("app.project").controller("project.Manage",["$state","$stateParams","billingService","projectService","tokenService","webHookService","notificationService","dialogs","dialogService",function(a,b,c,d,e,f,g,h,i){function j(){return h.create("app/project/manage/add-configuration-dialog.tpl.html","AddConfigurationDialog as vm",N.config).result.then(D)}function k(){function a(){g.error("An error occurred while creating a new API key for your project.")}var b={organization_id:N.project.organization_id,project_id:M};return e.create(b).catch(a)}function l(){return h.create("components/web-hook/add-web-hook-dialog.tpl.html","AddWebHookDialog as vm").result.then(function(a){return a.project_id=M,m(a)})}function m(a){function b(b){return 426===b.status?c.confirmUpgradePlan(b.data.message,N.project.organization_id).then(function(){return m(a)}):void g.error("An error occurred while saving the configuration setting.")}return f.create(a).catch(b)}function n(){g.success("Copied!")}function o(b){if(!L)return b&&"Project"===b.type&&b.deleted&&b.id===M?(a.go("app.project.list"),void g.error('The project "'+M+'" was deleted.')):p().then(q).then(r).then(s)}function p(){function b(a){return N.common_methods=null,N.user_namespaces=null,N.project=a.data.plain(),N.project&&N.project.data&&(N.common_methods=N.project.data.CommonMethods,N.user_namespaces=N.project.data.UserNamespaces),N.project}function c(){a.go("app.project.list"),g.error('The project "'+M+'" could not be found.')}return d.getById(M).then(b,c)}function q(){function a(a){return N.tokens=a.data.plain(),N.tokens}function b(){g.error("An error occurred loading the api keys.")}return e.getByProjectId(M).then(a,b)}function r(){function a(a){return N.config=[],N.data_exclusions=null,N.user_agents=null,angular.forEach(a.data.settings,function(a,b){"@@DataExclusions"===b?N.data_exclusions=a:"@@UserAgentBotPatterns"===b?N.user_agents=a:N.config.push({key:b,value:a})}),N.config}function b(){g.error("An error occurred loading the notification settings.")}return d.getConfig(M).then(a,b)}function s(){function a(a){return N.webHooks=a.data.plain(),N.webHooks}function b(){g.error("An error occurred loading the notification settings.")}return f.getByProjectId(M).then(a,b)}function t(){return N.config.length>0}function u(){return N.project&&N.project.has_premium_features}function v(){return N.tokens.length>0}function w(){return N.webHooks.length>0}function x(a){return i.confirmDanger("Are you sure you want to delete this configuration setting?","DELETE CONFIGURATION SETTING").then(function(){function b(){g.error("An error occurred while trying to delete the configuration setting.")}return d.removeConfig(M,a.key).catch(b)})}function y(){return i.confirmDanger("Are you sure you want to delete this project?","DELETE PROJECT").then(function(){function b(){g.info("Successfully queued the project for deletion."),a.go("app.project.list")}function c(){g.error("An error occurred while trying to delete the project."),L=!1}return L=!0,d.remove(M).then(b,c)})}function z(a){return i.confirmDanger("Are you sure you want to delete this API key?","DELETE API KEY").then(function(){function b(){g.error("An error occurred while trying to delete the API Key.")}return e.remove(a.id).catch(b)})}function A(a){return i.confirmDanger("Are you sure you want to delete this web hook?","DELETE WEB HOOK").then(function(){function b(){g.error("An error occurred while trying to delete the web hook.")}return f.remove(a.id).catch(b)})}function B(){return i.confirmDanger("Are you sure you want to reset the data for this project?","RESET PROJECT DATA").then(function(){function a(){g.error("An error occurred while resetting project data.")}return d.resetData(M).catch(a)})}function C(a){function b(){g.error("An error occurred while saving the project.")}if(a)return d.update(M,N.project).catch(b)}function D(a){function b(){g.error("An error occurred while saving the configuration setting.")}return d.setConfig(M,a.key,a.value).catch(b)}function E(){function a(){g.error("An error occurred while saving the common methods.")}return N.common_methods?d.setData(M,"CommonMethods",N.common_methods).catch(a):d.removeData(M,"CommonMethods").catch(a)}function F(){function a(){g.error("An error occurred while saving the the data exclusion.")}return N.data_exclusions?d.setConfig(M,"@@DataExclusions",N.data_exclusions).catch(a):d.removeConfig(M,"@@DataExclusions").catch(a)}function G(){function a(){g.error("An error occurred while saving the project.")}return d.update(M,{delete_bot_data_enabled:N.project.delete_bot_data_enabled}).catch(a)}function H(){function a(){g.error("An error occurred while saving the user agents.")}return N.user_agents?d.setConfig(M,"@@UserAgentBotPatterns",N.user_agents).catch(a):d.removeConfig(M,"@@UserAgentBotPatterns").catch(a)}function I(){function a(){g.error("An error occurred while saving the user namespaces.")}return N.user_namespaces?d.setData(M,"UserNamespaces",N.user_namespaces).catch(a):d.removeData(M,"UserNamespaces").catch(a)}function J(){return c.changePlan(N.project.organization_id)}function K(a,b){return a!==b&&(b?null:"Please enter a valid value.")}var L=!1,M=b.id,N=this;N.addToken=k,N.addConfiguration=j,N.addWebHook=l,N.config=[],N.copied=n,N.common_methods=null,N.data_exclusions=null,N.get=o,N.getTokens=q,N.getWebHooks=s,N.hasConfiguration=t,N.hasPremiumFeatures=u,N.hasTokens=v,N.hasWebHook=w,N.project={},N.projectForm={},N.removeConfig=x,N.removeProject=y,N.removeToken=z,N.removeWebHook=A,N.resetData=B,N.save=C,N.saveClientConfiguration=D,N.saveCommonMethods=E,N.saveDataExclusion=F,N.saveDeleteBotDataEnabled=G,N.saveUserAgents=H,N.saveUserNamespaces=I,N.showChangePlanDialog=J,N.tokens=[],N.user_agents=null,N.user_namespaces=null,N.validateClientConfiguration=K,N.webHooks=[],o()}])}(),function(){"use strict";angular.module("app.project").controller("project.Configure",["$rootScope","$state","$stateParams","notificationService","projectService","tokenService",function(a,b,c,d,e,f){function g(a){return r&&!!a&&a.project_id===q}function h(){d.success("Copied!")}function i(){function a(){return/iPhone|iPad/i.test(navigator.userAgent)?"Copy not supported.":/Mac/i.test(navigator.userAgent)?"Press ⌘-C to copy.":"Press Ctrl-C to copy."}var b=$("input.api-key");b.tooltip({placement:"bottom",title:a()}),b.select()}function j(){function a(a){return s.apiKey=a.data.id,s.apiKey}function b(){d.error("An error occurred while getting the API key for your project.")}return f.getProjectDefault(q).then(a,b)}function k(){function a(a){return s.project=a.data.plain(),s.project}function c(){b.go("app.dashboard"),d.error('The project "'+q+'" could not be found.')}return e.getById(q,!0).then(a,c)}function l(){return[{key:"Exceptionless",name:"Console and Service applications",platform:".NET"},{key:"Exceptionless.AspNetCore",name:"ASP.NET Core",platform:".NET"},{key:"Exceptionless.Mvc",name:"ASP.NET MVC",config:"web.config",platform:".NET"},{key:"Exceptionless.WebApi",name:"ASP.NET Web API",config:"web.config",platform:".NET"},{key:"Exceptionless.Web",name:"ASP.NET Web Forms",config:"web.config",platform:".NET"},{key:"Exceptionless.Windows",name:"Windows Forms",config:"app.config",platform:".NET"},{key:"Exceptionless.Wpf",name:"Windows Presentation Foundation (WPF)",config:"app.config",platform:".NET"},{key:"Exceptionless.Nancy",name:"Nancy",config:"app.config",platform:".NET"},{key:"Exceptionless.JavaScript",name:"Browser applications",platform:"JavaScript"},{key:"Exceptionless.Node",name:"Node.js",platform:"JavaScript"}]}function m(){return".NET"===s.currentProjectType.platform}function n(){return"JavaScript"===s.currentProjectType.platform}function o(){return"Exceptionless.Node"===s.currentProjectType.key}function p(){b.go("app.project-dashboard",{projectId:q})}var q=c.id,r="true"===c.redirect,s=this;s.apiKey=null,s.canRedirect=g,s.copied=h,s.currentProjectType={},s.isDotNet=m,s.isJavaScript=n,s.isNode=o,s.navigateToDashboard=p,s.onCopyError=i,s.project={},s.projectTypes=l(),j().then(k)}])}(),function(){"use strict";angular.module("app.project").controller("project.List",["projectService",function(a){var b=this;b.projects={get:a.getAll,options:{limit:10,mode:"stats"}}}])}(),function(){"use strict";angular.module("app.session",["angular-filters","angular-rickshaw","ui.router","exceptionless","exceptionless.duration","exceptionless.events","exceptionless.filter","exceptionless.link","exceptionless.notification","exceptionless.pagination","exceptionless.refresh","exceptionless.organization","exceptionless.organization-notifications","exceptionless.project","exceptionless.stat","exceptionless.summary","exceptionless.timeago","exceptionless.users"]).config(["$stateProvider",function(a){var b=["filterService",function(a){a.setOrganizationId(null,!0),a.setProjectId(null,!0),a.setEventType("session",!0)}],c=["filterService",function(a){a.setEventType(null,!0)}],d="Session Dashboard";a.state("app.session",{abstract:!0,url:"/session",template:'<ui-view autoscroll="true" />'}),a.state("app.session.dashboard",{title:d,url:"/dashboard",controller:"session.Dashboard",controllerAs:"vm",templateUrl:"app/session/dashboard.tpl.html",onEnter:b,onExit:c}),a.state("app.session-dashboard",{title:d,url:"/session/dashboard",controller:"session.Dashboard",controllerAs:"vm",templateUrl:"app/session/dashboard.tpl.html",onEnter:b,onExit:c}),a.state("app.session-project-dashboard",{title:d,url:"/project/{projectId:[0-9a-fA-F]{24}}/session/dashboard",controller:"session.Dashboard",controllerAs:"vm",templateUrl:"app/session/dashboard.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setProjectId(a.projectId,!0),b.setEventType("session",!0)}],onExit:c,resolve:{project:["$stateParams","projectService",function(a,b){return b.getById(a.projectId,!0)}]}}),a.state("app.session-organization-dashboard",{title:d,url:"/organization/{organizationId:[0-9a-fA-F]{24}}/session/dashboard",controller:"session.Dashboard",controllerAs:"vm",templateUrl:"app/session/dashboard.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setOrganizationId(a.organizationId,!0),b.setEventType("session",!0)}],onExit:c,resolve:{project:["$stateParams","organizationService",function(a,b){return b.getById(a.organizationId,!0)}]}})}])}(),function(){"use strict";angular.module("app.session").controller("session.Dashboard",["$ExceptionlessClient","eventService","$filter","filterService","notificationService","organizationService","statService",function(a,b,c,d,e,f,g){function h(){function a(a){j.stats=a.data.plain(),j.stats.timeline||(j.stats.timeline=[]),j.chart.options.series[0].data=j.stats.timeline.map(function(a){return{x:moment.utc(a.date).unix(),y:a.numbers[1],data:a}}),j.chart.options.series[1].data=j.stats.timeline.map(function(a){return{x:moment.utc(a.date).unix(),y:a.total,data:a}})}return g.getTimeline("avg:value,distinct:user.raw").then(a)}var i="app.session.Dashboard",j=this;j.chart={options:{padding:{top:.085},renderer:"stack",series:[{name:"Users",color:"rgba(60, 116, 0, .9)",stroke:"rgba(0, 0, 0, 0.15)"},{name:"Sessions",color:"rgba(124, 194, 49, .7)",stroke:"rgba(0, 0, 0, 0.15)"}],stroke:!0,unstack:!0},features:{hover:{render:function(a){var b=moment.unix(a.domainX),d=0===b.hours()&&0===b.minutes()?b.format("ddd, MMM D, YYYY"):b.format("ddd, MMM D, YYYY h:mma"),e='<div class="date">'+d+"</div>";a.detail.sort(function(a,b){return a.order-b.order}).forEach(function(a){var b='<span class="detail-swatch" style="background-color: '+a.series.color.replace("0.5","1")+'"></span>';e+=b+c("number")(a.formattedYValue)+" "+a.series.name+" <br />";
},this);var f=document.createElement("div");f.className="x_label",f.innerHTML=e,this.element.appendChild(f);var g=this._calcLayoutError([f]);if(g>0){f.classList.remove("left"),f.classList.add("right");var h=this._calcLayoutError([f]);h>g&&(f.classList.remove("right"),f.classList.add("left"))}this.show()}},range:{onSelection:function(b){var c=moment.unix(b.coordMinX).utc().local(),e=moment.unix(b.coordMaxX).utc().local();return d.setTime(c.format("YYYY-MM-DDTHH:mm:ss")+"-"+e.format("YYYY-MM-DDTHH:mm:ss")),a.createFeatureUsage(i+".chart.range.onSelection").setProperty("start",c).setProperty("end",e).submit(),!1}},xAxis:{timeFixture:new Rickshaw.Fixtures.Time.Local,overrideTimeFixtureCustomFormatters:!0},yAxis:{ticks:5,tickFormat:"formatKMBT",ticksTreatment:"glow"}}},j.get=h,j.recentSessions={get:function(a){return b.getAllSessions(a)},summary:{showType:!1},options:{limit:10,mode:"summary"},source:i+".Recent",hideActions:!0},j.stats={},h()}])}(),function(){"use strict";angular.module("app.session").directive("sessions",["linkService",function(a){return{bindToController:!0,restrict:"E",replace:!0,scope:{settings:"="},templateUrl:"app/session/sessions-directive.tpl.html",controller:["$ExceptionlessClient","$window","$state","$stateParams","linkService","filterService","notificationService","paginationService",function(a,b,c,d,e,f,g,h){function i(a){return a&&"PersistentEvent"===a.type?!!a.deleted&&(a.id&&p.events?p.events.filter(function(b){return b.id===a.id}).length>0:f.includedInProjectOrOrganizationFilter({organizationId:a.organization_id,projectId:a.project_id})):!a||"Stack"!==a.type||f.includedInProjectOrOrganizationFilter({organizationId:a.organization_id,projectId:a.project_id})}function j(a){function b(a){p.events=a.data.plain();var b=e.getLinksQueryParameters(a.headers("link"));return p.previous=b.previous,p.next=b.next,p.pageSummary=h.getCurrentPageSummary(a.data,p.currentOptions.page,p.currentOptions.limit),0===p.events.length&&p.currentOptions.page&&p.currentOptions.page>1?j():p.events}return p.loading=0===p.events.length,p.currentOptions=a||p.settings.options,p.settings.get(p.currentOptions).then(b).finally(function(){p.loading=!1})}function k(a){return a.data.SessionEnd?a.data.Value||0:moment().diff(a.date,"seconds")}function l(){return p.events&&p.events.length>0}function m(d,e){var f=e.ctrlKey||e.metaKey||2===e.which;a.createFeatureUsage(q+".open").setProperty("id",d).setProperty("_blank",f).submit(),f?b.open(c.href("app.event",{id:d},{absolute:!0}),"_blank"):c.go("app.event",{id:d}),e.preventDefault()}function n(){return a.createFeatureUsage(q+".nextPage").setProperty("next",p.next).submit(),j(p.next)}function o(){return a.createFeatureUsage(q+".previousPage").setProperty("previous",p.previous).submit(),j(p.previous)}var p=this,q=p.settings.source+".sessions";p.canRefresh=i,p.events=[],p.get=j,p.getDuration=k,p.hasEvents=l,p.hasFilter=f.hasFilter,p.loading=!0,p.open=m,p.nextPage=n,p.previousPage=o,p.showType=p.settings.summary?p.settings.summary.showType:!f.getEventType(),j()}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("app.stack",["cfp.hotkeys","ngMessages","ui.bootstrap","ui.router","dialogs.main","dialogs.default-translations","exceptionless","exceptionless.autofocus","exceptionless.dialog","exceptionless.event","exceptionless.events","exceptionless.filter","exceptionless.organization-notifications","exceptionless.promise-button","exceptionless.notification","exceptionless.rate-limit","exceptionless.refresh","exceptionless.stack","exceptionless.stack-dialog","exceptionless.stack-trace","exceptionless.stat"]).config(["$stateProvider",function(a){a.state("app.stack",{title:"Stack",url:"/stack/{id:[0-9a-fA-F]{24}}",controller:"Stack",controllerAs:"vm",templateUrl:"app/stack/stack.tpl.html"}),a.state("app.stack-action",{title:"Stack",url:"/stack/{id:[0-9a-fA-F]{24}}/:action",controller:"Stack",controllerAs:"vm",templateUrl:"app/stack/stack.tpl.html"})}])}(),function(){"use strict";angular.module("app.stack").controller("Stack",["$scope","$ExceptionlessClient","$filter","hotkeys","$state","$stateParams","billingService","dialogs","dialogService","eventService","filterService","notificationService","projectService","stackDialogService","stackService","statService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(){function c(a){b.createFeatureUsage(R+".hotkeys"+a).addTags("hotkeys").submit()}d.del("shift+h"),d.del("shift+f"),d.del("shift+c"),d.del("shift+m"),d.del("shift+p"),d.del("shift+r"),d.del("shift+Fbackspace"),d.bindTo(a).add({combo:"shift+h",description:T.isHidden()?"Mark Stack Unhidden":"Mark Stack Hidden",callback:function(){c("Hidden"),T.updateIsHidden()}}).add({combo:"shift+f",description:T.isFixed()?"Mark Stack Not fixed":"Mark Stack Fixed",callback:function(){c("Fixed"),T.updateIsFixed()}}).add({combo:"shift+c",description:T.isCritical()?"Future Stack Occurrences are Not Critical":"Future Stack Occurrences are Critical",callback:function(){c("Critical"),T.updateIsCritical()}}).add({combo:"shift+m",description:T.notificationsDisabled()?"Enable Stack Notifications":"Disable Stack Notifications",callback:function(){c("Notifications"),T.updateNotifications()}}).add({combo:"shift+p",description:"Promote Stack To External",callback:function(){c("Promote"),T.promoteToExternal()}}).add({combo:"shift+r",description:"Add Stack Reference Link",callback:function(){c("Reference"),T.addReferenceLink()}}).add({combo:"shift+backspace",description:"Delete Stack",callback:function(){c("Delete"),T.remove()}})}function r(){return b.submitFeatureUsage(R+".addReferenceLink"),h.create("app/stack/add-reference-dialog.tpl.html","AddReferenceDialog as vm").result.then(function(a){function c(){b.createFeatureUsage(R+".addReferenceLink.success").setProperty("url",a).submit(),T.stack.references.push(a)}function d(){b.createFeatureUsage(R+".addReferenceLink.error").setProperty("url",a).submit(),l.error("An error occurred while adding the reference link.")}if(T.stack.references.indexOf(a)<0)return o.addLink(S,a).then(c,d)})}function s(){var a=f.action;return"mark-fixed"!==a||F()?"stop-notifications"!==a||J()?void 0:Q(!0):O(!0)}function t(a){return!(!a||"Stack"!==a.type||a.id!==S)||!(!a||"PersistentEvent"!==a.type)&&((!a.organization_id||a.organization_id===T.stack.organization_id)&&((!a.project_id||a.project_id===T.stack.project_id)&&(!a.stack_id||a.stack_id===S)))}function u(a){return a&&"Stack"===a.type&&a.deleted?(e.go("app.dashboard"),void l.error('The stack "'+S+'" was deleted.')):a&&"PersistentEvent"===a.type?y():w().then(y).then(v)}function v(){function a(a){return T.project=a.data.plain(),T.project}return m.getById(T.stack.project_id,!0).then(a)}function w(){function a(a){T.stack=a.data.plain(),T.stack.references=T.stack.references||[],q()}function b(a){e.go("app.dashboard"),404===a.status?l.error('The stack "'+S+'" could not be found.'):l.error('An error occurred while loading the stack "'+S+'".')}return o.getById(S).then(a,b)}function x(){function a(a){return a.filter="project:"+T.stack.project_id,a}function b(a){return T.total_users=a.data.numbers[0]||0,a}return p.get("distinct:user.raw",a).then(b)}function y(){function a(a){return"distinct:user.raw"+a.filter(function(a){return a.selected}).reduce(function(a,b){return a.push(b.field),a},[]).join(",")}function b(a){return a.filter=["stack:"+S,a.filter].filter(function(a){return a&&a.length>0}).join(" "),a}function c(a){T.stats=a.data.plain(),T.stats.timeline||(T.stats.timeline=[]);var b=["rgba(124, 194, 49, .7)","rgba(60, 116, 0, .9)","rgba(89, 89, 89, .3)"];return T.chart.options.series=T.chartOptions.filter(function(a){return a.selected}).reduce(function(a,b,c){return a.push({name:b.name,stroke:"rgba(0, 0, 0, 0.15)",data:T.stats.timeline.map(function(a){return{x:moment.utc(a.date).unix(),y:0===c?a.total:a.numbers[c],data:a}})}),a},[]).sort(function(a,b){function c(a,b){return a+b.y}return b.data.reduce(c,0)-a.data.reduce(c,0)}).map(function(a,c){return a.color=b[c],a}),a}return p.getTimeline(a(T.chartOptions),b).then(c).then(x)}function z(){return T.stack.tags&&T.stack.tags.length>0}function A(){return T.stack.references&&T.stack.references.length>0}function B(){return T.stack.references&&T.stack.references.length>1}function C(){return T.chartOptions.filter(function(a){return a.render&&a.selected}).length>0}function D(){return T.isHidden()||T.isCritical()||T.notificationsDisabled()}function E(){return T.stack.occurrences_are_critical===!0}function F(){return!!T.stack.date_fixed&&!H()}function G(){return T.stack.is_hidden===!0}function H(){return T.stack.is_regressed===!0}function I(a){var b=moment(a);return!!a&&b.isValid()&&b.year()>1}function J(){return T.stack.disable_notifications===!0}function K(){function a(){b.createFeatureUsage(R+".promoteToExternal.success").setProperty("id",S).submit(),l.success("Successfully promoted stack!")}function c(a){return b.createFeatureUsage(R+".promoteToExternal.error").setProperty("id",S).setProperty("response",a).submit(),426===a.status?g.confirmUpgradePlan(a.data.message,T.stack.organization_id).then(function(){return K()}):501===a.status?i.confirm(a.data.message,"Manage Integrations").then(function(){e.go("app.project.manage",{id:T.stack.project_id})}):void l.error("An error occurred while promoting this stack.")}if(b.createFeatureUsage(R+".promoteToExternal").setProperty("id",S).submit(),T.project&&!T.project.has_premium_features){var d="Promote to External is a premium feature used to promote an error stack to an external system. Please upgrade your plan to enable this feature.";return g.confirmUpgradePlan(d,T.stack.organization_id).then(function(){return K()})}return o.promote(S).then(a,c)}function L(a){return b.createFeatureUsage(R+".removeReferenceLink").setProperty("id",S).submit(),i.confirmDanger("Are you sure you want to delete this reference link?","DELETE REFERENCE LINK").then(function(){function c(){b.createFeatureUsage(R+".removeReferenceLink.success").setProperty("id",S).submit()}function d(a){b.createFeatureUsage(R+".removeReferenceLink.error").setProperty("id",S).setProperty("response",a).submit(),l.info("An error occurred while deleting the external reference link.")}return o.removeLink(S,a).then(c,d)})}function M(){b.createFeatureUsage(R+".remove").setProperty("id",S).submit();var a="Are you sure you want to delete this stack (includes all stack events)?";return i.confirmDanger(a,"DELETE STACK").then(function(){function a(){l.info("Successfully queued the stack for deletion."),b.createFeatureUsage(R+".remove.success").setProperty("id",S).submit(),e.go("app.project-dashboard",{projectId:T.stack.project_id})}function c(a){b.createFeatureUsage(R+".remove.error").setProperty("id",S).setProperty("response",a).submit(),l.error("An error occurred while deleting this stack.")}return o.remove(S).then(a,c)})}function N(){function a(){b.createFeatureUsage(R+".updateIsCritical.success").setProperty("id",S).submit()}function c(a){b.createFeatureUsage(R+".updateIsCritical.error").setProperty("id",S).setProperty("response",a).submit(),l.error("An error occurred while marking future occurrences as "+(E()?"not critical.":"critical."))}return b.createFeatureUsage(R+".updateIsCritical").setProperty("id",S).submit(),E()?o.markNotCritical(S).then(a,c):o.markCritical(S).catch(a,c)}function O(a){function c(){if(b.createFeatureUsage(R+".updateIsFixed.success").setProperty("id",S).submit(),a){var c=F()?" not":"";l.info("Successfully queued the stack to be marked as"+c+" fixed.")}}function d(a){b.createFeatureUsage(R+".updateIsFixed.error").setProperty("id",S).setProperty("response",a).submit();var c=F()?" not":"";l.error("An error occurred while marking this stack as"+c+" fixed.")}return b.createFeatureUsage(R+".updateIsFixed").setProperty("id",S).submit(),F()?o.markNotFixed(S).then(c,d):n.markFixed().then(function(a){return o.markFixed(S,a).then(c,d)})}function P(){function a(){b.createFeatureUsage(R+".updateIsHidden.success").setProperty("id",S).submit(),l.info("Successfully queued the stack to be marked as "+(G()?"shown.":"hidden."))}function c(a){b.createFeatureUsage(R+".updateIsHidden.error").setProperty("id",S).setProperty("response",a).submit(),l.error("An error occurred while marking this stack as "+(G()?"shown.":"hidden."))}return b.createFeatureUsage(R+".updateIsHidden").setProperty("id",S).submit(),G()?o.markNotHidden(S).then(a,c):o.markHidden(S).then(a,c)}function Q(a){function c(){if(b.createFeatureUsage(R+".updateNotifications.success").setProperty("id",S).submit(),a){var c=J()?"enabled":"disabled";l.info("Successfully "+c+" stack notifications.")}}function d(a){b.createFeatureUsage(R+".updateNotifications.error").setProperty("id",S).setProperty("response",a).submit();var c=J()?"enabling":"disabling";l.error("An error occurred while "+c+" stack notifications.")}return b.createFeatureUsage(R+".updateNotifications").setProperty("id",S).submit(),J()?o.enableNotifications(S).then(c,d):o.disableNotifications(S).then(c,d)}var R="app.stack.Stack",S=f.id,T=this;T.addReferenceLink=r,T.chart={options:{padding:{top:.085},renderer:"stack",stroke:!0,unstack:!0},features:{hover:{render:function(a){var b=moment.unix(a.domainX),d=0===b.hours()&&0===b.minutes()?b.format("ddd, MMM D, YYYY"):b.format("ddd, MMM D, YYYY h:mma"),e='<div class="date">'+d+"</div>";a.detail.sort(function(a,b){return a.order-b.order}).forEach(function(a){var b='<span class="detail-swatch" style="background-color: '+a.series.color.replace("0.5","1")+'"></span>';e+=b+c("number")(a.formattedYValue)+" "+a.series.name+"<br />"},this);var f=document.createElement("div");f.className="x_label",f.innerHTML=e,this.element.appendChild(f);var g=this._calcLayoutError([f]);if(g>0){f.classList.remove("left"),f.classList.add("right");var h=this._calcLayoutError([f]);h>g&&(f.classList.remove("right"),f.classList.add("left"))}this.show()}},range:{onSelection:function(a){var c=moment.unix(a.coordMinX).utc().local(),d=moment.unix(a.coordMaxX).utc().local();return k.setTime(c.format("YYYY-MM-DDTHH:mm:ss")+"-"+d.format("YYYY-MM-DDTHH:mm:ss")),b.createFeatureUsage(R+".chart.range.onSelection").setProperty("id",S).setProperty("start",c).setProperty("end",d).submit(),!1}},xAxis:{timeFixture:new Rickshaw.Fixtures.Time.Local,overrideTimeFixtureCustomFormatters:!0},yAxis:{ticks:5,tickFormat:"formatKMBT",ticksTreatment:"glow"}}},T.chartOptions=[{name:"Occurrences",selected:!0,render:!1},{name:"Average Value",field:"avg:value",title:"The average of all event values",render:!0},{name:"Value Sum",field:"sum:value",title:"The sum of all event values",render:!0}],T.canRefresh=t,T.get=u,T.getStats=y,T.hasTags=z,T.hasReference=A,T.hasReferences=B,T.hasSelectedChartOption=C,T.hasSelectedOption=D,T.isCritical=E,T.isFixed=F,T.isHidden=G,T.isRegressed=H,T.isValidDate=I,T.notificationsDisabled=J,T.promoteToExternal=K,T.project={},T.remove=M,T.removeReferenceLink=L,T.recentOccurrences={get:function(a){return j.getByStackId(S,a)},summary:{showType:!1},options:{limit:10,mode:"summary"},source:R+".Recent"},T.stack={},T.stats={},T.total_users=0,T.updateIsCritical=N,T.updateIsFixed=O,T.updateIsHidden=P,T.updateNotifications=Q,u().then(s)}])}(),function(){"use strict";angular.module("app.stack").controller("AddReferenceDialog",["$ExceptionlessClient","$uibModalInstance",function(a,b){function c(){a.submitFeatureUsage(e+".cancel"),b.dismiss("cancel")}function d(c){c&&(a.createFeatureUsage(e+".save").setProperty("url",f.data.url).submit(),b.close(f.data.url))}var e="app.stack.AddReferenceDialog",f=this;f.cancel=c,f.save=d,a.submitFeatureUsage(e)}])}(),function(){"use strict";angular.module("app.status",["ui.router","exceptionless.auth","exceptionless.state","exceptionless.status"]).config(["$stateProvider",function(a){a.state("status",{title:"Status",url:"/status?redirect",controller:"Status",controllerAs:"vm",templateUrl:"app/status/status.tpl.html"})}])}(),function(){"use strict";angular.module("app.status").controller("Status",["$interval","$scope","$state","$stateParams","authService","stateService","statusService","Restangular",function(a,b,c,d,e,f,g,h){function i(){return m?"We're sorry but the website is currently undergoing maintenance. You’ll be automatically redirected when the the maintenance is completed. Please contact support for more information.":l?l:"We're sorry but the website is currently undergoing maintenance. Please contact support for more information."}function j(){function a(a){a&&a.data&&a.data.message?(l=a.data.message,200!==a.status&&(l+=" Please contact support for more information.")):l=null}function b(b){return m&&moment().diff(k,"seconds")>30?e.isAuthenticated()?f.restore():c.go("auth.login"):a(b)}return g.get().then(b,a)}var k=moment(),l=null,m=!!d.redirect,n=this,o=a(j,3e4);b.$on("$destroy",function(){a.cancel(o)}),n.getMessage=i,j()}])}(),angular.module("app").run(["$templateCache",function(a){"use strict";a.put("app/account/manage.tpl.html",'<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col" refresh-on="UserChanged ProjectChanged" refresh-action="vm.get(data)" refresh-debounce="1000"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-user"></i> My Account</div> <div class="panel-body m-b-n"> <uib-tabset class="tab-container" active="vm.activeTabIndex"> <uib-tab heading="General"> <form name="fullNameForm" role="form" class="form-validation" autocomplete="on"> <div class="form-group"> <img gravatar-src="vm.user.email_address" gravatar-size="100" alt="{{vm.user.full_name}}" class="img-thumbnail"> <div> <small> Your avatar is generated by requesting a <a href="https://gravatar.com" target="_blank">Gravatar image</a> with the email address below. </small> </div> </div> <div class="form-group"> <label for="name">Full Name</label> <input id="name" name="name" type="text" class="form-control" x-autocompletetype="full-name" autocapitalize="words" autocorrect="off" spellcheck="false" placeholder="Your first and last name" ng-model="vm.user.full_name" ng-model-options="{ debounce: 500 }" ng-change="vm.saveUser(fullNameForm.$valid)" ng-required="true"> <div class="error" ng-messages="fullNameForm.name.$error" ng-if="fullNameForm.$submitted || fullNameForm.name.$touched"> <small ng-message="required">Full Name is required.</small> </div> </div> </form> <form name="vm.emailAddressForm" role="form" class="form-validation" autocomplete="on"> <div class="form-group"> <label for="email">Email Address</label> <div ng-class="{\'input-group\': vm.emailAddressForm.$pending }"> <input id="email" name="email" type="email" class="form-control" x-autocompletetype="email" autocorrect="off" spellcheck="false" placeholder="Email Address" ng-model="vm.user.email_address" ng-model-options="{ debounce: 1000 }" ng-change="vm.saveEmailAddress()" email-address-available-validator required> <span class="input-group-addon" ng-if="vm.emailAddressForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.emailAddressForm.email.$error" ng-if="vm.emailAddressForm.$submitted || vm.emailAddressForm.email.$touched"> <small ng-message="required">Email Address is required.</small> <small ng-message="email">Email Address is required.</small> <small ng-message="unique">A user already exists with this email address.</small> </div> <p ng-if="!vm.user.is_email_address_verified" class="help-block"> Email not verified. <a ng-click="vm.resendVerificationEmail()">Resend</a> verification email. </p> </div> </form> </uib-tab> <uib-tab heading="Notifications"> <form role="form" class="form-validation"> <div class="alert in fade alert-danger" ng-if="!vm.user.is_email_address_verified || !vm.user.email_notifications_enabled"> Email notifications are currently disabled. <span ng-if="!vm.user.is_email_address_verified">To enable email notifications you must first verify your email address. <a ng-click="vm.resendVerificationEmail()">Resend</a> verification email.</span> </div> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="vm.user.email_notifications_enabled" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEnableEmailNotification()"> <i></i> Enable email notifications </label> </div> <div ng-if="vm.hasProjects()"> <hr> <p>Choose how often you want to receive notifications for event occurrences in this project.</p> <select class="form-control" ng-model="vm.currentProject" ng-change="vm.getEmailNotificationSettings()" ng-disabled="!vm.hasEmailNotifications()" ng-options="project.name group by project.organization_name for project in vm.projects | orderBy: \'name\' track by project.id"></select> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="vm.emailNotificationSettings.send_daily_summary" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailNotificationSettings()" ng-disabled="!vm.hasEmailNotifications()"> <i></i> Send daily project summary </label> </div> <hr ng-if="!vm.hasPremiumFeatures()"> <div class="alert in fade alert-success" ng-if="!vm.hasPremiumFeatures()"> <a ng-click="vm.showChangePlanDialog()">Upgrade now</a> to enable occurrence level notifications! </div> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="vm.emailNotificationSettings.report_new_errors" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailNotificationSettings()" ng-disabled="!vm.hasPremiumEmailNotifications()"> <i></i> Notify me on new errors </label> </div> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="vm.emailNotificationSettings.report_critical_errors" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailNotificationSettings()" ng-disabled="!vm.hasPremiumEmailNotifications()"> <i></i> Notify me on critical errors </label> </div> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="vm.emailNotificationSettings.report_event_regressions" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailNotificationSettings()" ng-disabled="!vm.hasPremiumEmailNotifications()"> <i></i> Notify me on error regressions </label> </div> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="vm.emailNotificationSettings.report_new_events" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailNotificationSettings()" ng-disabled="!vm.hasPremiumEmailNotifications()"> <i></i> Notify me on new events </label> </div> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="vm.emailNotificationSettings.report_critical_events" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailNotificationSettings()" ng-disabled="!vm.hasPremiumEmailNotifications()"> <i></i> Notify me on critical events </label> </div> </div> </form> </uib-tab> <uib-tab heading="Password"> <form name="vm.passwordForm" role="form" class="form-validation"> <div class="form-group" ng-if="vm.hasLocalAccount()"> <label for="current">Current Password</label> <input id="current" name="current" type="password" class="form-control" ng-model="vm.password.current_password" required> <div class="error" ng-messages="vm.passwordForm.current.$error" ng-if="vm.passwordForm.$submitted || vm.passwordForm.current.$touched"> <small ng-message="required">Current Password is required.</small> </div> </div> <div class="form-group"> <label for="newPassword">New Password</label> <input id="newPassword" name="newPassword" type="password" class="form-control" ng-model="vm.password.password" ng-minlength="6" ng-maxlength="100" required> <div class="error" ng-messages="vm.passwordForm.newPassword.$error" ng-if="vm.passwordForm.$submitted || vm.passwordForm.newPassword.$touched"> <small ng-message="required">New Password is required.</small> <small ng-message="minlength">New Password must be at least 6 characters long.</small> <small ng-message="maxlength">New Password must be less than 101 characters long.</small> </div> </div> <div class="form-group"> <label for="confirmPassword">Confirm password</label> <input id="confirmPassword" name="confirmPassword" type="password" class="form-control" ng-model="vm.password.confirm_password" match="vm.password.password" ng-minlength="6" ng-maxlength="100" ng-required="true"> <div class="error" ng-messages="vm.passwordForm.confirmPassword.$error" ng-if="vm.passwordForm.$submitted || vm.passwordForm.confirmPassword.$touched"> <small ng-message="match">New Password and Confirmation Password fields do not match.</small> <small ng-message="required">Confirm Password is required.</small> <small ng-message="minlength">Confirm Password must be at least 6 characters long.</small> <small ng-message="maxlength">Confirm Password must be less than 101 characters long.</small> </div> </div> <button type="submit" role="button" class="btn btn-primary" promise-button="vm.changePassword(vm.passwordForm.$valid)" promise-button-busy-text="{{vm.hasLocalAccount() ? \'Changing Password\' : \'Setting Password\'}}">{{vm.hasLocalAccount() ? \'Change Password\' : \'Set Password\'}}</button> </form> </uib-tab> <uib-tab heading="External Logins" ng-if="vm.isExternalLoginEnabled()"> <h4>Add an external login</h4> <div> <button type="button" role="button" ng-click="vm.authenticate(\'live\')" ng-if="vm.isExternalLoginEnabled(\'live\')" class="btn btn-large image-button icon-login-microsoft" title="Log in using your Microsoft account"></button> <button type="button" role="button" ng-click="vm.authenticate(\'google\')" ng-if="vm.isExternalLoginEnabled(\'google\')" class="btn btn-large image-button icon-login-google" title="Log in using your Google account"></button> <button type="button" role="button" ng-click="vm.authenticate(\'facebook\')" ng-if="vm.isExternalLoginEnabled(\'facebook\')" class="btn btn-large image-button icon-login-facebook" title="Log in using your Facebook account"></button> <button type="button" role="button" ng-click="vm.authenticate(\'github\')" ng-if="vm.isExternalLoginEnabled(\'github\')" class="btn btn-large image-button icon-login-github" title="Log in using your GitHub account"></button> </div> <h4>Existing external logins</h4> <div class="table-responsive"> <table class="table table-striped table-bordered table-fixed b-t"> <thead> <tr> <th>Name</th> <th class="action">Actions</th> </tr> </thead> <tbody> <tr ng-repeat="account in vm.user.o_auth_accounts" ng-if="vm.hasOAuthAccounts()"> <td>{{::account.provider}} ({{::account.username || account.provider_user_id}})</td> <td> <button type="button" role="button" class="btn btn-sm" title="Remove" ng-disabled="!vm.canRemoveOAuthAccount()" ng-click="vm.unlink(account)"> <i class="fa fa-times"></i> </button> </td> </tr> <tr ng-if="!vm.hasOAuthAccounts()"> <td colspan="2"> <strong>No external logins were found.</strong> </td> </tr> </tbody> </table> </div> </uib-tab> </uib-tabset> </div> <footer class="panel-footer"> <div class="pull-right"> <div ng-if="!vm.currentProject.id"> <a ui-sref="app.dashboard" class="btn btn-default" role="button">Go To Dashboard</a> </div> <div ng-if="vm.currentProject.id"> <a ui-sref="app.project-dashboard({ projectId: vm.currentProject.id })" class="btn btn-default" role="button">Go To Dashboard</a> </div> </div> <div class="clearfix"></div> </footer> </div> </div> </div> </div> '),a.put("app/admin/dashboard.tpl.html",'<div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="PersistentEventChanged" refresh-action="vm.get()" refresh-throttle="10000"> <div class="col" refresh-on="filterChanged" refresh-action="vm.get()"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-signal"></i> Dashboard</div> <div class="panel-body"> <p>This dashboard has yet to be finished. It will contain a system level overview.</p> </div> </div> </div> </div> </div> '),a.put("app/app.tpl.html",'<div class="app-header-fixed app-aside-fixed" ng-class="{\'app-aside-folded\': appVm.isSideNavCollapsed}"> <nav ng-include="\'app/blocks/header.tpl.html\'" class="app-header navbar navbar-default bg-black"></nav> <div ng-include="\'app/blocks/sidebar.tpl.html\'" class="app-aside hidden-xs bg-dark"></div> <div class="app-content" refresh-on="UserChanged" refresh-action="appVm.getUser(data)" refresh-debounce="1000"> <div refresh-on="OrganizationChanged" refresh-action="appVm.getOrganizations()" refresh-debounce="5000"></div> <button type="button" role="button" class="off-screen-toggle hide" ui-toggle-class="off-screen" data-target=".app-aside"></button> <div class="alert alert-danger alert-banner m-b-none" ng-if="appVm.hasSystemNotificationMessage()"> <div ng-bind-html="appVm.getSystemNotificationMessage()"></div> </div> <rate-limit></rate-limit> <div class="app-content-body fade-in" ui-view autoscroll="true"></div> </div> <div class="app-footer wrapper b-t bg-light"> <span class="pull-right"> <a href="https://github.com/exceptionless/Exceptionless.UI/releases" target="_blank">2.5.1009</a> <a href="javascript:void(0);" ui-scroll="app" class="m-l-sm text-muted"><i class="fa fa-long-arrow-up"></i></a> </span> &copy; 2016 <a href="http://exceptionless.io">Exceptionless</a> </div> <intercom ng-if="appVm.isIntercomEnabled()"></intercom> </div> '),a.put("app/auth/forgot-password.tpl.html",'<div> <rate-limit></rate-limit> <div class="container w-auto-xs"> <div class="text-center m-t"> <a href="http://exceptionless.io"> <img src="/img/exceptionless-350.png" alt="logo"> </a> </div> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><strong>Reset your password</strong></div> <div class="panel-body"> <form name="forgotForm" role="form" class="form-validation form-horizontal" autocomplete="on"> <div class="form-group"> <label for="email" class="col-sm-2 control-label">Email</label> <div class="col-sm-10"> <input id="email" name="email" type="email" class="form-control" placeholder="Email address" x-autocompletetype="email" autocorrect="off" spellcheck="false" ng-model="vm.email" ng-required="true" autofocus> <div class="error" ng-messages="forgotForm.email.$error" ng-if="forgotForm.$submitted || forgotForm.email.$touched"> <small ng-message="required">Email Address is required.</small> <small ng-message="email">Email Address is required.</small> </div> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.resetPassword(forgotForm.$valid)" value="Forgot Password"> </div> </div> </form> </div> </div> </div> </div> </div> </div> </div> '),a.put("app/auth/login.tpl.html",'<div> <rate-limit></rate-limit> <div class="container w-auto-xs"> <div class="text-center m-t"> <a href="http://exceptionless.io"> <img src="/img/exceptionless-350.png" alt="logo"> </a> </div> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-body"> <form name="vm.loginForm" role="form" class="form-horizontal form-validation" autocomplete="on"> <div class="form-horizontal col-sm-offset-2"> <h4>Login <span ng-if="vm.isExternalLoginEnabled()">with</span></h4> <div class="form-group" style="margin-left:0px" ng-if="vm.isExternalLoginEnabled()"> <button type="button" role="button" ng-click="vm.authenticate(\'live\')" ng-if="vm.isExternalLoginEnabled(\'live\')" class="btn btn-large image-button icon-login-microsoft" title="Log in using your Microsoft account"></button> <button type="button" role="button" ng-click="vm.authenticate(\'google\')" ng-if="vm.isExternalLoginEnabled(\'google\')" class="btn btn-large image-button icon-login-google" title="Log in using your Google account"></button> <button type="button" role="button" ng-click="vm.authenticate(\'facebook\')" ng-if="vm.isExternalLoginEnabled(\'facebook\')" class="btn btn-large image-button icon-login-facebook" title="Log in using your Facebook account"></button> <button type="button" role="button" ng-click="vm.authenticate(\'github\')" ng-if="vm.isExternalLoginEnabled(\'github\')" class="btn btn-large image-button icon-login-github" title="Log in using your GitHub account"></button> </div> <div class="form-group" ng-if="vm.isExternalLoginEnabled()"> <div class="col-sm-10 horizontal-divider"> <p>OR</p> <span></span> </div> </div> </div> <div class="form-group"> <label for="email" class="col-sm-2 control-label">Email</label> <div class="col-sm-10"> <input id="email" name="email" type="email" class="form-control" placeholder="Email address" x-autocompletetype="email" autocorrect="off" spellcheck="false" ng-model="vm.user.email" ng-required="true" autofocus> <div class="error" ng-messages="vm.loginForm.email.$error" ng-if="vm.loginForm.$submitted || vm.loginForm.email.$touched"> <small ng-message="required">Email Address is required.</small> <small ng-message="email">Email Address is required.</small> </div> </div> </div> <div class="form-group"> <label for="password" class="col-sm-2 control-label">Password</label> <div class="col-sm-10"> <input id="password" name="password" type="password" class="form-control" placeholder="Password" ng-model="vm.user.password" ng-minlength="6" ng-maxlength="100" ng-required="true"> <div class="error" ng-messages="vm.loginForm.password.$error" ng-if="vm.loginForm.$submitted || vm.loginForm.password.$touched"> <small ng-message="required">Password is required.</small> <small ng-message="minlength">Password must be at least 6 characters long.</small> <small ng-message="maxlength">Password must be less than 101 characters long.</small> </div> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <input type="submit" role="button" id="login" ng-click="vm.login(vm.loginForm.$valid)" class="btn btn-primary" value="Log in"> <a class="btn btn-default" role="button" ui-sref="auth.signup({ token: vm.token })">Signup</a> <p><a ui-sref="auth.forgot-password">Forgot password?</a></p> </div> </div> </form> </div> </div> <div class="text-center"> By signing up, you agree to our <a href="http://exceptionless.io/privacy" target="_blank">Privacy Policy</a> and <a href="http://exceptionless.io/terms" target="_blank">Terms of Service</a>. </div> </div> </div> </div> </div> </div> '),
a.put("app/auth/reset-password.tpl.html",'<div> <rate-limit></rate-limit> <div class="container w-auto-xs"> <div class="text-center m-t"> <a href="http://exceptionless.io"> <img src="/img/exceptionless-350.png" alt="logo"> </a> </div> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><strong>Change password</strong></div> <div class="panel-body"> <form name="passwordForm" role="form" class="form-validation form-horizontal"> <div class="form-group"> <label for="password" class="col-sm-2 control-label">New Password</label> <div class="col-sm-10"> <input id="password" name="password" type="password" class="form-control" ng-model="vm.data.password" ng-minlength="6" ng-maxlength="100" ng-required="true" autofocus> <div class="error" ng-messages="passwordForm.password.$error" ng-if="passwordForm.$submitted || passwordForm.password.$touched"> <small ng-message="required">New Password is required.</small> <small ng-message="minlength">New Password must be at least 6 characters long.</small> <small ng-message="maxlength">New Password must be less than 101 characters long.</small> </div> </div> </div> <div class="form-group"> <label for="confirmPassword" class="col-sm-2 control-label">Confirm password</label> <div class="col-sm-10"> <input id="confirmPassword" name="confirmPassword" type="password" class="form-control" ng-model="vm.data.confirm_password" match="vm.data.password" ng-minlength="6" ng-maxlength="100" ng-required="true"> <div class="error" ng-messages="passwordForm.confirmPassword.$error" ng-if="passwordForm.$submitted || passwordForm.confirmPassword.$touched"> <small ng-message="match">New Password and Confirmation Password fields do not match.</small> <small ng-message="required">Confirm Password is required.</small> <small ng-message="minlength">Confirm Password must be at least 6 characters long.</small> <small ng-message="maxlength">Confirm Password must be less than 101 characters long.</small> </div> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.changePassword(passwordForm.$valid)" value="Change Password"> </div> </div> </form> </div> </div> </div> </div> </div> </div> </div> '),a.put("app/auth/signup.tpl.html",'<div> <rate-limit></rate-limit> <div class="container w-auto-xs"> <div class="text-center m-t"> <a href="http://exceptionless.io"> <img src="/img/exceptionless-350.png" alt="logo"> </a> </div> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading text-center"><strong>Signup for a FREE account in seconds</strong></div> <div class="panel-body"> <form name="vm.signupForm" role="form" class="form-horizontal form-validation" autocomplete="on"> <div class="form-horizontal col-sm-offset-2"> <h4 ng-if="vm.isExternalLoginEnabled()">Login with</h4> <div class="form-group" style="margin-left:0px" ng-if="vm.isExternalLoginEnabled()"> <button type="button" role="button" ng-click="vm.authenticate(\'live\')" ng-if="vm.isExternalLoginEnabled(\'live\')" class="btn btn-large image-button icon-login-microsoft" title="Log in using your Microsoft account"></button> <button type="button" role="button" ng-click="vm.authenticate(\'google\')" ng-if="vm.isExternalLoginEnabled(\'google\')" class="btn btn-large image-button icon-login-google" title="Log in using your Google account"></button> <button type="button" role="button" ng-click="vm.authenticate(\'facebook\')" ng-if="vm.isExternalLoginEnabled(\'facebook\')" class="btn btn-large image-button icon-login-facebook" title="Log in using your Facebook account"></button> <button type="button" role="button" ng-click="vm.authenticate(\'github\')" ng-if="vm.isExternalLoginEnabled(\'github\')" class="btn btn-large image-button icon-login-github" title="Log in using your GitHub account"></button> </div> <div class="form-group" ng-if="vm.isExternalLoginEnabled()"> <div class="col-sm-10 horizontal-divider"> <p>OR</p> <span></span> </div> </div> <h4>Create an account</h4> </div> <div class="form-group"> <label for="name" class="col-sm-2 control-label">Name</label> <div class="col-sm-10"> <input id="name" name="name" type="text" class="form-control" placeholder="Your first and last name" x-autocompletetype="full-name" autocapitalize="words" autocorrect="off" spellcheck="false" ng-model="vm.user.name" ng-required="true" autofocus> <div class="error" ng-messages="vm.signupForm.name.$error" ng-if="vm.signupForm.$submitted || vm.signupForm.name.$touched"> <small ng-message="required">Full Name is required.</small> </div> </div> </div> <div class="form-group"> <label for="email" class="col-sm-2 control-label">Email</label> <div class="col-sm-10"> <div ng-class="{\'input-group\': vm.signupForm.$pending }"> <input id="email" name="email" type="email" class="form-control" placeholder="Email address (no spam)" x-autocompletetype="email" autocorrect="off" spellcheck="false" ng-model="vm.user.email" ng-model-options="{ debounce: 1000 }" email-address-available-validator ng-required="true"> <span class="input-group-addon" ng-if="vm.signupForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.signupForm.email.$error" ng-if="vm.signupForm.$submitted || vm.signupForm.email.$touched"> <small ng-message="required">Email Address is required.</small> <small ng-message="email">Email Address is required.</small> <small ng-message="unique">A user already exists with this email address.</small> </div> </div> </div> <div class="form-group"> <label for="password" class="col-sm-2 control-label">Password</label> <div class="col-sm-10"> <input id="password" name="password" type="password" class="form-control" placeholder="Password" ng-model="vm.user.password" ng-minlength="6" ng-maxlength="100" ng-required="true"> <div class="error" ng-messages="vm.signupForm.password.$error" ng-if="vm.signupForm.$submitted || vm.signupForm.password.$touched"> <small ng-message="required">Password is required.</small> <small ng-message="minlength">Password must be at least 6 characters long.</small> <small ng-message="maxlength">Password must be less than 101 characters long.</small> </div> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <input type="submit" role="button" id="signup" ng-click="vm.signup()" class="btn btn-primary btn-lg" value="Create My Account"> <p>Already have an account? <a ui-sref="auth.login({ token: vm.token })">Log In</a></p> </div> </div> </form> </div> </div> <div class="text-center"> By signing up, you agree to our <a href="http://exceptionless.io/privacy" target="_blank">Privacy Policy</a> and <a href="http://exceptionless.io/terms" target="_blank">Terms of Service</a>. </div> </div> </div> </div> </div> </div> '),a.put("app/blocks/header.tpl.html",'<div class="bg-black primary-underline"> <div class="navbar-header"> <button type="button" role="button" class="pull-right visible-xs dk" ui-toggle-class="show" data-toggle="collapse" data-target=".navbar-collapse"> <i class="fa fa-fw fa-cog"></i> </button> <button type="button" role="button" class="pull-right visible-xs" ui-toggle-class="off-screen" data-target=".app-aside" ui-scroll="app"> <i class="fa fa-fw fa-align-justify"></i> </button> <a ui-sref="app.dashboard" class="navbar-brand text-lt"> <img src="/touch-icon-ipad-114.png" alt="exceptionless" class="icon"> <img src="/img/exceptionless-logo.png" alt="exceptionless" class="hidden-folded"> </a> </div> <div class="collapse navbar-collapse no-shadow"> <div class="nav navbar-nav navbar-left hidden-xs"> <a class="btn no-shadow navbar-btn" role="button" ng-click="appVm.toggleSideNavCollapsed()"> <i class="fa {{appVm.isSideNavCollapsed ? \'fa-indent\' : \'fa-dedent\'}} fa-fw"></i> </a> </div> <ul class="nav navbar-nav navbar-left"> <project-filter></project-filter> <date-filter></date-filter> </ul> <ul class="nav navbar-nav navbar-right hidden-xs" auto-active> <li class="dropdown"> <a class="dropdown-toggle profile-image" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> <img class="img-thumbnail" gravatar-src="appVm.user.email_address" gravatar-size="35" alt="{{appVm.user.full_name}}"> <span class="caret"></span> </a> <ul class="dropdown-menu"> <li><a ui-sref="app.account.manage"><i class="fa fa-user fa-fw"></i> My Account</a></li> <li><a ng-click="appVm.changePlan()" ng-if="appVm.canChangePlan()"><i class="fa fa-credit-card fa-fw"></i> Change Plan</a></li> <li><a ui-sref="app.account.manage({ tab: \'password\' })"><i class="fa fa-lock fa-fw"></i> Change Password</a></li> <li><a href="https://github.com/exceptionless/Exceptionless/wiki" target="_blank"><i class="fa fa-book fa-fw"></i> Documentation</a></li> <li ng-if="appVm.isIntercomEnabled()"><a ng-click="appVm.showIntercom()"><i class="fa fa-comment fa-fw"></i> Support</a></li> <li><a ui-sref="auth.logout"><i class="fa fa-power-off fa-fw"></i> Logout</a></li> </ul> </li> </ul> <search-filter></search-filter> <ul class="nav navbar-nav visible-xs hidden-sm" auto-active> <li><a ui-sref="app.account.manage"><i class="fa fa-user fa-fw"></i> My Account</a></li> <li><a ng-click="appVm.changePlan()" ng-if="appVm.canChangePlan()"><i class="fa fa-credit-card fa-fw"></i> Change Plan</a></li> <li><a ui-sref="app.account.manage({ tab: \'password\' })"><i class="fa fa-lock fa-fw"></i> Change Password</a></li> <li><a href="https://github.com/exceptionless/Exceptionless/wiki" target="_blank"><i class="fa fa-book fa-fw"></i> Documentation</a></li> <li ng-if="appVm.isIntercomEnabled()"><a ng-click="appVm.showIntercom()"><i class="fa fa-comment fa-fw"></i> Support</a></li> <li><a ui-sref="auth.logout"><i class="fa fa-power-off fa-fw"></i> Logout</a></li> </ul> </div> </div> '),a.put("app/blocks/nav.tpl.html",'<ul class="nav"> <li ng-class="{active: appVm.isTypeMenuActive(\'error\')}"> <a href="#" class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-warning fa-fw"></i> <span>Exceptions</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">Exceptions</li> <li> <a ng-href="{{appVm.getDashboardUrl(\'error\')}}"> <i class="fa fa-dashboard fa-fw"></i> <span>Dashboard</span> </a> </li> <li> <a ng-href="{{appVm.getRecentUrl(\'error\')}}"> <i class="fa fa-calendar fa-fw"></i> <span>Most Recent</span> </a> </li> <li> <a ng-href="{{appVm.getFrequentUrl(\'error\')}}"> <i class="fa fa-signal fa-fw"></i> <span>Most Frequent</span> </a> </li> <li> <a ng-href="{{appVm.getUsersUrl(\'error\')}}"> <i class="fa fa-users fa-fw"></i> <span>Most Users</span> </a> </li> <li> <a ng-href="{{appVm.getNewUrl(\'error\')}}"> <i class="fa fa-asterisk fa-fw"></i> <span>New</span> </a> </li> </ul> </li> <li ng-class="{active: appVm.isTypeMenuActive(\'log\')}"> <a href class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-file-text-o fa-fw"></i> <span>Log Messages</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">Log Messages</li> <li> <a ng-href="{{appVm.getDashboardUrl(\'log\')}}"> <i class="fa fa-dashboard fa-fw"></i> <span>Dashboard</span> </a> </li> <li> <a ng-href="{{appVm.getRecentUrl(\'log\')}}"> <i class="fa fa-calendar fa-fw"></i> <span>Most Recent</span> </a> </li> <li> <a ng-href="{{appVm.getFrequentUrl(\'log\')}}"> <i class="fa fa-signal fa-fw"></i> <span>Most Frequent</span> </a> </li> <li> <a ng-href="{{appVm.getUsersUrl(\'log\')}}"> <i class="fa fa-users fa-fw"></i> <span>Most Users</span> </a> </li> <li> <a ng-href="{{appVm.getNewUrl(\'log\')}}"> <i class="fa fa-asterisk fa-fw"></i> <span>New</span> </a> </li> </ul> </li> <li ng-class="{active: appVm.isTypeMenuActive(\'404\')}"> <a href class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-unlink fa-fw"></i> <span>Broken Links</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">Broken Links</li> <li> <a ng-href="{{appVm.getDashboardUrl(\'404\')}}"> <i class="fa fa-dashboard fa-fw"></i> <span>Dashboard</span> </a> </li> <li> <a ng-href="{{appVm.getRecentUrl(\'404\')}}"> <i class="fa fa-calendar fa-fw"></i> <span>Most Recent</span> </a> </li> <li> <a ng-href="{{appVm.getFrequentUrl(\'404\')}}"> <i class="fa fa-signal fa-fw"></i> <span>Most Frequent</span> </a> </li> <li> <a ng-href="{{appVm.getUsersUrl(\'404\')}}"> <i class="fa fa-users fa-fw"></i> <span>Most Users</span> </a> </li> <li> <a ng-href="{{appVm.getNewUrl(\'404\')}}"> <i class="fa fa-asterisk fa-fw"></i> <span>New</span> </a> </li> </ul> </li> <li ng-class="{active: appVm.isTypeMenuActive(\'usage\')}"> <a href class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-check-square-o fa-fw"></i> <span>Feature Usages</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">Feature Usages</li> <li> <a ng-href="{{appVm.getDashboardUrl(\'usage\')}}"> <i class="fa fa-dashboard fa-fw"></i> <span>Dashboard</span> </a> </li> <li> <a ng-href="{{appVm.getRecentUrl(\'usage\')}}"> <i class="fa fa-calendar fa-fw"></i> <span>Most Recent</span> </a> </li> <li> <a ng-href="{{appVm.getFrequentUrl(\'usage\')}}"> <i class="fa fa-signal fa-fw"></i> <span>Most Frequent</span> </a> </li> <li> <a ng-href="{{appVm.getUsersUrl(\'usage\')}}"> <i class="fa fa-users fa-fw"></i> <span>Most Users</span> </a> </li> <li> <a ng-href="{{appVm.getNewUrl(\'usage\')}}"> <i class="fa fa-asterisk fa-fw"></i> <span>New</span> </a> </li> </ul> </li> <li ng-class="{active: appVm.isAllMenuActive()}"> <a href class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-calendar fa-fw"></i> <span>All Events</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">All Events</li> <li> <a ng-href="{{appVm.getDashboardUrl()}}"> <i class="fa fa-dashboard fa-fw"></i> <span>Dashboard</span> </a> </li> <li> <a ng-href="{{appVm.getRecentUrl()}}"> <i class="fa fa-calendar fa-fw"></i> <span>Most Recent</span> </a> </li> <li> <a ng-href="{{appVm.getFrequentUrl()}}"> <i class="fa fa-signal fa-fw"></i> <span>Most Frequent</span> </a> </li> <li> <a ng-href="{{appVm.getUsersUrl()}}"> <i class="fa fa-users fa-fw"></i> <span>Most Users</span> </a> </li> <li> <a ng-href="{{appVm.getNewUrl()}}"> <i class="fa fa-asterisk fa-fw"></i> <span>New</span> </a> </li> </ul> </li> <li ng-class="{active: appVm.isReportsMenuActive()}"> <a href class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-book fa-fw"></i> <span>Reports</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">Reports</li> <li> <a ng-href="{{appVm.getSessionDashboardUrl()}}"> <i class="fa fa-heartbeat fa-fw"></i> <span>Sessions</span> </a> </li> </ul> </li> <li ng-class="{active: appVm.isAdminMenuActive()}"> <a href class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-cog fa-fw"></i> <span>Admin</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">Admin</li> <li> <a ui-sref="app.project.list"> <i class="fa fa-briefcase fa-fw"></i> <span>Projects</span> </a> </li> <li> <a ui-sref="app.organization.list"> <i class="fa fa-group fa-fw"></i> <span>Organizations</span> </a> </li> <li> <a ui-sref="app.account.manage"> <i class="fa fa-user fa-fw"></i> <span>My Account</span> </a> </li> </ul> </li> <li> <a href="https://github.com/exceptionless/Exceptionless/wiki" target="_blank" title="Documentation"> <i class="fa fa-book fa-fw"></i> <span>Documentation</span> </a> </li> <li ng-if="appVm.isIntercomEnabled()"> <a ng-click="appVm.showIntercom()" title="Support"> <i class="fa fa-comment fa-fw"></i> <span>Support</span> </a> </li> </ul> '),a.put("app/blocks/sidebar.tpl.html",'<div class="aside-wrap"> <div class="navi-wrap"> <div class="clearfix hidden-xs text-center hide" id="aside-user"> <div class="line dk hidden-folded"></div> </div> <nav ui-nav class="navi" ng-include="\'app/blocks/nav.tpl.html\'"></nav> </div> </div> '),a.put("app/dashboard.tpl.html",'<organization-notifications></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="PersistentEventChanged PlanChanged" refresh-action="vm.get()" refresh-if="vm.canRefresh(data)" refresh-throttle="10000"> <div class="col" refresh-on="filterChanged" refresh-action="vm.get()"> <div class="wrapper-md"> <div class="row"> <div class="col-sm-12"> <div class="row row-sm text-center"> <div class="col-md-3 col-sm-6 col-xs-6"> <a ng-href="{{appVm.getRecentUrl(vm.type)}}" class="dashboard-block"> <div class="rotate"> <i class="fa fa-calendar fa-4x"></i> </div> <div class="details"> <span class="title">Total</span> <span class="sub">{{vm.stats.total || 0 | number : 0}}</span> </div> <i class="fa fa-chevron-right fa-2x more"></i> </a> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <a ng-href="{{appVm.getFrequentUrl(vm.type)}}" class="dashboard-block"> <div class="rotate"> <i class="fa fa-key fa-4x"></i> </div> <div class="details"> <span class="title">Unique</span> <span class="sub">{{vm.stats.numbers[0] || 0 | number : 0}}</span> </div> <i class="fa fa-chevron-right fa-2x more"></i> </a> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <a ng-href="{{appVm.getNewUrl(vm.type)}}" class="dashboard-block"> <div class="rotate"> <i class="fa fa-asterisk fa-4x"></i> </div> <div class="details"> <span class="title">New</span> <span class="sub">{{vm.stats.numbers[1] || 0 | number : 0}}</span> </div> <i class="fa fa-chevron-right fa-2x more"></i> </a> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-line-chart fa-4x"></i> </div> <div class="details"> <span class="title">Per Hour</span> <span class="sub">{{vm.stats.avg_per_hour || 0 | number : 1}}</span> </div> </div> </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-bar-chart-o"></i>History</div> <div class="panel-body"> <rickshaw options="vm.chart.options" features="vm.chart.features"></rickshaw> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-signal"></i>Most Frequent</div> <stacks settings="vm.mostFrequent"></stacks> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-calendar"></i>Most Recent</div> <events settings="vm.mostRecent"></events> </div> </div> </div> </div> '),a.put("app/event/event.tpl.html",'<organization-notifications organization-id="vm.event.organization_id"></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"> <i class="fa fa-calendar"></i> Event Occurrence <div class="pull-right hidden-print"> <a clipboard text="vm.event_json" on-copied="vm.copied()" supported="vm.clipboardSupported" ng-show="vm.event.stack_id && vm.clipboardSupported" class="btn btn-default btn-xs fa fa-code hidden-xs" role="button" title="Copy Event JSON to Clipboard"></a> <a ui-sref="app.stack({ id: vm.event.stack_id })" ng-class="{\'disabled\': !vm.event.stack_id}" class="btn btn-default btn-xs fa fa-fw fa-caret-up" role="button" title="Go To Stack"></a> <a ui-sref="app.event({ id: vm.previous, tab: vm.getCurrentTab() })" ng-class="{\'disabled\': !vm.previous}" class="btn btn-default btn-xs fa fa-fw fa-caret-left" role="button" title="Previous Occurrence"></a> <a ui-sref="app.event({ id: vm.next, tab: vm.getCurrentTab() })" ng-class="{\'disabled\': !vm.next}" class="btn btn-default btn-xs fa fa-fw fa-caret-right" role="button" title="Next Occurrence"></a> </div> </div> <div class="panel-body"> <uib-tabset class="tab-container hidden-xs" active="vm.activeTabIndex"> <uib-tab ng-repeat="tab in vm.tabs" heading="{{::tab.title | toSpacedWords}}" ng-click="vm.activateTab(tab.title)"> <div ng-include="\'app/event/tabs/\' + tab.template_key + \'.tpl.html\'"></div> </uib-tab> </uib-tabset> <uib-accordion class="visible-xs"> <div uib-accordion-group class="panel-default" ng-repeat="tab in vm.tabs" heading="{{::tab.title | toSpacedWords}}" is-open="tab.active" ng-click="vm.activateTab(tab.title)"> <div ng-include="\'app/event/tabs/\' + tab.template_key + \'.tpl.html\'"></div> </div> </uib-accordion> </div> <footer class="panel-footer hidden-xs"> <div class="pull-right"> <a ui-sref="app.stack({ id: vm.event.stack_id })" ng-class="{\'disabled\': !vm.event.stack_id}" class="btn btn-default" role="button">Go To Stack</a> </div> <a ui-sref="app.event({ id: vm.previous, tab: vm.getCurrentTab() })" ng-class="{\'disabled\': !vm.previous}" class="btn btn-primary" role="button">Previous Occurrence</a> <a ui-sref="app.event({ id: vm.next, tab: vm.getCurrentTab() })" ng-class="{\'disabled\': !vm.next}" class="btn btn-primary" role="button">Next Occurrence</a> </footer> </div> </div> </div> '),a.put("app/event/extended-data-item-directive.tpl.html",'<div ng-if="vm.hasData()"> <div class="pull-right hidden-print"> <button type="button" role="button" class="btn btn-dark btn-xs" title="Copy to Clipboard" clipboard text="vm.data_json" on-copied="vm.copied()" supported="vm.clipboardSupported" ng-show="vm.clipboardSupported"> <i class="fa fa-copy"></i> </button> <div class="btn-group btn-group-xs"> <button type="button" role="button" class="btn btn-dark btn-xs" ng-click="vm.showRaw = !vm.showRaw">Toggle View</button>&nbsp; <button type="button" role="button" class="btn btn-dark btn-xs dropdown-toggle" data-toggle="dropdown" ng-if="vm.canPromote"> <span class="caret"></span> </button> <ul class="dropdown-menu pull-right" ng-if="vm.canPromote"> <li ng-if="!vm.isPromoted"><a ng-click="vm.promoteTab()">Promote to Tab</a></li> <li ng-if="vm.isPromoted"><a ng-click="vm.demoteTab()">Demote Tab</a></li> </ul> </div> </div> <h3>{{::vm.title | toSpacedWords}}</h3> <div ng-if="!vm.showRaw"> <object-dump content="vm.data"></object-dump> </div> <pre ng-if="vm.showRaw">{{::vm.data | json }}</pre> </div> '),a.put("app/event/reference.tpl.html",'<organization-notifications></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-bookmark"></i> References</div> <events settings="vm.references"></events> </div> </div> </div> </div> '),a.put("app/event/tabs/environment.tpl.html","<h3 class=\"visible-print\">Environment</h3> <table class=\"table table-striped table-bordered table-fixed table-key-value b-t\"> <tr> <th>Occurred On</th> <td>{{::vm.event.date | date: 'medium'}} ( <timeago date=\"vm.event.date\"></timeago> ) </td> </tr> <tr ng-if=\"vm.event.data['@environment'].machine_name\"> <th>Machine Name</th> <td><span truncate>{{::vm.event.data['@environment'].machine_name}}</span></td> </tr> <tr ng-if=\"vm.event.data['@environment'].ip_address\"> <th>IP Address</th> <td>{{::vm.event.data['@environment'].ip_address}}</td> </tr> <tr ng-if=\"vm.event.data['@environment'].processor_count\"> <th>Processor Count</th> <td>{{::vm.event.data['@environment'].processor_count}}</td> </tr> <tr ng-if=\"vm.event.data['@environment'].total_physical_memory\"> <th>Total Memory</th> <td>{{::vm.event.data['@environment'].total_physical_memory | bytes}}</td> </tr> <tr ng-if=\"vm.event.data['@environment'].available_physical_memory\"> <th>Available Memory</th> <td>{{::vm.event.data['@environment'].available_physical_memory | bytes}}</td> </tr> <tr ng-if=\"vm.event.data['@environment'].process_memory_size\"> <th>Process Memory</th> <td>{{::vm.event.data['@environment'].process_memory_size | bytes}}</td> </tr> <tr ng-if=\"vm.event.data['@environment'].o_s_name\"> <th>OS Name</th> <td><span truncate>{{::vm.event.data['@environment'].o_s_name}}</span></td> </tr> <tr ng-if=\"vm.event.data['@environment'].o_s_version\"> <th>OS Version</th> <td>{{::vm.event.data['@environment'].o_s_version}}</td> </tr> <tr ng-if=\"vm.event.data['@environment'].architecture\"> <th>Architecture</th> <td>{{::vm.event.data['@environment'].architecture}}</td> </tr> <tr ng-if=\"vm.event.data['@environment'].runtime_version\"> <th>Runtime Version</th> <td>{{::vm.event.data['@environment'].runtime_version}}</td> </tr> <tr ng-if=\"vm.event.data['@environment'].process_id\"> <th>Process ID</th> <td>{{::vm.event.data['@environment'].process_id}}</td> </tr> <tr ng-if=\"vm.event.data['@environment'].process_name\"> <th>Process Name</th> <td><span truncate>{{::vm.event.data['@environment'].process_name}}</span></td> </tr> <tr ng-if=\"vm.event.data['@environment'].command_line\"> <th>Command Line</th> <td><span truncate lines=\"2\">{{::vm.event.data['@environment'].command_line}}</span></td> </tr> </table> <extended-data-item can-promote=\"false\" title=\"'Additional Data'\" data=\"vm.event.data['@environment'].data\"></extended-data-item> "),a.put("app/event/tabs/error.tpl.html",'<h3 class="visible-print">Exception</h3> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr> <th>Occurred On</th> <td>{{::vm.event.date | date: \'medium\'}} ( <timeago date="vm.event.date"></timeago> ) </td> </tr> <tr> <th>Error Type</th> <td><span truncate>{{::vm.getErrorType()}}</span></td> </tr> <tr> <th>Message</th> <td><span truncate lines="10">{{::vm.getMessage()}}</span></td> </tr> <tr ng-if="vm.event.data[\'@error\'].code"> <th>Code</th> <td><span truncate>{{::vm.event.data[\'@error\'].code}}</span></td> </tr> <tr ng-if="vm.event.data[\'@submission_method\']"> <th>Submission Method</th> <td><span truncate>{{::vm.event.data[\'@submission_method\']}}</span></td> </tr> </table> <h3>Stack Trace</h3> <stack-trace exception="vm.event.data[\'@error\']"></stack-trace> <extended-data-item can-promote="false" title="\'Additional Data\'" data="vm.event.data[\'@error\'].data[\'@ext\']"></extended-data-item> <div ng-if="vm.event.data[\'@error\'].modules.length > 0"> <h4>Loaded Modules</h4> <table class="table table-striped table-bordered table-fixed b-t"> <thead> <tr> <th>Name</th> <th class="version">Version</th> </tr> </thead> <tbody> <tr ng-repeat="module in vm.event.data[\'@error\'].modules"> <td><span truncate>{{::module.name}}</span></td> <td>{{::module.version}}</td> </tr> </tbody> </table> </div> '),a.put("app/event/tabs/extended-data.tpl.html",'<h3 class="visible-print">Extended Data</h3> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr> <th>Occurred On</th> <td>{{::vm.event.date | date: \'medium\'}} (<timeago date="vm.event.date"></timeago>)</td> </tr> </table> <extended-data-item title="item.title" data="item.data" promote-tab="vm.promoteTab(tabName)" demote-tab="vm.demoteTab(tabName)" ng-repeat="item in tab.data | orderBy: \'title\'"></extended-data-item> '),a.put("app/event/tabs/overview.tpl.html",'<table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr refresh-on="PersistentEventChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.getEvent()" refresh-throttle="10000"> <th>Occurred On</th> <td>{{::vm.event.date | date: \'medium\'}} ( <timeago date="vm.event.date"></timeago> ) </td> </tr> <tr ng-if="vm.isSessionStart()"> <th>Duration</th> <td> <span ng-if="!vm.event.data.sessionend" class="glyphicon glyphicon-one-fine-dot glyphicon-green" title="Online"></span> <abbr title="{{vm.getDuration()}} seconds"><duration value="vm.getDuration()"></duration></abbr> <span ng-if="vm.event.data.sessionend"> (ended <timeago date="vm.event.data.sessionend"></timeago>) </span> </td> </tr> <tr> <th>Project</th> <td><a ui-sref="app.project-dashboard({ projectId: vm.project.id })">{{vm.project.name}}</a></td> </tr> <tr ng-if="vm.event.reference_id"> <th>Reference</th> <td>{{vm.event.reference_id}}</td> </tr> <tr ng-repeat="reference in vm.references | orderBy: \'name\'"> <th>{{reference.name}}</th> <td><a ui-sref="app.event-reference({ referenceId: reference.id })">{{reference.id}}</a></td> </tr> <tr ng-if="vm.hasLevel()"> <th>Level</th> <td><span class="label label-default" ng-class="{ \'label-success\': vm.isLevelSuccess(), \'label-info\': vm.isLevelInfo(), \'label-warning\': vm.isLevelWarning(), \'label-danger\': vm.isLevelError() }">{{::vm.event.data[\'@level\']}}</span></td> </tr> <tr ng-if="!vm.isError()"> <th>Event Type</th> <td><span truncate>{{::vm.event.type}}</span></td> </tr> <tr class="hidden-print" ng-if="vm.isError()"> <th>Error Type</th> <td><span truncate>{{::vm.getErrorType()}}</span></td> </tr> <tr ng-if="vm.event.source"> <th>Source</th> <td><span truncate lines="2">{{::vm.event.source}}</span></td> </tr> <tr ng-if="!vm.isSessionStart() && vm.event.value"> <th>Value</th> <td>{{::vm.event.value}}</td> </tr> <tr class="hidden-print" ng-if="vm.event.message || vm.getMessage()"> <th>Message</th> <td><span truncate lines="10">{{::vm.event.message || vm.getMessage()}}</span></td> </tr> <tr ng-if="vm.hasVersion()"> <th>Version</th> <td>{{::vm.getVersion()}}</td> </tr> <tr ng-if="vm.getLocation()"> <th>Geo</th> <td><span truncate>{{::vm.getLocation()}}</span></td> </tr> <tr ng-if="vm.hasTags()"> <th>Tags</th> <td><span class="label label-info" ng-repeat="tag in vm.event.tags track by tag">{{tag}}</span></td> </tr> <tr class="hidden-print" ng-if="vm.getRequestUrl()"> <th>URL</th> <td><a ng-href="{{::vm.getRequestUrl()}}" target="_blank" truncate>{{::vm.getRequestUrl()}}</a></td> </tr> </table> <div ng-if="vm.hasUserEmail() || vm.hasUserDescription() || vm.hasIdentity() || vm.hasUserName()"> <h4>User Info</h4> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr ng-if="vm.hasUserEmail()"> <th>User Email</th> <td><a ng-href="mailto:{{::vm.event.data[\'@user_description\'].email_address}}" truncate>{{::vm.event.data[\'@user_description\'].email_address}}</a> </td> </tr> <tr ng-if="vm.hasIdentity()"> <th>User Identity</th> <td><span truncate>{{::vm.event.data[\'@user\'].identity}}</span></td> </tr> <tr ng-if="vm.hasUserName()"> <th>User Name</th> <td><span truncate>{{::vm.event.data[\'@user\'].name}}</span></td> </tr> <tr ng-if="vm.hasUserDescription()"> <th>User Description</th> <td><span truncate lines="2">{{::vm.event.data[\'@user_description\'].description}}</span></td> </tr> </table> </div> <div class="hidden-print" ng-if="vm.isError()"> <h4>Stack Trace</h4> <stack-trace class="stack-trace-mini" exception="vm.event.data[\'@error\']" ng-if="vm.event.data[\'@error\']"></stack-trace> <simple-stack-trace class="stack-trace-mini" exception="vm.event.data[\'@simple_error\']" ng-if="vm.event.data[\'@simple_error\']"></simple-stack-trace> </div> '),a.put("app/event/tabs/promoted.tpl.html",'<h3 class="visible-print">{{::tab.title | toSpacedWords}}</h3> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr> <th>Occurred On</th> <td>{{::vm.event.date | date: \'medium\'}} (<timeago date="vm.event.date"></timeago>)</td> </tr> </table> <extended-data-item title="tab.title" data="tab.data" demote-tab="vm.demoteTab(tabName)" is-promoted="true"></extended-data-item> '),a.put("app/event/tabs/request.tpl.html","<h3 class=\"visible-print\">Request</h3> <table class=\"table table-striped table-bordered table-fixed table-key-value b-t\"> <tr> <th>Occurred On</th> <td>{{::vm.event.date | date: 'medium'}} (<timeago date=\"vm.event.date\"></timeago>)</td> </tr> <tr ng-if=\"vm.event.data['@request'].http_method\"> <th>HTTP Method</th> <td>{{::vm.event.data['@request'].http_method}}</td> </tr> <tr ng-if=\"vm.getRequestUrl()\"> <th>URL</th> <td><a ng-href=\"{{::vm.getRequestUrl()}}\" target=\"_blank\" truncate>{{::vm.getRequestUrl()}}</a></td> </tr> <tr> <th>Referrer</th> <td> <span ng-if=\"vm.event.data['@request'].referrer\"> <a ng-href=\"{{::vm.event.data['@request'].referrer}}\" target=\"_blank\" truncate>{{::vm.event.data['@request'].referrer}}</a> </span> <em ng-if=\"!vm.event.data['@request'].referrer\">None</em> </td> </tr> <tr ng-if=\"vm.event.data['@request'].client_ip_address\"> <th>Client IP</th> <td>{{::vm.event.data['@request'].client_ip_address}}</td> </tr> <tr ng-if=\"vm.event.data['@request'].user_agent\"> <th>User Agent</th> <td><span truncate lines=\"2\">{{::vm.event.data['@request'].user_agent}}</span></td> </tr> <tr class=\"hidden-print\" ng-if=\"vm.event.data['@request'].data['@device']\"> <th>Device</th> <td>{{::vm.event.data['@request'].data['@device']}}</td> </tr> <tr class=\"hidden-print\" ng-if=\"vm.event.data['@request'].data['@browser']\"> <th>Browser</th> <td>{{::vm.event.data['@request'].data['@browser']}} <abbr ng-if=\"vm.event.data['@request'].data['@browser_major_version']\" title=\"{{::vm.event.data['@request'].data['@browser_version']}}\">{{::vm.event.data['@request'].data['@browser_major_version']}}</abbr></td> </tr> <tr class=\"hidden-print\" ng-if=\"vm.event.data['@request'].data['@os']\"> <th>Browser OS</th> <td>{{::vm.event.data['@request'].data['@os']}} <abbr ng-if=\"vm.event.data['@request'].data['@os_major_version']\" title=\"{{::vm.event.data['@request'].data['@os_version']}}\">{{::vm.event.data['@request'].data['@os_major_version']}}</abbr></td> </tr> </table> <extended-data-item can-promote=\"false\" title=\"'Post Data'\" data=\"vm.event.data['@request'].post_data\"></extended-data-item> <div ng-if=\"vm.hasCookies()\"> <h4>Cookie Values</h4> <table class=\"table table-striped table-bordered table-fixed table-key-value b-t\"> <thead> <tr> <th>Name</th> <th>Value</th> </tr> </thead> <tbody> <tr ng-repeat=\"(key, value) in vm.event.data['@request'].cookies track by key\"> <td>{{::key}}</td> <td><span truncate lines=\"3\">{{::value}}</span></td> </tr> </tbody> </table> </div> <extended-data-item can-promote=\"false\" title=\"'Additional Data'\" data=\"vm.event.data['@request'].data\" excluded-keys=\"vm.excludedAdditionalData\"></extended-data-item> "),
a.put("app/event/tabs/session.tpl.html",'<div class="hidden-print"> <div ng-if="!vm.project.has_premium_features"> <div class="alert alert-danger alert-banner m-b-none"> <h4><a ng-click="appVm.changePlan(vm.project.organization_id)">{{vm.project.organization_name}}</a> is attempting to use a premium feature.</h4> <p><a ng-click="appVm.changePlan(vm.project.organization_id)">Upgrade now</a> to enable sessions and other premium features!</p> </div> <br> </div> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr> <th>Occurred On</th> <td>{{::vm.event.date | date: \'medium\'}} ( <timeago date="vm.event.date"></timeago> ) </td> </tr> <tr ng-if="vm.isSessionStart()"> <th>Duration</th> <td> <span ng-if="!vm.event.data.sessionend" class="glyphicon glyphicon-one-fine-dot glyphicon-green" title="Online"></span> <abbr title="{{vm.getDuration()}} seconds"><duration value="vm.getDuration()"></duration></abbr> <span ng-if="vm.event.data.sessionend"> (ended <timeago date="vm.event.data.sessionend"></timeago>) </span> </td> </tr> </table> <h3>Session Events</h3> <events settings="vm.sessionEvents"></events> </div> '),a.put("app/event/tabs/simple-error.tpl.html",'<h3 class="visible-print">Exception</h3> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr> <th>Occurred On</th> <td>{{::vm.event.date | date: \'medium\'}} ( <timeago date="vm.event.date"></timeago> ) </td> </tr> <tr> <th>Error Type</th> <td><span truncate>{{::vm.getErrorType()}}</span></td> </tr> <tr> <th>Message</th> <td><span truncate lines="4">{{::vm.getMessage()}}</span></td> </tr> <tr ng-if="vm.event.data[\'@submission_method\']"> <th>Submission Method</th> <td><span truncate>{{::vm.event.data[\'@submission_method\']}}</span></td> </tr> </table> <h3>Stack Trace</h3> <simple-stack-trace exception="vm.event.data[\'@simple_error\']"></simple-stack-trace> <extended-data-item can-promote="false" title="\'Additional Data\'" data="vm.event.data[\'@error\'].data"></extended-data-item> '),a.put("app/frequent.tpl.html",'<organization-notifications></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-signal"></i> Most Frequent</div> <stacks settings="vm.mostFrequent"></stacks> </div> </div> </div> </div> '),a.put("app/new.tpl.html",'<organization-notifications></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-asterisk"></i> Newest</div> <stacks settings="vm.newest"></stacks> </div> </div> </div> </div> '),a.put("app/not-found.tpl.html",'<div class="container w-auto-xs"> <div class="text-center"> <a href="http://exceptionless.io"> <img src="/img/exceptionless-350.png" alt="logo"> </a> </div> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading text-center"><strong>Page Not Found</strong></div> <div class="panel-body"> We\'re sorry but the page was not found on this site. </div> </div> </div> </div> </div> </div> '),a.put("app/organization/list/add-organization-dialog.tpl.html",'<form name="vm.addOrganizationForm" role="form" class="form-validation"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title">New Organization</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="name">Organization Name</label> <div ng-class="{\'input-group\': vm.addOrganizationForm.$pending }"> <input id="name" name="name" type="text" class="form-control input-lg" placeholder="Organization Name" ng-model="vm.data.name" ng-model-options="{ debounce: 500 }" organization-name-available-validator ng-required="true" autofocus> <span class="input-group-addon" ng-if="vm.addOrganizationForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.addOrganizationForm.name.$error" ng-if="vm.addOrganizationForm.$submitted || vm.addOrganizationForm.name.$touched"> <small ng-message="required">Organization Name is required.</small> <small ng-message="unique">A organizations with this name already exists.</small> </div> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()">Cancel</button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save()" value="Save"> </div> </form> '),a.put("app/organization/list/list.tpl.html",'<div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="OrganizationChanged ProjectChanged" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="10000"> <div class="col" refresh-on=" PlanChanged PersistentEventChanged" refresh-action="vm.get(vm.currentOptions, false)" refresh-throttle="10000"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-group"></i> My Organizations</div> <div class="table-responsive"> <table class="table table-striped table-bordered table-fixed b-t"> <thead> <tr> <th>Name</th> <th>Plan</th> <th class="number hidden-xs"><abbr title="Total number of projects">Projects</abbr></th> <th class="number hidden-xs"><abbr title="Total number of stacks">Stacks</abbr></th> <th class="number hidden-xs"><abbr title="Total number of events within the retention period">Events</abbr></th> <th class="action">Actions</th> </tr> </thead> <tbody> <tr class="row-clickable" ng-repeat="organization in vm.organizations | orderBy: \'name\' track by organization.id"> <td ng-click="vm.open(organization.id, $event)">{{organization.name}}</td> <td ng-click="vm.open(organization.id, $event)">{{organization.plan_name}}</td> <td ng-click="vm.open(organization.id, $event)" class="number hidden-xs">{{organization.project_count | number:0}}</td> <td ng-click="vm.open(organization.id, $event)" class="number hidden-xs">{{organization.stack_count | number:0}}</td> <td ng-click="vm.open(organization.id, $event)" class="number hidden-xs">{{organization.event_count | number:0}}</td> <td> <div class="btn-group"> <button type="button" role="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-fw fa-edit"></i> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li><a ui-sref="app.organization.manage({ id: organization.id })"><i class="fa fa-fw fa-edit"></i> Edit</a></li> <li ng-if="vm.canChangePlan()"><a ng-click="vm.changePlan(organization.id)"><i class="fa fa-credit-card fa-fw"></i> Change Plan</a></li> <li><a ui-sref="app.organization.manage({ id: organization.id, tab: \'billing\' })"><i class="fa fa-fw fa-file"></i> View Invoices</a></li> <li><a ng-click="vm.leave(organization, appVm.user)"><i class="fa fa-fw fa-sign-out"></i> Leave Organization</a></li> <li><a ng-click="vm.remove(organization)"><i class="fa fa-fw fa-times"></i> Delete</a></li> </ul> </div> </td> </tr> <tr ng-if="vm.organizations.length === 0 || vm.loading"> <td colspan="6"> <strong ng-if="vm.loading">Loading...</strong> <strong ng-if="!vm.loading">No organizations were found{{vm.hasFilter ? \' with the current filter\': \'\'}}.</strong> </td> </tr> </tbody> </table> <div class="table-footer" ng-if="vm.previous || vm.next"> <div class="row"> <div class="col-sm-8 col-xs-8 text-center" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"><a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a></li> <li ng-class="{\'disabled\': !vm.previous}"><a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a></li> <li ng-class="{\'disabled\': !vm.next}"><a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a></li> </ul> </div> </div> </div> </div> <footer class="panel-footer"> <div class="pull-right"> <a ui-sref="app.dashboard" class="btn btn-default" role="button">Go To Dashboard</a> </div> <button type="button" role="button" ng-click="vm.add()" class="btn btn-primary">New Organization</button> </footer> </div> </div> </div> </div> '),a.put("app/organization/manage/add-user-dialog.tpl.html",'<form name="addUserForm" role="form" class="form-validation"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title"><i class="fa fa-user-plus fa-fw"></i> Invite User</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="email">Email Address</label> <input id="email" name="email" type="email" class="form-control input-lg" placeholder="Email Address" x-autocompletetype="email" autocorrect="off" spellcheck="false" ng-model="vm.data.email" ng-required="true" autofocus> <div class="error" ng-messages="addUserForm.email.$error" ng-if="addUserForm.$submitted || addUserForm.email.$touched"> <small ng-message="required">Email Address is required.</small> <small ng-message="email">Email Address is required.</small> </div> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()">Cancel</button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save(addUserForm.$valid)" value="Invite User"> </div> </form> '),a.put("app/organization/manage/invoices-directive.tpl.html",'<div class="table-responsive"> <table class="table table-striped table-bordered table-fixed b-t" refresh-on="OrganizationChanged PlanChanged" refresh-action="vm.get(vm.currentOptions, false)" refresh-throttle="10000"> <thead> <tr> <th>Payment Number</th> <th>Date</th> <th class="number">Status</th> <th class="action">Actions</th> </tr> </thead> <tbody> <tr ng-repeat="invoice in vm.invoices track by invoice.id"> <td class="row-clickable" ng-click="vm.open(invoice.id)">{{invoice.id}}</td> <td class="row-clickable" ng-click="vm.open(invoice.id)">{{invoice.date | date: \'medium\'}}</td> <td class="row-clickable" ng-click="vm.open(invoice.id)">{{invoice.paid ? \'Paid\' : \'Unpaid\'}}</td> <td> <div class="btn-group"> <button type="button" role="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-fw fa-edit"></i> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li><a ng-click="vm.open(invoice.id)"><i class="fa fa-file"></i> View Payment</a></li> <li ng-if="vm.hasAdminRole(appVm.user)"> <a ng-href="https://manage.stripe.com/invoices/in_{{::invoice.id}}" target="_blank"><i class="fa fa-credit-card"></i> View Stripe Invoice</a> </li> </ul> </div> </td> </tr> <tr ng-if="!vm.hasInvoices()"> <td colspan="4"> <strong>No invoices were found.</strong> </td> </tr> </tbody> </table> <div class="table-footer" ng-if="vm.previous || vm.next"> <div class="row"> <div class="col-sm-8 col-xs-8 text-center" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"><a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a></li> <li ng-class="{\'disabled\': !vm.previous}"><a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a></li> <li ng-class="{\'disabled\': !vm.next}"><a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a></li> </ul> </div> </div> </div> </div> '),a.put("app/organization/manage/manage.tpl.html",'<organization-notifications organization-id="vm.organization.id"></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="OrganizationChanged" refresh-action="vm.get(data)" refresh-debounce="5000"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-th-list"></i> Manage {{ vm.organization.name ? \'Organization "\' + vm.organization.name + \'"\' : \'Organization\'}}</div> <div class="panel-body m-b-n"> <uib-tabset class="tab-container" active="vm.activeTabIndex"> <uib-tab heading="General"> <form name="vm.organizationForm" role="form" class="form-validation"> <div class="form-group m-b-none"> <label for="name">Organization Name</label> <div ng-class="{\'input-group\': vm.organizationForm.$pending }"> <input id="name" name="name" type="text" class="form-control" placeholder="Organization Name" ng-model="vm.organization.name" ng-model-options="{ debounce: 500 }" ng-change="vm.save(vm.organizationForm.$valid)" organization-name-available-validator ng-required="true" autofocus> <span class="input-group-addon" ng-if="vm.organizationForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.organizationForm.name.$error" ng-if="vm.organizationForm.$submitted || vm.organizationForm.name.$touched"> <small ng-message="required">Organization Name is required.</small> <small ng-message="unique">A organizations with this name already exists.</small> </div> </div> </form> <div ng-show="vm.hasMonthlyUsage"> <h4 style="margin-top: 20px">Monthly Usage</h4> <p> You are currently on the <a ng-if="vm.canChangePlan()" ng-click="vm.changePlan()"><strong>{{vm.organization.plan_name}}</strong> plan</a> with <b ng-class="{\'text-warning\': vm.getRemainingEventLimit() === 0}">{{vm.getRemainingEventLimit() | number}}</b> events remaining until this billing period\'s limit is reset on <b>{{vm.next_billing_date | date: \'longDate\'}}</b> (<timeago date="vm.next_billing_date"></timeago>). <a ng-if="vm.canChangePlan()" ng-click="vm.changePlan()">Click here to change your plan or billing information.</a> </p> <rickshaw options="vm.chart.options" features="vm.chart.features"></rickshaw> <br class="clearfix"> <h6><em>The usage data above is refreshed periodically and may not reflect current totals.</em></h6> </div> </uib-tab> <uib-tab heading="Projects"> <projects settings="vm.projects"></projects> <a ui-sref="app.project.add" class="btn btn-primary" role="button">Add New Project</a> </uib-tab> <uib-tab heading="Users"> <users settings="vm.users"></users> <button type="button" role="button" ng-click="vm.addUser()" class="btn btn-primary">Invite User</button> </uib-tab> <uib-tab heading="Billing"> <p>You are currently on the <strong>{{vm.organization.plan_name}}</strong> plan. <a ng-if="vm.canChangePlan()" ng-click="vm.changePlan()">Change your plan or billing information.</a></p> <invoices settings="vm.invoices"></invoices> </uib-tab> </uib-tabset> </div> <footer class="panel-footer"> <div class="pull-right"> <a ui-sref="app.organization-dashboard({ organizationId: vm.organization.id })" class="btn btn-default" role="button">Go To Dashboard</a> </div> <div class="btn-group"> <button type="button" role="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-fw fa-remove"></i> <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu"> <li><a ng-click="vm.leaveOrganization(appVm.user)" role="button">Leave Organization</a></li> <li><a ng-click="vm.removeOrganization()" role="button">Delete Organization</a></li> </ul> </div> </footer> </div> </div> </div> </div> '),a.put("app/payment/payment.tpl.html",'<div> <rate-limit></rate-limit> <div class="container invoice"> <div class="row"> <div class="col-sm-5"> <img src="/img/exceptionless.png" alt="logo"> <address> <strong>Exceptionless</strong><br> 5250 Hwy 78, Suite 750-324<br> Sachse, TX 75048<br> </address> </div> <div class="col-sm-7"> <table class="table table-bordered bg-white"> <tbody> <tr> <th>Organization</th> <td>{{vm.invoice.organization_name}}</td> </tr> <tr> <th>Payment #</th> <td>{{vm.invoice.id}}</td> </tr> <tr> <th>Date</th> <td>{{vm.invoice.date | date}}</td> </tr> <tr> <th>Status</th> <td>{{vm.invoice.paid ? \'Paid\' : \'Unpaid\'}}</td> </tr> </tbody> </table> </div> </div> <div class="row"> <div class="col-xs-12 hbox hbox-auto-xs hbox-auto-sm"> <div class="panel panel-default"> <div class="panel-heading"> <i class="fa fa-file"></i> {{vm.isPaid ? "Receipt" : "Payment"}}</div> <div class="table-responsive"> <table class="table table-striped table-bordered table-fixed b-t invoice"> <thead> <tr> <th>Description</th> <th class="date">Date</th> <th class="amount"><div class="text-right">Amount</div></th> </tr> </thead> <tbody> <tr ng-repeat="line in vm.invoice.items"> <td>{{line.description}}</td> <td>{{line.date}}</td> <td><div class="text-right"><strong>{{line.amount | currency}}</strong></div></td> </tr> <tr> <td>&nbsp;</td> <td><strong>Total</strong></td> <td><div class="text-right"><strong>{{vm.invoice.total | currency}}</strong></div></td> </tr> </tbody> </table> </div> </div> </div> </div> <div class="row"> <div class="col-xs-6"> <strong>Email:</strong> <a href="mailto:team@exceptionless.com">sales@exceptionless.com</a> </div> <div class="col-xs-6"> <strong>Website:</strong> <a href="http://exceptionless.io">http://exceptionless.io</a> </div> </div> </div> </div> '),a.put("app/project/add.tpl.html",'<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col" refresh-on="OrganizationChanged" refresh-action="vm.getOrganizations()" refresh-throttle="10000"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-asterisk"></i> Project Information</div> <div class="panel-body"> <form name="vm.addForm" role="form" class="form-validation"> <div class="form-group" ng-if="vm.hasOrganizations()"> <label for="organization">Organization Name</label> <select id="organization" class="form-control" ng-model="vm.currentOrganization" ng-options="organization.name for organization in vm.organizations track by organization.id"></select> </div> <div class="form-group" ng-if="vm.canCreateOrganization()"> <div ng-class="{\'input-group\': vm.addForm.$pending }"> <input name="organization_name" type="text" class="form-control" placeholder="New Organization Name" ng-model="vm.organization_name" ng-model-options="{ debounce: 500 }" organization-name-available-validator ng-required="vm.canCreateOrganization()" autofocus> <span class="input-group-addon" ng-if="vm.addForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.addForm.organization_name.$error" ng-if="vm.addForm.$submitted || vm.addForm.organization_name.$touched"> <small ng-message="required">Organization Name is required.</small> <small ng-message="unique">A organizations with this name already exists.</small> </div> </div> <div class="form-group"> <label for="project_name">Project Name</label> <div ng-class="{\'input-group\': vm.addForm.$pending }"> <input id="project_name" name="project_name" type="text" class="form-control" placeholder="New Project Name" ng-model="vm.project_name" ng-model-options="{ debounce: 500 }" project-name-available-validator ng-required="true" autofocus> <span class="input-group-addon" ng-if="vm.addForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.addForm.project_name.$error" ng-if="vm.addForm.$submitted || vm.addForm.project_name.$touched"> <small ng-message="required">Project Name is required.</small> <small ng-message="unique">A project with this name already exists.</small> </div> </div> </form> </div> <footer class="panel-footer"> <div class="pull-right"> <a ui-sref="app.dashboard" ng-if="vm.hasOrganizations()" class="btn btn-default" role="button">Go To Dashboard</a> </div> <div class="clearfix"> <input ng-click="vm.add()" type="submit" role="button" class="btn btn-primary" value="Add Project"> </div> </footer> </div> </div> </div> </div> '),a.put("app/project/configure.tpl.html",'<organization-notifications organization-id="vm.project.organization_id" ignore-free="true" ignore-configure-projects="true"></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="PersistentEventChanged" refresh-if="vm.canRedirect(data)" refresh-action="vm.navigateToDashboard()"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-cloud-download"></i> Download & Configure {{ vm.project.name ? \'Project "\' + vm.project.name + \'"\' : \'Project\'}} Client</div> <div class="panel-body m-b-n"> <p>The Exceptionless client can be integrated into your project in just a few easy steps.</p> <ol> <li> <p>Select your project type:</p> <select class="form-control" ng-model="vm.currentProjectType" ng-options="projectType.name group by projectType.platform for projectType in vm.projectTypes"> <option value="" ng-if="!vm.currentProjectType.key">Please select a project type</option> </select> </li> <li style="margin-top: 15px" ng-if="vm.currentProjectType.key"> <div ng-if="vm.isDotNet()"> <p>Add the Exceptionless <a href="http://nuget.org" target="_blank">NuGet</a> package to your Visual Studio project by running this command in the <a href="http://docs.nuget.org/docs/start-here/using-the-package-manager-console">Package Manager Console</a>:</p> <pre><a ng-href="http://nuget.org/packages/{{vm.currentProjectType.key}}" target="_blank">Install-Package {{vm.currentProjectType.key}}</a></pre> <p><em>A Strong-Named <code>{{vm.currentProjectType.key}}.Signed</code> package is also available on NuGet.</em></p> </div> <div ng-if="vm.isJavaScript()"> <div ng-if="!vm.isNode()"> <p> Install Exceptionless using <a href="http://bower.io" target="_blank">Bower</a>: <pre><a href="http://bower.io/search/?q=exceptionless" target="_blank">bower install exceptionless</a></pre> If you wish to install manually or from a CDN please view the <a href="https://github.com/exceptionless/Exceptionless.JavaScript" target="_blank">readme</a>. </p> </div> <div ng-if="vm.isNode()"> <p>Install Exceptionless using the <a href="https://www.npmjs.com" target="_blank">Node Package Manager</a>: <pre><a href="https://www.npmjs.com/package/exceptionless" target="_blank">npm install exceptionless --save</a></pre></p> </div> </div> </li> <li ng-if="vm.isJavaScript() && !vm.isNode()" style="margin-top: 15px"> <p>Add the script to your HTML page: <pre>&ltscript src="bower_components/exceptionless/dist/exceptionless.min.js"&gt&lt/script&gt</pre> </p></li> <li ng-if="vm.isJavaScript()" style="margin-top: 15px"> <div ng-if="!vm.isNode()"> <p>Configure the ExceptionlessClient with your Exceptionless API key: <pre>var client = exceptionless.ExceptionlessClient.default;<br>client.config.apiKey = \'{{::vm.apiKey}}\';</pre></p> </div> <div ng-if="vm.isNode()"> <p>Configure the ExceptionlessClient with your Exceptionless API key: <pre>var client = require(\'exceptionless\').ExceptionlessClient.default;<br>client.config.apiKey = \'{{::vm.apiKey}}\';</pre></p> </div> </li> <li ng-if="vm.isDotNet()" style="margin-top: 15px"> <div ng-if="vm.currentProjectType.key !== \'Exceptionless\' && vm.currentProjectType.key !== \'Exceptionless.AspNetCore\'"> <p>Update the <code>&lt;exceptionless apiKey="API_KEY_HERE" /&gt;</code> section located in the project\'s {{vm.currentProjectType.config}} with your Exceptionless API key:</p> <div class="input-group"> <input class="form-control api-key" type="text" ng-model="vm.apiKey" autofocus> <a class="input-group-addon" title="Copy to Clipboard" clipboard text="vm.apiKey" on-copied="vm.copied()" on-error="vm.onCopyError()"><i class="fa fa-copy"></i></a> </div> </div> <div ng-if="vm.currentProjectType.key === \'Exceptionless\'"> <p>Import the <code>Exceptionless</code> namespace and call the <code>ExceptionlessClient.Default.Startup("{{vm.apiKey}}")</code> method with your api key during the startup of your app.</p> <p>If you are targeting Portable Class Libraries you may need to wire up to any unhandled exception events specific to your project type to start reporting them! Please see the <a target="_blank" href="https://github.com/exceptionless/Exceptionless.Net/wiki/Configuration#exceptionless-portable-class-library-pcl-configuration">Exceptionless docs</a> for more information.</p> </div> <div ng-if="vm.currentProjectType.key === \'Exceptionless.AspNetCore\'"> <p>Import the <code>Exceptionless</code> namespace and call the <code>app.UseExceptionless("{{vm.apiKey}}")</code> method with your api key during the startup of your app.</p> </div> </li> <li style="margin-top: 15px" ng-if="vm.currentProjectType.key === \'Exceptionless.Nancy\'"> <p>Import the <code>Exceptionless</code> namespace and call the <code>Exceptionless.ExceptionlessClient.Default.RegisterNancy(pipelines)</code> method with an instance of Nancy.Bootstrapper.IPipelines inside of your NancyBootstrapper\'s ApplicationStartup method.</p> </li> <li style="margin-top: 15px" ng-if="vm.currentProjectType.key === \'Exceptionless.Windows\' || vm.currentProjectType.key === \'Exceptionless.Wpf\'"> <p>Import the <code>Exceptionless</code> namespace and call the <code>ExceptionlessClient.Default.Register()</code> method during the startup of your app.</p> </li> <li style="margin-top: 15px" ng-if="vm.currentProjectType.key === \'Exceptionless.WebApi\'"> <p>Import the <code>Exceptionless</code> namespace and call the <code>ExceptionlessClient.Default.RegisterWebApi(config)</code> method with an instance of HttpConfiguration during the startup of your app.</p> <p>If you are hosting Web API inside of ASP.NET, you would register Exceptionless like: <code>Exceptionless.ExceptionlessClient.Default.RegisterWebApi(GlobalConfiguration.Configuration)</code> </p> </li> </ol> <p ng-if="vm.currentProjectType.key"><strong>That\'s it!</strong> Your project should now automatically be sending all unhandled exceptions to Exceptionless! <span ng-if="vm.isDotNet()">You can also <a href="https://github.com/exceptionless/Exceptionless.Net/wiki/Sending-Events" target="_blank">send handled exceptions to Exceptionless</a> using <code>ex.ToExceptionless().Submit()</code>.</span> <span ng-if="vm.isJavaScript()">You can also <a href="https://github.com/exceptionless/Exceptionless.JavaScript/wiki/Sending-Events" target="_blank">send handled exceptions to Exceptionless</a> using <code>client.submitException(ex);</code>.</span> </p> <div class="alert alert-success" ng-if="vm.currentProjectType.key"> <span ng-if="vm.isDotNet()"> For more information and troubleshooting tips, view the <a target="_blank" href="https://github.com/exceptionless/Exceptionless.Net/wiki">Exceptionless docs</a>. </span> <span ng-if="vm.isJavaScript()"> For more information and platform specific integrations (E.G., angularjs, expressjs) view the <a target="_blank" href="https://github.com/exceptionless/Exceptionless.JavaScript/wiki">Exceptionless docs</a>. </span> </div> </div> <footer class="panel-footer"> <div class="pull-right"> <a ui-sref="app.project-dashboard({ projectId: vm.project.id })" class="btn btn-default" role="button">Go To Dashboard</a> </div> <a ui-sref="app.account.manage({ tab: \'notifications\', projectId: vm.project.id })" class="btn btn-primary" role="button" title="Manage Notification Settings"> <i class="fa fa-fw fa-envelope"></i> <span class="hidden-xs">Manage Notification Settings</span> </a> <a ui-sref="app.project.manage({ id: vm.project.id })" class="btn btn-primary" role="button" title="Manage Project"> <i class="fa fa-fw fa-gear"></i> <span class="hidden-xs">Manage Project</span> </a> </footer> </div> </div> </div> </div> '),a.put("app/project/list.tpl.html",'<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-briefcase"></i> My Projects</div> <projects settings="vm.projects"></projects> <footer class="panel-footer"> <a ui-sref="app.project.add" class="btn btn-primary" role="button">Add New Project</a> <div class="pull-right"> <a ui-sref="app.dashboard" class="btn btn-default" role="button">Go To Dashboard</a> </div> </footer> </div> </div> </div> </div> '),a.put("app/project/manage/add-configuration-dialog.tpl.html",'<form name="addConfigurationForm" role="form" class="form-validation"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title">Please enter a configuration setting</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="key">Key</label> <input id="key" name="key" type="text" class="form-control" placeholder="Configuration Key" ng-model="vm.data.key" ng-required="true" autofocus> <div class="error" ng-messages="addConfigurationForm.key.$error" ng-if="addConfigurationForm.$submitted || addConfigurationForm.key.$touched"> <small ng-message="required">Please enter a valid key.</small> </div> </div> <div class="form-group"> <label for="value">Value</label> <input id="value" name="value" type="text" class="form-control" placeholder="Configuration Value" ng-model="vm.data.value" ng-required="true"> <div class="error" ng-messages="addConfigurationForm.value.$error" ng-if="addConfigurationForm.$submitted || addConfigurationForm.value.$touched"> <small ng-message="required">Please enter a valid value.</small> </div> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()">Cancel</button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save(addConfigurationForm.$valid)" value="Save"> </div> </form> '),a.put("app/project/manage/manage.tpl.html",'<organization-notifications organization-id="vm.project.organization_id"></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="ProjectChanged" refresh-action="vm.get(data)" refresh-throttle="10000"> <div class="col" refresh-on="TokenChanged" refresh-action="vm.getTokens()" refresh-throttle="10000"> <div class="wrapper-md" refresh-on="WebHookChanged" refresh-action="vm.getWebHooks()" refresh-throttle="10000"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-th-list"></i> Manage {{ vm.project.name ? \'Project "\' + vm.project.name + \'"\' : \'Project\'}}</div> <div class="panel-body m-b-n"> <uib-tabset class="tab-container"> <uib-tab heading="General"> <div ng-include="\'app/project/manage/tabs/general.tpl.html\'"></div> </uib-tab> <uib-tab heading="API Keys"> <div ng-include="\'app/project/manage/tabs/api-keys.tpl.html\'"></div> </uib-tab> <uib-tab heading="Settings"> <div ng-include="\'app/project/manage/tabs/settings.tpl.html\'"></div> </uib-tab> <uib-tab heading="Client Configuration"> <div ng-include="\'app/project/manage/tabs/client-configuration.tpl.html\'"></div> </uib-tab> <uib-tab heading="Integrations"> <div ng-include="\'app/project/manage/tabs/integrations.tpl.html\'"></div> </uib-tab> </uib-tabset> </div> <footer class="panel-footer"> <div class="pull-right"> <a ui-sref="app.project-dashboard({ projectId: vm.project.id })" class="btn btn-default" role="button"> <span class="visible-xs" title="Go To Dashboard"><i class="fa fa-fw fa-dashboard"></i></span> <span class="hidden-xs">Go To Dashboard</span></a> </div> <a ui-sref="app.organization.manage({ id: vm.project.organization_id })" class="btn btn-primary" role="button" title="Manage Organization"> <i class="fa fa-fw fa-group"></i> </a> <a ui-sref="app.account.manage({ tab: \'notifications\', projectId: vm.project.id })" class="btn btn-primary" role="button" title="Manage Notification Settings"> <i class="fa fa-fw fa-envelope"></i> </a> <a ui-sref="app.project.configure({ id: vm.project.id })" class="btn btn-primary" role="button" title="Download & Configure Client"> <i class="fa fa-fw fa-cloud-download"></i> </a> <div class="btn-group"> <button type="button" role="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-fw fa-remove"></i> <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu"> <li><a ng-click="vm.resetData()" role="button">Reset Project Data</a></li> <li><a ng-click="vm.removeProject()" role="button">Delete Project</a></li> </ul> </div> </footer> </div> </div> </div> </div> '),
a.put("app/project/manage/tabs/api-keys.tpl.html",'<table class="table table-striped table-bordered table-fixed b-t"> <thead> <tr> <th>API Key</th> <th class="action-lg">Actions</th> </tr> </thead> <tbody> <tr ng-repeat="token in vm.tokens track by token.id"> <td>{{::token.id}}</td> <td> <button type="button" role="button" class="btn btn-sm btn-primary" title="Copy to Clipboard" clipboard text="token.id" on-copied="vm.copied()" supported="vm.clipboardSupported" ng-show="vm.clipboardSupported"><i class="fa fa-copy"></i></button> <button type="button" role="button" ng-click="vm.removeToken(token)" class="btn btn-sm btn-default" title="Delete"><i class="fa fa-times"></i></button> </td> </tr> <tr ng-if="!vm.hasTokens()"> <td colspan="2" class="text-warning">This project does not have an API Key.</td> </tr> </tbody> </table> <button type="button" role="button" ng-click="vm.addToken()" class="btn btn-primary">New API Key</button> '),a.put("app/project/manage/tabs/client-configuration.tpl.html",'<p> The <a href="https://github.com/exceptionless/Exceptionless/wiki/Project-Settings#client-configuration-values" target="_blank">configuration values</a> on this page will be sent to the Exceptionless clients in real time. This allows you to change how your app works without redploying your app. </p> <table class="table table-striped table-bordered table-fixed b-t"> <thead> <tr> <th>Key</th> <th>Value</th> <th class="action-lg">Actions</th> </tr> </thead> <tbody> <tr ng-repeat="conf in vm.config track by conf.key"> <td> <div class="control-group">{{::conf.key}}</div> </td> <td ng-class="{\'row-clickable\': !rowform.$visible}" ng-click="rowform.$show()"> <div editable-text="conf.value" e-name="value" e-form="rowform" e-required onbeforesave="vm.validateClientConfiguration(conf.value, $data)" onaftersave="vm.saveClientConfiguration(conf)">{{conf.value}}</div> </td> <td> <form name="rowform" editable-form ng-show="rowform.$visible" class="form-buttons form-inline"> <button type="submit" role="button" ng-disabled="rowform.$waiting" class="btn btn-sm btn-primary"> Save </button> <button type="button" role="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-sm btn-default"> Cancel </button> </form> <div class="buttons" ng-show="!rowform.$visible"> <button type="button" role="button" class="btn btn-sm btn-default" ng-click="rowform.$show()">Edit</button> <button type="button" role="button" class="btn btn-sm btn-danger" title="Delete" ng-click="vm.removeConfig(conf)"><i class="fa fa-times"></i></button> </div> </td> </tr> <tr ng-if="!vm.hasConfiguration()"> <td colspan="3">This project does not contain any custom configuration settings.</td> </tr> </tbody> </table> <button ng-click="vm.addConfiguration()" class="btn btn-primary">New Client Configuration</button> '),a.put("app/project/manage/tabs/general.tpl.html",'<form name="vm.projectForm" role="form" class="form-validation"> <div class="form-group"> <label for="name">Project Name</label> <div ng-class="{\'input-group\': vm.projectForm.$pending }"> <input id="name" name="name" type="text" class="form-control" placeholder="Project Name" ng-model="vm.project.name" ng-model-options="{ debounce: 500 }" ng-change="vm.save(vm.projectForm.$valid)" project-name-available-validator ng-required="true" autofocus> <span class="input-group-addon" ng-if="vm.projectForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.projectForm.name.$error" ng-if="vm.projectForm.$submitted || vm.projectForm.name.$touched"> <small ng-message="required">Project Name is required.</small> <small ng-message="unique">A project with this name already exists.</small> </div> </div> <div class="form-group m-b-none"> <label>Organization Name</label> <input type="text" class="form-control" placeholder="Organization Name" ng-model="vm.project.organization_name" readonly> </div> </form> '),a.put("app/project/manage/tabs/integrations.tpl.html",'<div class="alert in fade alert-success" ng-if="!vm.hasPremiumFeatures()"> <a ng-click="vm.showChangePlanDialog()">Upgrade now</a> to enable integrations! </div> <p> The following web hooks will be called for this project. We also support <a href="http://zapier.com/" target="_blank">Zapier</a> which allows you to easily integrate Exceptionless with many different services (200+) like JIRA, HipChat, Twilio, Basecamp and more. </p> <table class="table table-striped table-bordered table-fixed b-t"> <thead> <tr> <th>Url</th> <th>Event Types</th> <th class="action">Actions</th> </tr> </thead> <tbody> <tr ng-repeat="hook in vm.webHooks track by hook.id"> <td>{{::hook.url}}</td> <td> <span class="label label-success" ng-repeat="type in hook.event_types track by type">{{::type}}</span> </td> <td> <button type="button" role="button" class="btn btn-sm" title="Delete" ng-click="vm.removeWebHook(hook)"><i class="fa fa-times"></i></button> </td> </tr> <tr ng-if="!vm.hasWebHook()"> <td colspan="3">This project does not contain any integrations.</td> </tr> </tbody> </table> <button type="button" role="button" ng-click="vm.addWebHook()" class="btn btn-primary">Add Web Hook</button> '),a.put("app/project/manage/tabs/settings.tpl.html",'<h4>Data Exclusions</h4> <p> A comma delimited list of field names that should be removed from any error report data (e.g., extended data properties, form fields, cookies and query parameters). You can also specify a <a href="https://github.com/exceptionless/Exceptionless/wiki/Security" target="_blank" title="Data Exclusions documentation">field name with wildcards (<strong>*</strong>)</a> to specify starts with, ends with, or contains just to be extra safe. </p> <input type="text" class="form-control" placeholder="Example: *Password*, CreditCard*, SSN" ng-model="vm.data_exclusions" ng-model-options="{ debounce: 500 }" ng-change="vm.saveDataExclusion()"> <h4>Error Stacking</h4> <h5>User Namespaces</h5> <p> A comma delimited list of the namespace names that your applications code belongs to. If this value is set, only methods inside of these namespaces will be considered as stacking targets. </p> <input type="text" class="form-control" placeholder="Example: Contoso" ng-model="vm.user_namespaces" ng-model-options="{ debounce: 500 }" ng-change="vm.saveUserNamespaces()"> <h5>Common Methods</h5> <p> A comma delimited list of common method names that should not be used as stacking targets. This is useful when your code contains shared utility methods that throw a lot of errors. </p> <input type="text" class="form-control" placeholder="Example: Assert, Writeline" ng-model="vm.common_methods" ng-model-options="{ debounce: 500 }" ng-change="vm.saveCommonMethods()"> <h4>Spam Detection</h4> <p>A comma delimited list of user agents that should be ignored.</p> <input type="text" class="form-control" placeholder="Example: SpamBot" ng-model="vm.user_agents" ng-model-options="{ debounce: 500 }" ng-change="vm.saveUserAgents()"> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="vm.project.delete_bot_data_enabled" ng-model-options="{ debounce: 500 }" ng-change="vm.saveDeleteBotDataEnabled()"> <i></i> Reduce noise by automatically hiding high volumes of events coming from a single client IP address. </label> </div> '),a.put("app/recent.tpl.html",'<organization-notifications></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-calendar"></i> Most Recent</div> <events settings="vm.mostRecent"></events> </div> </div> </div> </div> '),a.put("app/session/dashboard.tpl.html",'<organization-notifications requires-premium="true"></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="PersistentEventChanged PlanChanged" refresh-action="vm.get()" refresh-if="vm.canRefresh(data)" refresh-throttle="10000"> <div class="col" refresh-on="filterChanged" refresh-action="vm.get()"> <div class="wrapper-md"> <div class="row"> <div class="col-sm-12"> <div class="row row-sm text-center"> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-area-chart fa-4x"></i> </div> <div class="details"> <span class="title">Sessions</span> <span class="sub">{{vm.stats.total || 0 | number : 0}}</span> </div> </div> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-line-chart fa-4x"></i> </div> <div class="details"> <span class="title">Per Hour</span> <span class="sub">{{vm.stats.avg_per_hour || 0 | number : 1}}</span> </div> </div> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-users fa-4x"></i> </div> <div class="details"> <span class="title">Users</span> <span class="sub">{{vm.stats.numbers[1] || 0 | number : 0}}</span> </div> </div> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-clock-o fa-4x"></i> </div> <div class="details"> <span class="title">Average Duration</span> <span class="sub"><duration value="vm.stats.numbers[0]"></duration></span> </div> </div> </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-bar-chart-o"></i>Sessions and Users</div> <div class="panel-body"> <rickshaw options="vm.chart.options" features="vm.chart.features"></rickshaw> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-area-chart"></i>Recent Sessions</div> <sessions settings="vm.recentSessions"></sessions> </div> </div> </div> </div> '),a.put("app/session/sessions-directive.tpl.html",'<div class="table-responsive" refresh-on="filterChanged" refresh-action="vm.get()"> <table class="table table-striped table-bordered table-selectable table-fixed b-t table-hover table-clickable" refresh-on="StackChanged PlanChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="10000"> <thead refresh-on="PersistentEventChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="10000"> <tr> <th>Summary</th> <th class="date">Created</th> <th class="date">Duration</th> </tr> </thead> <tbody> <tr class="row-clickable" ng-repeat="event in vm.events track by event.id" ng-if="vm.hasEvents()"> <td ng-click="vm.open(event.id, $event)"> <div> <span ng-if="!event.data.SessionEnd" class="glyphicon glyphicon-one-fine-dot glyphicon-green" title="Online"></span> <summary source="event" show-type="vm.showType"></summary> </div> </td> <td ng-click="vm.open(event.id, $event)"><abbr title="{{::event.date | date : \'medium\'}}"> <timeago date="event.date"></timeago> </abbr></td> <td ng-click="vm.open(event.id, $event)"><abbr title="{{vm.getDuration(event)}} seconds"> <duration value="vm.getDuration(event)"></duration> </abbr></td> </tr> <tr ng-if="!vm.hasEvents() || vm.loading"> <td colspan="3"> <strong ng-if="vm.loading">Loading...</strong> <strong ng-if="!vm.loading">No sessions were found{{vm.hasFilter ? \' with the current filter\': \'\'}}.</strong> </td> </tr> </tbody> </table> <div class="table-footer"> <div class="row"> <div class="text-center" ng-class="vm.previous || vm.next ? \'col-sm-8 col-xs-8\': \'col-sm-12 col-xs-12\'" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right" ng-if="vm.previous || vm.next"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"><a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a></li> <li ng-class="{\'disabled\': !vm.previous}"><a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a></li> <li ng-class="{\'disabled\': !vm.next}"><a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a></li> </ul> </div> </div> </div> </div> '),a.put("app/stack/add-reference-dialog.tpl.html",'<form name="addReferenceForm" role="form" class="form-validation" autocomplete="on"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title"><i class="fa fa-external-link fa-fw"></i> Please enter a Reference Link</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="url">Reference Link</label> <input id="url" name="url" type="url" class="form-control input-lg" placeholder="Please enter a valid URL" ng-model="vm.data.url" ng-required="true" autofocus> <div class="error" ng-messages="addReferenceForm.url.$error" ng-if="addReferenceForm.$submitted || addReferenceForm.url.$touched"> <small ng-message="required">Reference Link is required.</small> <small ng-message="url">Reference Link is required.</small> </div> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()">Cancel</button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save(addReferenceForm.$valid)" value="Save Reference Link"> </div> </form> '),a.put("app/stack/stack.tpl.html",'<organization-notifications organization-id="vm.stack.organization_id"></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="StackChanged PersistentEventChanged" refresh-action="vm.get(data)" refresh-if="vm.canRefresh(data)" refresh-debounce="1000"> <div class="wrapper-md" refresh-on="filterChanged" refresh-action="vm.get()"> <div class="row" refresh-always="PlanChanged" refresh-action="vm.get(data)"> <div class="col-sm-12"> <div class="row row-sm text-center"> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-calendar fa-4x"></i> </div> <div class="details"> <span class="title">Total</span> <span class="sub">{{vm.stats.total || 0 | number : 0}}</span> </div> </div> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-users fa-4x"></i> </div> <div class="details"> <span class="title">Users</span> <span class="sub"> <abbr title="{{vm.stats.numbers[0] || 0 | number : 0}} of {{vm.total_users | number:0}} users">{{(vm.total_users > 0 ? (vm.stats.numbers[0] || 0) / vm.total_users * 100.0 : 0) | percentage:100}}</abbr> </span> </div> </div> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-arrow-circle-left fa-4x"></i> </div> <div class="details"> <span class="title">First</span> <span class="sub visible-md visible-lg"><timeago date="vm.stats.first_occurrence"></timeago></span> <span class="sub visible-sm"> <span ng-if="vm.isValidDate(vm.stats.first_occurrence)">{{vm.stats.first_occurrence | date:\'shortDate\' }}</span> <span ng-if="!vm.isValidDate(vm.stats.first_occurrence)">never</span> </span> <span class="sub visible-xs"> <span ng-if="vm.isValidDate(vm.stats.first_occurrence)">{{vm.stats.first_occurrence | date:\'M/d\' }}</span> <span ng-if="!vm.isValidDate(vm.stats.first_occurrence)">NA</span> </span> </div> </div> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-arrow-circle-right fa-4x"></i> </div> <div class="details"> <span class="title">Last</span> <span class="sub visible-md visible-lg"><timeago date="vm.stats.last_occurrence"></timeago></span> <span class="sub visible-sm"> <span ng-if="vm.isValidDate(vm.stats.last_occurrence)">{{vm.stats.last_occurrence | date:\'shortDate\' }}</span> <span ng-if="!vm.isValidDate(vm.stats.last_occurrence)">never</span> </span> <span class="sub visible-xs"> <span ng-if="vm.isValidDate(vm.stats.last_occurrence)">{{vm.stats.last_occurrence | date:\'M/d\' }}</span> <span ng-if="!vm.isValidDate(vm.stats.last_occurrence)">NA</span> </span> </div> </div> </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading"> Stack <span class="labels"> <span class="label label-success" ng-if="vm.isFixed()"> <span class="hidden-xs">FIXED<span ng-if="vm.stack.fixed_in_version"> IN {{vm.stack.fixed_in_version}}</span></span> <span class="visible-xs">F</span> </span> <span class="label label-success" ng-if="vm.isRegressed()"> <span class="hidden-xs">REGRESSED</span> <span class="visible-xs">R</span> </span> <span class="label label-success" ng-if="vm.isHidden()"> <span class="hidden-xs">HIDDEN</span> <span class="visible-xs">H</span> </span> </span> <div class="btn-toolbar pull-right hidden-print" role="toolbar" aria-label="Stack Options"> <div class="btn-group btn-group-sm" role="group" ng-if="vm.stack.type === \'error\' || vm.stack.type === \'404\'"> <button type="button" role="button" class="btn btn-default" title="{{vm.isFixed() ? \'Mark this stack as not fixed\' : \'Mark this stack as fixed\'}}" promise-button="vm.updateIsFixed()" promise-button-busy-text="{{vm.isFixed() ? \'Marking Not Fixed\' : \'Marking Fixed\' }}" promise-button-busy-spinner-class="fa-size-sm"> {{vm.isFixed() ? \'Mark Not Fixed\' : \'Mark Fixed\' }} </button> </div> <div class="btn-group btn-group-sm" role="group"> <button type="button" role="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> <span class="visible-xs-inline"><i class="fa fa-fw fa-gear fa-size-sm"></i></span> <span class="hidden-xs">Options</span> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li><a ng-click="vm.updateIsHidden()" title="Hide this stack from reports and mutes occurrence notifications"><i ng-if="vm.hasSelectedOption()" class="fa fa-fw" ng-class="{\'fa-check\': vm.isHidden()}"></i>Hide</a></li> <li><a ng-click="vm.updateIsCritical()" title="All future occurrences will be marked as critical"><i ng-if="vm.hasSelectedOption()" class="fa fa-fw" ng-class="{\'fa-check\': vm.isCritical()}"></i>Future Occurrences Are Critical</a></li> <li><a ng-click="vm.updateNotifications()" title="Stop sending occurrence notifications for this stack"><i ng-if="vm.hasSelectedOption()" class="fa fa-fw" ng-class="{\'fa-check\': vm.notificationsDisabled()}"></i>Disable Notifications</a></li> <li class="divider"></li> <li><a ng-click="vm.promoteToExternal()" title="Used to promote stacks to external systems."><i ng-if="vm.hasSelectedOption()" class="fa fa-fw"></i>Promote To External</a></li> <li><a ng-click="vm.addReferenceLink()" title="Add a reference link to an external resource."><i ng-if="vm.hasSelectedOption()" class="fa fa-fw"></i>Add Reference Link</a></li> <li class="divider"></li> <li><a ng-click="vm.remove()" title="Delete this stack"><i ng-if="vm.hasSelectedOption()" class="fa fa-fw"></i>Delete</a></li> </ul> </div> </div> </div> <div class="panel-body"> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tbody> <tr> <th>Title</th> <td><span truncate lines="3">{{vm.stack.title}}</span></td> </tr> <tr> <th>Project</th> <td><a ui-sref="app.project-dashboard({ projectId: vm.project.id })">{{vm.project.name}}</a></td> </tr> <tr ng-if="vm.isFixed()"> <th>Date Fixed</th> <td><span>{{vm.stack.date_fixed | date: \'medium\'}}</span></td> </tr> <tr ng-if="vm.stack.description"> <th>Description</th> <td><span truncate lines="2">{{vm.stack.description}}</span></td> </tr> <tr ng-if="vm.hasTags()"> <th>Tags</th> <td><span class="label label-info" ng-repeat="tag in vm.stack.tags track by tag">{{tag}}</span></td> </tr> <tr ng-if="vm.hasReference()"> <th>{{vm.hasReferences() ? \'Reference Links\' : \'Reference Link\'}}</th> <td> <ul ng-if="vm.hasReferences()"> <li ng-repeat="reference in vm.stack.references track by reference"> <a ng-href="{{::reference}}" target="_blank">{{::reference}}</a> <a class="delete-link" ng-click="vm.removeReferenceLink(reference)"><i class="fa fa-fw fa-times"></i></a> </li> </ul> <div ng-if="!vm.hasReferences()"> <a ng-href="{{::vm.stack.references[0]}}" target="_blank">{{::vm.stack.references[0]}}</a> <a class="delete-link" ng-click="vm.removeReferenceLink(vm.stack.references[0])"><i class="fa fa-fw fa-times"></i></a> </div> </td> </tr> </tbody> </table> <h4>Stacking Information</h4> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tbody> <tr ng-repeat="(key, value) in vm.stack.signature_info track by key"> <th>{{key}}</th> <td>{{value}}</td> </tr> </tbody> </table> <div> <div class="btn-group btn-group-xs pull-right" role="group"> <button type="button" role="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> <span class="visible-xs-inline"><i class="fa fa-fw fa-gear"></i></span> <span class="hidden-xs">Chart Options</span> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li ng-repeat="o in vm.chartOptions | filter: { render: true } track by o.field"> <a ng-click="o.selected = !o.selected; vm.getStats();" title="{{::o.title}}"><i class="fa fa-fw" ng-class="{\'fa-check\': o.selected}" ng-if="vm.hasSelectedChartOption()"></i>Show {{::o.name}}</a> </li> </ul> </div> <div class="clearfix"></div> <rickshaw options="vm.chart.options" features="vm.chart.features"></rickshaw> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-fw fa-calendar"></i> Recent Occurrences</div> <events settings="vm.recentOccurrences"></events> </div> </div> </div> '),a.put("app/status/status.tpl.html",'<div class="container w-auto-xs"> <div class="text-center"> <a href="http://exceptionless.io"> <img src="/img/exceptionless-350.png" alt="logo"> </a> </div> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading text-center"><strong>Service Status</strong></div> <div class="panel-body"> {{vm.getMessage()}} </div> </div> </div> </div> </div> </div> '),a.put("app/users.tpl.html",'<organization-notifications></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-users"></i> Most Users</div> <stacks settings="vm.mostUsers"></stacks> </div> </div> </div> </div> '),a.put("components/billing/change-plan-dialog.tpl.html",'<form name="vm.changePlanForm" role="form" class="form-validation" autocomplete="on"> <div class="modal-header dialog-header-notify"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title"><i class="fa fa-credit-card fa-fw"></i> Exceptionless Plan</h4> </div> <div class="modal-body"> <div class="alert alert-danger" role="alert" ng-if="vm.paymentMessage"> <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> {{vm.paymentMessage}} </div> <div class="form-group" ng-if="vm.organizations.length > 1"> <label for="organization">Organization to change</label> <select id="organization" class="form-control" ng-change="vm.changeOrganization()" ng-model="vm.currentOrganization" ng-disabled="!vm.isBillingEnabled()" ng-options="organization.name for organization in vm.organizations track by organization.id"></select> </div> <p><strong>{{vm.currentOrganization.name}}</strong> is currently on the <strong>{{vm.currentOrganization.plan_name}}</strong> plan.</p> <div class="form-group"> <label for="plan">Select new plan (<a href="http://exceptionless.io/pricing" target="_blank">view plan information</a>). <em>All plan changes are prorated.</em></label> <select id="plan" class="form-control" ng-init="vm.currentPlan = vm.plans[0]" ng-model="vm.currentPlan" ng-disabled="!vm.isBillingEnabled()" ng-options="plan.description for plan in vm.plans track by plan.id" autofocus></select> </div> <div ng-if="vm.isPaidPlan()"> <div ng-if="!vm.hasAdminRole()"> <h4>Credit Card</h4> <div class="row" ng-if="vm.hasExistingCard()"> <div class="form-group col-sm-6"> <div class="radio"> <label class="i-checks"> <input type="radio" class="form-control" ng-model="vm.card.mode" ng-disabled="!vm.isBillingEnabled()" value="existing"> <i></i> Use credit card ending in {{vm.currentOrganization.card_last4}} </label> </div> </div> <div class="form-group col-sm-6"> <div class="radio"> <label class="i-checks"> <input type="radio" class="form-control" ng-model="vm.card.mode" ng-disabled="!vm.isBillingEnabled()" value="new"> <i></i> Use a new credit card </label> </div> </div> </div> <div ng-if="vm.isNewCard()"> <div class="row"> <div class="form-group col-xs-8"> <label for="cardNumber">Card number</label> <div class="input-group"> <input id="cardNumber" type="text" class="form-control" placeholder="•••• •••• •••• ••••" x-autocompletetype="cc-number" ng-model="vm.card.number" payments-validate="card" payments-format="card" payments-type-model="vm.card.type" ng-disabled="!vm.isBillingEnabled()" ng-required="true"> <span class="input-group-addon"><img ng-src="/img/cards/{{ vm.card.type ? vm.card.type : \'placeholder\' }}.png" alt="Card Type"></span> </div> </div> <div class="form-group col-xs-4"> <label for="cardExpiry">Expires</label> <input id="cardExpiry" type="text" class="form-control" placeholder="MM / YY" x-autocompletetype="cc-exp" ng-model="vm.card.expiry" ng-disabled="!vm.isBillingEnabled()" payments-validate="expiry" payments-format="expiry" ng-required="true"> </div> </div> <div class="row"> <div class="form-group col-xs-8"> <label for="cardName">Name on card</label> <input id="cardName" type="text" class="form-control" placeholder="Name on card" x-autocompletetype="full-name" autocapitalize="words" autocorrect="off" spellcheck="false" ng-model="vm.card.name" ng-disabled="!vm.isBillingEnabled()" ng-required="true"> </div> <div class="form-group col-xs-4"> <label for="cardCVC">Card code</label> <input id="cardCVC" type="text" class="form-control" placeholder="CVC" x-autocompletetype="cc-csc" autocomplete="off" ng-model="vm.card.cvc" ng-disabled="!vm.isBillingEnabled()" payments-validate="cvc" payments-format="cvc" payments-type-model="vm.card.type" ng-required="true"> </div> </div> </div> </div> <div class="form-group" ng-if="!vm.hasExistingCard()"> <label for="couponId">Coupon code</label> <input id="couponId" type="text" class="form-control" placeholder="Coupon Code" ng-model="vm.coupon" ng-disabled="!vm.isBillingEnabled()"> </div> </div> <div ng-if="vm.isCancellingPlan()"> <p><strong>Help us improve Exceptionless!</strong></p> <p> We hate to see you downgrade, but we\'ll be more than happy to take care of that for you. Use the <a ng-click="vm.showIntercom()">Contact Us</a> button below to let us know why you\'re downgrading, so we can serve you better in the future. </p> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()">Cancel</button> <span ng-if="vm.isCancellingPlan()"> <button type="submit" role="button" class="btn btn-primary" ng-click="vm.showIntercom()">Contact Us</button> </span> <span ng-if="!vm.isCancellingPlan()"> <button type="submit" role="button" class="btn btn-primary" promise-button="vm.save(vm.changePlanForm.$valid)" promise-button-busy-text="Changing Plan">Change Plan</button> </span> </div> </form> '),a.put("components/date-filter/custom-date-range-dialog.tpl.html",'<form name="addDateRangeForm" role="form" class="form-validation"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title">Select Date Range</h4> </div> <div class="modal-body"> <date-range-picker range="vm.range" min-date="vm.minDate" max-date="vm.maxDate" time-picker="true" time-picker-seconds="true" time-picker12-hour="true"> </date-range-picker> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()">Cancel</button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save()" value="Apply"> </div> </form> '),a.put("components/date-filter/date-filter-directive.tpl.html",'<li class="dropdown" refresh-on="filterChanged" refresh-action="vm.updateFilterDisplayName()"> <a class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" refresh-on="filterChanged" refresh-action="vm.updateFilterDisplayName()"> {{vm.filteredDisplayName}} <span class="caret"></span> </a> <ul class="dropdown-menu"> <li ng-class="{ active: vm.isActive(\'last hour\')}"><a ng-click="vm.setFilter(\'last hour\')">Last Hour</a></li> <li ng-class="{ active: vm.isActive(\'last 24 hours\')}"><a ng-click="vm.setFilter(\'last 24 hours\')">Last 24 Hours</a></li> <li ng-class="{ active: vm.isActive(\'last week\')}"><a ng-click="vm.setFilter(\'last week\')">Last Week</a></li> <li ng-class="{ active: vm.isActive(\'last 30 days\')}"><a ng-click="vm.setFilter(\'last 30 days\')">Last 30 Days</a></li> <li ng-class="{ active: vm.isActive(\'all\')}"><a ng-click="vm.setFilter(\'all\')">All Time</a></li> <li role="separator" class="divider hidden-xs"></li> <li ng-class="{ active: vm.isActive(\'Custom\')}" class="hidden-xs"><a ng-click="vm.setCustomFilter()">Custom</a></li> </ul> </li> '),a.put("components/date-range-picker/date-range-picker-directive.tpl.html",'<div id="datepicker" class="input-daterange"> <div class="input-group"> <input type="text" class="input-small form-control" name="start" ng-model="range.start" autofocus> <span class="input-group-addon">to</span> <input type="text" class="input-small form-control" name="end" ng-model="range.end"> </div> </div> '),a.put("components/dialog/confirm-dialog.tpl.html",'<div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title"> <span class="glyphicon glyphicon-check"></span> {{::vm.header}} </h4> </div> <div class="modal-body" ng-bind-html="vm.message"></div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()" autofocus>Cancel</button> <button type="button" role="button" class="btn btn-primary" ng-class="{\'btn-danger\': vm.danger}" ng-click="vm.confirm()"> {{vm.confirmButtonText}} </button> </div> '),a.put("components/events/events-directive.tpl.html",'<div class="table-responsive" refresh-on="filterChanged" refresh-action="vm.get()"> <table class="table table-striped table-bordered table-selectable table-fixed b-t table-hover table-clickable" refresh-on="StackChanged PlanChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="10000"> <thead refresh-on="PersistentEventChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="10000"> <tr> <th class="selection hidden-xs" ng-if="vm.actions.length > 0"> <label class="i-checks m-b-none"> <input type="checkbox" ng-click="vm.updateSelection()" ng-checked="vm.hasSelection()" ng-disabled="!vm.hasEvents()"><i></i> </label> </th> <th>Summary</th> <th class="action-xl hidden-xs">User</th> <th ng-class="vm.relativeTo() ? \'relative-date\' : \'date\'">{{::vm.timeHeaderText}}</th> </tr> </thead> <tbody> <tr class="row-clickable" ng-repeat="event in vm.events track by event.id" ng-if="vm.hasEvents()"> <td class="hidden-xs" ng-if="vm.actions.length > 0"><label class="i-checks m-b-none"><input type="checkbox" checklist-model="vm.selectedIds" checklist-value="event.id"><i></i></label></td> <td ng-click="vm.open(event.id, $event)"> <summary source="event" show-type="vm.showType"></summary> </td> <td class="hidden-xs" ng-click="vm.open(event.id, $event)"> <abbr ng-if="event.data.Name && event.data.Identity" title="{{::event.data.Name}} ({{::event.data.Identity}})" truncate overwrite-tooltip="false">{{::event.data.Name}}</abbr> <span ng-if="!event.data.Name || !event.data.Identity" truncate>{{::(event.data.Name || event.data.Identity)}}</span> </td> <td ng-click="vm.open(event.id, $event)"> <span ng-if="vm.hideSessionStartTime && event.data.Type === \'session\'">--</span> <span ng-if="!vm.hideSessionStartTime || event.data.Type !== \'session\'"> <abbr title="{{::event.date | date : \'medium\'}}"> <span ng-if="vm.relativeTo()">after <relative-time to="vm.relativeTo()" date="event.date"></relative-time></span> <span ng-if="!vm.relativeTo()"><timeago date="event.date"></timeago></span> </abbr> </span> </td> </tr> <tr ng-if="!vm.hasEvents() || vm.loading"> <td class="hidden-xs" ng-if="vm.actions.length > 0"><label class="i-checks m-b-none"><input type="checkbox" disabled><i></i></label></td> <td colspan="3"> <strong ng-if="vm.loading">Loading...</strong> <strong ng-if="!vm.loading">No events were found{{vm.hasFilter ? \' with the current filter\': \'\'}}.</strong> </td> </tr> </tbody> </table> <div class="table-footer"> <div class="row"> <div class="col-sm-4 hidden-xs"> <div class="dropdown" ng-if="vm.actions.length > 0"> <button type="button" role="button" id="bulkActions" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> Bulk Action <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="bulkActions"> <li role="presentation"><a role="menuitem" tabindex="-1" ng-repeat="action in vm.actions" ng-click="vm.save(action)">{{::action.name}}</a></li> </ul> </div> </div> <div class="col-sm-4 text-center" ng-class="vm.previous || vm.next ? \'col-xs-8\': \'col-xs-12\'" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right" ng-if="vm.previous || vm.next"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"><a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a></li> <li ng-class="{\'disabled\': !vm.previous}"><a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a></li> <li ng-class="{\'disabled\': !vm.next}"><a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a></li> </ul> </div> </div> </div> </div> '),
a.put("components/intercom/intercom-directive.tpl.html",'<div> <div refresh-on="UserChanged" refresh-action="vm.getUser(true)" refresh-debounce="10000" refresh-stopping="vm.shutdown()"></div> <div refresh-on="OrganizationChanged" refresh-action="vm.getOrganizations(true)" refresh-debounce="10000"></div> <div refresh-on="ProjectChanged" refresh-action="vm.getProjects(true)" refresh-debounce="10000"></div> <div refresh-on="filterChanged" refresh-action="vm.updateIntercom(true)" refresh-debounce="10000"></div> <div refresh-on="$stateChangeSuccess" refresh-action="vm.hide()" refresh-debounce="1000"></div> </div> '),a.put("components/organization-notifications/organization-notifications-directive.tpl.html",'<div> <div ng-if="vm.hasNotifications" refresh-on="filterChanged" refresh-action="vm.onFilterChanged()"> <div refresh-on="OrganizationChanged ProjectChanged PersistentEventChanged PlanChanged PlanOverage" refresh-action="vm.get()" refresh-throttle="10000"></div> <div class="alert alert-success alert-banner m-b-none" ng-if="!vm.hasOrganizations()"> <h4>Setup your first project</h4> <p> Please <a ui-sref="app.project.add">add a new project</a> and start becoming exceptionless in less than 60 seconds! </p> </div> <div class="alert alert-success alert-banner m-b-none" ng-if="vm.hasOrganizationsWithNoProjects()"> <h4>Setup your first project</h4> <p> <strong ng-repeat="organization in vm.organizationsWithNoProjects"> <span ng-if="!$first">, </span><a ui-sref="app.project.add({ organizationId: organization.id })">{{organization.name}}</a> </strong> currently has no projects. <a ui-sref="app.project.add({ organizationId: vm.organizationsWithNoProjects[0].id })">Add a new project</a> and start becoming exceptionless in less than 60 seconds! </p> </div> <div class="alert alert-success alert-banner m-b-none" ng-if="vm.hasProjectsRequiringConfiguration()"> <h4>We haven\'t received any data!</h4> <p> Please configure your clients for <strong ng-repeat="project in vm.projectsRequiringConfiguration"> <span ng-if="!$first">, </span><a ui-sref="app.project.configure({ id: project.id, redirect: true })" title="Configure {{project.name}} ({{project.organization_name}})">{{project.name}}</a> </strong> projects and start becoming exceptionless in less than 60 seconds! </p> </div> <div class="alert alert-danger alert-banner m-b-none" ng-if="vm.hasSuspendedOrganizations()"> <h4> <span ng-repeat="organization in vm.suspendedOrganizations"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </span> has been suspended. </h4> <p><em>Please note that while your account is suspended all new client events will be discarded.</em></p> <p ng-if="vm.hasSuspendedForBillingOrganizations()"> To unsuspend <strong ng-repeat="organization in vm.suspendedForBillingOrganizations"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </strong> , please <a ng-click="vm.showChangePlanDialog(vm.suspendedForBillingOrganizations[0].id)">update your billing information</a>. </p> <p ng-if="vm.hasSuspendedForAbuseOrOverageOrNotActiveOrganizations()"> <strong ng-repeat="organization in vm.suspendedForAbuseOrOverageOrNotActiveOrganizations"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </strong> has exceeded the plan limits. To unsuspend your account, please <a ng-click="vm.showChangePlanDialog(vm.suspendedForAbuseOrOverageOrNotActiveOrganizations[0].id)">upgrade your plan</a>. </p> <p ng-if="vm.isIntercomEnabled()"> Please <a ng-click="appVm.showIntercom()">contact us</a> for more information on why your account was suspended. </p> </div> <div class="alert alert-danger alert-banner m-b-none" ng-if="vm.hasExceededRequestLimitOrganizations()"> <h4> API requests are currently being throttled for <span ng-repeat="organization in vm.exceededRequestLimitOrganizations"> <span ng-if="!$first">, </span>{{organization.name}} </span> </h4> <p ng-if="vm.isIntercomEnabled()"> Please <a ng-click="appVm.showIntercom()">contact us</a> for more information. </p> </div> <div class="alert alert-danger alert-banner m-b-none" ng-if="vm.hasHourlyOverageOrganizations()"> <h4> Events are currently being throttled for <span ng-repeat="organization in vm.hourlyOverageOrganizations"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </span> </h4> <p>Events are currently being throttled to prevent using up your plan limit in a small window of time. <a ng-click="vm.showChangePlanDialog(vm.hourlyOverageOrganizations[0].id)">Upgrade now</a> to increase your limits.</p> </div> <div class="alert alert-danger alert-banner m-b-none" ng-if="vm.hasMonthlyOverageOrganizations()"> <h4> <span ng-repeat="organization in vm.monthlyOverageOrganizations"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </span> has reached its monthly plan limit. </h4> <p><a ng-click="vm.showChangePlanDialog(vm.monthlyOverageOrganizations[0].id)">Upgrade now</a> to continue receiving events.</p> </div> <div class="alert alert-danger alert-banner m-b-none" ng-if="vm.hasOrganizationsWithoutPremiumFeatures()"> <h4> <span ng-repeat="organization in vm.organizationsWithoutPremiumFeatures"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </span> is attempting to use a premium feature. </h4> <p><a ng-click="vm.showChangePlanDialog(vm.organizationsWithoutPremiumFeatures[0].id)">Upgrade now</a> to enable search and other premium features!</p> </div> <div class="alert alert-success alert-banner m-b-none" ng-if="vm.hasFreeOrganizations()"> <h4> <span ng-repeat="organization in vm.freeOrganizations"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </span> is currently on a free plan. </h4> <p><a ng-click="vm.showChangePlanDialog(vm.freeOrganizations[0].id)">Upgrade now</a> to enable premium features and extra storage!</p> </div> </div> </div> '),a.put("components/project-filter/project-filter-directive.tpl.html",'<li class="dropdown" refresh-on="OrganizationChanged ProjectChanged" refresh-action="vm.get()" refresh-throttle="5000"> <a class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" refresh-on="filterChanged" refresh-action="vm.getFilterName()"> {{vm.filteredDisplayName}} <span class="caret"></span> </a> <ul class="dropdown-menu w-xl scrollable-menu" ng-style="{\'max-height\': vm.filterDropDownMaxHeight + \'px\'}" auto-active> <li><a ng-href="{{vm.getAllProjectsUrl()}}">All Projects</a></li> <li role="separator" class="divider"></li> <li ng-if="vm.isLoadingOrganizations" disabled><a href="#">Loading Organizations...</a></li> <li ng-repeat-start="organization in vm.organizations | orderBy: \'name\' track by organization.id" class="heading-menu"> <a ng-href="{{vm.getOrganizationUrl(organization)}}"> {{organization.name}} <span class="icon-right" ui-sref="app.organization.manage({ id: organization.id })" show-on-hover-parent><i class="fa fa-gear fa-fw"></i></span> </a> </li> <li ng-if="vm.isLoadingProjects" class="child-menu" disabled><a href="#">Loading Projects...</a></li> <li ng-repeat="project in vm.getProjectsByOrganizationId(organization.id) | orderBy: \'name\' track by project.id" class="child-menu"> <a ng-href="{{vm.getProjectUrl(project)}}"> {{project.name}} <span class="icon-right" ui-sref="app.project.manage({ id: project.id })" show-on-hover-parent><i class="fa fa-gear fa-fw"></i></span> </a> </li> <li ng-repeat-end role="separator" class="divider"></li> <li><a ui-sref="app.project.add">Add New Project</a></li> </ul> </li> '),a.put("components/projects/projects-directive.tpl.html",'<div class="table-responsive" refresh-on="OrganizationChanged ProjectChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="10000"> <table class="table table-striped table-bordered table-fixed b-t" refresh-on="PersistentEventChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.get(vm.currentOptions, false)" refresh-throttle="10000"> <thead refresh-always="PlanChanged" refresh-action="vm.get(vm.currentOptions, false)"> <tr> <th>Name</th> <th ng-if="vm.includeOrganizationName">Organization</th> <th class="number hidden-xs"><abbr title="Total number of stacks">Stacks</abbr></th> <th class="number hidden-xs"><abbr title="Total number of events within the retention period">Events</abbr></th> <th class="action">Actions</th> </tr> </thead> <tbody> <tr class="row-clickable" ng-repeat="project in vm.projects | orderBy: \'name\' track by project.id" ng-if="vm.hasProjects()"> <td ng-click="vm.open(project.id, $event)">{{project.name}}</td> <td ng-if="vm.includeOrganizationName" ng-click="vm.open(project.id, $event)">{{project.organization_name}}</td> <td ng-click="vm.open(project.id, $event)" class="number hidden-xs">{{project.stack_count | number:0}}</td> <td ng-click="vm.open(project.id, $event)" class="number hidden-xs">{{project.event_count | number:0}}</td> <td> <div class="btn-group"> <button type="button" role="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-fw fa-edit"></i> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li><a ui-sref="app.project-dashboard({ projectId: project.id })"><i class="fa fa-fw fa-dashboard"></i> Dashboard</a></li> <li><a ui-sref="app.project.manage({ id: project.id })"><i class="fa fa-fw fa-edit"></i> Edit</a></li> <li><a ui-sref="app.project.configure({ id: project.id })"><i class="fa fa-fw fa-cloud-download"></i> Download & Configure Client</a></li> <li><a ng-click="vm.remove(project)"><i class="fa fa-fw fa-times"></i> Delete</a></li> <li class="divider"></li> <li><a ui-sref="app.organization.manage({ id: project.organization_id })"><i class="fa fa-fw fa-group"></i> View Organization</a></li> </ul> </div> </td> </tr> <tr ng-if="!vm.hasProjects() && vm.includeOrganizationName"> <td class="hidden-xs" colspan="5"> <strong ng-if="vm.loading">Loading...</strong> <strong ng-if="!vm.loading">No projects were found{{vm.hasFilter ? \' with the current filter\': \'\'}}.</strong> </td> <td class="visible-xs" colspan="3"> <strong ng-if="vm.loading">Loading...</strong> <strong ng-if="!vm.loading">No projects were found{{vm.hasFilter ? \' with the current filter\': \'\'}}.</strong> </td> </tr> <tr ng-if="!vm.hasProjects() && !vm.includeOrganizationName"> <td class="hidden-xs" colspan="4"> <strong ng-if="vm.loading">Loading...</strong> <strong ng-if="!vm.loading">No projects were found{{vm.hasFilter ? \' with the current filter\': \'\'}}.</strong> </td> <td class="visible-xs" colspan="2"> <strong ng-if="vm.loading">Loading...</strong> <strong ng-if="!vm.loading">No projects were found{{vm.hasFilter ? \' with the current filter\': \'\'}}.</strong> </td> </tr> </tbody> </table> <div class="table-footer" ng-if="vm.previous || vm.next"> <div class="row"> <div class="col-sm-8 col-xs-8 text-center" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"><a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a></li> <li ng-class="{\'disabled\': !vm.previous}"><a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a></li> <li ng-class="{\'disabled\': !vm.next}"><a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a></li> </ul> </div> </div> </div> </div> '),a.put("components/promise-button/promise-button-directive.tpl.html",'<span> <span ng-if="running"> <span class="fa fa-spinner fa-spin" ng-class="promiseButtonBusySpinnerClass"></span> <span ng-if="promiseButtonBusyText">{{promiseButtonBusyText}}</span> <span ng-if="!promiseButtonBusyText" ng-transclude></span> </span> <span ng-if="!running" ng-transclude></span> </span> '),a.put("components/rate-limit/rate-limit-directive.tpl.html",'<div class="alert alert-danger alert-banner m-b-none" ng-if="vm.rateLimitExceeded()"> <h4>API rate limit exceeded</h4> <p>Your API rate limit has been exceeded. Please try again in 15 minutes.</p> </div> '),a.put("components/release-notification/release-notification-directive.tpl.html",'<div refresh-on="ReleaseNotification" refresh-action="vm.processNotification(data)"></div> '),a.put("components/search-filter/search-filter-directive.tpl.html",'<form class="navbar-form navbar-form-search no-shadow" name="vm.searchFilterForm" role="search" refresh-on="filterChanged" refresh-action="vm.updateFilter()"> <div class="form-group"> <div class="input-group"> <input id="search" name="search" type="search" class="form-control" placeholder="Filter" ng-model="vm.filter" ng-model-options="{ debounce: 500 }" ng-change="vm.setSearchFilter(vm.filter)" search-filter-validator uib-tooltip="{{(vm.searchFilterForm.search.$invalid) ? \'An invalid search term was found.\' : \'\'}}" tooltip-class="error-tooltip" tooltip-is-open="vm.searchFilterForm.search.$invalid" tooltip-placement="bottom"> <div class="input-group-btn"> <a class="btn btn-search-help btn-dark" href="https://github.com/exceptionless/Exceptionless/wiki/Filtering-Searching" target="_blank" title="Search Documentation" aria-label="Search Documentation"> <i class="fa fa-fw fa-question-circle"></i> </a> </div> </div> </div> </form> '),a.put("components/stack-dialog/mark-fixed-dialog.tpl.html",'<form name="markFixedForm" role="form" class="form-validation" autocomplete="on"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title"> <span class="glyphicon glyphicon-check"></span> Mark Fixed </h4> </div> <div class="modal-body text-muted"> <p>Marks the stack as fixed. This will also prevent error occurrences from being displayed in the dashboard.</p> <p> <b>Optional:</b> Please enter the version in which the stack has been fixed. Any submitted occurrences with a lower version will not cause a regression. <a href="https://github.com/exceptionless/Exceptionless/wiki/Versioning" target="_blank" title="Versioning Documentation" aria-label="Versioning Documentation"> <i class="fa fa-fw fa-question-circle"></i> </a> </p> <div class="form-group"> <input id="version" name="version" type="text" class="form-control input-lg" placeholder="Optional Version (Example: 1.2.3)" ng-model="vm.data.version" semantic-version-validator autofocus> <div class="error" ng-messages="markFixedForm.$error" ng-if="markFixedForm.$submitted || markFixedForm.version.$touched"> <small ng-message="semver">Invalid version.</small> </div> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()">Cancel</button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save(markFixedForm.$valid)" value="MARK FIXED"> </div> </form> '),a.put("components/stacks/stacks-directive.tpl.html",'<div class="table-responsive" refresh-on="filterChanged" refresh-action="vm.get()"> <table class="table table-striped table-bordered table-selectable table-fixed b-t table-hover table-clickable" refresh-on="StackChanged PlanChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="10000"> <thead> <tr> <th class="selection hidden-xs"> <label class="i-checks m-b-none"> <input type="checkbox" ng-click="vm.updateSelection()" ng-checked="vm.hasSelection()" ng-disabled="!vm.hasStacks()"><i></i> </label> </th> <th>Summary</th> <th class="percentage">Users</th> <th class="number">Count</th> <th class="date hidden-xs">First</th> <th class="date hidden-xs">Last</th> </tr> </thead> <tbody> <tr class="row-clickable" ng-repeat="stack in vm.stacks track by stack.id" ng-if="vm.hasStacks()"> <td class="hidden-xs"> <label class="i-checks m-b-none"><input type="checkbox" checklist-model="vm.selectedIds" checklist-value="stack.id"><i></i></label> </td> <td ng-click="vm.open(stack.id, $event)"> <summary source="stack" show-type="vm.showType"></summary> </td> <td ng-click="vm.open(stack.id, $event)" class="number"> <abbr title="{{stack.users | number:0}} of {{stack.total_users | number:0}} users">{{(stack.total_users > 0 ? stack.users / stack.total_users * 100.0 : 0) | percentage:100}}</abbr> </td> <td ng-click="vm.open(stack.id, $event)" class="number">{{stack.total | number:0}}</td> <td ng-click="vm.open(stack.id, $event)" class="hidden-xs"> <abbr title="{{::stack.first_occurrence | date : \'medium\'}}"> <timeago date="stack.first_occurrence"></timeago> </abbr> </td> <td ng-click="vm.open(stack.id, $event)" class="hidden-xs"><abbr title="{{::stack.last_occurrence | date : \'medium\'}}"> <timeago date="stack.last_occurrence"></timeago> </abbr></td> </tr> <tr ng-if="!vm.hasStacks() || vm.loading"> <td class="hidden-xs"><label class="i-checks m-b-none"><input type="checkbox" disabled><i></i></label></td> <td colspan="5" class="hidden-xs"> <strong ng-if="vm.loading">Loading...</strong> <strong ng-if="!vm.loading">No stacks were found{{vm.hasFilter ? \' with the current filter\': \'\'}}.</strong> </td> <td colspan="3" class="visible-xs"> <strong ng-if="vm.loading">Loading...</strong> <strong ng-if="!vm.loading">No stacks were found{{vm.hasFilter ? \' with the current filter\': \'\'}}.</strong> </td> </tr> </tbody> </table> <div class="table-footer"> <div class="row"> <div class="col-sm-4 hidden-xs"> <div class="dropdown"> <button type="button" role="button" id="bulkActions" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> Bulk Action <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="bulkActions"> <li role="presentation"><a role="menuitem" tabindex="-1" ng-repeat="action in vm.actions" ng-click="vm.save(action)">{{::action.name}}</a></li> </ul> </div> </div> <div class="col-sm-4 text-center" ng-class="vm.previous || vm.next ? \'col-xs-8\': \'col-xs-12\'" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right" ng-if="vm.previous || vm.next"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"><a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a></li> <li ng-class="{\'disabled\': !vm.previous}"><a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a></li> <li ng-class="{\'disabled\': !vm.next}"><a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a></li> </ul> </div> </div> </div> </div> '),a.put("components/summary/templates/event-error-summary.tpl.html",'<div> <strong> <abbr title="{{::source.data.TypeFullName}}">{{::source.data.Type}}</abbr> <span ng-if="!source.data.Method">:</span> </strong> <span ng-if="source.data.Method"> in <strong> <abbr title="{{::source.data.MethodFullName}}">{{::source.data.Method}}</abbr> </strong> </span> <a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.Message}}</a> </div> <div class="hidden-xs error-path" ng-if="source.data.Path"><i class="fa fa-caret-right"></i> <span truncate>{{::source.data.Path}}</span> </div> '),a.put("components/summary/templates/event-feature-summary.tpl.html",'<span ng-if="showType"><strong>Feature</strong>:&nbsp;</span><a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.Source}}</a> '),a.put("components/summary/templates/event-log-summary.tpl.html",'<span ng-if="source.data.Level" class="label label-default" ng-class="{ \'label-success\': isLevelSuccess, \'label-info\': isLevelInfo, \'label-warning\': isLevelWarning, \'label-danger\': isLevelError }"> {{::source.data.Level}} </span> <span ng-if="showType"><strong>Log</strong><span ng-if="source.data.Source">&nbsp;in&nbsp;</span></span> <strong ng-if="source.data.Source"> <abbr ng-if="source.data.SourceShortName" title="{{::source.data.Source}}">{{::source.data.SourceShortName}}</abbr> <span ng-if="!source.data.SourceShortName">{{::source.data.Source}}</span> </strong> <span ng-if="showType || source.data.Source">:&nbsp;</span><a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.Message}}</a> '),a.put("components/summary/templates/event-notfound-summary.tpl.html",'<span ng-if="showType"><strong>404</strong>:&nbsp;</span><a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.Source}}</a> '),a.put("components/summary/templates/event-session-summary.tpl.html",'<span ng-if="showType"> <strong>Session <span ng-if="source.data.Type === \'sessionend\'"> End</span> <span ng-if="source.data.Type === \'heartbeat\'"> Heartbeat</span> </strong>:&nbsp; </span> <a ui-sref="app.event({ id: source.id })" truncate lines="2"> {{::(source.data.Name || source.data.Identity || source.data.SessionId)}} <span ng-if="source.data.Name && source.data.Identity" class="text-muted"> ({{::source.data.Identity}})</span> </a> '),a.put("components/summary/templates/event-simple-summary.tpl.html",'<div> <strong> <abbr title="{{::source.data.TypeFullName}}">{{::source.data.Type}}</abbr>: </strong> <a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.Message}}</a> </div> <div class="hidden-xs error-path" ng-if="source.data.Path"><i class="fa fa-caret-right"></i> <span truncate>{{::source.data.Path}}</span> </div> '),a.put("components/summary/templates/event-summary.tpl.html",'<strong ng-if="showType">{{::source.data.Type}}</strong><span ng-if="showType && source.data.Source">&nbsp;in&nbsp;</span><strong ng-if="source.data.Source">{{::source.data.Source}}</strong><span ng-if="showType || source.data.Source">:&nbsp;</span><a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.Message}}</a> '),a.put("components/summary/templates/stack-error-summary.tpl.html",'<div> <strong> <abbr title="{{::source.data.TypeFullName}}">{{::source.data.Type}}</abbr> <span ng-if="!source.data.Method">:</span> </strong> <span ng-if="source.data.Method"> in <strong> <abbr title="{{::source.data.MethodFullName}}">{{::source.data.Method}}</abbr> </strong> </span> <a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{::source.title}}</a> </div> <div class="hidden-xs error-path" ng-if="source.data.Path"><i class="fa fa-caret-right"></i> <span truncate>{{::source.data.Path}}</span> </div> '),a.put("components/summary/templates/stack-feature-summary.tpl.html",'<span ng-if="showType"><strong>Feature</strong>:&nbsp;</span><a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{::source.title}}</a> '),a.put("components/summary/templates/stack-log-summary.tpl.html",'<span ng-if="showType"> <strong>Log source</strong>:&nbsp; </span> <a ui-sref="app.stack({ id: source.id })" truncate lines="2"> <abbr ng-if="source.data.Source" title="{{::source.data.Source}}">{{::source.data.SourceShortName}}</abbr> <span ng-if="!source.data.Source">{{::source.title}}</span> </a> '),a.put("components/summary/templates/stack-notfound-summary.tpl.html",'<span ng-if="showType"><strong>404</strong>:&nbsp;</span><a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{source.title}}</a> '),a.put("components/summary/templates/stack-session-summary.tpl.html",'<span ng-if="showType"><strong>Session</strong>:&nbsp;</span><a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{source.title}}</a> '),a.put("components/summary/templates/stack-simple-summary.tpl.html",'<div> <strong> <abbr title="{{::source.data.TypeFullName}}">{{::source.data.Type}}</abbr>: </strong> <a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{::source.title}}</a> </div> <div class="hidden-xs error-path" ng-if="source.data.Path"><i class="fa fa-caret-right"></i> <span truncate>{{::source.data.Path}}</span> </div> '),a.put("components/summary/templates/stack-summary.tpl.html",'<strong ng-if="showType">{{::source.data.Type}}</strong><span ng-if="showType && source.data.Source">&nbsp;in&nbsp;</span><strong ng-if="source.data.Source">{{::source.data.Source}}</strong><span ng-if="showType || source.data.Source">:&nbsp;</span><a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{::source.title}}</a> '),a.put("components/users/users-directive.tpl.html",'<div class="table-responsive"> <table class="table table-striped table-bordered table-fixed b-t" refresh-on="OrganizationChanged UserChanged" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="10000"> <thead> <tr> <th>Email Address</th> <th class="action">Actions</th> </tr> </thead> <tbody> <tr ng-repeat="user in vm.users"> <td> <span>{{::user.email_address}}</span> <span ng-if="user.has_admin_role" class="label label-info">Admin</span> <span ng-if="user.is_invite" class="label label-default">Invited</span> </td> <td> <div class="btn-group"> <button type="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-fw fa-edit"></i> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li ng-if="vm.settings.organizationId"><a ng-click="vm.resendNotification(user)"><i class="fa fa-envelope"></i> Resend Invite Email</a></li> <li ng-if="vm.settings.organizationId"><a ng-click="vm.remove(user)"><i class="fa fa-times"></i> {{user.is_invite ? \'Revoke Invite\' : \'Remove User\' }}</a></li> <li ng-if="!user.is_invite && vm.hasAdminRole(appVm.user)"> <a ng-click="vm.updateAdminRole(user)"><i class="fa fa-user"></i> {{vm.hasAdminRole(user)? \'Add Admin Role\' : \'Remove Admin Role\' }}</a> </li> </ul> </div> </td> </tr> <tr ng-if="!vm.hasUsers()"> <td colspan="2"> <strong>No users were found.</strong> </td> </tr> </tbody> </table> <div class="table-footer" ng-if="vm.previous || vm.next"> <div class="row"> <div class="col-sm-8 col-xs-8 text-center" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"><a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a></li> <li ng-class="{\'disabled\': !vm.previous}"><a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a></li> <li ng-class="{\'disabled\': !vm.next}"><a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a></li> </ul> </div> </div> </div> </div> '),a.put("components/web-hook/add-web-hook-dialog.tpl.html",'<form name="vm.addWebHookForm" role="form" class="form-validation" autocomplete="on"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title"><i class="fa fa-flash fa-fw"></i> Create New Web Hook</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="url">URL</label> <input id="url" name="url" type="url" class="form-control input-lg" placeholder="Enter the URL to call" ng-model="vm.data.url" ng-required="true" autofocus> <div class="error" ng-messages="vm.addWebHookForm.url.$error" ng-if="vm.addWebHookForm.$submitted || vm.addWebHookForm.url.$touched"> <small ng-message="required">URL is required.</small> <small ng-message="url">URL is required.</small> </div> </div> <p>Control when the web hook is called by choosing the event types below.</p> <div class="form-group"> <div class="checkbox checkbox-inline" ng-repeat="type in vm.eventTypes"> <label class="i-checks"> <input name="types" type="checkbox" checklist-model="vm.data.event_types" checklist-value="type.key" ng-required="!vm.hasEventTypeSelection()"> <i></i> <abbr title="{{::type.description}}">{{::type.name}}</abbr> </label> </div> <div class="error" ng-messages="vm.addWebHookForm.types.$error" ng-if="vm.addWebHookForm.$submitted || vm.addWebHookForm.types.$touched"> <small ng-message="required">Please choose one or more event types.</small> </div> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()">Cancel</button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save(vm.addWebHookForm.$valid)" value="Create Web Hook"> </div> </form> ')}]);
//# sourceMappingURL=app.min.js.map