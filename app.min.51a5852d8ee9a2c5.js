!function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){var a,b=Array,c=b.prototype,d=Object,e=d.prototype,f=Function.prototype,g=String,h=g.prototype,i=Number,j=i.prototype,k=c.slice,l=c.splice,m=c.push,n=c.unshift,o=c.concat,p=f.call,q=Math.max,r=Math.min,s=e.toString,t="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,u=Function.prototype.toString,v=function(a){try{return u.call(a),!0}catch(b){return!1}},w="[object Function]",x="[object GeneratorFunction]";a=function(a){if("function"!=typeof a)return!1;if(t)return v(a);var b=s.call(a);return b===w||b===x};var y,z=RegExp.prototype.exec,A=function(a){try{return z.call(a),!0}catch(b){return!1}},B="[object RegExp]";y=function(a){return"object"!=typeof a?!1:t?A(a):s.call(a)===B};var C,D=String.prototype.valueOf,E=function(a){try{return D.call(a),!0}catch(b){return!1}},F="[object String]";C=function(a){return"string"==typeof a?!0:"object"!=typeof a?!1:t?E(a):s.call(a)===F};var G=function(a){var b,c=d.defineProperty&&function(){try{var a={};d.defineProperty(a,"x",{enumerable:!1,value:a});for(var b in a)return!1;return a.x===a}catch(c){return!1}}();return b=c?function(a,b,c,e){!e&&b in a||d.defineProperty(a,b,{configurable:!0,enumerable:!1,writable:!0,value:c})}:function(a,b,c,d){!d&&b in a||(a[b]=c)},function(c,d,e){for(var f in d)a.call(d,f)&&b(c,f,d[f],e)}}(e.hasOwnProperty),H=function(a){var b=typeof a;return null===a||"object"!==b&&"function"!==b},I={ToInteger:function(a){var b=+a;return b!==b?b=0:0!==b&&b!==1/0&&b!==-(1/0)&&(b=(b>0||-1)*Math.floor(Math.abs(b))),b},ToPrimitive:function(b){var c,d,e;if(H(b))return b;if(d=b.valueOf,a(d)&&(c=d.call(b),H(c)))return c;if(e=b.toString,a(e)&&(c=e.call(b),H(c)))return c;throw new TypeError},ToObject:function(a){if(null==a)throw new TypeError("can't convert "+a+" to object");return d(a)},ToUint32:function(a){return a>>>0}},J=function(){};G(f,{bind:function(b){var c=this;if(!a(c))throw new TypeError("Function.prototype.bind called on incompatible "+c);for(var e,f=k.call(arguments,1),g=function(){if(this instanceof e){var a=c.apply(this,o.call(f,k.call(arguments)));return d(a)===a?a:this}return c.apply(b,o.call(f,k.call(arguments)))},h=q(0,c.length-f.length),i=[],j=0;h>j;j++)m.call(i,"$"+j);return e=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this, arguments); }")(g),c.prototype&&(J.prototype=c.prototype,e.prototype=new J,J.prototype=null),e}});var K=p.bind(e.hasOwnProperty),L=p.bind(e.toString),M=p.bind(h.slice),N=p.bind(h.split),O=b.isArray||function(a){return"[object Array]"===L(a)},P=1!==[].unshift(0);G(c,{unshift:function(){return n.apply(this,arguments),this.length}},P),G(b,{isArray:O});var Q=d("a"),R="a"!==Q[0]||!(0 in Q),S=function(a){var b=!0,c=!0;return a&&(a.call("foo",function(a,c,d){"object"!=typeof d&&(b=!1)}),a.call([1],function(){"use strict";c="string"==typeof this},"x")),!!a&&b&&c};G(c,{forEach:function(b){var c,d=I.ToObject(this),e=R&&C(this)?N(this,""):d,f=-1,g=e.length>>>0;if(arguments.length>1&&(c=arguments[1]),!a(b))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++f<g;)f in e&&("undefined"!=typeof c?b.call(c,e[f],f,d):b(e[f],f,d))}},!S(c.forEach)),G(c,{map:function(c){var d,e=I.ToObject(this),f=R&&C(this)?N(this,""):e,g=f.length>>>0,h=b(g);if(arguments.length>1&&(d=arguments[1]),!a(c))throw new TypeError("Array.prototype.map callback must be a function");for(var i=0;g>i;i++)i in f&&("undefined"!=typeof d?h[i]=c.call(d,f[i],i,e):h[i]=c(f[i],i,e));return h}},!S(c.map)),G(c,{filter:function(b){var c,d,e=I.ToObject(this),f=R&&C(this)?N(this,""):e,g=f.length>>>0,h=[];if(arguments.length>1&&(d=arguments[1]),!a(b))throw new TypeError("Array.prototype.filter callback must be a function");for(var i=0;g>i;i++)i in f&&(c=f[i],("undefined"==typeof d?b(c,i,e):b.call(d,c,i,e))&&m.call(h,c));return h}},!S(c.filter)),G(c,{every:function(b){var c,d=I.ToObject(this),e=R&&C(this)?N(this,""):d,f=e.length>>>0;if(arguments.length>1&&(c=arguments[1]),!a(b))throw new TypeError("Array.prototype.every callback must be a function");for(var g=0;f>g;g++)if(g in e&&!("undefined"==typeof c?b(e[g],g,d):b.call(c,e[g],g,d)))return!1;return!0}},!S(c.every)),G(c,{some:function(b){var c,d=I.ToObject(this),e=R&&C(this)?N(this,""):d,f=e.length>>>0;if(arguments.length>1&&(c=arguments[1]),!a(b))throw new TypeError("Array.prototype.some callback must be a function");for(var g=0;f>g;g++)if(g in e&&("undefined"==typeof c?b(e[g],g,d):b.call(c,e[g],g,d)))return!0;return!1}},!S(c.some));var T=!1;c.reduce&&(T="object"==typeof c.reduce.call("es5",function(a,b,c,d){return d})),G(c,{reduce:function(b){var c=I.ToObject(this),d=R&&C(this)?N(this,""):c,e=d.length>>>0;if(!a(b))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===e&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var f,g=0;if(arguments.length>=2)f=arguments[1];else for(;;){if(g in d){f=d[g++];break}if(++g>=e)throw new TypeError("reduce of empty array with no initial value")}for(;e>g;g++)g in d&&(f=b(f,d[g],g,c));return f}},!T);var U=!1;c.reduceRight&&(U="object"==typeof c.reduceRight.call("es5",function(a,b,c,d){return d})),G(c,{reduceRight:function(b){var c=I.ToObject(this),d=R&&C(this)?N(this,""):c,e=d.length>>>0;if(!a(b))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===e&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var f,g=e-1;if(arguments.length>=2)f=arguments[1];else for(;;){if(g in d){f=d[g--];break}if(--g<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>g)return f;do g in d&&(f=b(f,d[g],g,c));while(g--);return f}},!U);var V=c.indexOf&&-1!==[0,1].indexOf(1,2);G(c,{indexOf:function(a){var b=R&&C(this)?N(this,""):I.ToObject(this),c=b.length>>>0;if(0===c)return-1;var d=0;for(arguments.length>1&&(d=I.ToInteger(arguments[1])),d=d>=0?d:q(0,c+d);c>d;d++)if(d in b&&b[d]===a)return d;return-1}},V);var W=c.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);G(c,{lastIndexOf:function(a){var b=R&&C(this)?N(this,""):I.ToObject(this),c=b.length>>>0;if(0===c)return-1;var d=c-1;for(arguments.length>1&&(d=r(d,I.ToInteger(arguments[1]))),d=d>=0?d:c-Math.abs(d);d>=0;d--)if(d in b&&a===b[d])return d;return-1}},W);var X=function(){var a=[1,2],b=a.splice();return 2===a.length&&O(b)&&0===b.length}();G(c,{splice:function(a,b){return 0===arguments.length?[]:l.apply(this,arguments)}},!X);var Y=function(){var a={};return c.splice.call(a,0,0,1),1===a.length}();G(c,{splice:function(a,b){if(0===arguments.length)return[];var c=arguments;return this.length=q(I.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof b&&(c=k.call(arguments),c.length<2?m.call(c,this.length-a):c[1]=I.ToInteger(b)),l.apply(this,c)}},!Y);var Z=function(){var a=new b(1e5);return a[8]="x",a.splice(1,1),7===a.indexOf("x")}(),$=function(){var a=256,b=[];return b[a]="a",b.splice(a+1,0,"b"),"a"===b[a]}();G(c,{splice:function(a,b){for(var c,d=I.ToObject(this),e=[],f=I.ToUint32(d.length),h=I.ToInteger(a),i=0>h?q(f+h,0):r(h,f),j=r(q(I.ToInteger(b),0),f-i),l=0;j>l;)c=g(i+l),K(d,c)&&(e[l]=d[c]),l+=1;var m,n=k.call(arguments,2),o=n.length;if(j>o){for(l=i;f-j>l;)c=g(l+j),m=g(l+o),K(d,c)?d[m]=d[c]:delete d[m],l+=1;for(l=f;l>f-j+o;)delete d[l-1],l-=1}else if(o>j)for(l=f-j;l>i;)c=g(l+j-1),m=g(l+o-1),K(d,c)?d[m]=d[c]:delete d[m],l-=1;l=i;for(var p=0;p<n.length;++p)d[l]=n[p],l+=1;return d.length=f-j+o,e}},!Z||!$);var _=!{toString:null}.propertyIsEnumerable("toString"),aa=function(){}.propertyIsEnumerable("prototype"),ba=!K("x","0"),ca=function(a){var b=a.constructor;return b&&b.prototype===a},da={$window:!0,$console:!0,$parent:!0,$self:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0},ea=function(){if("undefined"==typeof window)return!1;for(var a in window)if(!da["$"+a]&&K(window,a)&&null!==window[a]&&"object"==typeof window[a])try{ca(window[a])}catch(b){return!0}return!1}(),fa=function(a){if("undefined"==typeof window||!ea)return ca(a);try{return ca(a)}catch(b){return!1}},ga=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ha=ga.length,ia=function(b){var c=L(b),d="[object Arguments]"===c;return d||(d=!O(b)&&null!==b&&"object"==typeof b&&"number"==typeof b.length&&b.length>=0&&a(b.callee)),d};G(d,{keys:function(b){var c=a(b),d=ia(b),e=null!==b&&"object"==typeof b,f=e&&C(b);if(!e&&!c&&!d)throw new TypeError("Object.keys called on a non-object");var h=[],i=aa&&c;if(f&&ba||d)for(var j=0;j<b.length;++j)m.call(h,g(j));if(!d)for(var k in b)i&&"prototype"===k||!K(b,k)||m.call(h,g(k));if(_)for(var l=fa(b),n=0;ha>n;n++){var o=ga[n];l&&"constructor"===o||!K(b,o)||m.call(h,o)}return h}});var ja=d.keys&&function(){return 2===d.keys(arguments).length}(1,2),ka=d.keys;G(d,{keys:function(a){return ka(ia(a)?k.call(a):a)}},!ja);var la=-621987552e5,ma="-000001",na=Date.prototype.toISOString&&-1===new Date(la).toISOString().indexOf(ma),oa=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString();G(Date.prototype,{toISOString:function(){var a,b,c,d,e;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(d=this.getUTCFullYear(),e=this.getUTCMonth(),d+=Math.floor(e/12),e=(e%12+12)%12,a=[e+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],d=(0>d?"-":d>9999?"+":"")+M("00000"+Math.abs(d),d>=0&&9999>=d?-4:-6),b=a.length;b--;)c=a[b],10>c&&(a[b]="0"+c);return d+"-"+k.call(a,0,2).join("-")+"T"+k.call(a,2).join(":")+"."+M("000"+this.getUTCMilliseconds(),-3)+"Z"}},na||oa);var pa=function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(la).toJSON().indexOf(ma)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(a){return!1}}();pa||(Date.prototype.toJSON=function(b){var c=d(this),e=I.ToPrimitive(c);if("number"==typeof e&&!isFinite(e))return null;var f=c.toISOString;if(!a(f))throw new TypeError("toISOString property is not callable");return f.call(c)});var qa=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),ra=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z")),sa=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));(!Date.parse||sa||ra||!qa)&&(Date=function(a){var b=function(c,d,e,f,h,i,j){var k,l=arguments.length;return k=this instanceof a?1===l&&g(c)===c?new a(b.parse(c)):l>=7?new a(c,d,e,f,h,i,j):l>=6?new a(c,d,e,f,h,i):l>=5?new a(c,d,e,f,h):l>=4?new a(c,d,e,f):l>=3?new a(c,d,e):l>=2?new a(c,d):l>=1?new a(c):new a:a.apply(this,arguments),G(k,{constructor:b},!0),k},c=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),d=[0,31,59,90,120,151,181,212,243,273,304,334,365],e=function(a,b){var c=b>1?1:0;return d[b]+Math.floor((a-1969+c)/4)-Math.floor((a-1901+c)/100)+Math.floor((a-1601+c)/400)+365*(a-1970)},f=function(b){return i(new a(1970,0,1,0,0,0,b))};for(var h in a)K(a,h)&&(b[h]=a[h]);G(b,{now:a.now,UTC:a.UTC},!0),b.prototype=a.prototype,G(b.prototype,{constructor:b},!0);var j=function(b){var d=c.exec(b);if(d){var g,h=i(d[1]),j=i(d[2]||1)-1,k=i(d[3]||1)-1,l=i(d[4]||0),m=i(d[5]||0),n=i(d[6]||0),o=Math.floor(1e3*i(d[7]||0)),p=Boolean(d[4]&&!d[8]),q="-"===d[9]?1:-1,r=i(d[10]||0),s=i(d[11]||0);return(m>0||n>0||o>0?24:25)>l&&60>m&&60>n&&1e3>o&&j>-1&&12>j&&24>r&&60>s&&k>-1&&k<e(h,j+1)-e(h,j)&&(g=60*(24*(e(h,j)+k)+l+r*q),g=1e3*(60*(g+m+s*q)+n)+o,p&&(g=f(g)),g>=-864e13&&864e13>=g)?g:NaN}return a.parse.apply(this,arguments)};return G(b,{parse:j}),b}(Date)),Date.now||(Date.now=function(){return(new Date).getTime()});var ta=j.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0)),ua={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(a,b){for(var c=-1,d=b;++c<ua.size;)d+=a*ua.data[c],ua.data[c]=d%ua.base,d=Math.floor(d/ua.base)},divide:function(a){for(var b=ua.size,c=0;--b>=0;)c+=ua.data[b],ua.data[b]=Math.floor(c/a),c=c%a*ua.base},numToString:function(){for(var a=ua.size,b="";--a>=0;)if(""!==b||0===a||0!==ua.data[a]){var c=g(ua.data[a]);""===b?b=c:b+=M("0000000",0,7-c.length)+c}return b},pow:function Fa(a,b,c){return 0===b?c:b%2===1?Fa(a,b-1,c*a):Fa(a*a,b/2,c)},log:function(a){for(var b=0,c=a;c>=4096;)b+=12,c/=4096;for(;c>=2;)b+=1,c/=2;return b}};G(j,{toFixed:function(a){var b,c,d,e,f,h,j,k;if(b=i(a),b=b!==b?0:Math.floor(b),0>b||b>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(c=i(this),c!==c)return"NaN";if(-1e21>=c||c>=1e21)return g(c);if(d="",0>c&&(d="-",c=-c),e="0",c>1e-21)if(f=ua.log(c*ua.pow(2,69,1))-69,h=0>f?c*ua.pow(2,-f,1):c/ua.pow(2,f,1),h*=4503599627370496,f=52-f,f>0){for(ua.multiply(0,h),j=b;j>=7;)ua.multiply(1e7,0),j-=7;for(ua.multiply(ua.pow(10,j,1),0),j=f-1;j>=23;)ua.divide(1<<23),j-=23;ua.divide(1<<j),ua.multiply(1,1),ua.divide(2),e=ua.numToString()}else ua.multiply(0,h),ua.multiply(1<<-f,0),e=ua.numToString()+M("0.00000000000000000000",2,2+b);return b>0?(k=e.length,e=b>=k?d+M("0.0000000000000000000",0,b-k+2)+e:d+M(e,0,k-b)+"."+M(e,k-b)):e=d+e,e}},ta),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var a="undefined"==typeof/()??/.exec("")[1];h.split=function(b,c){var d=this;if("undefined"==typeof b&&0===c)return[];if(!y(b))return N(this,b,c);var e,f,g,h,i=[],j=(b.ignoreCase?"i":"")+(b.multiline?"m":"")+(b.unicode?"u":"")+(b.sticky?"y":""),l=0,n=new RegExp(b.source,j+"g");d+="",a||(e=new RegExp("^"+n.source+"$(?!\\s)",j));var o="undefined"==typeof c?-1>>>0:I.ToUint32(c);for(f=n.exec(d);f&&(g=f.index+f[0].length,!(g>l&&(m.call(i,M(d,l,f.index)),!a&&f.length>1&&f[0].replace(e,function(){for(var a=1;a<arguments.length-2;a++)"undefined"==typeof arguments[a]&&(f[a]=void 0)}),f.length>1&&f.index<d.length&&m.apply(i,k.call(f,1)),h=f[0].length,l=g,i.length>=o)));)n.lastIndex===f.index&&n.lastIndex++,f=n.exec(d);return l===d.length?(h||!n.test(""))&&m.call(i,""):m.call(i,M(d,l)),i.length>o?M(i,0,o):i}}():"0".split(void 0,0).length&&(h.split=function(a,b){return"undefined"==typeof a&&0===b?[]:N(this,a,b)});var va=h.replace,wa=function(){var a=[];return"x".replace(/x(.)?/g,function(b,c){m.call(a,c)}),1===a.length&&"undefined"==typeof a[0]}();wa||(h.replace=function(b,c){var d=a(c),e=y(b)&&/\)[*?]/.test(b.source);if(d&&e){var f=function(a){var d=arguments.length,e=b.lastIndex;b.lastIndex=0;var f=b.exec(a)||[];return b.lastIndex=e,m.call(f,arguments[d-2],arguments[d-1]),c.apply(this,f)};return va.call(this,b,f)}return va.call(this,b,c)});var xa=h.substr,ya="".substr&&"b"!=="0b".substr(-1);G(h,{substr:function(a,b){var c=a;return 0>a&&(c=q(this.length+a,0)),xa.call(this,c,b)}},ya);var za="	\n\f\r   ᠎             　\u2028\u2029\ufeff",Aa="​",Ba="["+za+"]",Ca=new RegExp("^"+Ba+Ba+"*"),Da=new RegExp(Ba+Ba+"*$"),Ea=h.trim&&(za.trim()||!Aa.trim());G(h,{trim:function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return g(this).replace(Ca,"").replace(Da,"")}},Ea),(8!==parseInt(za+"08")||22!==parseInt(za+"0x16"))&&(parseInt=function(a){var b=/^0[xX]/;return function(c,d){var e=g(c).trim(),f=i(d)||(b.test(e)?16:10);return a(e,f)}}(parseInt))}),function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";var a,b=Function.call.bind(Function.apply),c=Function.call.bind(Function.call),d=function(a){return function(){return!b(a,this,arguments)}},e=function(a){try{return a(),!1}catch(b){return!0}},f=function(a){try{return a()}catch(b){return!1}},g=d(e),h=function(){return!e(function(){Object.defineProperty({},"x",{})})},i=!!Object.defineProperty&&h(),j="foo"===function(){}.name,k=Function.call.bind(Array.prototype.forEach),l=Function.call.bind(Array.prototype.reduce),m=Function.call.bind(Array.prototype.filter),n=(Function.call.bind(Array.prototype.every),function(a,b,c){i?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,writable:!0,value:c}):a[b]=c}),o=function(a,b,c){if(n(a,b,c),!$.SameValue(a[b],c))throw new TypeError("property is nonconfigurable")},p=function(a,b,c,d){!d&&b in a||(i?Object.defineProperty(a,b,{configurable:!0,enumerable:!1,writable:!0,value:c}):a[b]=c)},q=function(a,b){k(Object.keys(b),function(c){var d=b[c];p(a,c,d,!1)})},r=Object.create||function(a,b){var c=function(){};c.prototype=a;var d=new c;return"undefined"!=typeof b&&Object.keys(b).forEach(function(a){Q.defineByDescriptor(d,a,b[a])}),d},s=function(a,b){return Object.setPrototypeOf?f(function(){var c=function d(b){var c=new a(b);return Object.setPrototypeOf(c,d.prototype),c};return Object.setPrototypeOf(c,a),c.prototype=r(a.prototype,{constructor:{value:c}}),b(c)}):!1},t=function(){return String.prototype.startsWith&&e(function(){"/a/".startsWith(/a/)})},u=function(){return String.prototype.startsWith&&"abc".startsWith("a",1/0)===!1}(),v=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")},w=v(),x=w.isFinite,y=(function(){return null===this}.call(null),t()&&u),z=Function.call.bind(String.prototype.indexOf),A=Function.call.bind(Object.prototype.toString),B=Function.call.bind(Array.prototype.concat),C=Function.call.bind(String.prototype.slice),D=Function.call.bind(Array.prototype.push),E=Function.apply.bind(Array.prototype.push),F=Function.call.bind(Array.prototype.shift),G=Math.max,H=Math.min,I=Math.floor,J=Math.abs,K=Math.log,L=Math.sqrt,M=Function.call.bind(Object.prototype.hasOwnProperty),N=function(){},O=w.Symbol||{},P=O.species||"@@species",Q={getter:function(a,b,c){if(!i)throw new TypeError("getters require true ES5 support");Object.defineProperty(a,b,{configurable:!0,enumerable:!1,get:c})},proxy:function(a,b,c){if(!i)throw new TypeError("getters require true ES5 support");var d=Object.getOwnPropertyDescriptor(a,b);Object.defineProperty(c,b,{configurable:d.configurable,enumerable:d.enumerable,get:function(){return a[b]},set:function(c){a[b]=c}})},redefine:function(a,b,c){if(i){var d=Object.getOwnPropertyDescriptor(a,b);d.value=c,Object.defineProperty(a,b,d)}else a[b]=c},defineByDescriptor:function(a,b,c){i?Object.defineProperty(a,b,c):"value"in c&&(a[b]=c.value)},preserveToString:function(a,b){p(a,"toString",b.toString.bind(b),!0)}},R=function(){return this},S=function(a){i&&!M(a,P)&&Q.getter(a,P,R)},T={object:function(a){return null!==a&&"object"==typeof a},string:function(a){return"[object String]"===A(a)},regex:function(a){return"[object RegExp]"===A(a)},symbol:function(a){return"function"==typeof w.Symbol&&"symbol"==typeof a}},U=Number.isNaN||function(a){return a!==a},V=Number.isFinite||function(a){return"number"==typeof a&&x(a)},W=function(a,b,c){var d=a[b];p(a,b,c,!0),Q.preserveToString(a[b],d)},X=T.symbol(O.iterator)?O.iterator:"_es6-shim iterator_";w.Set&&"function"==typeof(new w.Set)["@@iterator"]&&(X="@@iterator");var Y=function(a,b){var c=b||function(){return this};p(a,X,c),!a[X]&&T.symbol(X)&&(a[X]=c)},Z=function(a){var b=A(a),c="[object Arguments]"===b;return c||(c="[object Array]"!==b&&null!==a&&"object"==typeof a&&"number"==typeof a.length&&a.length>=0&&"[object Function]"===A(a.callee)),c},$={Call:function(a,c){var d=arguments.length>2?arguments[2]:[];if(!$.IsCallable(a))throw new TypeError(a+" is not a function");return b(a,c,d)},RequireObjectCoercible:function(a,b){if(null==a)throw new TypeError(b||"Cannot call method on "+a)},TypeIsObject:function(a){return null!=a&&Object(a)===a},ToObject:function(a,b){return $.RequireObjectCoercible(a,b),Object(a)},IsCallable:function(a){return"function"==typeof a&&"[object Function]"===A(a)},IsConstructor:function(a){return $.IsCallable(a)},ToInt32:function(a){return $.ToNumber(a)>>0},ToUint32:function(a){return $.ToNumber(a)>>>0},ToNumber:function(a){if("[object Symbol]"===A(a))throw new TypeError("Cannot convert a Symbol value to a number");return+a},ToInteger:function(a){var b=$.ToNumber(a);return U(b)?0:0!==b&&V(b)?(b>0?1:-1)*I(J(b)):b},ToLength:function(a){var b=$.ToInteger(a);return 0>=b?0:b>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:b},SameValue:function(a,b){return a===b?0===a?1/a===1/b:!0:U(a)&&U(b)},SameValueZero:function(a,b){return a===b||U(a)&&U(b)},IsIterable:function(a){return $.TypeIsObject(a)&&("undefined"!=typeof a[X]||Z(a))},GetIterator:function(b){if(Z(b))return new a(b,"value");var d=$.GetMethod(b,X);if(!$.IsCallable(d))throw new TypeError("value is not an iterable");var e=c(d,b);if(!$.TypeIsObject(e))throw new TypeError("bad iterator");return e},GetMethod:function(a,b){var c=$.ToObject(a)[b];if(void 0===c||null===c)return void 0;if(!$.IsCallable(c))throw new TypeError("Method not callable: "+b);return c},IteratorComplete:function(a){return!!a.done},IteratorClose:function(a,b){var d=$.GetMethod(a,"return");if(void 0!==d){var e,f;try{e=c(d,a)}catch(g){f=g}if(!b){if(f)throw f;if(!$.TypeIsObject(e))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(a){var b=arguments.length>1?a.next(arguments[1]):a.next();if(!$.TypeIsObject(b))throw new TypeError("bad iterator");return b},IteratorStep:function(a){var b=$.IteratorNext(a),c=$.IteratorComplete(b);return c?!1:b},Construct:function(a,b,c,d){if(void 0===c&&(c=a),!d)return fc.construct(a,b,c);var e=c.prototype;$.TypeIsObject(e)||(e=Object.prototype);var f=r(e),g=$.Call(a,f,b);return $.TypeIsObject(g)?g:f},SpeciesConstructor:function(a,b){var c=a.constructor;if(void 0===c)return b;if(!$.TypeIsObject(c))throw new TypeError("Bad constructor");var d=c[P];if(void 0===d||null===d)return b;if(!$.IsConstructor(d))throw new TypeError("Bad @@species");return d},CreateHTML:function(a,b,c,d){var e=String(a),f="<"+b;if(""!==c){var g=String(d),h=g.replace(/"/g,"&quot;");f+=" "+c+'="'+h+'"'}var i=f+">",j=i+e;return j+"</"+b+">"}},_=function(a,b,c,d){if(!$.TypeIsObject(a))throw new TypeError("Constructor requires `new`: "+b.name);var e=b.prototype;$.TypeIsObject(e)||(e=c),a=r(e);for(var f in d)if(M(d,f)){var g=d[f];p(a,f,g,!0)}return a};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var aa=String.fromCodePoint;W(String,"fromCodePoint",function(a){return b(aa,this,arguments)})}var ba={fromCodePoint:function(a){for(var b,c=[],d=0,e=arguments.length;e>d;d++){if(b=Number(arguments[d]),!$.SameValue(b,$.ToInteger(b))||0>b||b>1114111)throw new RangeError("Invalid code point "+b);65536>b?D(c,String.fromCharCode(b)):(b-=65536,D(c,String.fromCharCode((b>>10)+55296)),D(c,String.fromCharCode(b%1024+56320)))}return c.join("")},raw:function(a){var b=$.ToObject(a,"bad callSite"),c=$.ToObject(b.raw,"bad raw value"),d=c.length,e=$.ToLength(d);if(0>=e)return"";for(var f,g,h,i,j=[],k=0;e>k&&(f=String(k),h=String(c[f]),D(j,h),!(k+1>=e));)g=k+1<arguments.length?arguments[k+1]:"",i=String(g),D(j,i),k++;return j.join("")}};q(String,ba),"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&W(String,"raw",ba.raw);var ca=function sc(a,b){if(1>b)return"";if(b%2)return sc(a,b-1)+a;var c=sc(a,b/2);return c+c},da=1/0,ea={repeat:function(a){$.RequireObjectCoercible(this);var b=String(this),c=$.ToInteger(a);if(0>c||c>=da)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return ca(b,c)},startsWith:function(a){$.RequireObjectCoercible(this);var b=String(this);if(T.regex(a))throw new TypeError('Cannot call method "startsWith" with a regex');var c=String(a),d=arguments.length>1?arguments[1]:void 0,e=G($.ToInteger(d),0);return C(b,e,e+c.length)===c},endsWith:function(a){$.RequireObjectCoercible(this);var b=String(this);if(T.regex(a))throw new TypeError('Cannot call method "endsWith" with a regex');var c=String(a),d=b.length,e=arguments.length>1?arguments[1]:void 0,f="undefined"==typeof e?d:$.ToInteger(e),g=H(G(f,0),d);return C(b,g-c.length,g)===c},includes:function(a){if(T.regex(a))throw new TypeError('"includes" does not accept a RegExp');var b;return arguments.length>1&&(b=arguments[1]),-1!==z(this,a,b)},codePointAt:function(a){$.RequireObjectCoercible(this);var b=String(this),c=$.ToInteger(a),d=b.length;if(c>=0&&d>c){var e=b.charCodeAt(c),f=c+1===d;if(55296>e||e>56319||f)return e;var g=b.charCodeAt(c+1);return 56320>g||g>57343?e:1024*(e-55296)+(g-56320)+65536}}};q(String.prototype,ea),"a".includes("a",1/0)!==!1&&W(String.prototype,"includes",ea.includes);var fa=1!=="".trim().length;if(fa){delete String.prototype.trim;var ga=["	\n\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),ha=new RegExp("(^["+ga+"]+)|(["+ga+"]+$)","g");q(String.prototype,{trim:function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(ha,"")}})}var ia=function(a){$.RequireObjectCoercible(a),this._s=String(a),this._i=0};ia.prototype.next=function(){var a=this._s,b=this._i;if("undefined"==typeof a||b>=a.length)return this._s=void 0,{value:void 0,done:!0};var c,d,e=a.charCodeAt(b);return 55296>e||e>56319||b+1===a.length?d=1:(c=a.charCodeAt(b+1),d=56320>c||c>57343?1:2),this._i=b+d,{value:a.substr(b,d),done:!1}},Y(ia.prototype),Y(String.prototype,function(){return new ia(this)}),y||(W(String.prototype,"startsWith",ea.startsWith),W(String.prototype,"endsWith",ea.endsWith));var ja={from:function(a){var b,d,e=this,f=arguments.length>1?arguments[1]:void 0;if(void 0===f)b=!1;else{if(!$.IsCallable(f))throw new TypeError("Array.from: when provided, the second argument must be a function");d=arguments.length>2?arguments[2]:void 0,b=!0}var g,h,i,j=Z(a)||$.GetMethod(a,X);if(void 0!==j){h=$.IsConstructor(e)?Object(new e):[];var k,l,m=$.GetIterator(a);for(i=0;k=$.IteratorStep(m),k!==!1;++i){l=k.value;try{b&&(l=void 0!==d?c(f,d,l,i):f(l,i)),h[i]=l}catch(n){throw $.IteratorClose(m,!0),n}}g=i}else{var o=$.ToObject(a);g=$.ToLength(o.length),h=$.IsConstructor(e)?Object(new e(g)):new Array(g);var p;for(i=0;g>i;++i)p=o[i],b&&(p=void 0!==d?c(f,d,p,i):f(p,i)),h[i]=p}return h.length=g,h},of:function(){for(var a=arguments.length,b=this,c=Array.isArray(b)||!$.IsCallable(b)?new Array(a):$.Construct(b,[a]),d=0;a>d;++d)o(c,d,arguments[d]);return c.length=a,c}};q(Array,ja),S(Array);var ka=function(a){return{value:a,done:0===arguments.length}};a=function(a,b){this.i=0,this.array=a,this.kind=b},q(a.prototype,{next:function(){var b=this.i,c=this.array;if(!(this instanceof a))throw new TypeError("Not an ArrayIterator");if("undefined"!=typeof c)for(var d=$.ToLength(c.length);d>b;b++){var e,f=this.kind;return"key"===f?e=b:"value"===f?e=c[b]:"entry"===f&&(e=[b,c[b]]),this.i=b+1,{value:e,done:!1}}return this.array=void 0,{value:void 0,done:!0}}}),Y(a.prototype);var la=function(a,b){this.object=a,this.array=null,this.kind=b},ma=function(a){var b=[];for(var c in a)D(b,c);return b};q(la.prototype,{next:function(){var a,b=this.array;if(!(this instanceof la))throw new TypeError("Not an ObjectIterator");for(null===b&&(b=this.array=ma(this.object));$.ToLength(b.length)>0;)if(a=F(b),a in this.object)return ka("key"===this.kind?a:"value"===this.kind?this.object[a]:[a,this.object[a]]);return ka()}}),Y(la.prototype);var na=Array.of===ja.of||function(){var a=function(a){this.length=a};a.prototype=[];var b=Array.of.apply(a,[1,2]);return b instanceof a&&2===b.length}();na||W(Array,"of",ja.of);var oa={copyWithin:function(a,b){var c=arguments[2],d=$.ToObject(this),e=$.ToLength(d.length),f=$.ToInteger(a),g=$.ToInteger(b),h=0>f?G(e+f,0):H(f,e),i=0>g?G(e+g,0):H(g,e);c="undefined"==typeof c?e:$.ToInteger(c);var j=0>c?G(e+c,0):H(c,e),k=H(j-i,e-h),l=1;for(h>i&&i+k>h&&(l=-1,i+=k-1,h+=k-1);k>0;)M(d,i)?d[h]=d[i]:delete d[i],i+=l,h+=l,k-=1;return d},fill:function(a){var b=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0,d=$.ToObject(this),e=$.ToLength(d.length);b=$.ToInteger("undefined"==typeof b?0:b),c=$.ToInteger("undefined"==typeof c?e:c);for(var f=0>b?G(e+b,0):H(b,e),g=0>c?e+c:c,h=f;e>h&&g>h;++h)d[h]=a;return d},find:function(a){var b=$.ToObject(this),d=$.ToLength(b.length);if(!$.IsCallable(a))throw new TypeError("Array#find: predicate must be a function");for(var e,f=arguments.length>1?arguments[1]:null,g=0;d>g;g++)if(e=b[g],f){if(c(a,f,e,g,b))return e}else if(a(e,g,b))return e},findIndex:function(a){var b=$.ToObject(this),d=$.ToLength(b.length);if(!$.IsCallable(a))throw new TypeError("Array#findIndex: predicate must be a function");for(var e=arguments.length>1?arguments[1]:null,f=0;d>f;f++)if(e){if(c(a,e,b[f],f,b))return f}else if(a(b[f],f,b))return f;return-1},keys:function(){return new a(this,"key")},values:function(){return new a(this,"value")},entries:function(){return new a(this,"entry")}};if(Array.prototype.keys&&!$.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!$.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[X]&&(q(Array.prototype,{values:Array.prototype[X]}),T.symbol(O.unscopables)&&(Array.prototype[O.unscopables].values=!0)),j&&Array.prototype.values&&"values"!==Array.prototype.values.name){var pa=Array.prototype.values;W(Array.prototype,"values",function(){return c(pa,this)}),p(Array.prototype,X,Array.prototype.values,!0)}q(Array.prototype,oa),Y(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&Y(Object.getPrototypeOf([].values()));var qa=function(){return f(function(){return 0===Array.from({length:-1}).length})}(),ra=function(){var a=Array.from([0].entries());return 1===a.length&&Array.isArray(a[0])&&0===a[0][0]&&0===a[0][1]}();qa&&ra||W(Array,"from",ja.from);var sa=function(){return f(function(){return Array.from([0],void 0)})}();if(!sa){var ta=Array.from;W(Array,"from",function(a){return arguments.length>0&&"undefined"!=typeof arguments[1]?b(ta,this,arguments):c(ta,this,a)})}var ua=function(a,b){var d={length:-1};return d[b?4294967294:0]=!0,f(function(){c(a,d,function(){throw new RangeError("should not reach here")},[])})};if(!ua(Array.prototype.forEach)){var va=Array.prototype.forEach;W(Array.prototype,"forEach",function(a){return b(va,this.length>=0?this:[],arguments)},!0)}if(!ua(Array.prototype.map)){var wa=Array.prototype.map;W(Array.prototype,"map",function(a){return b(wa,this.length>=0?this:[],arguments)},!0)}if(!ua(Array.prototype.filter)){var xa=Array.prototype.filter;W(Array.prototype,"filter",function(a){return b(xa,this.length>=0?this:[],arguments)},!0)}if(!ua(Array.prototype.some)){var ya=Array.prototype.some;W(Array.prototype,"some",function(a){return b(ya,this.length>=0?this:[],arguments)},!0)}if(!ua(Array.prototype.every)){var za=Array.prototype.every;W(Array.prototype,"every",function(a){return b(za,this.length>=0?this:[],arguments)},!0)}if(!ua(Array.prototype.reduce)){var Aa=Array.prototype.reduce;W(Array.prototype,"reduce",function(a){return b(Aa,this.length>=0?this:[],arguments)},!0)}if(!ua(Array.prototype.reduceRight,!0)){var Ba=Array.prototype.reduceRight;W(Array.prototype,"reduceRight",function(a){return b(Ba,this.length>=0?this:[],arguments)},!0)}var Ca=Math.pow(2,53)-1;q(Number,{MAX_SAFE_INTEGER:Ca,MIN_SAFE_INTEGER:-Ca,EPSILON:2.220446049250313e-16,parseInt:w.parseInt,parseFloat:w.parseFloat,isFinite:V,isInteger:function(a){return V(a)&&$.ToInteger(a)===a},isSafeInteger:function(a){return Number.isInteger(a)&&J(a)<=Number.MAX_SAFE_INTEGER},isNaN:U}),p(Number,"parseInt",w.parseInt,Number.parseInt!==w.parseInt),[,1].find(function(a,b){return 0===b})||W(Array.prototype,"find",oa.find),0!==[,1].findIndex(function(a,b){return 0===b})&&W(Array.prototype,"findIndex",oa.findIndex);var Da=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),Ea=function(){for(var a=Number(this),b=arguments.length,c=b-a,d=new Array(0>c?0:c),e=a;b>e;++e)d[e-a]=arguments[e];
return d},Fa=function(a){return function(b,c){return b[c]=a[c],b}},Ga=function(a,b){var c,d=Object.keys(Object(b));return $.IsCallable(Object.getOwnPropertySymbols)&&(c=m(Object.getOwnPropertySymbols(Object(b)),Da(b))),l(B(d,c||[]),Fa(b),a)},Ha={assign:function(a,c){var d=$.ToObject(a,"Cannot convert undefined or null to object");return l(b(Ea,1,arguments),Ga,d)},is:function(a,b){return $.SameValue(a,b)}},Ia=Object.assign&&Object.preventExtensions&&function(){var a=Object.preventExtensions({1:2});try{Object.assign(a,"xy")}catch(b){return"y"===a[1]}}();if(Ia&&W(Object,"assign",Ha.assign),q(Object,Ha),i){var Ja={setPrototypeOf:function(a,b){var d,e=function(a,b){if(!$.TypeIsObject(a))throw new TypeError("cannot set prototype on a non-object");if(null!==b&&!$.TypeIsObject(b))throw new TypeError("can only set prototype to an object or null"+b)},f=function(a,b){return e(a,b),c(d,a,b),a};try{d=a.getOwnPropertyDescriptor(a.prototype,b).set,c(d,{},null)}catch(g){if(a.prototype!=={}[b])return;d=function(a){this[b]=a},f.polyfill=f(f({},null),a.prototype)instanceof a}return f}(Object,"__proto__")};q(Object,Ja)}Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&!function(){var a=Object.create(null),b=Object.getPrototypeOf,c=Object.setPrototypeOf;Object.getPrototypeOf=function(c){var d=b(c);return d===a?null:d},Object.setPrototypeOf=function(b,d){var e=null===d?a:d;return c(b,e)},Object.setPrototypeOf.polyfill=!1}();var Ka=!e(function(){Object.keys("foo")});if(!Ka){var La=Object.keys;W(Object,"keys",function(a){return La($.ToObject(a))})}if(Object.getOwnPropertyNames){var Ma=!e(function(){Object.getOwnPropertyNames("foo")});if(!Ma){var Na="object"==typeof window?Object.getOwnPropertyNames(window):[],Oa=Object.getOwnPropertyNames;W(Object,"getOwnPropertyNames",function(a){var b=$.ToObject(a);if("[object Window]"===A(b))try{return Oa(b)}catch(c){return B([],Na)}return Oa(b)})}}if(Object.getOwnPropertyDescriptor){var Pa=!e(function(){Object.getOwnPropertyDescriptor("foo","bar")});if(!Pa){var Qa=Object.getOwnPropertyDescriptor;W(Object,"getOwnPropertyDescriptor",function(a,b){return Qa($.ToObject(a),b)})}}if(Object.seal){var Ra=!e(function(){Object.seal("foo")});if(!Ra){var Sa=Object.seal;W(Object,"seal",function(a){return T.object(a)?Sa(a):a})}}if(Object.isSealed){var Ta=!e(function(){Object.isSealed("foo")});if(!Ta){var Ua=Object.isSealed;W(Object,"isSealed",function(a){return T.object(a)?Ua(a):!0})}}if(Object.freeze){var Va=!e(function(){Object.freeze("foo")});if(!Va){var Wa=Object.freeze;W(Object,"freeze",function(a){return T.object(a)?Wa(a):a})}}if(Object.isFrozen){var Xa=!e(function(){Object.isFrozen("foo")});if(!Xa){var Ya=Object.isFrozen;W(Object,"isFrozen",function(a){return T.object(a)?Ya(a):!0})}}if(Object.preventExtensions){var Za=!e(function(){Object.preventExtensions("foo")});if(!Za){var $a=Object.preventExtensions;W(Object,"preventExtensions",function(a){return T.object(a)?$a(a):a})}}if(Object.isExtensible){var _a=!e(function(){Object.isExtensible("foo")});if(!_a){var ab=Object.isExtensible;W(Object,"isExtensible",function(a){return T.object(a)?ab(a):!1})}}if(Object.getPrototypeOf){var bb=!e(function(){Object.getPrototypeOf("foo")});if(!bb){var cb=Object.getPrototypeOf;W(Object,"getPrototypeOf",function(a){return cb($.ToObject(a))})}}if(!RegExp.prototype.flags&&i){var db=function(){if(!$.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var a="";return this.global&&(a+="g"),this.ignoreCase&&(a+="i"),this.multiline&&(a+="m"),this.unicode&&(a+="u"),this.sticky&&(a+="y"),a};Q.getter(RegExp.prototype,"flags",db)}var eb=f(function(){return"/a/i"===String(new RegExp(/a/g,"i"))});if(!eb&&i){var fb=RegExp,gb=function tc(a,b){var c=this instanceof tc;return!c&&(T.regex(a)||a&&a.constructor===tc)?a:T.regex(a)&&T.string(b)?new tc(a.source,b):new fb(a,b)};Q.preserveToString(gb,fb),Object.setPrototypeOf&&Object.setPrototypeOf(fb,gb),k(Object.getOwnPropertyNames(fb),function(a){"$input"!==a&&(a in N||Q.proxy(fb,a,gb))}),gb.prototype=fb.prototype,Q.redefine(fb.prototype,"constructor",gb),RegExp=gb,Q.redefine(w,"RegExp",gb)}if(i){var hb={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};k(Object.keys(hb),function(a){a in RegExp&&!(hb[a]in RegExp)&&Q.getter(RegExp,hb[a],function(){return RegExp[a]})})}S(RegExp);var ib=1/Number.EPSILON,jb=function(a){return a+ib-ib},kb=Math.pow(2,-23),lb=Math.pow(2,127)*(2-kb),mb=Math.pow(2,-126),nb=Number.prototype.clz;delete Number.prototype.clz;var ob={acosh:function(a){var b=Number(a);return Number.isNaN(b)||1>a?NaN:1===b?0:b===1/0?b:K(b/Math.E+L(b+1)*L(b-1)/Math.E)+1},asinh:function(a){var b=Number(a);return 0!==b&&x(b)?0>b?-Math.asinh(-b):K(b+L(b*b+1)):b},atanh:function(a){var b=Number(a);return Number.isNaN(b)||-1>b||b>1?NaN:-1===b?-(1/0):1===b?1/0:0===b?b:.5*K((1+b)/(1-b))},cbrt:function(a){var b=Number(a);if(0===b)return b;var c,d=0>b;return d&&(b=-b),b===1/0?c=1/0:(c=Math.exp(K(b)/3),c=(b/(c*c)+2*c)/3),d?-c:c},clz32:function(a){var b=Number(a),d=$.ToUint32(b);return 0===d?32:nb?c(nb,d):31-I(K(d+.5)*Math.LOG2E)},cosh:function(a){var b=Number(a);return 0===b?1:Number.isNaN(b)?NaN:x(b)?(0>b&&(b=-b),b>21?Math.exp(b)/2:(Math.exp(b)+Math.exp(-b))/2):1/0},expm1:function(a){var b=Number(a);if(b===-(1/0))return-1;if(!x(b)||0===b)return b;if(J(b)>.5)return Math.exp(b)-1;for(var c=b,d=0,e=1;d+c!==d;)d+=c,e+=1,c*=b/e;return d},hypot:function(a,b){for(var c=0,d=0,e=0;e<arguments.length;++e){var f=J(Number(arguments[e]));f>d?(c*=d/f*(d/f),c+=1,d=f):c+=f>0?f/d*(f/d):f}return d===1/0?1/0:d*L(c)},log2:function(a){return K(a)*Math.LOG2E},log10:function(a){return K(a)*Math.LOG10E},log1p:function(a){var b=Number(a);return-1>b||Number.isNaN(b)?NaN:0===b||b===1/0?b:-1===b?-(1/0):1+b-1===0?b:b*(K(1+b)/(1+b-1))},sign:function(a){var b=Number(a);return 0===b?b:Number.isNaN(b)?b:0>b?-1:1},sinh:function(a){var b=Number(a);return x(b)&&0!==b?J(b)<1?(Math.expm1(b)-Math.expm1(-b))/2:(Math.exp(b-1)-Math.exp(-b-1))*Math.E/2:b},tanh:function(a){var b=Number(a);if(Number.isNaN(b)||0===b)return b;if(b===1/0)return 1;if(b===-(1/0))return-1;var c=Math.expm1(b),d=Math.expm1(-b);return c===1/0?1:d===1/0?-1:(c-d)/(Math.exp(b)+Math.exp(-b))},trunc:function(a){var b=Number(a);return 0>b?-I(-b):I(b)},imul:function(a,b){var c=$.ToUint32(a),d=$.ToUint32(b),e=c>>>16&65535,f=65535&c,g=d>>>16&65535,h=65535&d;return f*h+(e*h+f*g<<16>>>0)|0},fround:function(a){var b=Number(a);if(0===b||b===1/0||b===-(1/0)||U(b))return b;var c=Math.sign(b),d=J(b);if(mb>d)return c*jb(d/mb/kb)*mb*kb;var e=(1+kb/Number.EPSILON)*d,f=e-(e-d);return f>lb||U(f)?c*(1/0):c*f}};q(Math,ob),p(Math,"log1p",ob.log1p,-1e-17!==Math.log1p(-1e-17)),p(Math,"asinh",ob.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),p(Math,"tanh",ob.tanh,-2e-17!==Math.tanh(-2e-17)),p(Math,"acosh",ob.acosh,Math.acosh(Number.MAX_VALUE)===1/0),p(Math,"cbrt",ob.cbrt,Math.abs(1-Math.cbrt(1e-300)/1e-100)/Number.EPSILON>8),p(Math,"sinh",ob.sinh,-2e-17!==Math.sinh(-2e-17));var pb=Math.expm1(10);p(Math,"expm1",ob.expm1,pb>22025.465794806718||22025.465794806718>pb);var qb=Math.round,rb=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(-.5+Number.EPSILON/3.99),sb=ib+1,tb=2*ib-1,ub=[sb,tb].every(function(a){return Math.round(a)===a});p(Math,"round",function(a){var b=I(a),c=-1===b?-0:b+1;return.5>a-b?b:c},!rb||!ub),Q.preserveToString(Math.round,qb);var vb=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=ob.imul,Q.preserveToString(Math.imul,vb)),2!==Math.imul.length&&W(Math,"imul",function(a,c){return b(vb,Math,arguments)});var wb=function(){$.IsPromise=function(a){return $.TypeIsObject(a)?"undefined"==typeof a._promise?!1:!0:!1};var a,b=function(a){if(!$.IsConstructor(a))throw new TypeError("Bad promise constructor");var b=this,c=function(a,c){if(void 0!==b.resolve||void 0!==b.reject)throw new TypeError("Bad Promise implementation!");b.resolve=a,b.reject=c};if(b.promise=new a(c),!$.IsCallable(b.resolve)||!$.IsCallable(b.reject))throw new TypeError("Bad promise constructor")},d=w.setTimeout;"undefined"!=typeof window&&$.IsCallable(window.postMessage)&&(a=function(){var a=[],b="zero-timeout-message",c=function(c){D(a,c),window.postMessage(b,"*")},d=function(c){if(c.source===window&&c.data===b){if(c.stopPropagation(),0===a.length)return;var d=F(a);d()}};return window.addEventListener("message",d,!0),c});var e=function(){var a=w.Promise;return a&&a.resolve&&function(b){return a.resolve().then(b)}},f=$.IsCallable(w.setImmediate)?w.setImmediate.bind(w):"object"==typeof process&&process.nextTick?process.nextTick:e()||($.IsCallable(a)?a():function(a){d(a,0)}),g=1,h=2,i=3,j=4,l=5,m=function(a,b){var c,d,e=a.capabilities,f=a.handler,i=!1;if(f===g)c=b;else if(f===h)c=b,i=!0;else try{c=f(b)}catch(j){c=j,i=!0}(d=i?e.reject:e.resolve)(c)},n=function(a,b){k(a,function(a){f(function(){m(a,b)})})},o=function(a,b){var c=a._promise,d=c.fulfillReactions;c.result=b,c.fulfillReactions=void 0,c.rejectReactions=void 0,c.state=j,n(d,b)},p=function(a,b){var c=a._promise,d=c.rejectReactions;c.result=b,c.fulfillReactions=void 0,c.rejectReactions=void 0,c.state=l,n(d,b)},r=function(a){var b=!1,c=function(c){var d;if(!b){if(b=!0,c===a)return p(a,new TypeError("Self resolution"));if(!$.TypeIsObject(c))return o(a,c);try{d=c.then}catch(e){return p(a,e)}return $.IsCallable(d)?void f(function(){s(a,c,d)}):o(a,c)}},d=function(c){return b?void 0:(b=!0,p(a,c))};return{resolve:c,reject:d}},s=function(a,b,d){var e=r(a),f=e.resolve,g=e.reject;try{c(d,b,f,g)}catch(h){g(h)}},t=function(a){if(!$.TypeIsObject(a))throw new TypeError("Promise is not object");var b=a[P];return void 0!==b&&null!==b?b:a},u=function A(a){if(!(this instanceof A))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!$.IsCallable(a))throw new TypeError("not a valid resolver");var b=_(this,A,v,{_promise:{result:void 0,state:i,fulfillReactions:[],rejectReactions:[]}}),c=r(b),d=c.reject;try{a(c.resolve,d)}catch(e){d(e)}return b},v=u.prototype,x=function(a,b,c,d){var e=!1;return function(f){if(!e&&(e=!0,b[a]=f,0===--d.count)){var g=c.resolve;g(b)}}},y=function(a,b,c){for(var d,e,f=a.iterator,g=[],h={count:1},i=0;;i++){try{if(d=$.IteratorStep(f),d===!1){a.done=!0;break}e=d.value}catch(j){throw a.done=!0,j}g[i]=void 0;var k=b.resolve(e),l=x(i,g,c,h);h.count++,k.then(l,c.reject)}if(0===--h.count){var m=c.resolve;m(g)}return c.promise},z=function(a,b,c){for(var d,e,f,g=a.iterator;;){try{if(d=$.IteratorStep(g),d===!1){a.done=!0;break}e=d.value}catch(h){throw a.done=!0,h}f=b.resolve(e),f.then(c.resolve,c.reject)}return c.promise};return q(u,{all:function(a){var c,d,e=t(this),f=new b(e);try{return c=$.GetIterator(a),d={iterator:c,done:!1},y(d,e,f)}catch(g){if(d&&!d.done)try{$.IteratorClose(c,!0)}catch(h){g=h}var i=f.reject;return i(g),f.promise}},race:function(a){var c,d,e=t(this),f=new b(e);try{return c=$.GetIterator(a),d={iterator:c,done:!1},z(d,e,f)}catch(g){if(d&&!d.done)try{$.IteratorClose(c,!0)}catch(h){g=h}var i=f.reject;return i(g),f.promise}},reject:function(a){var c=this,d=new b(c),e=d.reject;return e(a),d.promise},resolve:function(a){var c=this;if($.IsPromise(a)){var d=a.constructor;if(d===c)return a}var e=new b(c),f=e.resolve;return f(a),e.promise}}),q(v,{"catch":function(a){return this.then(void 0,a)},then:function(a,c){var d=this;if(!$.IsPromise(d))throw new TypeError("not a promise");var e=$.SpeciesConstructor(d,u),k=new b(e);$.IsCallable(a)||(a=g),$.IsCallable(c)||(c=h);var n,o={capabilities:k,handler:a},p={capabilities:k,handler:c},q=d._promise;switch(q.state){case i:D(q.fulfillReactions,o),D(q.rejectReactions,p);break;case j:n=q.result,f(function(){m(o,n)});break;case l:n=q.result,f(function(){m(p,n)});break;default:throw new TypeError("unexpected")}return k.promise}}),u}();w.Promise&&(delete w.Promise.accept,delete w.Promise.defer,delete w.Promise.prototype.chain),q(w,{Promise:wb});var xb=s(w.Promise,function(a){return a.resolve(42).then(function(){})instanceof a}),yb=!e(function(){w.Promise.reject(42).then(null,5).then(null,N)}),zb=e(function(){w.Promise.call(3,N)}),Ab=function(a){var b=a.resolve(5);b.constructor={};var c=a.resolve(b);return b===c}(w.Promise);xb&&yb&&zb&&!Ab||(Promise=wb,W(w,"Promise",wb)),S(Promise);var Bb=function(a){var b=Object.keys(l(a,function(a,b){return a[b]=!0,a},{}));return a.join(":")===b.join(":")},Cb=Bb(["z","a","bb"]),Db=Bb(["z",1,"a","3",2]);if(i){var Eb=function(a){if(!Cb)return null;var b=typeof a;return"undefined"===b||null===a?"^"+String(a):"string"===b?"$"+a:"number"===b?Db?a:"n"+a:"boolean"===b?"b"+a:null},Fb=function(){return Object.create?Object.create(null):{}},Gb=function(a,b,d){if(Array.isArray(d)||T.string(d))k(d,function(a){b.set(a[0],a[1])});else if(d instanceof a)c(a.prototype.forEach,d,function(a,c){b.set(c,a)});else{var e,f;if(null!==d&&"undefined"!=typeof d){if(f=b.set,!$.IsCallable(f))throw new TypeError("bad map");e=$.GetIterator(d)}if("undefined"!=typeof e)for(;;){var g=$.IteratorStep(e);if(g===!1)break;var h=g.value;try{if(!$.TypeIsObject(h))throw new TypeError("expected iterable of pairs");c(f,b,h[0],h[1])}catch(i){throw $.IteratorClose(e,!0),i}}}},Hb=function(a,b,d){if(Array.isArray(d)||T.string(d))k(d,function(a){b.add(a)});else if(d instanceof a)c(a.prototype.forEach,d,function(a){b.add(a)});else{var e,f;if(null!==d&&"undefined"!=typeof d){if(f=b.add,!$.IsCallable(f))throw new TypeError("bad set");e=$.GetIterator(d)}if("undefined"!=typeof e)for(;;){var g=$.IteratorStep(e);if(g===!1)break;var h=g.value;try{c(f,b,h)}catch(i){throw $.IteratorClose(e,!0),i}}}},Ib={Map:function(){var a={},b=function(a,b){this.key=a,this.value=b,this.next=null,this.prev=null};b.prototype.isRemoved=function(){return this.key===a};var d=function(a){return!!a._es6map},e=function(a,b){if(!$.TypeIsObject(a)||!d(a))throw new TypeError("Method Map.prototype."+b+" called on incompatible receiver "+String(a))},f=function(a,b){e(a,"[[MapIterator]]"),this.head=a._head,this.i=this.head,this.kind=b};f.prototype={next:function(){var a,b=this.i,c=this.kind,d=this.head;if("undefined"==typeof this.i)return{value:void 0,done:!0};for(;b.isRemoved()&&b!==d;)b=b.prev;for(;b.next!==d;)if(b=b.next,!b.isRemoved())return a="key"===c?b.key:"value"===c?b.value:[b.key,b.value],this.i=b,{value:a,done:!1};return this.i=void 0,{value:void 0,done:!0}}},Y(f.prototype);var g=function i(){if(!(this instanceof i))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var a=_(this,i,h,{_es6map:!0,_head:null,_storage:Fb(),_size:0}),c=new b(null,null);return c.next=c.prev=c,a._head=c,arguments.length>0&&Gb(i,a,arguments[0]),a},h=g.prototype;return Q.getter(h,"size",function(){if("undefined"==typeof this._size)throw new TypeError("size method called on incompatible Map");return this._size}),q(h,{get:function(a){e(this,"get");var b=Eb(a);if(null!==b){var c=this._storage[b];return c?c.value:void 0}for(var d=this._head,f=d;(f=f.next)!==d;)if($.SameValueZero(f.key,a))return f.value},has:function(a){e(this,"has");var b=Eb(a);if(null!==b)return"undefined"!=typeof this._storage[b];for(var c=this._head,d=c;(d=d.next)!==c;)if($.SameValueZero(d.key,a))return!0;return!1},set:function(a,c){e(this,"set");var d,f=this._head,g=f,h=Eb(a);if(null!==h){if("undefined"!=typeof this._storage[h])return this._storage[h].value=c,this;d=this._storage[h]=new b(a,c),g=f.prev}for(;(g=g.next)!==f;)if($.SameValueZero(g.key,a))return g.value=c,this;return d=d||new b(a,c),$.SameValue(-0,a)&&(d.key=0),d.next=this._head,d.prev=this._head.prev,d.prev.next=d,d.next.prev=d,this._size+=1,this},"delete":function(b){e(this,"delete");var c=this._head,d=c,f=Eb(b);if(null!==f){if("undefined"==typeof this._storage[f])return!1;d=this._storage[f].prev,delete this._storage[f]}for(;(d=d.next)!==c;)if($.SameValueZero(d.key,b))return d.key=d.value=a,d.prev.next=d.next,d.next.prev=d.prev,this._size-=1,!0;return!1},clear:function(){e(this,"clear"),this._size=0,this._storage=Fb();for(var b=this._head,c=b,d=c.next;(c=d)!==b;)c.key=c.value=a,d=c.next,c.next=c.prev=b;b.next=b.prev=b},keys:function(){return e(this,"keys"),new f(this,"key")},values:function(){return e(this,"values"),new f(this,"value")},entries:function(){return e(this,"entries"),new f(this,"key+value")},forEach:function(a){e(this,"forEach");for(var b=arguments.length>1?arguments[1]:null,d=this.entries(),f=d.next();!f.done;f=d.next())b?c(a,b,f.value[1],f.value[0],this):a(f.value[1],f.value[0],this)}}),Y(h,h.entries),g}(),Set:function(){var a=function(a){return a._es6set&&"undefined"!=typeof a._storage},b=function(b,c){if(!$.TypeIsObject(b)||!a(b))throw new TypeError("Set.prototype."+c+" called on incompatible receiver "+String(b))},d=function g(){if(!(this instanceof g))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var a=_(this,g,e,{_es6set:!0,"[[SetData]]":null,_storage:Fb()});if(!a._es6set)throw new TypeError("bad set");return arguments.length>0&&Hb(g,a,arguments[0]),a},e=d.prototype,f=function(a){if(!a["[[SetData]]"]){var b=a["[[SetData]]"]=new Ib.Map;k(Object.keys(a._storage),function(a){if("^null"===a)a=null;else if("^undefined"===a)a=void 0;else{var c=a.charAt(0);a="$"===c?C(a,1):"n"===c?+C(a,1):"b"===c?"btrue"===a:+a}b.set(a,a)}),a._storage=null}};return Q.getter(d.prototype,"size",function(){return b(this,"size"),f(this),this["[[SetData]]"].size}),q(d.prototype,{has:function(a){b(this,"has");var c;return this._storage&&null!==(c=Eb(a))?!!this._storage[c]:(f(this),this["[[SetData]]"].has(a))},add:function(a){b(this,"add");var c;return this._storage&&null!==(c=Eb(a))?(this._storage[c]=!0,this):(f(this),this["[[SetData]]"].set(a,a),this)},"delete":function(a){b(this,"delete");var c;if(this._storage&&null!==(c=Eb(a))){var d=M(this._storage,c);return delete this._storage[c]&&d}return f(this),this["[[SetData]]"]["delete"](a)},clear:function(){b(this,"clear"),this._storage?this._storage=Fb():this["[[SetData]]"].clear()},values:function(){return b(this,"values"),f(this),this["[[SetData]]"].values()},entries:function(){return b(this,"entries"),f(this),this["[[SetData]]"].entries()},forEach:function(a){b(this,"forEach");var d=arguments.length>1?arguments[1]:null,e=this;f(e),this["[[SetData]]"].forEach(function(b,f){d?c(a,d,f,f,e):a(f,f,e)})}}),p(d.prototype,"keys",d.prototype.values,!0),Y(d.prototype,d.prototype.values),d}()};if(w.Map||w.Set){var Jb=f(function(){return 2===new Map([[1,2]]).get(1)});if(!Jb){var Kb=w.Map;w.Map=function uc(){if(!(this instanceof uc))throw new TypeError('Constructor Map requires "new"');var a=new Kb;return arguments.length>0&&Gb(uc,a,arguments[0]),Object.setPrototypeOf(a,w.Map.prototype),p(a,"constructor",uc,!0),a},w.Map.prototype=r(Kb.prototype),Q.preserveToString(w.Map,Kb)}var Lb=new Map,Mb=function(a){return a["delete"](0),a["delete"](-0),a.set(0,3),a.get(-0,4),3===a.get(0)&&4===a.get(-0)}(Lb),Nb=Lb.set(1,2)===Lb;if(!Mb||!Nb){var Ob=Map.prototype.set;W(Map.prototype,"set",function(a,b){return c(Ob,this,0===a?0:a,b),this})}if(!Mb){var Pb=Map.prototype.get,Qb=Map.prototype.has;q(Map.prototype,{get:function(a){return c(Pb,this,0===a?0:a)},has:function(a){return c(Qb,this,0===a?0:a)}},!0),Q.preserveToString(Map.prototype.get,Pb),Q.preserveToString(Map.prototype.has,Qb)}var Rb=new Set,Sb=function(a){return a["delete"](0),a.add(-0),!a.has(0)}(Rb),Tb=Rb.add(1)===Rb;if(!Sb||!Tb){var Ub=Set.prototype.add;Set.prototype.add=function(a){return c(Ub,this,0===a?0:a),this},Q.preserveToString(Set.prototype.add,Ub)}if(!Sb){var Vb=Set.prototype.has;Set.prototype.has=function(a){return c(Vb,this,0===a?0:a)},Q.preserveToString(Set.prototype.has,Vb);var Wb=Set.prototype["delete"];Set.prototype["delete"]=function(a){return c(Wb,this,0===a?0:a)},Q.preserveToString(Set.prototype["delete"],Wb)}var Xb=s(w.Map,function(a){var b=new a([]);return b.set(42,42),b instanceof a}),Yb=Object.setPrototypeOf&&!Xb,Zb=function(){try{return!(w.Map()instanceof w.Map)}catch(a){return a instanceof TypeError}}();if(0!==w.Map.length||Yb||!Zb){var $b=w.Map;w.Map=function vc(){if(!(this instanceof vc))throw new TypeError('Constructor Map requires "new"');var a=new $b;return arguments.length>0&&Gb(vc,a,arguments[0]),Object.setPrototypeOf(a,vc.prototype),p(a,"constructor",vc,!0),a},w.Map.prototype=$b.prototype,Q.preserveToString(w.Map,$b)}var _b=s(w.Set,function(a){var b=new a([]);return b.add(42,42),b instanceof a}),ac=Object.setPrototypeOf&&!_b,bc=function(){try{return!(w.Set()instanceof w.Set)}catch(a){return a instanceof TypeError}}();if(0!==w.Set.length||ac||!bc){var cc=w.Set;w.Set=function wc(){if(!(this instanceof wc))throw new TypeError('Constructor Set requires "new"');var a=new cc;return arguments.length>0&&Hb(wc,a,arguments[0]),Object.setPrototypeOf(a,wc.prototype),p(a,"constructor",wc,!0),a},w.Set.prototype=cc.prototype,Q.preserveToString(w.Set,cc)}var dc=!f(function(){return(new Map).keys().next().done});if(("function"!=typeof w.Map.prototype.clear||0!==(new w.Set).size||0!==(new w.Map).size||"function"!=typeof w.Map.prototype.keys||"function"!=typeof w.Set.prototype.keys||"function"!=typeof w.Map.prototype.forEach||"function"!=typeof w.Set.prototype.forEach||g(w.Map)||g(w.Set)||"function"!=typeof(new w.Map).keys().next||dc||!Xb)&&(delete w.Map,delete w.Set,q(w,{Map:Ib.Map,Set:Ib.Set},!0)),w.Set.prototype.keys!==w.Set.prototype.values&&p(w.Set.prototype,"keys",w.Set.prototype.values,!0),Y(Object.getPrototypeOf((new w.Map).keys())),Y(Object.getPrototypeOf((new w.Set).keys())),j&&"has"!==w.Set.prototype.has.name){var ec=w.Set.prototype.has;W(w.Set.prototype,"has",function(a){return c(ec,this,a)})}}q(w,Ib),S(w.Map),S(w.Set)}w.Reflect||p(w,"Reflect",{});var fc=w.Reflect,gc=function(a){if(!$.TypeIsObject(a))throw new TypeError("target must be an object")},hc={apply:function(){return b($.Call,null,arguments)},construct:function(a,b){if(!$.IsConstructor(a))throw new TypeError("First argument must be a constructor.");var c=arguments.length<3?a:arguments[2];if(!$.IsConstructor(c))throw new TypeError("new.target must be a constructor.");return $.Construct(a,b,c,"internal")},deleteProperty:function(a,b){if(gc(a),i){var c=Object.getOwnPropertyDescriptor(a,b);if(c&&!c.configurable)return!1}return delete a[b]},enumerate:function(a){return gc(a),new la(a,"key")},has:function(a,b){return gc(a),b in a}};Object.getOwnPropertyNames&&Object.assign(hc,{ownKeys:function(a){gc(a);var b=Object.getOwnPropertyNames(a);return $.IsCallable(Object.getOwnPropertySymbols)&&E(b,Object.getOwnPropertySymbols(a)),b}});var ic=function(a){return!e(a)};if(Object.preventExtensions&&Object.assign(hc,{isExtensible:function(a){return gc(a),Object.isExtensible(a)},preventExtensions:function(a){return gc(a),ic(function(){Object.preventExtensions(a)})}}),i){var jc=function(a,b,d){var e=Object.getOwnPropertyDescriptor(a,b);if(!e){var f=Object.getPrototypeOf(a);return null===f?void 0:jc(f,b,d)}return"value"in e?e.value:e.get?c(e.get,d):void 0},kc=function(a,b,d,e){var f=Object.getOwnPropertyDescriptor(a,b);if(!f){var g=Object.getPrototypeOf(a);if(null!==g)return kc(g,b,d,e);f={value:void 0,writable:!0,enumerable:!0,configurable:!0}}if("value"in f){if(!f.writable)return!1;if(!$.TypeIsObject(e))return!1;var h=Object.getOwnPropertyDescriptor(e,b);return h?fc.defineProperty(e,b,{value:d}):fc.defineProperty(e,b,{value:d,writable:!0,enumerable:!0,configurable:!0})}return f.set?(c(f.set,e,d),!0):!1};Object.assign(hc,{defineProperty:function(a,b,c){return gc(a),ic(function(){Object.defineProperty(a,b,c)})},getOwnPropertyDescriptor:function(a,b){return gc(a),Object.getOwnPropertyDescriptor(a,b)},get:function(a,b){gc(a);var c=arguments.length>2?arguments[2]:a;return jc(a,b,c)},set:function(a,b,c){gc(a);var d=arguments.length>3?arguments[3]:a;return kc(a,b,c,d)}})}if(Object.getPrototypeOf){var lc=Object.getPrototypeOf;hc.getPrototypeOf=function(a){return gc(a),lc(a)}}if(Object.setPrototypeOf&&hc.getPrototypeOf){var mc=function(a,b){for(;b;){if(a===b)return!0;b=hc.getPrototypeOf(b)}return!1};Object.assign(hc,{setPrototypeOf:function(a,b){if(gc(a),null!==b&&!$.TypeIsObject(b))throw new TypeError("proto must be an object or null");return b===fc.getPrototypeOf(a)?!0:fc.isExtensible&&!fc.isExtensible(a)?!1:mc(a,b)?!1:(Object.setPrototypeOf(a,b),!0)}})}var nc=function(a,b){if($.IsCallable(w.Reflect[a])){var c=f(function(){return w.Reflect[a](1),w.Reflect[a](NaN),w.Reflect[a](!0),!0});c&&W(w.Reflect,a,b)}else p(w.Reflect,a,b)};if(Object.keys(hc).forEach(function(a){nc(a,hc[a])}),j&&"getPrototypeOf"!==w.Reflect.getPrototypeOf.name){var oc=w.Reflect.getPrototypeOf;W(w.Reflect,"getPrototypeOf",function(a){return c(oc,w.Reflect,a)})}if(w.Reflect.setPrototypeOf&&f(function(){return w.Reflect.setPrototypeOf(1,{}),!0})&&W(w.Reflect,"setPrototypeOf",hc.setPrototypeOf),w.Reflect.defineProperty&&f(function(){return w.Reflect.defineProperty(1,"test",{value:1}),!0})&&W(w.Reflect,"defineProperty",hc.defineProperty),"Invalid Date"!==String(new Date(NaN))){var pc=Date.prototype.toString,qc=function(){var a=+this;return a!==a?"Invalid Date":c(pc,this)};W(Date.prototype,"toString",qc)}var rc={anchor:function(a){return $.CreateHTML(this,"a","name",a)},big:function(){return $.CreateHTML(this,"big","","")},blink:function(){return $.CreateHTML(this,"blink","","")},bold:function(){return $.CreateHTML(this,"b","","")},fixed:function(){return $.CreateHTML(this,"tt","","")},fontcolor:function(a){return $.CreateHTML(this,"font","color",a)},fontsize:function(a){return $.CreateHTML(this,"font","size",a)},italics:function(){return $.CreateHTML(this,"i","","")},link:function(a){return $.CreateHTML(this,"a","href",a)},small:function(){return $.CreateHTML(this,"small","","")},strike:function(){return $.CreateHTML(this,"strike","","")},sub:function(){return $.CreateHTML(this,"sub","","")},sup:function(){return $.CreateHTML(this,"sup","","")}};return k(Object.keys(rc),function(a){var b=String.prototype[a],d=!1;if($.IsCallable(b)){var e=c(b,"",' " '),f=B([],e.match(/"/g)).length;d=e!==e.toLowerCase()||f>2}else d=!0;d&&p(String.prototype,a,rc[a],!0)}),w}),function(a,b){function c(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function d(a){return"undefined"==typeof a}if(a){var e={},f=a.TraceKit,g=[].slice,h="?";e.noConflict=function(){return a.TraceKit=f,e},e.wrap=function(a){function b(){try{return a.apply(this,arguments)}catch(b){throw e.report(b),b}}return b},e.report=function(){function b(a){i(),m.push(a)}function d(a){for(var b=m.length-1;b>=0;--b)m[b]===a&&m.splice(b,1)}function f(a,b){var d=null;if(!b||e.collectWindowErrors){for(var f in m)if(c(m,f))try{m[f].apply(null,[a].concat(g.call(arguments,2)))}catch(h){d=h}if(d)throw d}}function h(a,b,c,d,g){var h=null;if(g)h=e.computeStackTrace(g);else if(o)e.computeStackTrace.augmentStackTraceWithInitialElement(o,b,c,a),h=o,o=null,n=null;else{var i={url:b,line:c,column:d};i.func=e.computeStackTrace.guessFunctionName(i.url,i.line),i.context=e.computeStackTrace.gatherContext(i.url,i.line),h={mode:"onerror",message:a,stack:[i]}}return f(h,"from window.onerror"),k?k.apply(this,arguments):!1}function i(){l!==!0&&(k=a.onerror,a.onerror=h,l=!0)}function j(b){var c=g.call(arguments,1);if(o){if(n===b)return;var d=o;o=null,n=null,f.apply(null,[d,null].concat(c))}var h=e.computeStackTrace(b);throw o=h,n=b,a.setTimeout(function(){n===b&&(o=null,n=null,f.apply(null,[h,null].concat(c)))},h.incomplete?2e3:0),b}var k,l,m=[],n=null,o=null;return j.subscribe=b,j.unsubscribe=d,j}(),e.computeStackTrace=function(){function b(b){if(!e.remoteFetching)return"";try{var c=function(){try{return new a.XMLHttpRequest}catch(b){return new a.ActiveXObject("Microsoft.XMLHTTP")}},d=c();return d.open("GET",b,!1),d.send(""),d.responseText}catch(f){return""}}function f(a){if("string"!=typeof a)return[];if(!c(w,a)){var d="",e="";try{e=document.domain}catch(f){}-1!==a.indexOf(e)&&(d=b(a)),w[a]=d?d.split("\n"):[]}return w[a]}function g(a,b){var c,e=/function ([^(]*)\(([^)]*)\)/,g=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,i="",j=10,k=f(a);if(!k.length)return h;for(var l=0;j>l;++l)if(i=k[b-l]+i,!d(i)){if(c=g.exec(i))return c[1];if(c=e.exec(i))return c[1]}return h}function i(a,b){var c=f(a);if(!c.length)return null;var g=[],h=Math.floor(e.linesOfContext/2),i=h+e.linesOfContext%2,j=Math.max(0,b-h-1),k=Math.min(c.length,b+i-1);b-=1;for(var l=j;k>l;++l)d(c[l])||g.push(c[l]);return g.length>0?g:null}function j(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function k(a){return j(a).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function l(a,b){for(var c,d,e=0,g=b.length;g>e;++e)if((c=f(b[e])).length&&(c=c.join("\n"),d=a.exec(c)))return{url:b[e],line:c.substring(0,d.index).split("\n").length,column:d.index-c.lastIndexOf("\n",d.index)-1};return null}function m(a,b,c){var d,e=f(b),g=new RegExp("\\b"+j(a)+"\\b");return c-=1,e&&e.length>c&&(d=g.exec(e[c]))?d.index:null}function n(b){for(var c,d,e,f,g=[a.location.href],h=document.getElementsByTagName("script"),i=""+b,m=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,n=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,o=0;o<h.length;++o){var p=h[o];p.src&&g.push(p.src)}if(e=m.exec(i)){var q=e[1]?"\\s+"+e[1]:"",r=e[2].split(",").join("\\s*,\\s*");c=j(e[3]).replace(/;$/,";?"),d=new RegExp("function"+q+"\\s*\\(\\s*"+r+"\\s*\\)\\s*{\\s*"+c+"\\s*}")}else d=new RegExp(j(i).replace(/\s+/g,"\\s+"));if(f=l(d,g))return f;if(e=n.exec(i)){var s=e[1];if(c=k(e[2]),d=new RegExp("on"+s+"=[\\'\"]\\s*"+c+"\\s*[\\'\"]","i"),f=l(d,g[0]))return f;if(d=new RegExp(c),f=l(d,g))return f}return null}function o(a){if(!a.stack)return null;for(var b,c,e=/^\s*at (.*?) ?\(((?:file|https?|chrome-extension|native|eval).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,f=/^\s*(.*?)(?:\((.*?)\))?@?((?:file|https?|chrome|\[).*?)(?::(\d+))?(?::(\d+))?\s*$/i,j=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,k=a.stack.split("\n"),l=[],n=/^(.*) is undefined$/.exec(a.message),o=0,p=k.length;p>o;++o){if(b=e.exec(k[o])){var q=b[2]&&-1!==b[2].indexOf("native");c={url:q?null:b[2],func:b[1]||h,args:q?[b[2]]:[],line:b[3]?+b[3]:null,column:b[4]?+b[4]:null}}else if(b=j.exec(k[o]))c={url:b[2],func:b[1]||h,args:[],line:+b[3],column:b[4]?+b[4]:null};else{if(!(b=f.exec(k[o])))continue;c={url:b[3],func:b[1]||h,args:b[2]?b[2].split(","):[],line:b[4]?+b[4]:null,column:b[5]?+b[5]:null}}!c.func&&c.line&&(c.func=g(c.url,c.line)),c.line&&(c.context=i(c.url,c.line)),l.push(c)}return l.length?(l[0]&&l[0].line&&!l[0].column&&n?l[0].column=m(n[1],l[0].url,l[0].line):l[0].column||d(a.columnNumber)||(l[0].column=a.columnNumber+1),{mode:"stack",name:a.name,message:a.message,stack:l}):null}function p(a){var b=a.stacktrace;if(b){for(var c,d=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,e=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,f=b.split("\n"),h=[],j=0;j<f.length;j+=2){var k=null;if((c=d.exec(f[j]))?k={url:c[2],line:+c[1],column:null,func:c[3],args:[]}:(c=e.exec(f[j]))&&(k={url:c[6],line:+c[1],column:+c[2],func:c[3]||c[4],args:c[5]?c[5].split(","):[]}),k){if(!k.func&&k.line&&(k.func=g(k.url,k.line)),k.line)try{k.context=i(k.url,k.line)}catch(l){}k.context||(k.context=[f[j+1]]),h.push(k)}}return h.length?{mode:"stacktrace",name:a.name,message:a.message,stack:h}:null}}function q(b){var d=b.message.split("\n");if(d.length<4)return null;var e,h=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,j=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,m=/^\s*Line (\d+) of function script\s*$/i,n=[],o=document.getElementsByTagName("script"),p=[];for(var q in o)c(o,q)&&!o[q].src&&p.push(o[q]);for(var r=2;r<d.length;r+=2){var s=null;if(e=h.exec(d[r]))s={
url:e[2],func:e[3],args:[],line:+e[1],column:null};else if(e=j.exec(d[r])){s={url:e[3],func:e[4],args:[],line:+e[1],column:null};var t=+e[1],u=p[e[2]-1];if(u){var v=f(s.url);if(v){v=v.join("\n");var w=v.indexOf(u.innerText);w>=0&&(s.line=t+v.substring(0,w).split("\n").length)}}}else if(e=m.exec(d[r])){var x=a.location.href.replace(/#.*$/,""),y=new RegExp(k(d[r+1])),z=l(y,[x]);s={url:x,func:"",args:[],line:z?z.line:e[1],column:null}}if(s){s.func||(s.func=g(s.url,s.line));var A=i(s.url,s.line),B=A?A[Math.floor(A.length/2)]:null;A&&B.replace(/^\s*/,"")===d[r+1].replace(/^\s*/,"")?s.context=A:s.context=[d[r+1]],n.push(s)}}return n.length?{mode:"multiline",name:b.name,message:d[0],stack:n}:null}function r(a,b,c,d){var e={url:b,line:c};if(e.url&&e.line){a.incomplete=!1,e.func||(e.func=g(e.url,e.line)),e.context||(e.context=i(e.url,e.line));var f=/ '([^']+)' /.exec(d);if(f&&(e.column=m(f[1],e.url,e.line)),a.stack.length>0&&a.stack[0].url===e.url){if(a.stack[0].line===e.line)return!1;if(!a.stack[0].line&&a.stack[0].func===e.func)return a.stack[0].line=e.line,a.stack[0].context=e.context,!1}return a.stack.unshift(e),a.partial=!0,!0}return a.incomplete=!0,!1}function s(a,b){for(var c,d,f,i=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,j=[],k={},l=!1,o=s.caller;o&&!l;o=o.caller)if(o!==t&&o!==e.report){if(d={url:null,func:h,args:[],line:null,column:null},o.name?d.func=o.name:(c=i.exec(o.toString()))&&(d.func=c[1]),"undefined"==typeof d.func)try{d.func=c.input.substring(0,c.input.indexOf("{"))}catch(p){}if(f=n(o)){d.url=f.url,d.line=f.line,d.func===h&&(d.func=g(d.url,d.line));var q=/ '([^']+)' /.exec(a.message||a.description);q&&(d.column=m(q[1],f.url,f.line))}k[""+o]?l=!0:k[""+o]=!0,j.push(d)}b&&j.splice(0,b);var u={mode:"callers",name:a.name,message:a.message,stack:j};return r(u,a.sourceURL||a.fileName,a.line||a.lineNumber,a.message||a.description),u}function t(a,b){var c=null;b=null==b?0:+b;try{if(c=p(a))return c}catch(d){if(v)throw d}try{if(c=o(a))return c}catch(d){if(v)throw d}try{if(c=q(a))return c}catch(d){if(v)throw d}try{if(c=s(a,b+1))return c}catch(d){if(v)throw d}return{mode:"failed"}}function u(a){a=(null==a?0:+a)+1;try{throw new Error}catch(b){return t(b,a+1)}}var v=!1,w={};return t.augmentStackTraceWithInitialElement=r,t.guessFunctionName=g,t.gatherContext=i,t.ofCaller=u,t.getSource=f,t}(),e.extendToAsynchronousCallbacks=function(){var b=function(b){var c=a[b];a[b]=function(){var a=g.call(arguments),b=a[0];return"function"==typeof b&&(a[0]=e.wrap(b)),c.apply?c.apply(this,a):c(a[0],a[1])}};b("setTimeout"),b("setInterval")},e.remoteFetching||(e.remoteFetching=!0),e.collectWindowErrors||(e.collectWindowErrors=!0),(!e.linesOfContext||e.linesOfContext<1)&&(e.linesOfContext=11),a.TraceKit=e}}("undefined"!=typeof window?window:global),function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b(require,exports,module):a.exceptionless=b()}(this,function(a,b,c){function d(){if(!document||!document.getElementsByTagName)return null;for(var a=document.getElementsByTagName("script"),b=0;b<a.length;b++)if(a[b].src&&a[b].src.indexOf("/exceptionless")>-1)return p.parseQueryString(a[b].src.split("?").pop());return null}function e(a,b){var c=u["default"].createUnhandledException(new Error(a.message||(b||{}).status||"Script error"),"onerror");c.pluginContextData["@@_TraceKit.StackTrace"]=a,c.submit()}function f(a,b,c,d){var e=u["default"];404===b.status?e.submitNotFound(c.url):401!==b.status&&e.createUnhandledException(d,"JQuery.ajaxError").setSource(c.url).setProperty("status",b.status).setProperty("request",c.data).setProperty("response",b.responseText&&b.responseText.slice&&b.responseText.slice(0,1024)).submit()}if(!b)var b={};var g=function(){function a(){}return a.changed=function(a){for(var b=this._handlers,c=0;c<b.length;c++)b[c](a)},a.onChanged=function(a){!!a&&this._handlers.push(a)},a.applySavedServerSettings=function(a){a.log.info("Applying saved settings."),a.settings=p.merge(a.settings,this.getSavedServerSettings(a)),this.changed(a)},a.getSavedServerSettings=function(a){return a.storage.get(this._configPath)||{}},a.checkVersion=function(a,b){if(a){var c=parseInt(b.storage.get(this._configPath+"-version"));(isNaN(c)||a>c)&&(b.log.info("Updating settings from v"+(isNaN(c)?0:c)+" to v"+a),this.updateSettings(b))}},a.updateSettings=function(b){var c=this;return b.isValid?void b.submissionClient.getSettings(b,function(d){if(d&&d.success&&d.settings){b.settings=p.merge(b.settings,d.settings);var e=a.getSavedServerSettings(b);for(var f in e)d.settings[f]||delete b.settings[f];var g=a._configPath;b.storage.save(g+"-version",d.settingsVersion),b.storage.save(g,d.settings),b.log.info("Updated settings"),c.changed(b)}}):void b.log.error("Unable to update settings: ApiKey is not set.")},a._configPath="ex-server-settings.json",a._handlers=[],a}();b.SettingsManager=g;var h=function(){function a(){this._lastReferenceId=null}return a.prototype.getLast=function(){return this._lastReferenceId},a.prototype.clearLast=function(){this._lastReferenceId=null},a.prototype.setLast=function(a){this._lastReferenceId=a},a}();b.DefaultLastReferenceIdManager=h;var i=function(){function a(){}return a.prototype.info=function(a){this.log("info",a)},a.prototype.warn=function(a){this.log("warn",a)},a.prototype.error=function(a){this.log("error",a)},a.prototype.log=function(a,b){console&&console[a]&&console[a]("["+a+"] Exceptionless: "+b)},a}();b.ConsoleLog=i;var j=function(){function a(){}return a.prototype.info=function(a){},a.prototype.warn=function(a){},a.prototype.error=function(a){},a}();b.NullLog=j;var k=function(){function a(a,b,c){this.client=a,this.event=b,this.contextData=c?c:new s}return Object.defineProperty(a.prototype,"log",{get:function(){return this.client.config.log},enumerable:!0,configurable:!0}),a}();b.EventPluginContext=k;var l=function(){function a(){}return a.run=function(a,b){var c=function(c,d){return function(){try{a.cancelled||c.run(a,d)}catch(e){a.cancelled=!0,a.log.error("Error running plugin '"+c.name+"': "+e.message+". Discarding Event.")}a.cancelled&&b&&b(a)}},d=a.client.config.plugins,e=[];b&&(e[d.length]=c({name:"cb",priority:9007199254740992,run:b},null));for(var f=d.length-1;f>-1;f--)e[f]=c(d[f],b||f<d.length-1?e[f+1]:null);e[0]()},a.addDefaultPlugins=function(a){a.addPlugin(new v),a.addPlugin(new w),a.addPlugin(new x),a.addPlugin(new y),a.addPlugin(new z),a.addPlugin(new A)},a}();b.EventPluginManager=l;var m=function(){function a(){this.priority=20,this.name="ReferenceIdPlugin"}return a.prototype.run=function(a,b){a.event.reference_id&&0!==a.event.reference_id.length||"error"!==a.event.type||(a.event.reference_id=p.guid().replace("-","").substring(0,10)),b&&b()},a}();b.ReferenceIdPlugin=m;var n=function(){function a(a){this._processingQueue=!1,this._config=a}return a.prototype.enqueue=function(a){var b=this._config;if(this.ensureQueueTimer(),this.areQueuedItemsDiscarded())return void b.log.info("Queue items are currently being discarded. The event will not be queued.");var c="ex-q-"+(new Date).toJSON()+"-"+p.randomNumber();b.log.info("Enqueuing event: "+c+" type="+a.type+" "+(a.reference_id?"refid="+a.reference_id:"")),b.storage.save(c,a)},a.prototype.process=function(){function a(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c].value);return b}var b=this,c="The queue will not be processed.",d=this._config,e=d.log;if(this.ensureQueueTimer(),!this._processingQueue){if(e.info("Processing queue..."),!d.enabled)return void e.info("Configuration is disabled. "+c);if(!d.isValid)return void e.info("Invalid Api Key. "+c);this._processingQueue=!0;try{var f=d.storage.getList("ex-q",d.submissionBatchSize);if(!f||0==f.length)return void(this._processingQueue=!1);e.info("Sending "+f.length+" events to "+d.serverUrl+"."),d.submissionClient.postEvents(a(f),d,function(a){b.processSubmissionResponse(a,f),e.info("Finished processing queue."),b._processingQueue=!1})}catch(g){e.error("Error processing queue: "+g),this.suspendProcessing(),this._processingQueue=!1}}},a.prototype.processSubmissionResponse=function(a,b){var c="The event will not be submitted.",d=this._config,e=d.log;if(a.success)return e.info("Sent "+b.length+" events."),void this.removeEvents(b);if(a.serviceUnavailable)return e.error("Server returned service unavailable."),void this.suspendProcessing();if(a.paymentRequired)return e.info("Too many events have been submitted, please upgrade your plan."),void this.suspendProcessing(null,!0,!0);if(a.unableToAuthenticate)return e.info("Unable to authenticate, please check your configuration. "+c),this.suspendProcessing(15),void this.removeEvents(b);if(a.notFound||a.badRequest)return e.error("Error while trying to submit data: "+a.message),this.suspendProcessing(240),void this.removeEvents(b);if(a.requestEntityTooLarge){var f="Event submission discarded for being too large.";return void(d.submissionBatchSize>1?(e.error(f+" Retrying with smaller batch size."),d.submissionBatchSize=Math.max(1,Math.round(d.submissionBatchSize/1.5))):(e.error(f+" "+c),this.removeEvents(b)))}a.success||(e.error("Error submitting events: "+(a.message||"Please check the network tab for more info.")),this.suspendProcessing())},a.prototype.ensureQueueTimer=function(){var a=this;this._queueTimer||(this._queueTimer=setInterval(function(){return a.onProcessQueue()},1e4))},a.prototype.onProcessQueue=function(){this.isQueueProcessingSuspended()||this._processingQueue||this.process()},a.prototype.suspendProcessing=function(a,b,c){var d=this._config;(!a||0>=a)&&(a=5),d.log.info("Suspending processing for "+a+" minutes."),this._suspendProcessingUntil=new Date((new Date).getTime()+6e4*a),b&&(this._discardQueuedItemsUntil=new Date((new Date).getTime()+6e4*a)),c&&this.removeEvents(d.storage.getList("ex-q"))},a.prototype.removeEvents=function(a){for(var b=0;b<(a||[]).length;b++)this._config.storage.remove(a[b].path)},a.prototype.isQueueProcessingSuspended=function(){return this._suspendProcessingUntil&&this._suspendProcessingUntil>new Date},a.prototype.areQueuedItemsDiscarded=function(){return this._discardQueuedItemsUntil&&this._discardQueuedItemsUntil>new Date},a}();b.DefaultEventQueue=n;var o=function(){function a(a){this._items=[],this._maxItems=a>0?a:250}return a.prototype.save=function(a,b){return a&&b?(this.remove(a),this._items.push({created:(new Date).getTime(),path:a,value:b})>this._maxItems&&this._items.shift(),!0):!1},a.prototype.get=function(a){var b=a?this.getList("^"+a+"$",1)[0]:null;return b?b.value:null},a.prototype.getList=function(a,b){var c=this._items;if(!a)return c.slice(0,b);for(var d=new RegExp(a),e=[],f=0;f<c.length&&!(d.test(c[f].path)&&(e.push(c[f]),e.length>=b));f++);return e},a.prototype.remove=function(a){if(a){var b=this.getList("^"+a+"$",1)[0];b&&this._items.splice(this._items.indexOf(b),1)}},a}();b.InMemoryStorage=o;var p=function(){function a(){}return a.addRange=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];if(a||(a=[]),!b||0===b.length)return a;for(var d=0;d<b.length;d++)b[d]&&a.indexOf(b[d])<0&&a.push(b[d]);return a},a.getHashCode=function(a){if(!a||0===a.length)return null;for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d,b|=0}return b.toString()},a.getCookies=function(a){for(var b={},c=(a||"").split("; "),d=0;d<c.length;d++){var e=c[d].split("=");b[e[0]]=e[1]}return b},a.guid=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},a.merge=function(a,b){var c={};for(var d in a||{})a[d]&&(c[d]=a[d]);for(var d in b||{})b[d]&&(c[d]=b[d]);return c},a.parseVersion=function(a){if(!a)return null;var b=/(v?((\d+)\.(\d+)(\.(\d+))?)(?:-([\dA-Za-z\-]+(?:\.[\dA-Za-z\-]+)*))?(?:\+([\dA-Za-z\-]+(?:\.[\dA-Za-z\-]+)*))?)/,c=b.exec(a);return c&&c.length>0?c[0]:null},a.parseQueryString=function(a){if(!a||0===a.length)return null;var b=a.split("&");if(0===b.length)return null;for(var c={},d=0;d<b.length;d++){var e=b[d].split("=");c[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return c},a.randomNumber=function(){return Math.floor(9007199254740992*Math.random())},a.stringify=function(a,b){function c(a,b){if(!a||!b||"string"!=typeof b)return!1;var c=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;if(a=a.toLowerCase().replace(c,""),b=b.toLowerCase().replace(c,""),a.length<=0)return!1;var d="*"===a[0];d&&(a=a.slice(1));var e="*"===a[a.length-1];return e&&(a=a.substring(0,a.length-1)),d&&e?-1!==b.indexOf(a):d?-1!==b.lastIndexOf(a,0):e?b.lastIndexOf(a)===b.length-a.length:b===a}function d(a,b){var d=[];return JSON.stringify(a,function(a,e){for(var f=0;f<(b||[]).length;f++)if(c(b[f],a))return;if("object"==typeof e&&e){if(-1!==d.indexOf(e))return;d.push(e)}return e})}if("[object Array]"==={}.toString.call(a)){for(var e=[],f=0;f<a.length;f++)e[f]=JSON.parse(d(a[f],b||[]));return JSON.stringify(e)}return d(a,b||[])},a}();b.Utils=p;var q=function(){function a(b){function c(a){return"function"==typeof a?a(this):a}this.defaultTags=[],this.defaultData={},this.enabled=!0,this.lastReferenceIdManager=new h,this.settings={},this._serverUrl="https://collector.exceptionless.io",this._dataExclusions=[],this._plugins=[],b=p.merge(a.defaults,b),this.log=c(b.log)||new j,this.apiKey=b.apiKey,this.serverUrl=b.serverUrl,this.environmentInfoCollector=c(b.environmentInfoCollector),this.errorParser=c(b.errorParser),this.lastReferenceIdManager=c(b.lastReferenceIdManager)||new h,this.moduleCollector=c(b.moduleCollector),this.requestInfoCollector=c(b.requestInfoCollector),this.submissionBatchSize=c(b.submissionBatchSize)||50,this.submissionClient=c(b.submissionClient),this.storage=c(b.storage)||new o,this.queue=c(b.queue)||new n(this),g.applySavedServerSettings(this),l.addDefaultPlugins(this)}return Object.defineProperty(a.prototype,"apiKey",{get:function(){return this._apiKey},set:function(a){this._apiKey=a||null,this.log.info("apiKey: "+this._apiKey)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isValid",{get:function(){return!!this.apiKey&&this.apiKey.length>=10},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"serverUrl",{get:function(){return this._serverUrl},set:function(a){a&&(this._serverUrl=a,this.log.info("serverUrl: "+this._serverUrl))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"dataExclusions",{get:function(){var a=this.settings["@@DataExclusions"];return this._dataExclusions.concat(a&&a.split(",")||[])},enumerable:!0,configurable:!0}),a.prototype.addDataExclusions=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];this._dataExclusions=p.addRange.apply(p,[this._dataExclusions].concat(a))},Object.defineProperty(a.prototype,"plugins",{get:function(){return this._plugins.sort(function(a,b){return a.priority<b.priority?-1:a.priority>b.priority?1:0})},enumerable:!0,configurable:!0}),a.prototype.addPlugin=function(a,b,c){var d=c?{name:a,priority:b,run:c}:a;if(!d||!d.run)return void this.log.error("Add plugin failed: Run method not defined");d.name||(d.name=p.guid()),d.priority||(d.priority=0);for(var e=!1,f=this._plugins,g=0;g<f.length;g++)if(f[g].name===d.name){e=!0;break}e||f.push(d)},a.prototype.removePlugin=function(a){var b="string"==typeof a?a:a.name;if(!b)return void this.log.error("Remove plugin failed: Plugin name not defined");for(var c=this._plugins,d=0;d<c.length;d++)if(c[d].name===b){c.splice(d,1);break}},a.prototype.setVersion=function(a){a&&(this.defaultData["@version"]=a)},a.prototype.setUserIdentity=function(a,b){var c="@user",d="string"!=typeof a?a:{identity:a,name:b},e=!d||!d.identity&&!d.name;e?delete this.defaultData[c]:this.defaultData[c]=d,this.log.info("user identity: "+(e?"null":d.identity))},Object.defineProperty(a.prototype,"userAgent",{get:function(){return"exceptionless-js/1.0.1"},enumerable:!0,configurable:!0}),a.prototype.useReferenceIds=function(){this.addPlugin(new m)},a.prototype.useDebugLogger=function(){this.log=new i},Object.defineProperty(a,"defaults",{get:function(){return null===a._defaultSettings&&(a._defaultSettings={}),a._defaultSettings},enumerable:!0,configurable:!0}),a._defaultSettings=null,a}();b.Configuration=q;var r=function(){function a(a,b,c){this._validIdentifierErrorMessage="must contain between 8 and 100 alphanumeric or '-' characters.",this.target=a,this.client=b,this.pluginContextData=c||new s}return a.prototype.setType=function(a){return a&&(this.target.type=a),this},a.prototype.setSource=function(a){return a&&(this.target.source=a),this},a.prototype.setSessionId=function(a){if(!this.isValidIdentifier(a))throw new Error("SessionId "+this._validIdentifierErrorMessage);return this.target.session_id=a,this},a.prototype.setReferenceId=function(a){if(!this.isValidIdentifier(a))throw new Error("ReferenceId "+this._validIdentifierErrorMessage);return this.target.reference_id=a,this},a.prototype.setMessage=function(a){return a&&(this.target.message=a),this},a.prototype.setGeo=function(a,b){if(-90>a||a>90)throw new Error("Must be a valid latitude value between -90.0 and 90.0.");if(-180>b||b>180)throw new Error("Must be a valid longitude value between -180.0 and 180.0.");return this.target.geo=a+","+b,this},a.prototype.setUserIdentity=function(a,b){var c="string"!=typeof a?a:{identity:a,name:b};return c&&(c.identity||c.name)?(this.setProperty("@user",c),this):this},a.prototype.setValue=function(a){return a&&(this.target.value=a),this},a.prototype.addTags=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return this.target.tags=p.addRange.apply(p,[this.target.tags].concat(a)),this},a.prototype.setProperty=function(a,b){return a&&void 0!==b&&null!=b?(this.target.data||(this.target.data={}),this.target.data[a]=b,this):this},a.prototype.markAsCritical=function(a){return a&&this.addTags("Critical"),this},a.prototype.addRequestInfo=function(a){return a&&(this.pluginContextData["@request"]=a),this},a.prototype.submit=function(a){this.client.submitEvent(this.target,this.pluginContextData,a)},a.prototype.isValidIdentifier=function(a){if(!a)return!0;if(a.length<8||a.length>100)return!1;for(var b=0;b<a.length;b++){var c=a.charCodeAt(b),d=c>=48&&57>=c,e=c>=65&&90>=c||c>=97&&122>=c,f=45===c;if(!d&&!e&&!f)return!1}return!0},a}();b.EventBuilder=r;var s=function(){function a(){}return a.prototype.setException=function(a){a&&(this["@@_Exception"]=a)},Object.defineProperty(a.prototype,"hasException",{get:function(){return!!this["@@_Exception"]},enumerable:!0,configurable:!0}),a.prototype.getException=function(){return this["@@_Exception"]||null},a.prototype.markAsUnhandledError=function(){this["@@_IsUnhandledError"]=!0},Object.defineProperty(a.prototype,"isUnhandledError",{get:function(){return!!this["@@_IsUnhandledError"]},enumerable:!0,configurable:!0}),a.prototype.setSubmissionMethod=function(a){a&&(this["@@_SubmissionMethod"]=a)},a.prototype.getSubmissionMethod=function(){return this["@@_SubmissionMethod"]||null},a}();b.ContextData=s;var t=function(){function a(a,b){this.success=!1,this.badRequest=!1,this.serviceUnavailable=!1,this.paymentRequired=!1,this.unableToAuthenticate=!1,this.notFound=!1,this.requestEntityTooLarge=!1,this.statusCode=a,this.message=b,this.success=a>=200&&299>=a,this.badRequest=400===a,this.serviceUnavailable=503===a,this.paymentRequired=402===a,this.unableToAuthenticate=401===a||403===a,this.notFound=404===a,this.requestEntityTooLarge=413===a}return a}();b.SubmissionResponse=t;var u=function(){function a(a,b){"object"!=typeof a?this.config=new q(a):this.config=new q({apiKey:a,serverUrl:b})}return a.prototype.createException=function(a){var b=new s;return b.setException(a),this.createEvent(b).setType("error")},a.prototype.submitException=function(a,b){this.createException(a).submit(b)},a.prototype.createUnhandledException=function(a,b){var c=this.createException(a);return c.pluginContextData.markAsUnhandledError(),c.pluginContextData.setSubmissionMethod(b),c},a.prototype.submitUnhandledException=function(a,b,c){this.createUnhandledException(a,b).submit(c)},a.prototype.createFeatureUsage=function(a){return this.createEvent().setType("usage").setSource(a)},a.prototype.submitFeatureUsage=function(a,b){this.createFeatureUsage(a).submit(b)},a.prototype.createLog=function(a,b,c){var d=this.createEvent().setType("log");if(b&&c)d=d.setSource(a).setMessage(b).setProperty("@level",c);else if(b)d=d.setSource(a).setMessage(b);else{var e=arguments.callee.caller;d=d.setSource(e&&e.name).setMessage(a)}return d},a.prototype.submitLog=function(a,b,c,d){this.createLog(a,b,c).submit(d)},a.prototype.createNotFound=function(a){return this.createEvent().setType("404").setSource(a)},a.prototype.submitNotFound=function(a,b){this.createNotFound(a).submit(b)},a.prototype.createSessionStart=function(a){return this.createEvent().setType("start").setSessionId(a)},a.prototype.submitSessionStart=function(a,b){this.createSessionStart(a).submit(b)},a.prototype.createSessionEnd=function(a){return this.createEvent().setType("end").setSessionId(a)},a.prototype.submitSessionEnd=function(a,b){this.createSessionEnd(a).submit(b)},a.prototype.createEvent=function(a){return new r({date:new Date},this,a)},a.prototype.submitEvent=function(a,b,c){function d(){return e&&(e.cancelled=!0),!!c&&c(e)}if(!a)return d();if(!this.config.enabled)return this.config.log.info("Event submission is currently disabled."),d();a.data||(a.data={}),a.tags&&a.tags.length||(a.tags=[]);var e=new k(this,a,b);l.run(e,function(a){var b=a.event;if(!a.cancelled){b.type&&0!==b.type.length||(b.type="log"),b.date||(b.date=new Date);var d=a.client.config;d.queue.enqueue(b),b.reference_id&&b.reference_id.length>0&&(a.log.info("Setting last reference id '"+b.reference_id+"'"),d.lastReferenceIdManager.setLast(b.reference_id))}!!c&&c(a)})},a.prototype.updateUserEmailAndDescription=function(a,b,c,d){var e=this;if(!(a&&b&&c&&this.config.enabled))return!!d&&d(new t(500,"cancelled"));var f={email_address:b,description:c};this.config.submissionClient.postUserDescription(a,f,this.config,function(b){b.success||e.config.log.error("Failed to submit user email and description for event '"+a+"': "+b.statusCode+" "+b.message),!!d&&d(b)})},a.prototype.getLastReferenceId=function(){return this.config.lastReferenceIdManager.getLast()},Object.defineProperty(a,"default",{get:function(){return null===a._instance&&(a._instance=new a(null)),a._instance},enumerable:!0,configurable:!0}),a._instance=null,a}();b.ExceptionlessClient=u;var v=function(){function a(){this.priority=10,this.name="ConfigurationDefaultsPlugin"}return a.prototype.run=function(a,b){for(var c=a.client.config.defaultTags||[],d=0;d<c.length;d++){var e=c[d];e&&a.event.tags.indexOf(e)<0&&a.event.tags.push(e)}var f=a.client.config.defaultData||{};for(var g in f)f[g]&&(a.event.data[g]=f[g]);b&&b()},a}();b.ConfigurationDefaultsPlugin=v;var w=function(){function a(){this.priority=30,this.name="ErrorPlugin"}return a.prototype.run=function(a,b){var c="@error",d=a.contextData.getException();if(d&&(a.event.type="error",!a.event.data[c])){var e=a.client.config.errorParser;if(!e)throw new Error("No error parser was defined.");var f=e.parse(a,d);f&&(a.event.data[c]=f)}b&&b()},a}();b.ErrorPlugin=w;var x=function(){function a(){this.priority=40,this.name="ModuleInfoPlugin"}return a.prototype.run=function(a,b){var c="@error",d=a.client.config.moduleCollector;if(a.event.data[c]&&!a.event.data["@error"].modules&&d){var e=d.getModules(a);e&&e.length>0&&(a.event.data[c].modules=e)}b&&b()},a}();b.ModuleInfoPlugin=x;var y=function(){function a(){this.priority=60,this.name="RequestInfoPlugin"}return a.prototype.run=function(a,b){var c="@request",d=a.client.config.requestInfoCollector;if(!a.event.data[c]&&d){var e=d.getRequestInfo(a);e&&(a.event.data[c]=e)}b&&b()},a}();b.RequestInfoPlugin=y;var z=function(){function a(){this.priority=70,this.name="EnvironmentInfoPlugin"}return a.prototype.run=function(a,b){var c="@environment",d=a.client.config.environmentInfoCollector;if(!a.event.data[c]&&d){var e=d.getEnvironmentInfo(a);e&&(a.event.data[c]=e)}b&&b()},a}();b.EnvironmentInfoPlugin=z;var A=function(){function a(){this.priority=100,this.name="SubmissionMethodPlugin"}return a.prototype.run=function(a,b){var c=a.contextData.getSubmissionMethod();c&&(a.event.data["@submission_method"]=c),b&&b()},a}();b.SubmissionMethodPlugin=A;var B=function(){function a(a,b,c,d,e){void 0===c&&(c=-1),void 0===d&&(d=null),void 0===e&&(e=null),this.success=!1,this.settingsVersion=-1,this.success=a,this.settings=b,this.settingsVersion=c,this.exception=d,this.message=e}return a}();b.SettingsResponse=B;var C=function(){function a(){}return a.prototype.parse=function(a,b){function c(a){for(var b=("string"==typeof a?[a]:a)||[],c=[],d=0;d<b.length;d++)c.push({name:b[d]});return c}function d(a,b){for(var d="<anonymous>",e=[],f=0;f<b.length;f++){var g=b[f];e.push({name:(g.func||d).replace("?",d),parameters:c(g.args),file_name:g.url,line_number:g.line||0,column:g.column||0})}return e}var e="@@_TraceKit.StackTrace",f=a.contextData[e]?a.contextData[e]:TraceKit.computeStackTrace(b,25);if(!f)throw new Error("Unable to parse the exceptions stack trace.");return{type:f.name,message:f.message||b.message,stack_trace:d(a,f.stack||[])}},a}();b.DefaultErrorParser=C;var D=function(){function a(){}return a.prototype.getModules=function(a){if(document&&document.getElementsByTagName)return null;var b=[],c=document.getElementsByTagName("script");if(c&&c.length>0)for(var d=0;d<c.length;d++)c[d].src?b.push({module_id:d,name:c[d].src,version:p.parseVersion(c[d].src)}):c[d].innerHTML&&b.push({module_id:d,name:"Script Tag",version:p.getHashCode(c[d].innerHTML)});return b},a}();b.DefaultModuleCollector=D;var E=function(){function a(){}return a.prototype.getRequestInfo=function(a){if(!document||!navigator||!location)return null;var b={user_agent:navigator.userAgent,is_secure:"https:"===location.protocol,host:location.hostname,port:location.port&&""!==location.port?parseInt(location.port):80,path:location.pathname,cookies:p.getCookies(document.cookie),query_string:p.parseQueryString(location.search.substring(1))};return document.referrer&&""!==document.referrer&&(b.referrer=document.referrer),b},a}();b.DefaultRequestInfoCollector=E;var F=function(){function a(){this.configurationVersionHeader="X-Exceptionless-ConfigVersion"}return a.prototype.postEvents=function(a,b,c){var d=this;return this.sendRequest(b,"POST","/api/v2/events",p.stringify(a,b.dataExclusions),function(a,e,f,h){var i=h&&parseInt(h[d.configurationVersionHeader]);g.checkVersion(i,b),c(new t(a,e))})},a.prototype.postUserDescription=function(a,b,c,d){var e=this,f="/api/v2/events/by-ref/"+encodeURIComponent(a)+"/user-description";return this.sendRequest(c,"POST",f,p.stringify(b,c.dataExclusions),function(a,b,f,h){var i=h&&parseInt(h[e.configurationVersionHeader]);g.checkVersion(i,c),d(new t(a,b))})},a.prototype.getSettings=function(a,b){return this.sendRequest(a,"GET","/api/v2/projects/config",null,function(c,d,e){if(200!==c)return b(new B(!1,null,-1,null,d));var f;try{f=JSON.parse(e)}catch(g){a.log.error("Unable to parse settings: '"+e+"'")}return!f||isNaN(f.version)?b(new B(!1,null,-1,null,"Invalid configuration settings.")):void b(new B(!0,f.settings||{},f.version))})},a.prototype.sendRequest=function(a,b,c,d,e){function f(a,c){function d(a){for(var b={},c=(a||"").split("\r\n"),d=0;d<c.length;d++){var e=c[d],f=e.indexOf(": ");f>0&&(b[e.substring(0,f)]=e.substring(f+2))}return b}if(!k){k=!0;var f=c.statusText,g=c.responseText,j=c.status;if(a===h||0===j)f="Unable to connect to server.",j=0;else if(a!==i||j){if(200>j||j>299){var l=c.responseBody;if(l&&l.message)f=l.message;else if(g&&-1!==g.indexOf("message"))try{f=JSON.parse(g).message}catch(m){f=g}}}else j="POST"===b?202:200;e(j||500,f||"",g,d(c.getAllResponseHeaders&&c.getAllResponseHeaders()))}}function g(a,b,c){var d=new XMLHttpRequest;return j in d?(d.open(b,c,!0),d.setRequestHeader("X-Exceptionless-Client",a.userAgent),"POST"===b&&d.setRequestHeader("Content-Type","application/json")):"undefined"!=typeof XDomainRequest?(l=!0,d=new XDomainRequest,d.open(b,"http:"===location.protocol?c.replace("https:","http:"):c)):d=null,d&&(d.timeout=1e4),d}var h="timeout",i="loaded",j="withCredentials",k=!1,l=!1,m=""+a.serverUrl+c+"?access_token="+encodeURIComponent(a.apiKey),n=g(a,b||"POST",m);return n?(j in n&&(n.onreadystatechange=function(){4===n.readyState&&f(i,n)}),n.onprogress=function(){},n.ontimeout=function(){return f(h,n)},n.onerror=function(){return f("error",n)},n.onload=function(){return f(i,n)},void(l?setTimeout(function(){return n.send(d)},500):n.send(d))):e(503,"CORS not supported.")},a}();b.DefaultSubmissionClient=F;var G=q.defaults,H=d();return H&&(H.apiKey||H.serverUrl)&&(G.apiKey=H.apiKey,G.serverUrl=H.serverUrl),G.errorParser=new C,G.moduleCollector=new D,G.requestInfoCollector=new E,G.submissionClient=new F,TraceKit.report.subscribe(e),TraceKit.extendToAsynchronousCallbacks(),"undefined"!=typeof $&&$(document)&&$(document).ajaxError(f),Error.stackTraceLimit=1/0,b}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return Hc.apply(null,arguments)}function b(a){Hc=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Ca(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=j(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),Jc.length>0)for(c in Jc)d=Jc[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),Kc===!1&&(Kc=!0,a.updateOffset(this),Kc=!1)}function o(a){return a instanceof n||null!=a&&null!=a._isAMomentObject}function p(a){return 0>a?Math.ceil(a):Math.floor(a)}function q(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=p(b)),c}function r(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&q(a[d])!==q(b[d]))&&g++;return g+f}function s(){}function t(a){return a?a.toLowerCase().replace("_","-"):a}function u(a){for(var b,c,d,e,f=0;f<a.length;){for(e=t(a[f]).split("-"),b=e.length,c=t(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=v(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&r(e,c,!0)>=b-1)break;b--}f++}return null}function v(a){var b=null;if(!Lc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Ic._abbr,require("./locale/"+a),w(b)}catch(c){}return Lc[a]}function w(a,b){var c;return a&&(c="undefined"==typeof b?y(a):x(a,b),c&&(Ic=c)),Ic._abbr}function x(a,b){return null!==b?(b.abbr=a,
Lc[a]=Lc[a]||new s,Lc[a].set(b),w(a),Lc[a]):(delete Lc[a],null)}function y(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Ic;if(!c(a)){if(b=v(a))return b;a=[a]}return u(a)}function z(a,b){var c=a.toLowerCase();Mc[c]=Mc[c+"s"]=Mc[b]=a}function A(a){return"string"==typeof a?Mc[a]||Mc[a.toLowerCase()]:void 0}function B(a){var b,c,d={};for(c in a)f(a,c)&&(b=A(c),b&&(d[b]=a[c]));return d}function C(b,c){return function(d){return null!=d?(E(this,b,d),a.updateOffset(this,c),this):D(this,b)}}function D(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function E(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function F(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=A(a),"function"==typeof this[a])return this[a](b);return this}function G(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function H(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Qc[a]=e),b&&(Qc[b[0]]=function(){return G(e.apply(this,arguments),b[1],b[2])}),c&&(Qc[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function I(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function J(a){var b,c,d=a.match(Nc);for(b=0,c=d.length;c>b;b++)Qc[d[b]]?d[b]=Qc[d[b]]:d[b]=I(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function K(a,b){return a.isValid()?(b=L(b,a.localeData()),Pc[b]=Pc[b]||J(b),Pc[b](a)):a.localeData().invalidDate()}function L(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Oc.lastIndex=0;d>=0&&Oc.test(a);)a=a.replace(Oc,c),Oc.lastIndex=0,d-=1;return a}function M(a){return"function"==typeof a&&"[object Function]"===Object.prototype.toString.call(a)}function N(a,b,c){dd[a]=M(b)?b:function(a){return a&&c?c:b}}function O(a,b){return f(dd,a)?dd[a](b._strict,b._locale):new RegExp(P(a))}function P(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=q(a)}),c=0;c<a.length;c++)ed[a[c]]=d}function R(a,b){Q(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function S(a,b,c){null!=b&&f(ed,a)&&ed[a](b,c._a,c,a)}function T(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function U(a){return this._months[a.month()]}function V(a){return this._monthsShort[a.month()]}function W(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function X(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),T(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function Y(b){return null!=b?(X(this,b),a.updateOffset(this,!0),this):D(this,"Month")}function Z(){return T(this.year(),this.month())}function $(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[gd]<0||c[gd]>11?gd:c[hd]<1||c[hd]>T(c[fd],c[gd])?hd:c[id]<0||c[id]>24||24===c[id]&&(0!==c[jd]||0!==c[kd]||0!==c[ld])?id:c[jd]<0||c[jd]>59?jd:c[kd]<0||c[kd]>59?kd:c[ld]<0||c[ld]>999?ld:-1,j(a)._overflowDayOfYear&&(fd>b||b>hd)&&(b=hd),j(a).overflow=b),a}function _(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function aa(a,b){var c=!0;return g(function(){return c&&(_(a+"\n"+(new Error).stack),c=!1),b.apply(this,arguments)},b)}function ba(a,b){od[a]||(_(b),od[a]=!0)}function ca(a){var b,c,d=a._i,e=pd.exec(d);if(e){for(j(a).iso=!0,b=0,c=qd.length;c>b;b++)if(qd[b][1].exec(d)){a._f=qd[b][0];break}for(b=0,c=rd.length;c>b;b++)if(rd[b][1].exec(d)){a._f+=(e[6]||" ")+rd[b][0];break}d.match(ad)&&(a._f+="Z"),va(a)}else a._isValid=!1}function da(b){var c=sd.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(ca(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ea(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function fa(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ga(a){return ha(a)?366:365}function ha(a){return a%4===0&&a%100!==0||a%400===0}function ia(){return ha(this.year())}function ja(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=Da(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ka(a){return ja(a,this._week.dow,this._week.doy).week}function la(){return this._week.dow}function ma(){return this._week.doy}function na(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function oa(a){var b=ja(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function pa(a,b,c,d,e){var f,g=6+e-d,h=fa(a,0,1+g),i=h.getUTCDay();return e>i&&(i+=7),c=null!=c?1*c:e,f=1+g+7*(b-1)-i+c,{year:f>0?a:a-1,dayOfYear:f>0?f:ga(a-1)+f}}function qa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function ra(a,b,c){return null!=a?a:null!=b?b:c}function sa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ta(a){var b,c,d,e,f=[];if(!a._d){for(d=sa(a),a._w&&null==a._a[hd]&&null==a._a[gd]&&ua(a),a._dayOfYear&&(e=ra(a._a[fd],d[fd]),a._dayOfYear>ga(e)&&(j(a)._overflowDayOfYear=!0),c=fa(e,0,a._dayOfYear),a._a[gd]=c.getUTCMonth(),a._a[hd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[id]&&0===a._a[jd]&&0===a._a[kd]&&0===a._a[ld]&&(a._nextDay=!0,a._a[id]=0),a._d=(a._useUTC?fa:ea).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[id]=24)}}function ua(a){var b,c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=ra(b.GG,a._a[fd],ja(Da(),1,4).year),d=ra(b.W,1),e=ra(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=ra(b.gg,a._a[fd],ja(Da(),f,g).year),d=ra(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=pa(c,d,e,g,f),a._a[fd]=h.year,a._dayOfYear=h.dayOfYear}function va(b){if(b._f===a.ISO_8601)return void ca(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=L(b._f,b._locale).match(Nc)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(O(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Qc[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),S(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[id]<=12&&b._a[id]>0&&(j(b).bigHour=void 0),b._a[id]=wa(b._locale,b._a[id],b._meridiem),ta(b),$(b)}function wa(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function xa(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],va(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function ya(a){if(!a._d){var b=B(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ta(a)}}function za(a){var b=new n($(Aa(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Aa(a){var b=a._i,e=a._f;return a._locale=a._locale||y(a._l),null===b||void 0===e&&""===b?l({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),o(b)?new n($(b)):(c(e)?xa(a):e?va(a):d(b)?a._d=b:Ba(a),a))}function Ba(b){var f=b._i;void 0===f?b._d=new Date:d(f)?b._d=new Date(+f):"string"==typeof f?da(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ta(b)):"object"==typeof f?ya(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Ca(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,za(f)}function Da(a,b,c,d){return Ca(a,b,c,d,!1)}function Ea(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Da();for(d=b[0],e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function Fa(){var a=[].slice.call(arguments,0);return Ea("isBefore",a)}function Ga(){var a=[].slice.call(arguments,0);return Ea("isAfter",a)}function Ha(a){var b=B(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=y(),this._bubble()}function Ia(a){return a instanceof Ha}function Ja(a,b){H(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+G(~~(a/60),2)+b+G(~~a%60,2)})}function Ka(a){var b=(a||"").match(ad)||[],c=b[b.length-1]||[],d=(c+"").match(xd)||["-",0,0],e=+(60*d[1])+q(d[2]);return"+"===d[0]?e:-e}function La(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+Da(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Da(b).local()}function Ma(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Na(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ka(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ma(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?bb(this,Ya(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ma(this)}function Oa(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Pa(a){return this.utcOffset(0,a)}function Qa(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ma(this),"m")),this}function Ra(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ka(this._i)),this}function Sa(a){return a=a?Da(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Ta(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ua(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var a={};if(m(a,this),a=Aa(a),a._a){var b=a._isUTC?h(a._a):Da(a._a);this._isDSTShifted=this.isValid()&&r(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Va(){return!this._isUTC}function Wa(){return this._isUTC}function Xa(){return this._isUTC&&0===this._offset}function Ya(a,b){var c,d,e,g=a,h=null;return Ia(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=yd.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:q(h[hd])*c,h:q(h[id])*c,m:q(h[jd])*c,s:q(h[kd])*c,ms:q(h[ld])*c}):(h=zd.exec(a))?(c="-"===h[1]?-1:1,g={y:Za(h[2],c),M:Za(h[3],c),d:Za(h[4],c),h:Za(h[5],c),m:Za(h[6],c),s:Za(h[7],c),w:Za(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=_a(Da(g.from),Da(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ha(g),Ia(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function Za(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function $a(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function _a(a,b){var c;return b=La(b,a),a.isBefore(b)?c=$a(a,b):(c=$a(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function ab(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(ba(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Ya(c,d),bb(this,e,a),this}}function bb(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&E(b,"Date",D(b,"Date")+g*d),h&&X(b,D(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function cb(a,b){var c=a||Da(),d=La(c,this).startOf("day"),e=this.diff(d,"days",!0),f=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(b&&b[f]||this.localeData().calendar(f,this,Da(c)))}function db(){return new n(this)}function eb(a,b){var c;return b=A("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+this>+a):(c=o(a)?+a:+Da(a),c<+this.clone().startOf(b))}function fb(a,b){var c;return b=A("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+a>+this):(c=o(a)?+a:+Da(a),+this.clone().endOf(b)<c)}function gb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function hb(a,b){var c;return b=A(b||"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+this===+a):(c=+Da(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function ib(a,b,c){var d,e,f=La(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=A(b),"year"===b||"month"===b||"quarter"===b?(e=jb(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:p(e)}function jb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function kb(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function lb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():K(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):K(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function mb(b){var c=K(this,b||a.defaultFormat);return this.localeData().postformat(c)}function nb(a,b){return this.isValid()?Ya({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ob(a){return this.from(Da(),a)}function pb(a,b){return this.isValid()?Ya({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function qb(a){return this.to(Da(),a)}function rb(a){var b;return void 0===a?this._locale._abbr:(b=y(a),null!=b&&(this._locale=b),this)}function sb(){return this._locale}function tb(a){switch(a=A(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function ub(a){return a=A(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function vb(){return+this._d-6e4*(this._offset||0)}function wb(){return Math.floor(+this/1e3)}function xb(){return this._offset?new Date(+this):this._d}function yb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function zb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Ab(){return k(this)}function Bb(){return g({},j(this))}function Cb(){return j(this).overflow}function Db(a,b){H(0,[a,a.length],0,b)}function Eb(a,b,c){return ja(Da([a,11,31+b-c]),b,c).week}function Fb(a){var b=ja(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Gb(a){var b=ja(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Hb(){return Eb(this.year(),1,4)}function Ib(){var a=this.localeData()._week;return Eb(this.year(),a.dow,a.doy)}function Jb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Kb(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Lb(a){return this._weekdays[a.day()]}function Mb(a){return this._weekdaysShort[a.day()]}function Nb(a){return this._weekdaysMin[a.day()]}function Ob(a){var b,c,d;for(this._weekdaysParse=this._weekdaysParse||[],b=0;7>b;b++)if(this._weekdaysParse[b]||(c=Da([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b}function Pb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Kb(a,this.localeData()),this.add(a-b,"d")):b}function Qb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Rb(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Sb(a,b){H(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Tb(a,b){return b._meridiemParse}function Ub(a){return"p"===(a+"").toLowerCase().charAt(0)}function Vb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Wb(a,b){b[ld]=q(1e3*("0."+a))}function Xb(){return this._isUTC?"UTC":""}function Yb(){return this._isUTC?"Coordinated Universal Time":""}function Zb(a){return Da(1e3*a)}function $b(){return Da.apply(null,arguments).parseZone()}function _b(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function ac(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function bc(){return this._invalidDate}function cc(a){return this._ordinal.replace("%d",a)}function dc(a){return a}function ec(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function fc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function gc(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function hc(a,b,c,d){var e=y(),f=h().set(d,b);return e[c](f,a)}function ic(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return hc(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=hc(a,f,c,e);return g}function jc(a,b){return ic(a,b,"months",12,"month")}function kc(a,b){return ic(a,b,"monthsShort",12,"month")}function lc(a,b){return ic(a,b,"weekdays",7,"day")}function mc(a,b){return ic(a,b,"weekdaysShort",7,"day")}function nc(a,b){return ic(a,b,"weekdaysMin",7,"day")}function oc(){var a=this._data;return this._milliseconds=Wd(this._milliseconds),this._days=Wd(this._days),this._months=Wd(this._months),a.milliseconds=Wd(a.milliseconds),a.seconds=Wd(a.seconds),a.minutes=Wd(a.minutes),a.hours=Wd(a.hours),a.months=Wd(a.months),a.years=Wd(a.years),this}function pc(a,b,c,d){var e=Ya(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function qc(a,b){return pc(this,a,b,1)}function rc(a,b){return pc(this,a,b,-1)}function sc(a){return 0>a?Math.floor(a):Math.ceil(a)}function tc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*sc(vc(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=p(f/1e3),i.seconds=a%60,b=p(a/60),i.minutes=b%60,c=p(b/60),i.hours=c%24,g+=p(c/24),e=p(uc(g)),h+=e,g-=sc(vc(e)),d=p(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function uc(a){return 4800*a/146097}function vc(a){return 146097*a/4800}function wc(a){var b,c,d=this._milliseconds;if(a=A(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+uc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(vc(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function xc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12)}function yc(a){return function(){return this.as(a)}}function zc(a){return a=A(a),this[a+"s"]()}function Ac(a){return function(){return this._data[a]}}function Bc(){return p(this.days()/7)}function Cc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Dc(a,b,c){var d=Ya(a).abs(),e=ke(d.as("s")),f=ke(d.as("m")),g=ke(d.as("h")),h=ke(d.as("d")),i=ke(d.as("M")),j=ke(d.as("y")),k=e<le.s&&["s",e]||1===f&&["m"]||f<le.m&&["mm",f]||1===g&&["h"]||g<le.h&&["hh",g]||1===h&&["d"]||h<le.d&&["dd",h]||1===i&&["M"]||i<le.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,Cc.apply(null,k)}function Ec(a,b){return void 0===le[a]?!1:void 0===b?le[a]:(le[a]=b,!0)}function Fc(a){var b=this.localeData(),c=Dc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Gc(){var a,b,c,d=me(this._milliseconds)/1e3,e=me(this._days),f=me(this._months);a=p(d/60),b=p(a/60),d%=60,a%=60,c=p(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var Hc,Ic,Jc=a.momentProperties=[],Kc=!1,Lc={},Mc={},Nc=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Oc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pc={},Qc={},Rc=/\d/,Sc=/\d\d/,Tc=/\d{3}/,Uc=/\d{4}/,Vc=/[+-]?\d{6}/,Wc=/\d\d?/,Xc=/\d{1,3}/,Yc=/\d{1,4}/,Zc=/[+-]?\d{1,6}/,$c=/\d+/,_c=/[+-]?\d+/,ad=/Z|[+-]\d\d:?\d\d/gi,bd=/[+-]?\d+(\.\d{1,3})?/,cd=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,dd={},ed={},fd=0,gd=1,hd=2,id=3,jd=4,kd=5,ld=6;H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),H("MMMM",0,0,function(a){return this.localeData().months(this,a)}),z("month","M"),N("M",Wc),N("MM",Wc,Sc),N("MMM",cd),N("MMMM",cd),Q(["M","MM"],function(a,b){b[gd]=q(a)-1}),Q(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[gd]=e:j(c).invalidMonth=a});var md="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),od={};a.suppressDeprecationWarnings=!1;var pd=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],rd=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],sd=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=aa("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),z("year","y"),N("Y",_c),N("YY",Wc,Sc),N("YYYY",Yc,Uc),N("YYYYY",Zc,Vc),N("YYYYYY",Zc,Vc),Q(["YYYYY","YYYYYY"],fd),Q("YYYY",function(b,c){c[fd]=2===b.length?a.parseTwoDigitYear(b):q(b)}),Q("YY",function(b,c){c[fd]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return q(a)+(q(a)>68?1900:2e3)};var td=C("FullYear",!1);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),z("week","w"),z("isoWeek","W"),N("w",Wc),N("ww",Wc,Sc),N("W",Wc),N("WW",Wc,Sc),R(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=q(a)});var ud={dow:0,doy:6};H("DDD",["DDDD",3],"DDDo","dayOfYear"),z("dayOfYear","DDD"),N("DDD",Xc),N("DDDD",Tc),Q(["DDD","DDDD"],function(a,b,c){c._dayOfYear=q(a)}),a.ISO_8601=function(){};var vd=aa("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Da.apply(null,arguments);return this>a?this:a}),wd=aa("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Da.apply(null,arguments);return a>this?this:a});Ja("Z",":"),Ja("ZZ",""),N("Z",ad),N("ZZ",ad),Q(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ka(a)});var xd=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var yd=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,zd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ya.fn=Ha.prototype;var Ad=ab(1,"add"),Bd=ab(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Cd=aa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Db("gggg","weekYear"),Db("ggggg","weekYear"),Db("GGGG","isoWeekYear"),Db("GGGGG","isoWeekYear"),z("weekYear","gg"),z("isoWeekYear","GG"),N("G",_c),N("g",_c),N("GG",Wc,Sc),N("gg",Wc,Sc),N("GGGG",Yc,Uc),N("gggg",Yc,Uc),N("GGGGG",Zc,Vc),N("ggggg",Zc,Vc),R(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=q(a)}),R(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),H("Q",0,0,"quarter"),z("quarter","Q"),N("Q",Rc),Q("Q",function(a,b){b[gd]=3*(q(a)-1)}),H("D",["DD",2],"Do","date"),z("date","D"),N("D",Wc),N("DD",Wc,Sc),N("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),Q(["D","DD"],hd),Q("Do",function(a,b){b[hd]=q(a.match(Wc)[0],10)});var Dd=C("Date",!0);H("d",0,"do","day"),H("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),H("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),H("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),z("day","d"),z("weekday","e"),z("isoWeekday","E"),N("d",Wc),N("e",Wc),N("E",Wc),N("dd",cd),N("ddd",cd),N("dddd",cd),R(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),R(["d","e","E"],function(a,b,c,d){b[d]=q(a)});var Ed="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fd="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Gd="Su_Mo_Tu_We_Th_Fr_Sa".split("_");H("H",["HH",2],0,"hour"),H("h",["hh",2],0,function(){return this.hours()%12||12}),Sb("a",!0),Sb("A",!1),z("hour","h"),N("a",Tb),N("A",Tb),N("H",Wc),N("h",Wc),N("HH",Wc,Sc),N("hh",Wc,Sc),Q(["H","HH"],id),Q(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),Q(["h","hh"],function(a,b,c){b[id]=q(a),j(c).bigHour=!0});var Hd=/[ap]\.?m?\.?/i,Id=C("Hours",!0);H("m",["mm",2],0,"minute"),z("minute","m"),N("m",Wc),N("mm",Wc,Sc),Q(["m","mm"],jd);var Jd=C("Minutes",!1);H("s",["ss",2],0,"second"),z("second","s"),N("s",Wc),N("ss",Wc,Sc),Q(["s","ss"],kd);var Kd=C("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),z("millisecond","ms"),N("S",Xc,Rc),N("SS",Xc,Sc),N("SSS",Xc,Tc);var Ld;for(Ld="SSSS";Ld.length<=9;Ld+="S")N(Ld,$c);for(Ld="S";Ld.length<=9;Ld+="S")Q(Ld,Wb);var Md=C("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Nd=n.prototype;Nd.add=Ad,Nd.calendar=cb,Nd.clone=db,Nd.diff=ib,Nd.endOf=ub,Nd.format=mb,Nd.from=nb,Nd.fromNow=ob,Nd.to=pb,Nd.toNow=qb,Nd.get=F,Nd.invalidAt=Cb,Nd.isAfter=eb,Nd.isBefore=fb,Nd.isBetween=gb,Nd.isSame=hb,Nd.isValid=Ab,Nd.lang=Cd,Nd.locale=rb,Nd.localeData=sb,Nd.max=wd,Nd.min=vd,Nd.parsingFlags=Bb,Nd.set=F,Nd.startOf=tb,Nd.subtract=Bd,Nd.toArray=yb,Nd.toObject=zb,Nd.toDate=xb,Nd.toISOString=lb,Nd.toJSON=lb,Nd.toString=kb,Nd.unix=wb,Nd.valueOf=vb,Nd.year=td,Nd.isLeapYear=ia,Nd.weekYear=Fb,Nd.isoWeekYear=Gb,Nd.quarter=Nd.quarters=Jb,Nd.month=Y,Nd.daysInMonth=Z,Nd.week=Nd.weeks=na,Nd.isoWeek=Nd.isoWeeks=oa,Nd.weeksInYear=Ib,Nd.isoWeeksInYear=Hb,Nd.date=Dd,Nd.day=Nd.days=Pb,Nd.weekday=Qb,Nd.isoWeekday=Rb,Nd.dayOfYear=qa,Nd.hour=Nd.hours=Id,Nd.minute=Nd.minutes=Jd,Nd.second=Nd.seconds=Kd,Nd.millisecond=Nd.milliseconds=Md,Nd.utcOffset=Na,Nd.utc=Pa,Nd.local=Qa,Nd.parseZone=Ra,Nd.hasAlignedHourOffset=Sa,Nd.isDST=Ta,Nd.isDSTShifted=Ua,Nd.isLocal=Va,Nd.isUtcOffset=Wa,Nd.isUtc=Xa,Nd.isUTC=Xa,Nd.zoneAbbr=Xb,Nd.zoneName=Yb,Nd.dates=aa("dates accessor is deprecated. Use date instead.",Dd),Nd.months=aa("months accessor is deprecated. Use month instead",Y),Nd.years=aa("years accessor is deprecated. Use year instead",td),Nd.zone=aa("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Oa);var Od=Nd,Pd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Qd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Rd="Invalid date",Sd="%d",Td=/\d{1,2}/,Ud={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Vd=s.prototype;Vd._calendar=Pd,Vd.calendar=_b,Vd._longDateFormat=Qd,Vd.longDateFormat=ac,Vd._invalidDate=Rd,Vd.invalidDate=bc,Vd._ordinal=Sd,Vd.ordinal=cc,Vd._ordinalParse=Td,Vd.preparse=dc,Vd.postformat=dc,Vd._relativeTime=Ud,Vd.relativeTime=ec,Vd.pastFuture=fc,Vd.set=gc,Vd.months=U,Vd._months=md,Vd.monthsShort=V,Vd._monthsShort=nd,Vd.monthsParse=W,Vd.week=ka,Vd._week=ud,Vd.firstDayOfYear=ma,Vd.firstDayOfWeek=la,Vd.weekdays=Lb,Vd._weekdays=Ed,Vd.weekdaysMin=Nb,Vd._weekdaysMin=Gd,Vd.weekdaysShort=Mb,Vd._weekdaysShort=Fd,Vd.weekdaysParse=Ob,Vd.isPM=Ub,Vd._meridiemParse=Hd,Vd.meridiem=Vb,w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===q(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=aa("moment.lang is deprecated. Use moment.locale instead.",w),a.langData=aa("moment.langData is deprecated. Use moment.localeData instead.",y);var Wd=Math.abs,Xd=yc("ms"),Yd=yc("s"),Zd=yc("m"),$d=yc("h"),_d=yc("d"),ae=yc("w"),be=yc("M"),ce=yc("y"),de=Ac("milliseconds"),ee=Ac("seconds"),fe=Ac("minutes"),ge=Ac("hours"),he=Ac("days"),ie=Ac("months"),je=Ac("years"),ke=Math.round,le={s:45,m:45,h:22,d:26,M:11},me=Math.abs,ne=Ha.prototype;ne.abs=oc,ne.add=qc,ne.subtract=rc,ne.as=wc,ne.asMilliseconds=Xd,ne.asSeconds=Yd,ne.asMinutes=Zd,ne.asHours=$d,ne.asDays=_d,ne.asWeeks=ae,ne.asMonths=be,ne.asYears=ce,ne.valueOf=xc,ne._bubble=tc,ne.get=zc,ne.milliseconds=de,ne.seconds=ee,ne.minutes=fe,ne.hours=ge,ne.days=he,ne.weeks=Bc,ne.months=ie,ne.years=je,ne.humanize=Fc,ne.toISOString=Gc,ne.toString=Gc,ne.toJSON=Gc,ne.locale=rb,ne.localeData=sb,ne.toIsoString=aa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gc),ne.lang=Cd,H("X",0,0,"unix"),H("x",0,0,"valueOf"),N("x",_c),N("X",bd),Q("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),Q("x",function(a,b,c){c._d=new Date(q(a))}),a.version="2.10.6",b(Da),a.fn=Od,a.min=Fa,
a.max=Ga,a.utc=h,a.unix=Zb,a.months=jc,a.isDate=d,a.locale=w,a.invalid=l,a.duration=Ya,a.isMoment=o,a.weekdays=lc,a.parseZone=$b,a.localeData=y,a.isDuration=Ia,a.monthsShort=kc,a.weekdaysMin=nc,a.defineLocale=x,a.weekdaysShort=mc,a.normalizeUnits=A,a.relativeTimeThreshold=Ec;var oe=a;return oe}),function(a,b){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(c,d,e){a.daterangepicker=b(a,e,c,d)});else if("undefined"!=typeof exports){var c=require("moment"),d=window.jQuery;if(void 0===d)try{d=require("jquery")}catch(e){if(!d)throw new Error("jQuery dependency not found")}b(a,exports,c,d)}else a.daterangepicker=b(a,{},a.moment||moment,a.jQuery||a.Zepto||a.ender||a.$)}(this,function(a,b,c,d){var e=function(a,b,e){if(this.parentEl="body",this.element=d(a),this.startDate=c().startOf("day"),this.endDate=c().endOf("day"),this.timeZone=c().utcOffset(),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:c.weekdaysMin(),monthNames:c.monthsShort(),firstDay:c.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},("object"!=typeof b||null===b)&&(b={}),b=d.extend(this.element.data(),b),"string"!=typeof b.template&&(b.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=d(b.parentEl&&d(b.parentEl).length?b.parentEl:this.parentEl),this.container=d(b.template).appendTo(this.parentEl),"object"==typeof b.locale&&("string"==typeof b.locale.format&&(this.locale.format=b.locale.format),"string"==typeof b.locale.separator&&(this.locale.separator=b.locale.separator),"object"==typeof b.locale.daysOfWeek&&(this.locale.daysOfWeek=b.locale.daysOfWeek.slice()),"object"==typeof b.locale.monthNames&&(this.locale.monthNames=b.locale.monthNames.slice()),"number"==typeof b.locale.firstDay&&(this.locale.firstDay=b.locale.firstDay),"string"==typeof b.locale.applyLabel&&(this.locale.applyLabel=b.locale.applyLabel),"string"==typeof b.locale.cancelLabel&&(this.locale.cancelLabel=b.locale.cancelLabel),"string"==typeof b.locale.weekLabel&&(this.locale.weekLabel=b.locale.weekLabel),"string"==typeof b.locale.customRangeLabel&&(this.locale.customRangeLabel=b.locale.customRangeLabel)),"string"==typeof b.startDate&&(this.startDate=c(b.startDate,this.locale.format)),"string"==typeof b.endDate&&(this.endDate=c(b.endDate,this.locale.format)),"string"==typeof b.minDate&&(this.minDate=c(b.minDate,this.locale.format)),"string"==typeof b.maxDate&&(this.maxDate=c(b.maxDate,this.locale.format)),"object"==typeof b.startDate&&(this.startDate=c(b.startDate)),"object"==typeof b.endDate&&(this.endDate=c(b.endDate)),"object"==typeof b.minDate&&(this.minDate=c(b.minDate)),"object"==typeof b.maxDate&&(this.maxDate=c(b.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof b.applyClass&&(this.applyClass=b.applyClass),"string"==typeof b.cancelClass&&(this.cancelClass=b.cancelClass),"object"==typeof b.dateLimit&&(this.dateLimit=b.dateLimit),"string"==typeof b.opens&&(this.opens=b.opens),"string"==typeof b.drops&&(this.drops=b.drops),"boolean"==typeof b.showWeekNumbers&&(this.showWeekNumbers=b.showWeekNumbers),"string"==typeof b.buttonClasses&&(this.buttonClasses=b.buttonClasses),"object"==typeof b.buttonClasses&&(this.buttonClasses=b.buttonClasses.join(" ")),"boolean"==typeof b.showDropdowns&&(this.showDropdowns=b.showDropdowns),"boolean"==typeof b.singleDatePicker&&(this.singleDatePicker=b.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof b.timePicker&&(this.timePicker=b.timePicker),"boolean"==typeof b.timePickerSeconds&&(this.timePickerSeconds=b.timePickerSeconds),"number"==typeof b.timePickerIncrement&&(this.timePickerIncrement=b.timePickerIncrement),"boolean"==typeof b.timePicker24Hour&&(this.timePicker24Hour=b.timePicker24Hour),"boolean"==typeof b.autoApply&&(this.autoApply=b.autoApply),"boolean"==typeof b.linkedCalendars&&(this.linkedCalendars=b.linkedCalendars),0!=this.locale.firstDay)for(var f=this.locale.firstDay;f>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),f--;var g,h,i;if("undefined"==typeof b.startDate&&"undefined"==typeof b.endDate&&d(this.element).is("input[type=text]")){var j=d(this.element).val(),k=j.split(this.locale.separator);g=h=null,2==k.length?(g=c(k[0],this.locale.format),h=c(k[1],this.locale.format)):this.singleDatePicker&&""!==j&&(g=c(j,this.locale.format),h=c(j,this.locale.format)),null!==g&&null!==h&&(this.setStartDate(g),this.setEndDate(h))}if("string"==typeof b.timeZone||"number"==typeof b.timeZone?("string"==typeof b.timeZone&&"undefined"!=typeof c.tz?this.timeZone=-1*c.tz.zone(b.timeZone).parse(new Date):this.timeZone=b.timeZone,this.startDate.utcOffset(this.timeZone),this.endDate.utcOffset(this.timeZone)):this.timeZone=c(this.startDate).utcOffset(),"object"==typeof b.ranges){for(i in b.ranges){g="string"==typeof b.ranges[i][0]?c(b.ranges[i][0],this.locale.format):c(b.ranges[i][0]),h="string"==typeof b.ranges[i][1]?c(b.ranges[i][1],this.locale.format):c(b.ranges[i][1]),this.minDate&&g.isBefore(this.minDate)&&(g=this.minDate.clone());var l=this.maxDate;this.dateLimit&&g.clone().add(this.dateLimit).isAfter(l)&&(l=g.clone().add(this.dateLimit)),l&&h.isAfter(l)&&(h=l.clone()),this.minDate&&h.isBefore(this.minDate)||l&&g.isAfter(l)||(this.ranges[i]=[g,h])}var m="<ul>";for(i in this.ranges)m+="<li>"+i+"</li>";m+="<li>"+this.locale.customRangeLabel+"</li>",m+="</ul>",this.container.find(".ranges ul").remove(),this.container.find(".ranges").prepend(m)}"function"==typeof e&&(this.callback=e),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof b.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input i").hide(),this.timePicker||this.container.find(".ranges").hide()),"undefined"!=typeof b.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.removeClass("opensleft opensright").addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",d.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",d.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",d.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",d.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",d.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",d.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",d.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",d.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",d.proxy(this.showCalendars,this)).on("keyup.daterangepicker",".daterangepicker_input input",d.proxy(this.formInputsChanged,this)).on("change.daterangepicker",".daterangepicker_input input",d.proxy(this.updateFormInputs,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",d.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",d.proxy(this.clickCancel,this)).on("click.daterangepicker","li",d.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",d.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",d.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":d.proxy(this.show,this),"focus.daterangepicker":d.proxy(this.show,this),"keyup.daterangepicker":d.proxy(this.controlChanged,this),"keydown.daterangepicker":d.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",d.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};e.prototype={constructor:e,setStartDate:function(a){"string"==typeof a&&(this.startDate=c(a,this.locale.format).utcOffset(this.timeZone)),"object"==typeof a&&(this.startDate=c(a)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate),this.updateMonthsInView()},setEndDate:function(a){"string"==typeof a&&(this.endDate=c(a,this.locale.format).utcOffset(this.timeZone)),"object"==typeof a&&(this.endDate=c(a)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.updateMonthsInView()},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){this.endDate?(this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)):this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"))},updateCalendars:function(){if(this.timePicker){var a,b,c;if(this.endDate){if(a=parseInt(this.container.find(".left .hourselect").val(),10),b=parseInt(this.container.find(".left .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var d=this.container.find(".left .ampmselect").val();"PM"===d&&12>a&&(a+=12),"AM"===d&&12===a&&(a=0)}}else if(a=parseInt(this.container.find(".right .hourselect").val(),10),b=parseInt(this.container.find(".right .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var d=this.container.find(".left .ampmselect").val();"PM"===d&&12>a&&(a+=12),"AM"===d&&12===a&&(a=0)}this.leftCalendar.month.hour(a).minute(b).second(c),this.rightCalendar.month.hour(a).minute(b).second(c)}if(this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate){var e=!0,f=0;for(var g in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[g][0])&&this.endDate.isSame(this.ranges[g][1])){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+f+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[g][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[g][1].format("YYYY-MM-DD")){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+f+")").addClass("active").html();break}f++}e&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())}},renderCalendar:function(a){var b="left"==a?this.leftCalendar:this.rightCalendar,e=b.month.month(),f=b.month.year(),g=b.month.hour(),h=b.month.minute(),i=b.month.second(),j=c([f,e]).daysInMonth(),k=c([f,e,1]),l=c([f,e,j]),m=c(k).subtract(1,"month").month(),n=c(k).subtract(1,"month").year(),o=c([n,m]).daysInMonth(),p=k.day(),b=[];b.firstDay=k,b.lastDay=l;for(var q=0;6>q;q++)b[q]=[];var r=o-p+this.locale.firstDay+1;r>o&&(r-=7),p==this.locale.firstDay&&(r=o-6);for(var s,t,u=c([n,m,r,12,h,i]),q=0,s=0,t=0;42>q;q++,s++,u=c(u).add(24,"hour"))q>0&&s%7===0&&(s=0,t++),b[t][s]=u.clone().hour(g).minute(h).second(i),u.hour(12),this.minDate&&b[t][s].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&b[t][s].isBefore(this.minDate)&&"left"==a&&(b[t][s]=this.minDate.clone()),this.maxDate&&b[t][s].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&b[t][s].isAfter(this.maxDate)&&"right"==a&&(b[t][s]=this.maxDate.clone());"left"==a?this.leftCalendar.calendar=b:this.rightCalendar.calendar=b;var v="left"==a?this.minDate:this.startDate,w=this.maxDate,x=("left"==a?this.startDate:this.endDate,'<table class="table-condensed">');x+="<thead>",x+="<tr>",this.showWeekNumbers&&(x+="<th></th>"),x+=v&&!v.isBefore(b.firstDay)||this.linkedCalendars&&"left"!=a?"<th></th>":'<th class="prev available"><i class="fa fa-chevron-left glyphicon glyphicon-chevron-left"></i></th>';var y=this.locale.monthNames[b[1][1].month()]+b[1][1].format(" YYYY");if(this.showDropdowns){for(var z=b[1][1].month(),A=b[1][1].year(),B=w&&w.year()||A+5,C=v&&v.year()||A-50,D=A==C,E=A==B,F='<select class="monthselect">',G=0;12>G;G++)F+=(!D||G>=v.month())&&(!E||G<=w.month())?"<option value='"+G+"'"+(G===z?" selected='selected'":"")+">"+this.locale.monthNames[G]+"</option>":"<option value='"+G+"'"+(G===z?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[G]+"</option>";F+="</select>";for(var H='<select class="yearselect">',I=C;B>=I;I++)H+='<option value="'+I+'"'+(I===A?' selected="selected"':"")+">"+I+"</option>";H+="</select>",y=F+H}if(x+='<th colspan="5" class="month">'+y+"</th>",x+=w&&!w.isAfter(b.lastDay)||this.linkedCalendars&&"right"!=a&&!this.singleDatePicker?"<th></th>":'<th class="next available"><i class="fa fa-chevron-right glyphicon glyphicon-chevron-right"></i></th>',x+="</tr>",x+="<tr>",this.showWeekNumbers&&(x+='<th class="week">'+this.locale.weekLabel+"</th>"),d.each(this.locale.daysOfWeek,function(a,b){x+="<th>"+b+"</th>"}),x+="</tr>",x+="</thead>",x+="<tbody>",null==this.endDate&&this.dateLimit){var J=this.startDate.clone().add(this.dateLimit).endOf("day");(!w||J.isBefore(w))&&(w=J)}for(var t=0;6>t;t++){x+="<tr>",this.showWeekNumbers&&(x+='<td class="week">'+b[t][0].week()+"</td>");for(var s=0;7>s;s++){var K=[];b[t][s].isSame(new Date,"day")&&K.push("today"),b[t][s].isoWeekday()>5&&K.push("weekend"),b[t][s].month()!=b[1][1].month()&&K.push("off"),this.minDate&&b[t][s].isBefore(this.minDate,"day")&&K.push("off","disabled"),w&&b[t][s].isAfter(w,"day")&&K.push("off","disabled"),b[t][s].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&K.push("active","start-date"),null!=this.endDate&&b[t][s].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&K.push("active","end-date"),null!=this.endDate&&b[t][s]>this.startDate&&b[t][s]<this.endDate&&K.push("in-range");for(var L="",M=!1,q=0;q<K.length;q++)L+=K[q]+" ","disabled"==K[q]&&(M=!0);M||(L+="available"),x+='<td class="'+L.replace(/^\s+|\s+$/g,"")+'" data-title="r'+t+"c"+s+'">'+b[t][s].date()+"</td>"}x+="</tr>"}x+="</tbody>",x+="</table>",this.container.find(".calendar."+a+" .calendar-table").html(x)},renderTimePicker:function(a){var b,c,d=this.maxDate;!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(d=this.startDate.clone().add(this.dateLimit)),"left"==a?(b=this.startDate.clone(),c=this.minDate):"right"==a&&(b=this.endDate?this.endDate.clone():this.startDate.clone(),c=this.startDate),html='<select class="hourselect">';for(var e=this.timePicker24Hour?0:1,f=this.timePicker24Hour?23:12,g=e;f>=g;g++){var h=g;this.timePicker24Hour||(h=b.hour()>=12?12==g?12:g+12:12==g?0:g);var i=b.clone().hour(h),j=!1;c&&i.minute(59).isBefore(c)&&(j=!0),d&&i.minute(0).isAfter(d)&&(j=!0),h!=b.hour()||j?j?html+='<option value="'+g+'" disabled="disabled" class="disabled">'+g+"</option>":html+='<option value="'+g+'">'+g+"</option>":html+='<option value="'+g+'" selected="selected">'+g+"</option>"}html+="</select> ",html+=': <select class="minuteselect">';for(var g=0;60>g;g+=this.timePickerIncrement){var k=10>g?"0"+g:g,i=b.clone().minute(g),j=!1;c&&i.second(59).isBefore(c)&&(j=!0),d&&i.second(0).isAfter(d)&&(j=!0),b.minute()!=g||j?j?html+='<option value="'+g+'" disabled="disabled" class="disabled">'+k+"</option>":html+='<option value="'+g+'">'+k+"</option>":html+='<option value="'+g+'" selected="selected">'+k+"</option>"}if(html+="</select> ",this.timePickerSeconds){html+=': <select class="secondselect">';for(var g=0;60>g;g++){var k=10>g?"0"+g:g,i=b.clone().second(g),j=!1;c&&i.isBefore(c)&&(j=!0),d&&i.isAfter(d)&&(j=!0),b.second()!=g||j?j?html+='<option value="'+g+'" disabled="disabled" class="disabled">'+k+"</option>":html+='<option value="'+g+'">'+k+"</option>":html+='<option value="'+g+'" selected="selected">'+k+"</option>"}html+="</select> "}if(!this.timePicker24Hour){html+='<select class="ampmselect">';var l="",m="";c&&b.clone().hour(12).minute(0).second(0).isBefore(c)&&(l=' disabled="disabled" class="disabled"'),d&&b.clone().hour(0).minute(0).second(0).isAfter(d)&&(m=' disabled="disabled" class="disabled"'),b.hour()>=12?html+='<option value="AM"'+l+'>AM</option><option value="PM" selected="selected"'+m+">PM</option>":html+='<option value="AM" selected="selected"'+l+'>AM</option><option value="PM"'+m+">PM</option>",html+="</select>"}this.container.find(".calendar."+a+" .calendar-time div").html(html)},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},move:function(){var a,b={top:0,left:0},c=d(window).width();this.parentEl.is("body")||(b={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},c=this.parentEl[0].clientWidth+this.parentEl.offset().left),a="up"==this.drops?this.element.offset().top-this.container.outerHeight()-b.top:this.element.offset().top+this.element.outerHeight()-b.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:a,right:c-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:a,left:this.element.offset().left-b.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:a,left:this.element.offset().left-b.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>d(window).width()&&this.container.css({left:"auto",right:0}))},show:function(a){this.isShowing||(this._outsideClickProxy=d.proxy(function(a){this.outsideClick(a)},this),d(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(a){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.element.is("input")&&!this.singleDatePicker?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change")),d(document).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(a){this.isShowing?this.hide():this.show()},outsideClick:function(a){var b=d(a.target);"focusin"==a.type||b.closest(this.element).length||b.closest(this.container).length||b.closest(".calendar-table").length||this.hide()},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(a){var b=a.target.innerHTML;if(b==this.locale.customRangeLabel)this.updateView();else{var c=this.ranges[b];this.container.find("input[name=daterangepicker_start]").val(c[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(c[1].format(this.locale.format))}},clickRange:function(a){var b=a.target.innerHTML;if(this.chosenLabel=b,b==this.locale.customRangeLabel)this.showCalendars();else{var c=this.ranges[b];this.startDate=c[0],this.endDate=c[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.hideCalendars(),this.clickApply()}},clickPrev:function(a){var b=d(a.target).parents(".calendar");b.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(a){var b=d(a.target).parents(".calendar");b.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(a){if(d(a.target).hasClass("available")){var b=d(a.target).attr("data-title"),c=b.substr(1,1),e=b.substr(3,1),f=d(a.target).parents(".calendar"),g=f.hasClass("left")?this.leftCalendar.calendar[c][e]:this.rightCalendar.calendar[c][e];this.endDate?this.container.find("input[name=daterangepicker_start]").val(g.format(this.locale.format)):this.container.find("input[name=daterangepicker_end]").val(g.format(this.locale.format));var h=this.leftCalendar,i=this.rightCalendar,j=this.startDate;this.endDate||this.container.find(".calendar td").each(function(a,b){if(!d(b).hasClass("week")){var c=d(b).attr("data-title"),e=c.substr(1,1),f=c.substr(3,1),k=d(b).parents(".calendar"),l=k.hasClass("left")?h.calendar[e][f]:i.calendar[e][f];l.isAfter(j)&&l.isBefore(g)?d(b).addClass("in-range"):d(b).removeClass("in-range")}})}},clickDate:function(a){if(d(a.target).hasClass("available")){var b=d(a.target).attr("data-title"),c=b.substr(1,1),e=b.substr(3,1),f=d(a.target).parents(".calendar"),g=f.hasClass("left")?this.leftCalendar.calendar[c][e]:this.rightCalendar.calendar[c][e];if(this.endDate||g.isBefore(this.startDate)){if(this.timePicker){var h=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var i=f.find(".ampmselect").val();"PM"===i&&12>h&&(h+=12),"AM"===i&&12===h&&(h=0)}var j=parseInt(this.container.find(".left .minuteselect").val(),10),k=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;g=g.clone().hour(h).minute(j).second(k)}this.endDate=null,this.setStartDate(g.clone())}else{if(this.timePicker){var h=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var i=this.container.find(".right .ampmselect").val();"PM"===i&&12>h&&(h+=12),"AM"===i&&12===h&&(h=0)}var j=parseInt(this.container.find(".right .minuteselect").val(),10),k=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;g=g.clone().hour(h).minute(j).second(k)}this.setEndDate(g.clone()),this.autoApply&&this.clickApply()}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView()}},clickApply:function(a){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(a){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(a){var b=d(a.target).closest(".calendar").hasClass("left"),c=b?"left":"right",e=this.container.find(".calendar."+c),f=parseInt(e.find(".monthselect").val(),10),g=e.find(".yearselect").val();b||(g<this.startDate.year()||g==this.startDate.year()&&f<this.startDate.month())&&(f=this.startDate.month(),g=this.startDate.year()),this.minDate&&(g<this.minDate.year()||g==this.minDate.year()&&f<this.minDate.month())&&(f=this.minDate.month(),g=this.minDate.year()),this.maxDate&&(g>this.maxDate.year()||g==this.maxDate.year()&&f>this.maxDate.month())&&(f=this.maxDate.month(),g=this.maxDate.year()),b?(this.leftCalendar.month.month(f).year(g),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(f).year(g),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(a){var b=d(a.target).closest(".calendar"),c=b.hasClass("left"),e=parseInt(b.find(".hourselect").val(),10),f=parseInt(b.find(".minuteselect").val(),10),g=this.timePickerSeconds?parseInt(b.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var h=b.find(".ampmselect").val();"PM"===h&&12>e&&(e+=12),"AM"===h&&12===e&&(e=0)}if(c){var i=this.startDate.clone();i.hour(e),i.minute(f),i.second(g),this.setStartDate(i),this.singleDatePicker&&(this.endDate=this.startDate.clone())}else if(this.endDate){var j=this.endDate.clone();j.hour(e),j.minute(f),j.second(g),this.setEndDate(j)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(a){var b=d(a.target).closest(".calendar").hasClass("right"),e=c(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),f=c(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);e.isValid()&&f.isValid()&&(b&&f.isBefore(e)&&(e=f.clone()),this.setStartDate(e),this.setEndDate(f),b?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateCalendars(),this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"))},controlChanged:function(){if(this.element.is("input")&&this.element.val().length){var a=this.element.val().split(this.locale.separator),b=null,d=null;2===a.length&&(b=c(a[0],this.locale.format).utcOffset(this.timeZone),d=c(a[1],this.locale.format).utcOffset(this.timeZone)),(this.singleDatePicker||null===b||null===d)&&(b=c(this.element.val(),this.locale.format).utcOffset(this.timeZone),d=b),this.setStartDate(b),this.setEndDate(d),this.updateView()}},keydown:function(a){(9===a.keyCode||13===a.keyCode)&&this.hide()},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},d.fn.daterangepicker=function(a,b){return this.each(function(){var c=d(this);c.data("daterangepicker")&&c.data("daterangepicker").remove(),c.data("daterangepicker",new e(c,a,b))}),this}}),function(){var a,b,c,d,e=[].slice;return b="undefined"!=typeof module&&null!==module&&null!=module.exports,a=function(a,b,c){var d;return d=!1,function(){var f;return f=1<=arguments.length?e.call(arguments,0):[],d||"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("#"+a+" is deprecated. Use #"+b+" instead."),d=!0,c.apply(this,f)}},c=function(a){return"[object Array]"===Object.prototype.toString.call(a)},d=function(b){var d;if(null==b)throw"Can't find moment";return d=function(){function d(a,c,d,e){var f;null==e&&(e={}),"string"!=typeof d&&(e=null!=d?d:{},d=null),"boolean"==typeof e&&(e={allDay:e}),this.start=b(a,d,e.parseStrict),this.end=b(c,d,e.parseStrict),this.allDay=null!=(f=e.allDay)?f:!1,this._mutated()}return d._extend=function(){var a,b,c,d,f,g;for(b=arguments[0],g=2<=arguments.length?e.call(arguments,1):[],c=0,d=g.length;d>c;c++){f=g[c];for(a in f)"undefined"!=typeof f[a]&&(b[a]=f[a])}return b},d.prototype.isSame=function(a){return this.start.isSame(this.end,a)},d.prototype.length=function(a){return this._displayEnd.diff(this._trueStart,a)},d.prototype.count=function(a){var b,c;return c=this.start.clone().startOf(a),b=this.end.clone().startOf(a),b.diff(c,a)+1},d.prototype.countInner=function(a){var b,c,d;return c=this._inner(a),d=c[0],b=c[1],d>=b?0:b.diff(d,a)},d.prototype.iterate=function(a,b,c){var d,e,f,g;return null==a&&(a=1),f=this._prepIterateInputs(a,b,c),
a=f[0],b=f[1],c=f[2],g=this._trueStart.clone().startOf(b),d=this.end.clone().startOf(b),this.allDay&&(d=d.add(1,"day")),e=function(a){return function(){return!a.allDay&&d>=g&&(!c||!g.isSame(d)||a.end.hours()>c)||a.allDay&&d>g}}(this),this._iterateHelper(b,g,e,a)},d.prototype.iterateInner=function(a,b){var c,d,e,f,g;return null==a&&(a=1),e=this._prepIterateInputs(a,b),a=e[0],b=e[1],f=this._inner(b,a),g=f[0],c=f[1],d=function(){return c>g},this._iterateHelper(b,g,d,a)},d.prototype.humanizeLength=function(){return this.allDay?this.isSame("day")?"all day":this.start.from(this.end.clone().add(1,"day"),!0):this.start.from(this.end,!0)},d.prototype.asDuration=function(a){var c;return c=this.end.diff(this.start),b.duration(c)},d.prototype.isPast=function(){return this._lastMilli<b()},d.prototype.isFuture=function(){return this._trueStart>b()},d.prototype.isCurrent=function(){return!this.isPast()&&!this.isFuture()},d.prototype.contains=function(a){return b.isMoment(a)||(a=b(a)),this._trueStart<=a&&this._lastMilli>=a},d.prototype.isEmpty=function(){return this._trueStart.isSame(this._displayEnd)},d.prototype.overlaps=function(a){return this._displayEnd.isAfter(a._trueStart)&&this._trueStart.isBefore(a._displayEnd)},d.prototype.engulfs=function(a){return this._trueStart<=a._trueStart&&this._displayEnd>=a._displayEnd},d.prototype.union=function(a){var b,c,e;return b=this.allDay&&a.allDay,e=this._trueStart<a._trueStart?this._trueStart:a._trueStart,c=this._lastMilli>a._lastMilli?b?this._transferrableEnd:this._displayEnd:b?a._transferrableEnd:a._displayEnd,new d(e,c,b)},d.prototype.intersection=function(a){var b,c,e;return b=this.allDay&&a.allDay,e=this._trueStart>a._trueStart?this._trueStart:a._trueStart,c=this._lastMilli<a._lastMilli?b?this._transferrableEnd:this._displayEnd:b?a._transferrableEnd:a._displayEnd,new d(e,c,b)},d.prototype.xor=function(){var a,b,c,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;for(p=1<=arguments.length?e.call(arguments,0):[],n=0,s=null,r=[],a=function(){var a,b,c;for(c=[],a=0,b=p.length;b>a;a++)m=p[a],m.allDay&&c.push(m);return c}().length===p.length,b=[],q=[this].concat(p),f=h=0,k=q.length;k>h;f=++h)g=q[f],b.push({time:g._trueStart,i:f,type:0}),b.push({time:g._displayEnd,i:f,type:1});for(b=b.sort(function(a,b){return a.time-b.time}),i=0,l=b.length;l>i;i++)o=b[i],1===o.type&&(n-=1),n===o.type&&(s=o.time),n===(o.type+1)%2&&(s&&(j=r[r.length-1],j&&j.end.isSame(s)?(j.end=o.time,j._mutated()):(c=a?o.time.clone().subtract(1,"d"):o.time,t=new d(s,c,a),t.isEmpty()||r.push(t))),s=null),0===o.type&&(n+=1);return r},d.prototype.difference=function(){var a,b,c,d,f,g;for(c=1<=arguments.length?e.call(arguments,0):[],d=this.xor.apply(this,c).map(function(a){return function(b){return a.intersection(b)}}(this)),f=[],a=0,b=d.length;b>a;a++)g=d[a],!g.isEmpty()&&g.isValid()&&f.push(g);return f},d.prototype.split=function(){var a,d,f,g,h,i,j,k,l,m;if(a=1<=arguments.length?e.call(arguments,0):[],f=j=this._trueStart.clone(),b.isDuration(a[0])?d=a[0]:!b.isMoment(a[0])&&!c(a[0])&&"object"==typeof a[0]||"number"==typeof a[0]&&"string"==typeof a[1]?d=b.duration(a[0],a[1]):l=c(a[0])?a[0]:a,l&&(l=function(){var a,c,d;for(d=[],a=0,c=l.length;c>a;a++)k=l[a],d.push(b(k));return d}(),l=function(){var a,b,c;for(c=[],a=0,b=l.length;b>a;a++)i=l[a],i.isValid()&&i>=j&&c.push(i);return c}().sort()),d&&0===d.asMilliseconds()||l&&0===l.length)return[this];for(m=[],h=0,g=this._displayEnd;g>j&&(null==l||l[h]);)f=d?j.clone().add(d):l[h].clone(),f=b.min(g,f),j.isSame(f)||m.push(b.twix(j,f)),j=f,h+=1;return!f.isSame(this._displayEnd)&&l&&m.push(b.twix(f,this._displayEnd)),m},d.prototype.isValid=function(){return this._trueStart<=this._displayEnd},d.prototype.equals=function(a){return a instanceof d&&this.allDay===a.allDay&&this.start.valueOf()===a.start.valueOf()&&this.end.valueOf()===a.end.valueOf()},d.prototype.toString=function(){var a;return"{start: "+this.start.format()+", end: "+this.end.format()+", allDay: "+(null!=(a=this.allDay)?a:{"true":"false"})+"}"},d.prototype.simpleFormat=function(a,b){var c,e;return c={allDay:"(all day)",template:d.formatTemplate},d._extend(c,b||{}),e=c.template(this.start.format(a),this.end.format(a)),this.allDay&&c.allDay&&(e+=" "+c.allDay),e},d.prototype.format=function(a){var c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;if(this.isEmpty())return"";for(m=this.start.localeData()._longDateFormat.LT[0],p={groupMeridiems:!0,spaceBeforeMeridiem:!0,showDate:!0,showDayOfWeek:!1,implicitMinutes:!0,implicitYear:!0,yearFormat:"YYYY",monthFormat:"MMM",weekdayFormat:"ddd",dayFormat:"D",meridiemFormat:"A",hourFormat:m,minuteFormat:"mm",allDay:"all day",explicitAllDay:!1,lastNightEndsAt:0,template:d.formatTemplate},d._extend(p,a||{}),h=[],a&&null!=a.twentyFourHour&&(p.hourFormat=a.twentyFourHour?p.hourFormat.replace("h","H"):p.hourFormat.replace("H","h")),o=p.hourFormat&&"h"===p.hourFormat[0],j=p.lastNightEndsAt>0&&!this.allDay&&this.end.clone().startOf("day").valueOf()===this.start.clone().add(1,"day").startOf("day").valueOf()&&this.start.hours()>12&&this.end.hours()<p.lastNightEndsAt,n=p.showDate||!this.isSame("day")&&!j,this.allDay&&this.isSame("day")&&(!p.showDate||p.explicitAllDay)&&h.push({name:"all day simple",fn:function(){return p.allDay},pre:" ",slot:0}),!n||p.implicitYear&&this.start.year()===b().year()&&this.isSame("year")||h.push({name:"year",fn:function(a){return a.format(p.yearFormat)},pre:", ",slot:4}),!this.allDay&&n&&h.push({name:"all day month",fn:function(a){return a.format(p.monthFormat+" "+p.dayFormat)},ignoreEnd:function(){return j},pre:" ",slot:2}),this.allDay&&n&&h.push({name:"month",fn:function(a){return a.format(p.monthFormat)},pre:" ",slot:2}),this.allDay&&n&&h.push({name:"date",fn:function(a){return a.format(p.dayFormat)},pre:" ",slot:3}),n&&p.showDayOfWeek&&h.push({name:"day of week",fn:function(a){return a.format(p.weekdayFormat)},pre:" ",slot:1}),p.groupMeridiems&&o&&!this.allDay&&h.push({name:"meridiem",fn:function(a){return function(a){return a.format(p.meridiemFormat)}}(this),slot:6,pre:p.spaceBeforeMeridiem?" ":""}),this.allDay||h.push({name:"time",fn:function(a){var b;return b=0===a.minutes()&&p.implicitMinutes&&o?a.format(p.hourFormat):a.format(p.hourFormat+":"+p.minuteFormat),!p.groupMeridiems&&o&&(p.spaceBeforeMeridiem&&(b+=" "),b+=a.format(p.meridiemFormat)),b},slot:5,pre:", "}),r=[],e=[],c=[],s=!0,q=function(a){return function(b){var d,g,h;return h=b.fn(a.start),d=b.ignoreEnd&&b.ignoreEnd()?h:b.fn(a.end),g={format:b,value:function(){return h}},d===h&&s?c.push(g):(s&&(s=!1,c.push({format:{slot:b.slot,pre:""},value:function(){return p.template(f(r),f(e,!0).trim())}})),r.push(g),e.push({format:b,value:function(){return d}}))}}(this),k=0,l=h.length;l>k;k++)g=h[k],q(g);return i=!0,(f=function(a){return function(a,b){var c,d,e,f,g,h;for(e=!0,h="",f=a.sort(function(a,b){return a.format.slot-b.format.slot}),c=0,d=f.length;d>c;c++)g=f[c],i||(h+=e&&b?" ":g.format.pre),h+=g.value(),i=!1,e=!1;return h}}(this))(c)},d.prototype._iterateHelper=function(a,b,c,d){return null==d&&(d=1),{next:function(e){return function(){var e;return c()?(e=b.clone(),b.add(d,a),e):null}}(this),hasNext:c}},d.prototype._prepIterateInputs=function(){var a,c,d,f,g,h;return a=1<=arguments.length?e.call(arguments,0):[],"number"==typeof a[0]?a:("string"==typeof a[0]&&(f=a.shift(),c=null!=(g=a.pop())?g:1,a.length&&(d=null!=(h=a[0])?h:!1)),b.isDuration(a[0])&&(f="ms",c=a[0].as(f)),[c,f,d])},d.prototype._inner=function(a,b){var c,d,e,f,g;return null==a&&(a="ms"),null==b&&(b=1),g=this._trueStart.clone(),e=this._displayEnd.clone(),g>g.clone().startOf(a)&&g.startOf(a).add(b,a),e<e.clone().endOf(a)&&e.startOf(a),d=g.twix(e).asDuration(a),c=d.get(a),f=c%b,e.subtract(f,a),[g,e]},d.prototype._mutated=function(){return this._trueStart=this.allDay?this.start.clone().startOf("day"):this.start,this._lastMilli=this.allDay?this.end.clone().endOf("day"):this.end,this._transferrableEnd=this.allDay?this.end.clone().startOf("day"):this.end,this._displayEnd=this.allDay?this._transferrableEnd.clone().add(1,"day"):this.end},d.prototype.sameDay=a("sameDay","isSame('day')",function(){return this.isSame("day")}),d.prototype.sameYear=a("sameYear","isSame('year')",function(){return this.isSame("year")}),d.prototype.countDays=a("countDays","countOuter('days')",function(){return this.countOuter("days")}),d.prototype.daysIn=a("daysIn","iterate('days' [,minHours])",function(a){return this.iterate("days",a)}),d.prototype.past=a("past","isPast()",function(){return this.isPast()}),d.prototype.duration=a("duration","humanizeLength()",function(){return this.humanizeLength()}),d.prototype.merge=a("merge","union(other)",function(a){return this.union(a)}),d}(),d._extend(b.locale(),{_twix:d.defaults}),d.formatTemplate=function(a,b){return a+" - "+b},b.twix=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(d,arguments,function(){})},b.fn.twix=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(d,[this].concat(e.call(arguments)),function(){})},b.fn.forDuration=function(a,b){return new d(this,this.clone().add(a),b)},b.duration.fn&&(b.duration.fn.afterMoment=function(a,c){return new d(a,b(a).clone().add(this),c)},b.duration.fn.beforeMoment=function(a,c){return new d(b(a).clone().subtract(this),a,c)}),b.twixClass=d,d},b?module.exports=d(require("moment")):("function"==typeof define&&define("twix",["moment"],function(a){return d(a)}),void(this.moment?this.Twix=d(this.moment):"undefined"!=typeof moment&&null!==moment&&(this.Twix=d(moment))))}.call(this),function(){var a=function(){function b(){return this instanceof a?void("object"==typeof arguments[0]?(this.timestamp=arguments[0].timestamp,this.machine=arguments[0].machine,this.pid=arguments[0].pid,this.increment=arguments[0].increment):"string"==typeof arguments[0]&&24==arguments[0].length?(this.timestamp=Number("0x"+arguments[0].substr(0,8)),this.machine=Number("0x"+arguments[0].substr(8,6)),this.pid=Number("0x"+arguments[0].substr(14,4)),this.increment=Number("0x"+arguments[0].substr(18,6))):4==arguments.length&&null!=arguments[0]?(this.timestamp=arguments[0],this.machine=arguments[1],this.pid=arguments[2],this.increment=arguments[3]):(this.timestamp=Math.floor((new Date).valueOf()/1e3),this.machine=e,this.pid=d,this.increment=c++,c>16777215&&(c=0))):new a(arguments[0],arguments[1],arguments[2],arguments[3]).toString()}var c=0,d=Math.floor(32767*Math.random()),e=Math.floor(16777216*Math.random());if("undefined"!=typeof localStorage){var f=parseInt(localStorage.mongoMachineId);f>=0&&16777215>=f&&(e=Math.floor(localStorage.mongoMachineId)),localStorage.mongoMachineId=e,document.cookie="mongoMachineId="+e+";expires=Tue, 19 Jan 2038 05:00:00 GMT"}else{var g=document.cookie.split("; ");for(var h in g){var i=g[h].split("=");if("mongoMachineId"==i[0]&&i[1]>=0&&i[1]<=16777215){e=i[1];break}}document.cookie="mongoMachineId="+e+";expires=Tue, 19 Jan 2038 05:00:00 GMT"}return b}();a.prototype.getDate=function(){return new Date(1e3*this.timestamp)},a.prototype.toArray=function(){var a,b=this.toString(),c=[];for(a=0;12>a;a++)c[a]=parseInt(b.slice(2*a,2*a+2),16);return c},a.prototype.toString=function(){var a=this.timestamp.toString(16),b=this.machine.toString(16),c=this.pid.toString(16),d=this.increment.toString(16);return"00000000".substr(0,8-a.length)+a+"000000".substr(0,6-b.length)+b+"0000".substr(0,4-c.length)+c+"000000".substr(0,6-d.length)+d},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=a),exports.ObjectId=a):this.ObjectId=a}.call(this),function(a,b){"use strict";var c,d,e,f=a,g=f.document,h=f.navigator,i=f.setTimeout,j=f.clearTimeout,k=f.setInterval,l=f.clearInterval,m=f.getComputedStyle,n=f.encodeURIComponent,o=f.ActiveXObject,p=f.Error,q=f.Number.parseInt||f.parseInt,r=f.Number.parseFloat||f.parseFloat,s=f.Number.isNaN||f.isNaN,t=f.Date.now,u=f.Object.keys,v=f.Object.defineProperty,w=f.Object.prototype.hasOwnProperty,x=f.Array.prototype.slice,y=function(){var a=function(a){return a};if("function"==typeof f.wrap&&"function"==typeof f.unwrap)try{var b=g.createElement("div"),c=f.unwrap(b);1===b.nodeType&&c&&1===c.nodeType&&(a=f.unwrap)}catch(d){}return a}(),z=function(a){return x.call(a,0)},A=function(){var a,c,d,e,f,g,h=z(arguments),i=h[0]||{};for(a=1,c=h.length;c>a;a++)if(null!=(d=h[a]))for(e in d)w.call(d,e)&&(f=i[e],g=d[e],i!==g&&g!==b&&(i[e]=g));return i},B=function(a){var b,c,d,e;if("object"!=typeof a||null==a||"number"==typeof a.nodeType)b=a;else if("number"==typeof a.length)for(b=[],c=0,d=a.length;d>c;c++)w.call(a,c)&&(b[c]=B(a[c]));else{b={};for(e in a)w.call(a,e)&&(b[e]=B(a[e]))}return b},C=function(a,b){for(var c={},d=0,e=b.length;e>d;d++)b[d]in a&&(c[b[d]]=a[b[d]]);return c},D=function(a,b){var c={};for(var d in a)-1===b.indexOf(d)&&(c[d]=a[d]);return c},E=function(a){if(a)for(var b in a)w.call(a,b)&&delete a[b];return a},F=function(a,b){if(a&&1===a.nodeType&&a.ownerDocument&&b&&(1===b.nodeType&&b.ownerDocument&&b.ownerDocument===a.ownerDocument||9===b.nodeType&&!b.ownerDocument&&b===a.ownerDocument))do{if(a===b)return!0;a=a.parentNode}while(a);return!1},G=function(a){var b;return"string"==typeof a&&a&&(b=a.split("#")[0].split("?")[0],b=a.slice(0,a.lastIndexOf("/")+1)),b},H=function(a){var b,c;return"string"==typeof a&&a&&(c=a.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),c&&c[1]?b=c[1]:(c=a.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),c&&c[1]&&(b=c[1]))),b},I=function(){var a,b;try{throw new p}catch(c){b=c}return b&&(a=b.sourceURL||b.fileName||H(b.stack)),a},J=function(){var a,c,d;if(g.currentScript&&(a=g.currentScript.src))return a;if(c=g.getElementsByTagName("script"),1===c.length)return c[0].src||b;if("readyState"in c[0])for(d=c.length;d--;)if("interactive"===c[d].readyState&&(a=c[d].src))return a;return"loading"===g.readyState&&(a=c[c.length-1].src)?a:(a=I())?a:b},K=function(){var a,c,d,e=g.getElementsByTagName("script");for(a=e.length;a--;){if(!(d=e[a].src)){c=null;break}if(d=G(d),null==c)c=d;else if(c!==d){c=null;break}}return c||b},L=function(){var a=G(J())||K()||"";return a+"ZeroClipboard.swf"},M=function(){return null==a.opener&&(!!a.top&&a!=a.top||!!a.parent&&a!=a.parent)}(),N={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},O="11.0.0",P={},Q={},R=null,S=0,T=0,U={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},V=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],W=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],X=new RegExp("^flash-("+W.map(function(a){return a.replace(/^flash-/,"")}).join("|")+")$"),Y=new RegExp("^flash-("+W.slice(1).map(function(a){return a.replace(/^flash-/,"")}).join("|")+")$"),Z={swfPath:L(),trustedDomains:a.location.host?[a.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},$=function(a){if("object"==typeof a&&null!==a)for(var b in a)if(w.call(a,b))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(b))Z[b]=a[b];else if(null==N.bridge)if("containerId"===b||"swfObjectId"===b){if(!na(a[b]))throw new Error("The specified `"+b+"` value is not valid as an HTML4 Element ID");Z[b]=a[b]}else Z[b]=a[b];{if("string"!=typeof a||!a)return B(Z);if(w.call(Z,a))return Z[a]}},_=function(){return Ta(),{browser:C(h,["userAgent","platform","appName"]),flash:D(N,["bridge"]),zeroclipboard:{version:Va.version,config:Va.config()}}},aa=function(){return!!(N.disabled||N.outdated||N.sandboxed||N.unavailable||N.degraded||N.deactivated)},ba=function(a,d){var e,f,g,h={};if("string"==typeof a&&a)g=a.toLowerCase().split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof d)for(e in a)w.call(a,e)&&"string"==typeof e&&e&&"function"==typeof a[e]&&Va.on(e,a[e]);if(g&&g.length){for(e=0,f=g.length;f>e;e++)a=g[e].replace(/^on/,""),h[a]=!0,P[a]||(P[a]=[]),P[a].push(d);if(h.ready&&N.ready&&Va.emit({type:"ready"}),h.error){for(e=0,f=W.length;f>e;e++)if(N[W[e].replace(/^flash-/,"")]===!0){Va.emit({type:"error",name:W[e]});break}c!==b&&Va.version!==c&&Va.emit({type:"error",name:"version-mismatch",jsVersion:Va.version,swfVersion:c})}}return Va},ca=function(a,b){var c,d,e,f,g;if(0===arguments.length)f=u(P);else if("string"==typeof a&&a)f=a.split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof b)for(c in a)w.call(a,c)&&"string"==typeof c&&c&&"function"==typeof a[c]&&Va.off(c,a[c]);if(f&&f.length)for(c=0,d=f.length;d>c;c++)if(a=f[c].toLowerCase().replace(/^on/,""),g=P[a],g&&g.length)if(b)for(e=g.indexOf(b);-1!==e;)g.splice(e,1),e=g.indexOf(b,e);else g.length=0;return Va},da=function(a){var b;return b="string"==typeof a&&a?B(P[a])||null:B(P)},ea=function(a){var b,c,d;return a=oa(a),a&&!va(a)?"ready"===a.type&&N.overdue===!0?Va.emit({type:"error",name:"flash-overdue"}):(b=A({},a),ta.call(this,b),"copy"===a.type&&(d=Da(Q),c=d.data,R=d.formatMap),c):void 0},fa=function(){var a=N.sandboxed;if(Ta(),"boolean"!=typeof N.ready&&(N.ready=!1),N.sandboxed!==a&&N.sandboxed===!0)N.ready=!1,Va.emit({type:"error",name:"flash-sandboxed"});else if(!Va.isFlashUnusable()&&null===N.bridge){var b=Z.flashLoadTimeout;"number"==typeof b&&b>=0&&(S=i(function(){"boolean"!=typeof N.deactivated&&(N.deactivated=!0),N.deactivated===!0&&Va.emit({type:"error",name:"flash-deactivated"})},b)),N.overdue=!1,Ba()}},ga=function(){Va.clearData(),Va.blur(),Va.emit("destroy"),Ca(),Va.off()},ha=function(a,b){var c;if("object"==typeof a&&a&&"undefined"==typeof b)c=a,Va.clearData();else{if("string"!=typeof a||!a)return;c={},c[a]=b}for(var d in c)"string"==typeof d&&d&&w.call(c,d)&&"string"==typeof c[d]&&c[d]&&(Q[d]=c[d])},ia=function(a){"undefined"==typeof a?(E(Q),R=null):"string"==typeof a&&w.call(Q,a)&&delete Q[a]},ja=function(a){return"undefined"==typeof a?B(Q):"string"==typeof a&&w.call(Q,a)?Q[a]:void 0},ka=function(a){if(a&&1===a.nodeType){d&&(La(d,Z.activeClass),d!==a&&La(d,Z.hoverClass)),d=a,Ka(a,Z.hoverClass);var b=a.getAttribute("title")||Z.title;if("string"==typeof b&&b){var c=Aa(N.bridge);c&&c.setAttribute("title",b)}var e=Z.forceHandCursor===!0||"pointer"===Ma(a,"cursor");Ra(e),Qa()}},la=function(){var a=Aa(N.bridge);a&&(a.removeAttribute("title"),a.style.left="0px",a.style.top="-9999px",a.style.width="1px",a.style.height="1px"),d&&(La(d,Z.hoverClass),La(d,Z.activeClass),d=null)},ma=function(){return d||null},na=function(a){return"string"==typeof a&&a&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(a)},oa=function(a){var b;if("string"==typeof a&&a?(b=a,a={}):"object"==typeof a&&a&&"string"==typeof a.type&&a.type&&(b=a.type),b){b=b.toLowerCase(),!a.target&&(/^(copy|aftercopy|_click)$/.test(b)||"error"===b&&"clipboard-error"===a.name)&&(a.target=e),A(a,{type:b,target:a.target||d||null,relatedTarget:a.relatedTarget||null,currentTarget:N&&N.bridge||null,timeStamp:a.timeStamp||t()||null});var c=U[a.type];return"error"===a.type&&a.name&&c&&(c=c[a.name]),c&&(a.message=c),"ready"===a.type&&A(a,{target:null,version:N.version}),"error"===a.type&&(X.test(a.name)&&A(a,{target:null,minimumVersion:O}),Y.test(a.name)&&A(a,{version:N.version})),"copy"===a.type&&(a.clipboardData={setData:Va.setData,clearData:Va.clearData}),"aftercopy"===a.type&&(a=Ea(a,R)),a.target&&!a.relatedTarget&&(a.relatedTarget=pa(a.target)),qa(a)}},pa=function(a){var b=a&&a.getAttribute&&a.getAttribute("data-clipboard-target");return b?g.getElementById(b):null},qa=function(a){if(a&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(a.type)){var c=a.target,d="_mouseover"===a.type&&a.relatedTarget?a.relatedTarget:b,e="_mouseout"===a.type&&a.relatedTarget?a.relatedTarget:b,h=Na(c),i=f.screenLeft||f.screenX||0,j=f.screenTop||f.screenY||0,k=g.body.scrollLeft+g.documentElement.scrollLeft,l=g.body.scrollTop+g.documentElement.scrollTop,m=h.left+("number"==typeof a._stageX?a._stageX:0),n=h.top+("number"==typeof a._stageY?a._stageY:0),o=m-k,p=n-l,q=i+o,r=j+p,s="number"==typeof a.movementX?a.movementX:0,t="number"==typeof a.movementY?a.movementY:0;delete a._stageX,delete a._stageY,A(a,{srcElement:c,fromElement:d,toElement:e,screenX:q,screenY:r,pageX:m,pageY:n,clientX:o,clientY:p,x:o,y:p,movementX:s,movementY:t,offsetX:0,offsetY:0,layerX:0,layerY:0})}return a},ra=function(a){var b=a&&"string"==typeof a.type&&a.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(b)},sa=function(a,b,c,d){d?i(function(){a.apply(b,c)},0):a.apply(b,c)},ta=function(a){if("object"==typeof a&&a&&a.type){var b=ra(a),c=P["*"]||[],d=P[a.type]||[],e=c.concat(d);if(e&&e.length){var g,h,i,j,k,l=this;for(g=0,h=e.length;h>g;g++)i=e[g],j=l,"string"==typeof i&&"function"==typeof f[i]&&(i=f[i]),"object"==typeof i&&i&&"function"==typeof i.handleEvent&&(j=i,i=i.handleEvent),"function"==typeof i&&(k=A({},a),sa(i,j,[k],b))}return this}},ua=function(a){var b=null;return(M===!1||a&&"error"===a.type&&a.name&&-1!==V.indexOf(a.name))&&(b=!1),b},va=function(a){var b=a.target||d||null,f="swf"===a._source;switch(delete a._source,a.type){case"error":var g="flash-sandboxed"===a.name||ua(a);"boolean"==typeof g&&(N.sandboxed=g),-1!==W.indexOf(a.name)?A(N,{disabled:"flash-disabled"===a.name,outdated:"flash-outdated"===a.name,unavailable:"flash-unavailable"===a.name,degraded:"flash-degraded"===a.name,deactivated:"flash-deactivated"===a.name,overdue:"flash-overdue"===a.name,ready:!1}):"version-mismatch"===a.name&&(c=a.swfVersion,A(N,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),Pa();break;case"ready":c=a.swfVersion;var h=N.deactivated===!0;A(N,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:h,ready:!h}),Pa();break;case"beforecopy":e=b;break;case"copy":var i,j,k=a.relatedTarget;!Q["text/html"]&&!Q["text/plain"]&&k&&(j=k.value||k.outerHTML||k.innerHTML)&&(i=k.value||k.textContent||k.innerText)?(a.clipboardData.clearData(),a.clipboardData.setData("text/plain",i),j!==i&&a.clipboardData.setData("text/html",j)):!Q["text/plain"]&&a.target&&(i=a.target.getAttribute("data-clipboard-text"))&&(a.clipboardData.clearData(),a.clipboardData.setData("text/plain",i));break;case"aftercopy":wa(a),Va.clearData(),b&&b!==Ja()&&b.focus&&b.focus();break;case"_mouseover":Va.focus(b),Z.bubbleEvents===!0&&f&&(b&&b!==a.relatedTarget&&!F(a.relatedTarget,b)&&xa(A({},a,{type:"mouseenter",bubbles:!1,cancelable:!1})),xa(A({},a,{type:"mouseover"})));break;case"_mouseout":Va.blur(),Z.bubbleEvents===!0&&f&&(b&&b!==a.relatedTarget&&!F(a.relatedTarget,b)&&xa(A({},a,{type:"mouseleave",bubbles:!1,cancelable:!1})),xa(A({},a,{type:"mouseout"})));break;case"_mousedown":Ka(b,Z.activeClass),Z.bubbleEvents===!0&&f&&xa(A({},a,{type:a.type.slice(1)}));break;case"_mouseup":La(b,Z.activeClass),Z.bubbleEvents===!0&&f&&xa(A({},a,{type:a.type.slice(1)}));break;case"_click":e=null,Z.bubbleEvents===!0&&f&&xa(A({},a,{type:a.type.slice(1)}));break;case"_mousemove":Z.bubbleEvents===!0&&f&&xa(A({},a,{type:a.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(a.type)?!0:void 0},wa=function(a){if(a.errors&&a.errors.length>0){var b=B(a);A(b,{type:"error",name:"clipboard-error"}),delete b.success,i(function(){Va.emit(b)},0)}},xa=function(a){if(a&&"string"==typeof a.type&&a){var b,c=a.target||null,d=c&&c.ownerDocument||g,e={view:d.defaultView||f,canBubble:!0,cancelable:!0,detail:"click"===a.type?1:0,button:"number"==typeof a.which?a.which-1:"number"==typeof a.button?a.button:d.createEvent?0:1},h=A(e,a);c&&d.createEvent&&c.dispatchEvent&&(h=[h.type,h.canBubble,h.cancelable,h.view,h.detail,h.screenX,h.screenY,h.clientX,h.clientY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.button,h.relatedTarget],b=d.createEvent("MouseEvents"),b.initMouseEvent&&(b.initMouseEvent.apply(b,h),b._source="js",c.dispatchEvent(b)))}},ya=function(){var a=Z.flashLoadTimeout;if("number"==typeof a&&a>=0){var b=Math.min(1e3,a/10),c=Z.swfObjectId+"_fallbackContent";T=k(function(){var a=g.getElementById(c);Oa(a)&&(Pa(),N.deactivated=null,Va.emit({type:"error",name:"swf-not-found"}))},b)}},za=function(){var a=g.createElement("div");return a.id=Z.containerId,a.className=Z.containerClass,a.style.position="absolute",a.style.left="0px",a.style.top="-9999px",a.style.width="1px",a.style.height="1px",a.style.zIndex=""+Sa(Z.zIndex),a},Aa=function(a){for(var b=a&&a.parentNode;b&&"OBJECT"===b.nodeName&&b.parentNode;)b=b.parentNode;return b||null},Ba=function(){var a,b=N.bridge,c=Aa(b);if(!b){var d=Ia(f.location.host,Z),e="never"===d?"none":"all",h=Ga(A({jsVersion:Va.version},Z)),i=Z.swfPath+Fa(Z.swfPath,Z);c=za();var j=g.createElement("div");c.appendChild(j),g.body.appendChild(c);var k=g.createElement("div"),l="activex"===N.pluginType;k.innerHTML='<object id="'+Z.swfObjectId+'" name="'+Z.swfObjectId+'" width="100%" height="100%" '+(l?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+i+'"')+">"+(l?'<param name="movie" value="'+i+'"/>':"")+'<param name="allowScriptAccess" value="'+d+'"/><param name="allowNetworking" value="'+e+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+h+'"/><div id="'+Z.swfObjectId+'_fallbackContent">&nbsp;</div></object>',b=k.firstChild,k=null,y(b).ZeroClipboard=Va,c.replaceChild(b,j),ya()}return b||(b=g[Z.swfObjectId],b&&(a=b.length)&&(b=b[a-1]),!b&&c&&(b=c.firstChild)),N.bridge=b||null,b},Ca=function(){var a=N.bridge;if(a){var d=Aa(a);d&&("activex"===N.pluginType&&"readyState"in a?(a.style.display="none",function e(){if(4===a.readyState){for(var b in a)"function"==typeof a[b]&&(a[b]=null);a.parentNode&&a.parentNode.removeChild(a),d.parentNode&&d.parentNode.removeChild(d)}else i(e,10)}()):(a.parentNode&&a.parentNode.removeChild(a),d.parentNode&&d.parentNode.removeChild(d))),Pa(),N.ready=null,N.bridge=null,N.deactivated=null,c=b}},Da=function(a){var b={},c={};if("object"==typeof a&&a){for(var d in a)if(d&&w.call(a,d)&&"string"==typeof a[d]&&a[d])switch(d.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":b.text=a[d],c.text=d;break;case"text/html":case"html":case"air:html":case"flash:html":b.html=a[d],c.html=d;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":b.rtf=a[d],c.rtf=d}return{data:b,formatMap:c}}},Ea=function(a,b){if("object"!=typeof a||!a||"object"!=typeof b||!b)return a;var c={};for(var d in a)if(w.call(a,d))if("errors"===d){c[d]=a[d]?a[d].slice():[];for(var e=0,f=c[d].length;f>e;e++)c[d][e].format=b[c[d][e].format]}else if("success"!==d&&"data"!==d)c[d]=a[d];else{c[d]={};var g=a[d];for(var h in g)h&&w.call(g,h)&&w.call(b,h)&&(c[d][b[h]]=g[h])}return c},Fa=function(a,b){var c=null==b||b&&b.cacheBust===!0;return c?(-1===a.indexOf("?")?"?":"&")+"noCache="+t():""},Ga=function(a){var b,c,d,e,g="",h=[];if(a.trustedDomains&&("string"==typeof a.trustedDomains?e=[a.trustedDomains]:"object"==typeof a.trustedDomains&&"length"in a.trustedDomains&&(e=a.trustedDomains)),e&&e.length)for(b=0,c=e.length;c>b;b++)if(w.call(e,b)&&e[b]&&"string"==typeof e[b]){if(d=Ha(e[b]),!d)continue;if("*"===d){h.length=0,h.push(d);break}h.push.apply(h,[d,"//"+d,f.location.protocol+"//"+d])}return h.length&&(g+="trustedOrigins="+n(h.join(","))),a.forceEnhancedClipboard===!0&&(g+=(g?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof a.swfObjectId&&a.swfObjectId&&(g+=(g?"&":"")+"swfObjectId="+n(a.swfObjectId)),"string"==typeof a.jsVersion&&a.jsVersion&&(g+=(g?"&":"")+"jsVersion="+n(a.jsVersion)),g},Ha=function(a){if(null==a||""===a)return null;if(a=a.replace(/^\s+|\s+$/g,""),""===a)return null;var b=a.indexOf("//");a=-1===b?a:a.slice(b+2);var c=a.indexOf("/");return a=-1===c?a:-1===b||0===c?null:a.slice(0,c),a&&".swf"===a.slice(-4).toLowerCase()?null:a||null},Ia=function(){var a=function(a){var b,c,d,e=[];if("string"==typeof a&&(a=[a]),"object"!=typeof a||!a||"number"!=typeof a.length)return e;for(b=0,c=a.length;c>b;b++)if(w.call(a,b)&&(d=Ha(a[b]))){if("*"===d){e.length=0,e.push("*");break}-1===e.indexOf(d)&&e.push(d)}return e};return function(b,c){var d=Ha(c.swfPath);null===d&&(d=b);var e=a(c.trustedDomains),f=e.length;if(f>0){if(1===f&&"*"===e[0])return"always";if(-1!==e.indexOf(b))return 1===f&&b===d?"sameDomain":"always"}return"never"}}(),Ja=function(){try{return g.activeElement}catch(a){return null}},Ka=function(a,b){var c,d,e,f=[];if("string"==typeof b&&b&&(f=b.split(/\s+/)),a&&1===a.nodeType&&f.length>0)if(a.classList)for(c=0,d=f.length;d>c;c++)a.classList.add(f[c]);else if(a.hasOwnProperty("className")){for(e=" "+a.className+" ",c=0,d=f.length;d>c;c++)-1===e.indexOf(" "+f[c]+" ")&&(e+=f[c]+" ");a.className=e.replace(/^\s+|\s+$/g,"")}return a},La=function(a,b){var c,d,e,f=[];if("string"==typeof b&&b&&(f=b.split(/\s+/)),a&&1===a.nodeType&&f.length>0)if(a.classList&&a.classList.length>0)for(c=0,d=f.length;d>c;c++)a.classList.remove(f[c]);else if(a.className){for(e=(" "+a.className+" ").replace(/[\r\n\t]/g," "),c=0,d=f.length;d>c;c++)e=e.replace(" "+f[c]+" "," ");a.className=e.replace(/^\s+|\s+$/g,"")}return a},Ma=function(a,b){var c=m(a,null).getPropertyValue(b);return"cursor"!==b||c&&"auto"!==c||"A"!==a.nodeName?c:"pointer"},Na=function(a){var b={left:0,top:0,width:0,height:0};if(a.getBoundingClientRect){var c=a.getBoundingClientRect(),d=f.pageXOffset,e=f.pageYOffset,h=g.documentElement.clientLeft||0,i=g.documentElement.clientTop||0,j=0,k=0;if("relative"===Ma(g.body,"position")){var l=g.body.getBoundingClientRect(),m=g.documentElement.getBoundingClientRect();j=l.left-m.left||0,k=l.top-m.top||0}b.left=c.left+d-h-j,b.top=c.top+e-i-k,b.width="width"in c?c.width:c.right-c.left,b.height="height"in c?c.height:c.bottom-c.top}return b},Oa=function(a){if(!a)return!1;var b=m(a,null),c=r(b.height)>0,d=r(b.width)>0,e=r(b.top)>=0,f=r(b.left)>=0,g=c&&d&&e&&f,h=g?null:Na(a),i="none"!==b.display&&"collapse"!==b.visibility&&(g||!!h&&(c||h.height>0)&&(d||h.width>0)&&(e||h.top>=0)&&(f||h.left>=0));return i},Pa=function(){j(S),S=0,l(T),T=0},Qa=function(){var a;if(d&&(a=Aa(N.bridge))){var b=Na(d);A(a.style,{width:b.width+"px",height:b.height+"px",top:b.top+"px",left:b.left+"px",zIndex:""+Sa(Z.zIndex)})}},Ra=function(a){N.ready===!0&&(N.bridge&&"function"==typeof N.bridge.setHandCursor?N.bridge.setHandCursor(a):N.ready=!1);
},Sa=function(a){if(/^(?:auto|inherit)$/.test(a))return a;var b;return"number"!=typeof a||s(a)?"string"==typeof a&&(b=Sa(q(a,10))):b=a,"number"==typeof b?b:"auto"},Ta=function(b){var c,d,e,f=N.sandboxed,g=null;if(b=b===!0,M===!1)g=!1;else{try{d=a.frameElement||null}catch(h){e={name:h.name,message:h.message}}if(d&&1===d.nodeType&&"IFRAME"===d.nodeName)try{g=d.hasAttribute("sandbox")}catch(h){g=null}else{try{c=document.domain||null}catch(h){c=null}(null===c||e&&"SecurityError"===e.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(e.message.toLowerCase()))&&(g=!0)}}return N.sandboxed=g,f===g||b||Ua(o),g},Ua=function(a){function b(a){var b=a.match(/[\d]+/g);return b.length=3,b.join(".")}function c(a){return!!a&&(a=a.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(a)||"chrome.plugin"===a.slice(-13))}function d(a){a&&(i=!0,a.version&&(l=b(a.version)),!l&&a.description&&(l=b(a.description)),a.filename&&(k=c(a.filename)))}var e,f,g,i=!1,j=!1,k=!1,l="";if(h.plugins&&h.plugins.length)e=h.plugins["Shockwave Flash"],d(e),h.plugins["Shockwave Flash 2.0"]&&(i=!0,l="2.0.0.11");else if(h.mimeTypes&&h.mimeTypes.length)g=h.mimeTypes["application/x-shockwave-flash"],e=g&&g.enabledPlugin,d(e);else if("undefined"!=typeof a){j=!0;try{f=new a("ShockwaveFlash.ShockwaveFlash.7"),i=!0,l=b(f.GetVariable("$version"))}catch(m){try{f=new a("ShockwaveFlash.ShockwaveFlash.6"),i=!0,l="6.0.21"}catch(n){try{f=new a("ShockwaveFlash.ShockwaveFlash"),i=!0,l=b(f.GetVariable("$version"))}catch(o){j=!1}}}}N.disabled=i!==!0,N.outdated=l&&r(l)<r(O),N.version=l||"0.0.0",N.pluginType=k?"pepper":j?"activex":i?"netscape":"unknown"};Ua(o),Ta(!0);var Va=function(){return this instanceof Va?void("function"==typeof Va._createClient&&Va._createClient.apply(this,z(arguments))):new Va};v(Va,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),Va.config=function(){return $.apply(this,z(arguments))},Va.state=function(){return _.apply(this,z(arguments))},Va.isFlashUnusable=function(){return aa.apply(this,z(arguments))},Va.on=function(){return ba.apply(this,z(arguments))},Va.off=function(){return ca.apply(this,z(arguments))},Va.handlers=function(){return da.apply(this,z(arguments))},Va.emit=function(){return ea.apply(this,z(arguments))},Va.create=function(){return fa.apply(this,z(arguments))},Va.destroy=function(){return ga.apply(this,z(arguments))},Va.setData=function(){return ha.apply(this,z(arguments))},Va.clearData=function(){return ia.apply(this,z(arguments))},Va.getData=function(){return ja.apply(this,z(arguments))},Va.focus=Va.activate=function(){return ka.apply(this,z(arguments))},Va.blur=Va.deactivate=function(){return la.apply(this,z(arguments))},Va.activeElement=function(){return ma.apply(this,z(arguments))};var Wa=0,Xa={},Ya=0,Za={},$a={};A(Z,{autoActivate:!0});var _a=function(a){var b=this;b.id=""+Wa++,Xa[b.id]={instance:b,elements:[],handlers:{}},a&&b.clip(a),Va.on("*",function(a){return b.emit(a)}),Va.on("destroy",function(){b.destroy()}),Va.create()},ab=function(a,d){var e,f,g,h={},i=Xa[this.id],j=i&&i.handlers;if(!i)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof a&&a)g=a.toLowerCase().split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof d)for(e in a)w.call(a,e)&&"string"==typeof e&&e&&"function"==typeof a[e]&&this.on(e,a[e]);if(g&&g.length){for(e=0,f=g.length;f>e;e++)a=g[e].replace(/^on/,""),h[a]=!0,j[a]||(j[a]=[]),j[a].push(d);if(h.ready&&N.ready&&this.emit({type:"ready",client:this}),h.error){for(e=0,f=W.length;f>e;e++)if(N[W[e].replace(/^flash-/,"")]){this.emit({type:"error",name:W[e],client:this});break}c!==b&&Va.version!==c&&this.emit({type:"error",name:"version-mismatch",jsVersion:Va.version,swfVersion:c})}}return this},bb=function(a,b){var c,d,e,f,g,h=Xa[this.id],i=h&&h.handlers;if(!i)return this;if(0===arguments.length)f=u(i);else if("string"==typeof a&&a)f=a.split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof b)for(c in a)w.call(a,c)&&"string"==typeof c&&c&&"function"==typeof a[c]&&this.off(c,a[c]);if(f&&f.length)for(c=0,d=f.length;d>c;c++)if(a=f[c].toLowerCase().replace(/^on/,""),g=i[a],g&&g.length)if(b)for(e=g.indexOf(b);-1!==e;)g.splice(e,1),e=g.indexOf(b,e);else g.length=0;return this},cb=function(a){var b=null,c=Xa[this.id]&&Xa[this.id].handlers;return c&&(b="string"==typeof a&&a?c[a]?c[a].slice(0):[]:B(c)),b},db=function(a){if(ib.call(this,a)){"object"==typeof a&&a&&"string"==typeof a.type&&a.type&&(a=A({},a));var b=A({},oa(a),{client:this});jb.call(this,b)}return this},eb=function(a){if(!Xa[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");a=kb(a);for(var b=0;b<a.length;b++)if(w.call(a,b)&&a[b]&&1===a[b].nodeType){a[b].zcClippingId?-1===Za[a[b].zcClippingId].indexOf(this.id)&&Za[a[b].zcClippingId].push(this.id):(a[b].zcClippingId="zcClippingId_"+Ya++,Za[a[b].zcClippingId]=[this.id],Z.autoActivate===!0&&lb(a[b]));var c=Xa[this.id]&&Xa[this.id].elements;-1===c.indexOf(a[b])&&c.push(a[b])}return this},fb=function(a){var b=Xa[this.id];if(!b)return this;var c,d=b.elements;a="undefined"==typeof a?d.slice(0):kb(a);for(var e=a.length;e--;)if(w.call(a,e)&&a[e]&&1===a[e].nodeType){for(c=0;-1!==(c=d.indexOf(a[e],c));)d.splice(c,1);var f=Za[a[e].zcClippingId];if(f){for(c=0;-1!==(c=f.indexOf(this.id,c));)f.splice(c,1);0===f.length&&(Z.autoActivate===!0&&mb(a[e]),delete a[e].zcClippingId)}}return this},gb=function(){var a=Xa[this.id];return a&&a.elements?a.elements.slice(0):[]},hb=function(){Xa[this.id]&&(this.unclip(),this.off(),delete Xa[this.id])},ib=function(a){if(!a||!a.type)return!1;if(a.client&&a.client!==this)return!1;var b=Xa[this.id],c=b&&b.elements,d=!!c&&c.length>0,e=!a.target||d&&-1!==c.indexOf(a.target),f=a.relatedTarget&&d&&-1!==c.indexOf(a.relatedTarget),g=a.client&&a.client===this;return b&&(e||f||g)?!0:!1},jb=function(a){var b=Xa[this.id];if("object"==typeof a&&a&&a.type&&b){var c=ra(a),d=b&&b.handlers["*"]||[],e=b&&b.handlers[a.type]||[],g=d.concat(e);if(g&&g.length){var h,i,j,k,l,m=this;for(h=0,i=g.length;i>h;h++)j=g[h],k=m,"string"==typeof j&&"function"==typeof f[j]&&(j=f[j]),"object"==typeof j&&j&&"function"==typeof j.handleEvent&&(k=j,j=j.handleEvent),"function"==typeof j&&(l=A({},a),sa(j,k,[l],c))}}},kb=function(a){return"string"==typeof a&&(a=[]),"number"!=typeof a.length?[a]:a},lb=function(a){if(a&&1===a.nodeType){var b=function(a){(a||(a=f.event))&&("js"!==a._source&&(a.stopImmediatePropagation(),a.preventDefault()),delete a._source)},c=function(c){(c||(c=f.event))&&(b(c),Va.focus(a))};a.addEventListener("mouseover",c,!1),a.addEventListener("mouseout",b,!1),a.addEventListener("mouseenter",b,!1),a.addEventListener("mouseleave",b,!1),a.addEventListener("mousemove",b,!1),$a[a.zcClippingId]={mouseover:c,mouseout:b,mouseenter:b,mouseleave:b,mousemove:b}}},mb=function(a){if(a&&1===a.nodeType){var b=$a[a.zcClippingId];if("object"==typeof b&&b){for(var c,d,e=["move","leave","enter","out","over"],f=0,g=e.length;g>f;f++)c="mouse"+e[f],d=b[c],"function"==typeof d&&a.removeEventListener(c,d,!1);delete $a[a.zcClippingId]}}};Va._createClient=function(){_a.apply(this,z(arguments))},Va.prototype.on=function(){return ab.apply(this,z(arguments))},Va.prototype.off=function(){return bb.apply(this,z(arguments))},Va.prototype.handlers=function(){return cb.apply(this,z(arguments))},Va.prototype.emit=function(){return db.apply(this,z(arguments))},Va.prototype.clip=function(){return eb.apply(this,z(arguments))},Va.prototype.unclip=function(){return fb.apply(this,z(arguments))},Va.prototype.elements=function(){return gb.apply(this,z(arguments))},Va.prototype.destroy=function(){return hb.apply(this,z(arguments))},Va.prototype.setText=function(a){if(!Xa[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Va.setData("text/plain",a),this},Va.prototype.setHtml=function(a){if(!Xa[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Va.setData("text/html",a),this},Va.prototype.setRichText=function(a){if(!Xa[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Va.setData("application/rtf",a),this},Va.prototype.setData=function(){if(!Xa[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Va.setData.apply(this,z(arguments)),this},Va.prototype.clearData=function(){if(!Xa[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return Va.clearData.apply(this,z(arguments)),this},Va.prototype.getData=function(){if(!Xa[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return Va.getData.apply(this,z(arguments))},"function"==typeof define&&define.amd?define(function(){return Va}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=Va:a.ZeroClipboard=Va}(function(){return this||window}()),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):"object"==typeof exports?exports.Handlebars=b():a.Handlebars=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(){var a=r();return a.compile=function(b,c){return k.compile(b,c,a)},a.precompile=function(b,c){return k.precompile(b,c,a)},a.AST=i["default"],a.Compiler=k.Compiler,a.JavaScriptCompiler=m["default"],a.Parser=j.parser,a.parse=j.parse,a}var e=c(8)["default"];b.__esModule=!0;var f=c(1),g=e(f),h=c(2),i=e(h),j=c(3),k=c(4),l=c(5),m=e(l),n=c(6),o=e(n),p=c(7),q=e(p),r=g["default"].create,s=d();s.create=d,q["default"](s),s.Visitor=o["default"],s["default"]=s,b["default"]=s,a.exports=b["default"]},function(a,b,c){"use strict";function d(){var a=new g.HandlebarsEnvironment;return m.extend(a,g),a.SafeString=i["default"],a.Exception=k["default"],a.Utils=m,a.escapeExpression=m.escapeExpression,a.VM=o,a.template=function(b){return o.template(b,a)},a}var e=c(8)["default"];b.__esModule=!0;var f=c(9),g=e(f),h=c(10),i=e(h),j=c(11),k=e(j),l=c(12),m=e(l),n=c(13),o=e(n),p=c(7),q=e(p),r=d();r.create=d,q["default"](r),r["default"]=r,b["default"]=r,a.exports=b["default"]},function(a,b,c){"use strict";b.__esModule=!0;var d={Program:function(a,b,c,d){this.loc=d,this.type="Program",this.body=a,this.blockParams=b,this.strip=c},MustacheStatement:function(a,b,c,d,e,f){this.loc=f,this.type="MustacheStatement",this.path=a,this.params=b||[],this.hash=c,this.escaped=d,this.strip=e},BlockStatement:function(a,b,c,d,e,f,g,h,i){this.loc=i,this.type="BlockStatement",this.path=a,this.params=b||[],this.hash=c,this.program=d,this.inverse=e,this.openStrip=f,this.inverseStrip=g,this.closeStrip=h},PartialStatement:function(a,b,c,d,e){this.loc=e,this.type="PartialStatement",this.name=a,this.params=b||[],this.hash=c,this.indent="",this.strip=d},ContentStatement:function(a,b){this.loc=b,this.type="ContentStatement",this.original=this.value=a},CommentStatement:function(a,b,c){this.loc=c,this.type="CommentStatement",this.value=a,this.strip=b},SubExpression:function(a,b,c,d){this.loc=d,this.type="SubExpression",this.path=a,this.params=b||[],this.hash=c},PathExpression:function(a,b,c,d,e){this.loc=e,this.type="PathExpression",this.data=a,this.original=d,this.parts=c,this.depth=b},StringLiteral:function(a,b){this.loc=b,this.type="StringLiteral",this.original=this.value=a},NumberLiteral:function(a,b){this.loc=b,this.type="NumberLiteral",this.original=this.value=Number(a)},BooleanLiteral:function(a,b){this.loc=b,this.type="BooleanLiteral",this.original=this.value="true"===a},UndefinedLiteral:function(a){this.loc=a,this.type="UndefinedLiteral",this.original=this.value=void 0},NullLiteral:function(a){this.loc=a,this.type="NullLiteral",this.original=this.value=null},Hash:function(a,b){this.loc=b,this.type="Hash",this.pairs=a},HashPair:function(a,b,c){this.loc=c,this.type="HashPair",this.key=a,this.value=b},helpers:{helperExpression:function(a){return!("SubExpression"!==a.type&&!a.params.length&&!a.hash)},scopedId:function(a){return/^\.|this\b/.test(a.original)},simpleId:function(a){return 1===a.parts.length&&!d.helpers.scopedId(a)&&!a.depth}}};b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){if("Program"===a.type)return a;g["default"].yy=o,o.locInfo=function(a){return new o.SourceLocation(b&&b.srcName,a)};var c=new k["default"];return c.accept(g["default"].parse(a))}var e=c(8)["default"];b.__esModule=!0,b.parse=d;var f=c(14),g=e(f),h=c(2),i=e(h),j=c(15),k=e(j),l=c(16),m=e(l),n=c(12);b.parser=g["default"];var o={};n.extend(o,m,i["default"])},function(a,b,c){"use strict";function d(){}function e(a,b,c){if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new k["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var d=c.parse(a,b),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function f(a,b,c){function d(){var b=c.parse(a,f),d=(new c.Compiler).compile(b,f),e=(new c.JavaScriptCompiler).compile(d,f,void 0,!0);return c.template(e)}function e(a,b){return g||(g=d()),g.call(this,a,b)}var f=void 0===arguments[1]?{}:arguments[1];if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new k["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);"data"in f||(f.data=!0),f.compat&&(f.useDepths=!0);var g=void 0;return e._setup=function(a){return g||(g=d()),g._setup(a)},e._child=function(a,b,c,e){return g||(g=d()),g._child(a,b,c,e)},e}function g(a,b){if(a===b)return!0;if(l.isArray(a)&&l.isArray(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!g(a[c],b[c]))return!1;return!0}}function h(a){if(!a.path.parts){var b=a.path;a.path=new n["default"].PathExpression(!1,0,[b.original+""],b.original+"",b.loc)}}var i=c(8)["default"];b.__esModule=!0,b.Compiler=d,b.precompile=e,b.compile=f;var j=c(11),k=i(j),l=c(12),m=c(2),n=i(m),o=[].slice;d.prototype={compiler:d,equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||!g(d.args,e.args))return!1}b=this.children.length;for(var c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=b,this.stringParams=b.stringParams,this.trackIds=b.trackIds,b.blockParams=b.blockParams||[];var c=b.knownHelpers;if(b.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},c)for(var d in c)d in c&&(b.knownHelpers[d]=c[d]);return this.accept(a)},compileProgram:function(a){var b=new this.compiler,c=b.compile(a,this.options),d=this.guid++;return this.usePartial=this.usePartial||c.usePartial,this.children[d]=c,this.useDepths=this.useDepths||c.useDepths,d},accept:function(a){this.sourceNode.unshift(a);var b=this[a.type](a);return this.sourceNode.shift(),b},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var b=a.body,c=b.length,d=0;c>d;d++)this.accept(b[d]);return this.options.blockParams.shift(),this.isSimple=1===c,this.blockParams=a.blockParams?a.blockParams.length:0,this},BlockStatement:function(a){h(a);var b=a.program,c=a.inverse;b=b&&this.compileProgram(b),c=c&&this.compileProgram(c);var d=this.classifySexpr(a);"helper"===d?this.helperSexpr(a,b,c):"simple"===d?(this.simpleSexpr(a),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue",a.path.original)):(this.ambiguousSexpr(a,b,c),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},PartialStatement:function(a){this.usePartial=!0;var b=a.params;if(b.length>1)throw new k["default"]("Unsupported number of partial arguments: "+b.length,a);b.length||b.push({type:"PathExpression",parts:[],depth:0});var c=a.name.original,d="SubExpression"===a.name.type;d&&this.accept(a.name),this.setupFullMustacheParams(a,void 0,void 0,!0);var e=a.indent||"";this.options.preventIndent&&e&&(this.opcode("appendContent",e),e=""),this.opcode("invokePartial",d,c,e),this.opcode("append")},MustacheStatement:function(a){this.SubExpression(a),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ContentStatement:function(a){a.value&&this.opcode("appendContent",a.value)},CommentStatement:function(){},SubExpression:function(a){h(a);var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ambiguousSexpr:function(a,b,c){var d=a.path,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.accept(d),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){this.accept(a.path),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.path,f=e.parts[0];if(this.options.knownHelpers[f])this.opcode("invokeKnownHelper",d.length,f);else{if(this.options.knownHelpersOnly)throw new k["default"]("You specified knownHelpersOnly, but used the unknown helper "+f,a);e.falsy=!0,this.accept(e),this.opcode("invokeHelper",d.length,e.original,n["default"].helpers.simpleId(e))}},PathExpression:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0],c=n["default"].helpers.scopedId(a),d=!a.depth&&!c&&this.blockParamIndex(b);d?this.opcode("lookupBlockParam",d,a.parts):b?a.data?(this.options.data=!0,this.opcode("lookupData",a.depth,a.parts)):this.opcode("lookupOnContext",a.parts,a.falsy,c):this.opcode("pushContext")},StringLiteral:function(a){this.opcode("pushString",a.value)},NumberLiteral:function(a){this.opcode("pushLiteral",a.value)},BooleanLiteral:function(a){this.opcode("pushLiteral",a.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(a){var b=a.pairs,c=0,d=b.length;for(this.opcode("pushHash");d>c;c++)this.pushParam(b[c].value);for(;c--;)this.opcode("assignToHash",b[c].key);this.opcode("popHash")},opcode:function(a){this.opcodes.push({opcode:a,args:o.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var b=n["default"].helpers.simpleId(a.path),c=b&&!!this.blockParamIndex(a.path.parts[0]),d=!c&&n["default"].helpers.helperExpression(a),e=!c&&(d||b);if(e&&!d){var f=a.path.parts[0],g=this.options;g.knownHelpers[f]?d=!0:g.knownHelpersOnly&&(e=!1)}return d?"helper":e?"ambiguous":"simple"},pushParams:function(a){for(var b=0,c=a.length;c>b;b++)this.pushParam(a[b])},pushParam:function(a){var b=null!=a.value?a.value:a.original||"";if(this.stringParams)b.replace&&(b=b.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),a.depth&&this.addDepth(a.depth),this.opcode("getContext",a.depth||0),this.opcode("pushStringParam",b,a.type),"SubExpression"===a.type&&this.accept(a);else{if(this.trackIds){var c=void 0;if(!a.parts||n["default"].helpers.scopedId(a)||a.depth||(c=this.blockParamIndex(a.parts[0])),c){var d=a.parts.slice(1).join(".");this.opcode("pushId","BlockParam",c,d)}else b=a.original||b,b.replace&&(b=b.replace(/^\.\//g,"").replace(/^\.$/g,"")),this.opcode("pushId",a.type,b)}this.accept(a)}},setupFullMustacheParams:function(a,b,c,d){var e=a.params;return this.pushParams(e),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.accept(a.hash):this.opcode("emptyHash",d),e},blockParamIndex:function(a){for(var b=0,c=this.options.blockParams.length;c>b;b++){var d=this.options.blockParams[b],e=d&&l.indexOf(d,a);if(d&&e>=0)return[b,e]}}}},function(a,b,c){"use strict";function d(a){this.value=a}function e(){}function f(a,b,c,d){var e=b.popStack(),f=0,g=c.length;for(a&&g--;g>f;f++)e=b.nameLookup(e,c[f],d);return a?[b.aliasable("this.strict"),"(",e,", ",b.quotedString(c[f]),")"]:e}var g=c(8)["default"];b.__esModule=!0;var h=c(9),i=c(11),j=g(i),k=c(12),l=c(17),m=g(l);e.prototype={nameLookup:function(a,b){return e.isValidJavaScriptVariableName(b)?[a,".",b]:[a,"['",b,"']"]},depthedLookup:function(a){return[this.aliasable("this.lookup"),'(depths, "',a,'")']},compilerInfo:function(){var a=h.COMPILER_REVISION,b=h.REVISION_CHANGES[a];return[a,b]},appendToBuffer:function(a,b,c){return k.isArray(a)||(a=[a]),a=this.source.wrap(a,b),this.environment.isSimple?["return ",a,";"]:c?["buffer += ",a,";"]:(a.appendToBuffer=!0,a)},initializeBuffer:function(){return this.quotedString("")},compile:function(a,b,c,d){this.environment=a,this.options=b,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!d,this.name=this.environment.name,this.isChild=!!c,this.context=c||{programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(a,b),this.useDepths=this.useDepths||a.useDepths||this.options.compat,this.useBlockParams=this.useBlockParams||a.useBlockParams;var e=a.opcodes,f=void 0,g=void 0,h=void 0,i=void 0;for(h=0,i=e.length;i>h;h++)f=e[h],this.source.currentLocation=f.loc,g=g||f.loc,this[f.opcode].apply(this,f.args);if(this.source.currentLocation=g,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new j["default"]("Compile completed with content left on stack");var k=this.createFunctionContext(d);if(this.isChild)return k;var l={compiler:this.compilerInfo(),main:k},m=this.context.programs;for(h=0,i=m.length;i>h;h++)m[h]&&(l[h]=m[h]);return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.useBlockParams&&(l.useBlockParams=!0),this.options.compat&&(l.compat=!0),d?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),b.srcName?(l=l.toStringWithSourceMap({file:b.destName}),l.map=l.map&&l.map.toString()):l=l.toString()),l},preamble:function(){this.lastContext=0,this.source=new m["default"](this.options.srcName)},createFunctionContext:function(a){var b="",c=this.stackVars.concat(this.registers.list);c.length>0&&(b+=", "+c.join(", "));var d=0;for(var e in this.aliases){var f=this.aliases[e];this.aliases.hasOwnProperty(e)&&f.children&&f.referenceCount>1&&(b+=", alias"+ ++d+"="+e,f.children[0]="alias"+d)}var g=["depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&g.push("blockParams"),this.useDepths&&g.push("depths");var h=this.mergeSource(b);return a?(g.push(h),Function.apply(this,g)):this.source.wrap(["function(",g.join(","),") {\n  ",h,"}"])},mergeSource:function(a){var b=this.environment.isSimple,c=!this.forceBuffer,d=void 0,e=void 0,f=void 0,g=void 0;return this.source.each(function(a){a.appendToBuffer?(f?a.prepend("  + "):f=a,g=a):(f&&(e?f.prepend("buffer += "):d=!0,g.add(";"),f=g=void 0),e=!0,b||(c=!1))}),c?f?(f.prepend("return "),g.add(";")):e||this.source.push('return "";'):(a+=", buffer = "+(d?"":this.initializeBuffer()),f?(f.prepend("return buffer + "),g.add(";")):this.source.push("return buffer;")),a&&this.source.prepend("var "+a.substring(2)+(d?"":";\n")),this.source.merge()},blockValue:function(a){var b=this.aliasable("helpers.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs(a,0,c);var d=this.popStack();c.splice(1,0,d),this.push(this.source.functionCall(b,"call",c))},ambiguousBlockValue:function(){var a=this.aliasable("helpers.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0),this.flushInline();var c=this.topStack();b.splice(1,0,c),this.pushSource(["if (!",this.lastHelper,") { ",c," = ",this.source.functionCall(a,"call",b),"}"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation,this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[" != null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var a=this.popStack();this.pushSource(["if (",a," != null) { ",this.appendToBuffer(a,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("this.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,b,c){var d=0;c||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[d++])),this.resolvePath("context",a,d,b)},lookupBlockParam:function(a,b){this.useBlockParams=!0,this.push(["blockParams[",a[0],"][",a[1],"]"]),this.resolvePath("context",b,1)},lookupData:function(a,b){a?this.pushStackLiteral("this.data(data, "+a+")"):this.pushStackLiteral("data"),this.resolvePath("data",b,0,!0)},resolvePath:function(a,b,c,d){var e=this;if(this.options.strict||this.options.assumeObjects)return void this.push(f(this.options.strict,this,b,a));for(var g=b.length;g>c;c++)this.replaceStack(function(f){var g=e.nameLookup(f,b[c],a);return d?[" && ",g]:[" != null ? ",g," : ",f]})},resolvePossibleLambda:function(){this.push([this.aliasable("this.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(a,b){this.pushContext(),this.pushString(b),"SubExpression"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(a){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(a?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(a.ids)),this.stringParams&&(this.push(this.objectLiteral(a.contexts)),this.push(this.objectLiteral(a.types))),this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b,c){var d=this.popStack(),e=this.setupHelper(a,b),f=c?[e.name," || "]:"",g=["("].concat(f,d);this.options.strict||g.push(" || ",this.aliasable("helpers.helperMissing")),g.push(")"),this.push(this.source.functionCall(g,"call",e.callParams))},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(this.source.functionCall(c.name,"call",c.callParams))},invokeAmbiguous:function(a,b){this.useRegister("helper");var c=this.popStack();this.emptyHash();var d=this.setupHelper(0,a,b),e=this.lastHelper=this.nameLookup("helpers",a,"helper"),f=["(","(helper = ",e," || ",c,")"];this.options.strict||(f[0]="(helper = ",f.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",f,d.paramsInit?["),(",d.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",d.callParams)," : helper))"])},invokePartial:function(a,b,c){var d=[],e=this.setupParams(b,1,d,!1);a&&(b=this.popStack(),delete e.name),c&&(e.indent=JSON.stringify(c)),e.helpers="helpers",e.partials="partials",a?d.unshift(b):d.unshift(this.nameLookup("partials",b,"partial")),this.options.compat&&(e.depths="depths"),e=this.objectLiteral(e),d.push(e),this.push(this.source.functionCall("this.invokePartial","",d))},assignToHash:function(a){var b=this.popStack(),c=void 0,d=void 0,e=void 0;this.trackIds&&(e=this.popStack()),this.stringParams&&(d=this.popStack(),c=this.popStack());var f=this.hash;c&&(f.contexts[a]=c),d&&(f.types[a]=d),e&&(f.ids[a]=e),f.values[a]=b},pushId:function(a,b,c){"BlockParam"===a?this.pushStackLiteral("blockParams["+b[0]+"].path["+b[1]+"]"+(c?" + "+JSON.stringify("."+c):"")):"PathExpression"===a?this.pushString(b):"SubExpression"===a?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:e,compileChildren:function(a,b){for(var c=a.children,d=void 0,e=void 0,f=0,g=c.length;g>f;f++){d=c[f],e=new this.compiler;var h=this.matchExistingProgram(d);null==h?(this.context.programs.push(""),h=this.context.programs.length,d.index=h,d.name="program"+h,this.context.programs[h]=e.compile(d,b,this.context,!this.precompile),this.context.environments[h]=d,this.useDepths=this.useDepths||e.useDepths,this.useBlockParams=this.useBlockParams||e.useBlockParams):(d.index=h,d.name="program"+h,this.useDepths=this.useDepths||d.useDepths,this.useBlockParams=this.useBlockParams||d.useBlockParams)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){var b=this.environment.children[a],c=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&c.push("blockParams"),this.useDepths&&c.push("depths"),"this.program("+c.join(", ")+")"},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},push:function(a){return a instanceof d||(a=this.source.wrap(a)),this.inlineStack.push(a),a},pushStackLiteral:function(a){this.push(new d(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),a&&this.source.push(a)},replaceStack:function(a){var b=["("],c=void 0,e=void 0,f=void 0;if(!this.isInline())throw new j["default"]("replaceStack on non-inline");var g=this.popStack(!0);if(g instanceof d)c=[g.value],b=["(",c],f=!0;else{e=!0;var h=this.incrStack();b=["((",this.push(h)," = ",g,")"],c=this.topStack()}var i=a.call(this,c);f||this.popStack(),e&&this.stackSlot--,this.push(b.concat(i,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var b=0,c=a.length;c>b;b++){var e=a[b];if(e instanceof d)this.compileStack.push(e);else{var f=this.incrStack();this.pushSource([f," = ",e,";"]),this.compileStack.push(f)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof d)return c.value;if(!b){if(!this.stackSlot)throw new j["default"]("Invalid stack pop");this.stackSlot--}return c},topStack:function(){var a=this.isInline()?this.inlineStack:this.compileStack,b=a[a.length-1];return b instanceof d?b.value:b},contextName:function(a){return this.useDepths&&a?"depths["+a+"]":"depth"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var b=this.aliases[a];return b?(b.referenceCount++,b):(b=this.aliases[a]=this.source.wrap(a),b.aliasable=!0,b.referenceCount=1,b)},setupHelper:function(a,b,c){var d=[],e=this.setupHelperArgs(b,a,d,c),f=this.nameLookup("helpers",b,"helper");return{params:d,paramsInit:e,name:f,callParams:[this.contextName(0)].concat(d)}},setupParams:function(a,b,c){var d={},e=[],f=[],g=[],h=void 0;d.name=this.quotedString(a),d.hash=this.popStack(),this.trackIds&&(d.hashIds=this.popStack()),this.stringParams&&(d.hashTypes=this.popStack(),d.hashContexts=this.popStack());var i=this.popStack(),j=this.popStack();
(j||i)&&(d.fn=j||"this.noop",d.inverse=i||"this.noop");for(var k=b;k--;)h=this.popStack(),c[k]=h,this.trackIds&&(g[k]=this.popStack()),this.stringParams&&(f[k]=this.popStack(),e[k]=this.popStack());return this.trackIds&&(d.ids=this.source.generateArray(g)),this.stringParams&&(d.types=this.source.generateArray(f),d.contexts=this.source.generateArray(e)),this.options.data&&(d.data="data"),this.useBlockParams&&(d.blockParams="blockParams"),d},setupHelperArgs:function(a,b,c,d){var e=this.setupParams(a,b,c,!0);return e=this.objectLiteral(e),d?(this.useRegister("options"),c.push("options"),["options=",e]):(c.push(e),"")}},function(){for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),b=e.RESERVED_WORDS={},c=0,d=a.length;d>c;c++)b[a[c]]=!0}(),e.isValidJavaScriptVariableName=function(a){return!e.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)},b["default"]=e,a.exports=b["default"]},function(a,b,c){"use strict";function d(){this.parents=[]}var e=c(8)["default"];b.__esModule=!0;var f=c(11),g=e(f),h=c(2),i=e(h);d.prototype={constructor:d,mutating:!1,acceptKey:function(a,b){var c=this.accept(a[b]);if(this.mutating){if(c&&(!c.type||!i["default"][c.type]))throw new g["default"]('Unexpected node type "'+c.type+'" found when accepting '+b+" on "+a.type);a[b]=c}},acceptRequired:function(a,b){if(this.acceptKey(a,b),!a[b])throw new g["default"](a.type+" requires "+b)},acceptArray:function(a){for(var b=0,c=a.length;c>b;b++)this.acceptKey(a,b),a[b]||(a.splice(b,1),b--,c--)},accept:function(a){if(a){this.current&&this.parents.unshift(this.current),this.current=a;var b=this[a.type](a);return this.current=this.parents.shift(),!this.mutating||b?b:b!==!1?a:void 0}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:function(a){this.acceptRequired(a,"path"),this.acceptArray(a.params),this.acceptKey(a,"hash")},BlockStatement:function(a){this.acceptRequired(a,"path"),this.acceptArray(a.params),this.acceptKey(a,"hash"),this.acceptKey(a,"program"),this.acceptKey(a,"inverse")},PartialStatement:function(a){this.acceptRequired(a,"name"),this.acceptArray(a.params),this.acceptKey(a,"hash")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:function(a){this.acceptRequired(a,"path"),this.acceptArray(a.params),this.acceptKey(a,"hash")},PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}},b["default"]=d,a.exports=b["default"]},function(a,b,c){(function(c){"use strict";b.__esModule=!0,b["default"]=function(a){var b="undefined"!=typeof c?c:window,d=b.Handlebars;a.noConflict=function(){b.Handlebars===a&&(b.Handlebars=d)}},a.exports=b["default"]}).call(b,function(){return this}())},function(a,b,c){"use strict";b["default"]=function(a){return a&&a.__esModule?a:{"default":a}},b.__esModule=!0},function(a,b,c){"use strict";function d(a,b){this.helpers=a||{},this.partials=b||{},e(this)}function e(a){a.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new k["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse,e=c.fn;if(b===!0)return e(this);if(b===!1||null==b)return d(this);if(o(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):d(this);if(c.data&&c.ids){var g=f(c.data);g.contextPath=i.appendContextPath(c.data.contextPath,c.name),c={data:g}}return e(b,c)}),a.registerHelper("each",function(a,b){function c(b,c,e){j&&(j.key=b,j.index=c,j.first=0===c,j.last=!!e,l&&(j.contextPath=l+b)),h+=d(a[b],{data:j,blockParams:i.blockParams([a[b],b],[l+b,null])})}if(!b)throw new k["default"]("Must pass iterator to #each");var d=b.fn,e=b.inverse,g=0,h="",j=void 0,l=void 0;if(b.data&&b.ids&&(l=i.appendContextPath(b.data.contextPath,b.ids[0])+"."),p(a)&&(a=a.call(this)),b.data&&(j=f(b.data)),a&&"object"==typeof a)if(o(a))for(var m=a.length;m>g;g++)c(g,g,g===a.length-1);else{var n=void 0;for(var q in a)a.hasOwnProperty(q)&&(n&&c(n,g-1),n=q,g++);n&&c(n,g-1,!0)}return 0===g&&(h=e(this)),h}),a.registerHelper("if",function(a,b){return p(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||i.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){p(a)&&(a=a.call(this));var c=b.fn;if(i.isEmpty(a))return b.inverse(this);if(b.data&&b.ids){var d=f(b.data);d.contextPath=i.appendContextPath(b.data.contextPath,b.ids[0]),b={data:d}}return c(a,b)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)}),a.registerHelper("lookup",function(a,b){return a&&a[b]})}function f(a){var b=i.extend({},a);return b._parent=a,b}var g=c(8)["default"];b.__esModule=!0,b.HandlebarsEnvironment=d,b.createFrame=f;var h=c(12),i=g(h),j=c(11),k=g(j),l="3.0.1";b.VERSION=l;var m=6;b.COMPILER_REVISION=m;var n={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};b.REVISION_CHANGES=n;var o=i.isArray,p=i.isFunction,q=i.toString,r="[object Object]";d.prototype={constructor:d,logger:s,log:t,registerHelper:function(a,b){if(q.call(a)===r){if(b)throw new k["default"]("Arg not supported with multiple helpers");i.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if(q.call(a)===r)i.extend(this.partials,a);else{if("undefined"==typeof b)throw new k["default"]("Attempting to register a partial as undefined");this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]}};var s={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(a,b){if("undefined"!=typeof console&&s.level<=a){var c=s.methodMap[a];(console[c]||console.log).call(console,b)}}};b.logger=s;var t=s.log;b.log=t},function(a,b,c){"use strict";function d(a){this.string=a}b.__esModule=!0,d.prototype.toString=d.prototype.toHTML=function(){return""+this.string},b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){var c=b&&b.loc,f=void 0,g=void 0;c&&(f=c.start.line,g=c.start.column,a+=" - "+f+":"+g);for(var h=Error.prototype.constructor.call(this,a),i=0;i<e.length;i++)this[e[i]]=h[e[i]];Error.captureStackTrace&&Error.captureStackTrace(this,d),c&&(this.lineNumber=f,this.column=g)}b.__esModule=!0;var e=["description","fileName","lineNumber","message","name","number","stack"];d.prototype=new Error,b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return k[a]}function e(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function f(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}function g(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return m.test(a)?a.replace(l,d):a}function h(a){return a||0===a?p(a)&&0===a.length?!0:!1:!0}function i(a,b){return a.path=b,a}function j(a,b){return(a?a+".":"")+b}b.__esModule=!0,b.extend=e,b.indexOf=f,b.escapeExpression=g,b.isEmpty=h,b.blockParams=i,b.appendContextPath=j;var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,m=/[&<>"'`]/,n=Object.prototype.toString;b.toString=n;var o=function(a){return"function"==typeof a};o(/x/)&&(b.isFunction=o=function(a){return"function"==typeof a&&"[object Function]"===n.call(a)});var o;b.isFunction=o;var p=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===n.call(a):!1};b.isArray=p},function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=p.COMPILER_REVISION;if(b!==c){if(c>b){var d=p.REVISION_CHANGES[c],e=p.REVISION_CHANGES[b];throw new o["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new o["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){function c(c,d,e){e.hash&&(d=m.extend({},d,e.hash)),c=b.VM.resolvePartial.call(this,c,d,e);var f=b.VM.invokePartial.call(this,c,d,e);if(null==f&&b.compile&&(e.partials[e.name]=b.compile(c,a.compilerOptions,b),f=e.partials[e.name](d,e)),null!=f){if(e.indent){for(var g=f.split("\n"),h=0,i=g.length;i>h&&(g[h]||h+1!==i);h++)g[h]=e.indent+g[h];f=g.join("\n")}return f}throw new o["default"]("The partial "+e.name+" could not be compiled when running in runtime-only mode")}function d(b){var c=void 0===arguments[1]?{}:arguments[1],f=c.data;d._setup(c),!c.partial&&a.useData&&(f=j(b,f));var g=void 0,h=a.useBlockParams?[]:void 0;return a.useDepths&&(g=c.depths?[b].concat(c.depths):[b]),a.main.call(e,b,e.helpers,e.partials,f,h,g)}if(!b)throw new o["default"]("No environment passed to template");if(!a||!a.main)throw new o["default"]("Unknown template object: "+typeof a);b.VM.checkRevision(a.compiler);var e={strict:function(a,b){if(!(b in a))throw new o["default"]('"'+b+'" not defined in '+a);return a[b]},lookup:function(a,b){for(var c=a.length,d=0;c>d;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:m.escapeExpression,invokePartial:c,fn:function(b){return a[b]},programs:[],program:function(a,b,c,d,e){var g=this.programs[a],h=this.fn(a);return b||e||d||c?g=f(this,a,h,b,c,d,e):g||(g=this.programs[a]=f(this,a,h)),g},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=m.extend({},b,a)),c},noop:b.VM.noop,compilerInfo:a.compiler};return d.isTop=!0,d._setup=function(c){c.partial?(e.helpers=c.helpers,e.partials=c.partials):(e.helpers=e.merge(c.helpers,b.helpers),a.usePartial&&(e.partials=e.merge(c.partials,b.partials)))},d._child=function(b,c,d,g){if(a.useBlockParams&&!d)throw new o["default"]("must pass block params");if(a.useDepths&&!g)throw new o["default"]("must pass parent depths");return f(e,b,a[b],c,0,d,g)},d}function f(a,b,c,d,e,f,g){function h(b){var e=void 0===arguments[1]?{}:arguments[1];return c.call(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),g&&[b].concat(g))}return h.program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function g(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a=c.partials[c.name],a}function h(a,b,c){if(c.partial=!0,void 0===a)throw new o["default"]("The partial "+c.name+" could not be found");return a instanceof Function?a(b,c):void 0}function i(){return""}function j(a,b){return b&&"root"in b||(b=b?p.createFrame(b):{},b.root=a),b}var k=c(8)["default"];b.__esModule=!0,b.checkRevision=d,b.template=e,b.wrapProgram=f,b.resolvePartial=g,b.invokePartial=h,b.noop=i;var l=c(12),m=k(l),n=c(11),o=k(n),p=c(9)},function(a,b,c){"use strict";b.__esModule=!0;var d=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,content:12,COMMENT:13,CONTENT:14,openRawBlock:15,END_RAW_BLOCK:16,OPEN_RAW_BLOCK:17,helperName:18,openRawBlock_repetition0:19,openRawBlock_option0:20,CLOSE_RAW_BLOCK:21,openBlock:22,block_option0:23,closeBlock:24,openInverse:25,block_option1:26,OPEN_BLOCK:27,openBlock_repetition0:28,openBlock_option0:29,openBlock_option1:30,CLOSE:31,OPEN_INVERSE:32,openInverse_repetition0:33,openInverse_option0:34,openInverse_option1:35,openInverseChain:36,OPEN_INVERSE_CHAIN:37,openInverseChain_repetition0:38,openInverseChain_option0:39,openInverseChain_option1:40,inverseAndProgram:41,INVERSE:42,inverseChain:43,inverseChain_option0:44,OPEN_ENDBLOCK:45,OPEN:46,mustache_repetition0:47,mustache_option0:48,OPEN_UNESCAPED:49,mustache_repetition1:50,mustache_option1:51,CLOSE_UNESCAPED:52,OPEN_PARTIAL:53,partialName:54,partial_repetition0:55,partial_option0:56,param:57,sexpr:58,OPEN_SEXPR:59,sexpr_repetition0:60,sexpr_option0:61,CLOSE_SEXPR:62,hash:63,hash_repetition_plus0:64,hashSegment:65,ID:66,EQUALS:67,blockParams:68,OPEN_BLOCK_PARAMS:69,blockParams_repetition_plus0:70,CLOSE_BLOCK_PARAMS:71,path:72,dataName:73,STRING:74,NUMBER:75,BOOLEAN:76,UNDEFINED:77,NULL:78,DATA:79,pathSegments:80,SEP:81,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",13:"COMMENT",14:"CONTENT",16:"END_RAW_BLOCK",17:"OPEN_RAW_BLOCK",21:"CLOSE_RAW_BLOCK",27:"OPEN_BLOCK",31:"CLOSE",32:"OPEN_INVERSE",37:"OPEN_INVERSE_CHAIN",42:"INVERSE",45:"OPEN_ENDBLOCK",46:"OPEN",49:"OPEN_UNESCAPED",52:"CLOSE_UNESCAPED",53:"OPEN_PARTIAL",59:"OPEN_SEXPR",62:"CLOSE_SEXPR",66:"ID",67:"EQUALS",69:"OPEN_BLOCK_PARAMS",71:"CLOSE_BLOCK_PARAMS",74:"STRING",75:"NUMBER",76:"BOOLEAN",77:"UNDEFINED",78:"NULL",79:"DATA",81:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[12,1],[10,3],[15,5],[9,4],[9,4],[22,6],[25,6],[36,6],[41,2],[43,3],[43,1],[24,3],[8,5],[8,5],[11,5],[57,1],[57,1],[58,5],[63,1],[65,3],[68,3],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[54,1],[54,1],[73,2],[72,1],[80,3],[80,1],[6,0],[6,2],[19,0],[19,2],[20,0],[20,1],[23,0],[23,1],[26,0],[26,1],[28,0],[28,2],[29,0],[29,1],[30,0],[30,1],[33,0],[33,2],[34,0],[34,1],[35,0],[35,1],[38,0],[38,2],[39,0],[39,1],[40,0],[40,1],[44,0],[44,1],[47,0],[47,2],[48,0],[48,1],[50,0],[50,2],[51,0],[51,1],[55,0],[55,2],[56,0],[56,1],[60,0],[60,2],[61,0],[61,1],[64,1],[64,2],[70,1],[70,2]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h-1];case 2:this.$=new d.Program(f[h],null,{},d.locInfo(this._$));break;case 3:this.$=f[h];break;case 4:this.$=f[h];break;case 5:this.$=f[h];break;case 6:this.$=f[h];break;case 7:this.$=f[h];break;case 8:this.$=new d.CommentStatement(d.stripComment(f[h]),d.stripFlags(f[h],f[h]),d.locInfo(this._$));break;case 9:this.$=new d.ContentStatement(f[h],d.locInfo(this._$));break;case 10:this.$=d.prepareRawBlock(f[h-2],f[h-1],f[h],this._$);break;case 11:this.$={path:f[h-3],params:f[h-2],hash:f[h-1]};break;case 12:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!1,this._$);break;case 13:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!0,this._$);break;case 14:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 15:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 16:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 17:this.$={strip:d.stripFlags(f[h-1],f[h-1]),program:f[h]};break;case 18:var i=d.prepareBlock(f[h-2],f[h-1],f[h],f[h],!1,this._$),j=new d.Program([i],null,{},d.locInfo(this._$));j.chained=!0,this.$={strip:f[h-2].strip,program:j,chain:!0};break;case 19:this.$=f[h];break;case 20:this.$={path:f[h-1],strip:d.stripFlags(f[h-2],f[h])};break;case 21:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 22:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 23:this.$=new d.PartialStatement(f[h-3],f[h-2],f[h-1],d.stripFlags(f[h-4],f[h]),d.locInfo(this._$));break;case 24:this.$=f[h];break;case 25:this.$=f[h];break;case 26:this.$=new d.SubExpression(f[h-3],f[h-2],f[h-1],d.locInfo(this._$));break;case 27:this.$=new d.Hash(f[h],d.locInfo(this._$));break;case 28:this.$=new d.HashPair(d.id(f[h-2]),f[h],d.locInfo(this._$));break;case 29:this.$=d.id(f[h-1]);break;case 30:this.$=f[h];break;case 31:this.$=f[h];break;case 32:this.$=new d.StringLiteral(f[h],d.locInfo(this._$));break;case 33:this.$=new d.NumberLiteral(f[h],d.locInfo(this._$));break;case 34:this.$=new d.BooleanLiteral(f[h],d.locInfo(this._$));break;case 35:this.$=new d.UndefinedLiteral(d.locInfo(this._$));break;case 36:this.$=new d.NullLiteral(d.locInfo(this._$));break;case 37:this.$=f[h];break;case 38:this.$=f[h];break;case 39:this.$=d.preparePath(!0,f[h],this._$);break;case 40:this.$=d.preparePath(!1,f[h],this._$);break;case 41:f[h-2].push({part:d.id(f[h]),original:f[h],separator:f[h-1]}),this.$=f[h-2];break;case 42:this.$=[{part:d.id(f[h]),original:f[h]}];break;case 43:this.$=[];break;case 44:f[h-1].push(f[h]);break;case 45:this.$=[];break;case 46:f[h-1].push(f[h]);break;case 53:this.$=[];break;case 54:f[h-1].push(f[h]);break;case 59:this.$=[];break;case 60:f[h-1].push(f[h]);break;case 65:this.$=[];break;case 66:f[h-1].push(f[h]);break;case 73:this.$=[];break;case 74:f[h-1].push(f[h]);break;case 77:this.$=[];break;case 78:f[h-1].push(f[h]);break;case 81:this.$=[];break;case 82:f[h-1].push(f[h]);break;case 85:this.$=[];break;case 86:f[h-1].push(f[h]);break;case 89:this.$=[f[h]];break;case 90:f[h-1].push(f[h]);break;case 91:this.$=[f[h]];break;case 92:f[h-1].push(f[h])}},table:[{3:1,4:2,5:[2,43],6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],46:[2,43],49:[2,43],53:[2,43]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:[1,11],14:[1,18],15:16,17:[1,21],22:14,25:15,27:[1,19],32:[1,20],37:[2,2],42:[2,2],45:[2,2],46:[1,12],49:[1,13],53:[1,17]},{1:[2,1]},{5:[2,44],13:[2,44],14:[2,44],17:[2,44],27:[2,44],32:[2,44],37:[2,44],42:[2,44],45:[2,44],46:[2,44],49:[2,44],53:[2,44]},{5:[2,3],13:[2,3],14:[2,3],17:[2,3],27:[2,3],32:[2,3],37:[2,3],42:[2,3],45:[2,3],46:[2,3],49:[2,3],53:[2,3]},{5:[2,4],13:[2,4],14:[2,4],17:[2,4],27:[2,4],32:[2,4],37:[2,4],42:[2,4],45:[2,4],46:[2,4],49:[2,4],53:[2,4]},{5:[2,5],13:[2,5],14:[2,5],17:[2,5],27:[2,5],32:[2,5],37:[2,5],42:[2,5],45:[2,5],46:[2,5],49:[2,5],53:[2,5]},{5:[2,6],13:[2,6],14:[2,6],17:[2,6],27:[2,6],32:[2,6],37:[2,6],42:[2,6],45:[2,6],46:[2,6],49:[2,6],53:[2,6]},{5:[2,7],13:[2,7],14:[2,7],17:[2,7],27:[2,7],32:[2,7],37:[2,7],42:[2,7],45:[2,7],46:[2,7],49:[2,7],53:[2,7]},{5:[2,8],13:[2,8],14:[2,8],17:[2,8],27:[2,8],32:[2,8],37:[2,8],42:[2,8],45:[2,8],46:[2,8],49:[2,8],53:[2,8]},{18:22,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:33,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:34,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{4:35,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{12:36,14:[1,18]},{18:38,54:37,58:39,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,9],13:[2,9],14:[2,9],16:[2,9],17:[2,9],27:[2,9],32:[2,9],37:[2,9],42:[2,9],45:[2,9],46:[2,9],49:[2,9],53:[2,9]},{18:41,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:42,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:43,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[2,73],47:44,59:[2,73],66:[2,73],74:[2,73],75:[2,73],76:[2,73],77:[2,73],78:[2,73],79:[2,73]},{21:[2,30],31:[2,30],52:[2,30],59:[2,30],62:[2,30],66:[2,30],69:[2,30],74:[2,30],75:[2,30],76:[2,30],77:[2,30],78:[2,30],79:[2,30]},{21:[2,31],31:[2,31],52:[2,31],59:[2,31],62:[2,31],66:[2,31],69:[2,31],74:[2,31],75:[2,31],76:[2,31],77:[2,31],78:[2,31],79:[2,31]},{21:[2,32],31:[2,32],52:[2,32],59:[2,32],62:[2,32],66:[2,32],69:[2,32],74:[2,32],75:[2,32],76:[2,32],77:[2,32],78:[2,32],79:[2,32]},{21:[2,33],31:[2,33],52:[2,33],59:[2,33],62:[2,33],66:[2,33],69:[2,33],74:[2,33],75:[2,33],76:[2,33],77:[2,33],78:[2,33],79:[2,33]},{21:[2,34],31:[2,34],52:[2,34],59:[2,34],62:[2,34],66:[2,34],69:[2,34],74:[2,34],75:[2,34],76:[2,34],77:[2,34],78:[2,34],79:[2,34]},{21:[2,35],31:[2,35],52:[2,35],59:[2,35],62:[2,35],66:[2,35],69:[2,35],74:[2,35],75:[2,35],76:[2,35],77:[2,35],78:[2,35],79:[2,35]},{21:[2,36],31:[2,36],52:[2,36],59:[2,36],62:[2,36],66:[2,36],69:[2,36],74:[2,36],75:[2,36],76:[2,36],77:[2,36],78:[2,36],79:[2,36]},{21:[2,40],31:[2,40],52:[2,40],59:[2,40],62:[2,40],66:[2,40],69:[2,40],74:[2,40],75:[2,40],76:[2,40],77:[2,40],78:[2,40],79:[2,40],81:[1,45]},{66:[1,32],80:46},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{50:47,52:[2,77],59:[2,77],66:[2,77],74:[2,77],75:[2,77],76:[2,77],77:[2,77],78:[2,77],79:[2,77]},{23:48,36:50,37:[1,52],41:51,42:[1,53],43:49,45:[2,49]},{26:54,41:55,42:[1,53],45:[2,51]},{16:[1,56]},{31:[2,81],55:57,59:[2,81],66:[2,81],74:[2,81],75:[2,81],76:[2,81],77:[2,81],78:[2,81],79:[2,81]},{31:[2,37],59:[2,37],66:[2,37],74:[2,37],75:[2,37],76:[2,37],77:[2,37],78:[2,37],79:[2,37]},{31:[2,38],59:[2,38],66:[2,38],74:[2,38],75:[2,38],76:[2,38],77:[2,38],78:[2,38],79:[2,38]},{18:58,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{28:59,31:[2,53],59:[2,53],66:[2,53],69:[2,53],74:[2,53],75:[2,53],76:[2,53],77:[2,53],78:[2,53],79:[2,53]},{31:[2,59],33:60,59:[2,59],66:[2,59],69:[2,59],74:[2,59],75:[2,59],76:[2,59],77:[2,59],78:[2,59],79:[2,59]},{19:61,21:[2,45],59:[2,45],66:[2,45],74:[2,45],75:[2,45],76:[2,45],77:[2,45],78:[2,45],79:[2,45]},{18:65,31:[2,75],48:62,57:63,58:66,59:[1,40],63:64,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{66:[1,70]},{21:[2,39],31:[2,39],52:[2,39],59:[2,39],62:[2,39],66:[2,39],69:[2,39],74:[2,39],75:[2,39],76:[2,39],77:[2,39],78:[2,39],79:[2,39],81:[1,45]},{18:65,51:71,52:[2,79],57:72,58:66,59:[1,40],63:73,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{24:74,45:[1,75]},{45:[2,50]},{4:76,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{45:[2,19]},{18:77,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:78,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{24:79,45:[1,75]},{45:[2,52]},{5:[2,10],13:[2,10],14:[2,10],17:[2,10],27:[2,10],32:[2,10],37:[2,10],42:[2,10],45:[2,10],46:[2,10],49:[2,10],53:[2,10]},{18:65,31:[2,83],56:80,57:81,58:66,59:[1,40],63:82,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{59:[2,85],60:83,62:[2,85],66:[2,85],74:[2,85],75:[2,85],76:[2,85],77:[2,85],78:[2,85],79:[2,85]},{18:65,29:84,31:[2,55],57:85,58:66,59:[1,40],63:86,64:67,65:68,66:[1,69],69:[2,55],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,31:[2,61],34:87,57:88,58:66,59:[1,40],63:89,64:67,65:68,66:[1,69],69:[2,61],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,20:90,21:[2,47],57:91,58:66,59:[1,40],63:92,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[1,93]},{31:[2,74],59:[2,74],66:[2,74],74:[2,74],75:[2,74],76:[2,74],77:[2,74],78:[2,74],79:[2,74]},{31:[2,76]},{21:[2,24],31:[2,24],52:[2,24],59:[2,24],62:[2,24],66:[2,24],69:[2,24],74:[2,24],75:[2,24],76:[2,24],77:[2,24],78:[2,24],79:[2,24]},{21:[2,25],31:[2,25],52:[2,25],59:[2,25],62:[2,25],66:[2,25],69:[2,25],74:[2,25],75:[2,25],76:[2,25],77:[2,25],78:[2,25],79:[2,25]},{21:[2,27],31:[2,27],52:[2,27],62:[2,27],65:94,66:[1,95],69:[2,27]},{21:[2,89],31:[2,89],52:[2,89],62:[2,89],66:[2,89],69:[2,89]},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],67:[1,96],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{21:[2,41],31:[2,41],52:[2,41],59:[2,41],62:[2,41],66:[2,41],69:[2,41],74:[2,41],75:[2,41],76:[2,41],77:[2,41],78:[2,41],79:[2,41],81:[2,41]},{52:[1,97]},{52:[2,78],59:[2,78],66:[2,78],74:[2,78],75:[2,78],76:[2,78],77:[2,78],78:[2,78],79:[2,78]},{52:[2,80]},{5:[2,12],13:[2,12],14:[2,12],17:[2,12],27:[2,12],32:[2,12],37:[2,12],42:[2,12],45:[2,12],46:[2,12],49:[2,12],53:[2,12]},{18:98,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{36:50,37:[1,52],41:51,42:[1,53],43:100,44:99,45:[2,71]},{31:[2,65],38:101,59:[2,65],66:[2,65],69:[2,65],74:[2,65],75:[2,65],76:[2,65],77:[2,65],78:[2,65],79:[2,65]},{45:[2,17]},{5:[2,13],13:[2,13],14:[2,13],17:[2,13],27:[2,13],32:[2,13],37:[2,13],42:[2,13],45:[2,13],46:[2,13],49:[2,13],53:[2,13]},{31:[1,102]},{31:[2,82],59:[2,82],66:[2,82],74:[2,82],75:[2,82],76:[2,82],77:[2,82],78:[2,82],79:[2,82]},{31:[2,84]},{18:65,57:104,58:66,59:[1,40],61:103,62:[2,87],63:105,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{30:106,31:[2,57],68:107,69:[1,108]},{31:[2,54],59:[2,54],66:[2,54],69:[2,54],74:[2,54],75:[2,54],76:[2,54],77:[2,54],78:[2,54],79:[2,54]},{31:[2,56],69:[2,56]},{31:[2,63],35:109,68:110,69:[1,108]},{31:[2,60],59:[2,60],66:[2,60],69:[2,60],74:[2,60],75:[2,60],76:[2,60],77:[2,60],78:[2,60],79:[2,60]},{31:[2,62],69:[2,62]},{21:[1,111]},{21:[2,46],59:[2,46],66:[2,46],74:[2,46],75:[2,46],76:[2,46],77:[2,46],78:[2,46],79:[2,46]},{21:[2,48]},{5:[2,21],13:[2,21],14:[2,21],17:[2,21],27:[2,21],32:[2,21],37:[2,21],42:[2,21],45:[2,21],46:[2,21],49:[2,21],53:[2,21]},{21:[2,90],31:[2,90],52:[2,90],62:[2,90],66:[2,90],69:[2,90]},{67:[1,96]},{18:65,57:112,58:66,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,22],13:[2,22],14:[2,22],17:[2,22],27:[2,22],32:[2,22],37:[2,22],42:[2,22],45:[2,22],46:[2,22],49:[2,22],53:[2,22]},{31:[1,113]},{45:[2,18]},{45:[2,72]},{18:65,31:[2,67],39:114,57:115,58:66,59:[1,40],63:116,64:67,65:68,66:[1,69],69:[2,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,23],13:[2,23],14:[2,23],17:[2,23],27:[2,23],32:[2,23],37:[2,23],42:[2,23],45:[2,23],46:[2,23],49:[2,23],53:[2,23]},{62:[1,117]},{59:[2,86],62:[2,86],66:[2,86],74:[2,86],75:[2,86],76:[2,86],77:[2,86],78:[2,86],79:[2,86]},{62:[2,88]},{31:[1,118]},{31:[2,58]},{66:[1,120],70:119},{31:[1,121]},{31:[2,64]},{14:[2,11]},{21:[2,28],31:[2,28],52:[2,28],62:[2,28],66:[2,28],69:[2,28]},{5:[2,20],13:[2,20],14:[2,20],17:[2,20],27:[2,20],32:[2,20],37:[2,20],42:[2,20],45:[2,20],46:[2,20],49:[2,20],53:[2,20]},{31:[2,69],40:122,68:123,69:[1,108]},{31:[2,66],59:[2,66],66:[2,66],69:[2,66],74:[2,66],75:[2,66],76:[2,66],77:[2,66],78:[2,66],79:[2,66]},{31:[2,68],69:[2,68]},{21:[2,26],31:[2,26],52:[2,26],59:[2,26],62:[2,26],66:[2,26],69:[2,26],74:[2,26],75:[2,26],76:[2,26],77:[2,26],78:[2,26],79:[2,26]},{13:[2,14],14:[2,14],17:[2,14],27:[2,14],32:[2,14],37:[2,14],42:[2,14],45:[2,14],46:[2,14],49:[2,14],53:[2,14]},{66:[1,125],71:[1,124]},{66:[2,91],71:[2,91]},{13:[2,15],14:[2,15],17:[2,15],27:[2,15],32:[2,15],42:[2,15],45:[2,15],46:[2,15],49:[2,15],53:[2,15]},{31:[1,126]},{31:[2,70]},{31:[2,29]},{66:[2,92],71:[2,92]},{13:[2,16],14:[2,16],17:[2,16],27:[2,16],32:[2,16],37:[2,16],42:[2,16],45:[2,16],46:[2,16],49:[2,16],53:[2,16]}],defaultActions:{4:[2,1],49:[2,50],51:[2,19],55:[2,52],64:[2,76],73:[2,80],78:[2,17],82:[2,84],92:[2,48],99:[2,18],100:[2,72],105:[2,88],107:[2,58],110:[2,64],111:[2,11],123:[2,70],124:[2,29]},parseError:function(a,b){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||"undefined"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length
},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return b.yytext=b.yytext.substr(5,b.yyleng-9),this.popState(),16;case 4:return 14;case 5:return this.popState(),13;case 6:return 59;case 7:return 62;case 8:return 17;case 9:return this.popState(),this.begin("raw"),21;case 10:return 53;case 11:return 27;case 12:return 45;case 13:return this.popState(),42;case 14:return this.popState(),42;case 15:return 32;case 16:return 37;case 17:return 49;case 18:return 46;case 19:this.unput(b.yytext),this.popState(),this.begin("com");break;case 20:return this.popState(),13;case 21:return 46;case 22:return 67;case 23:return 66;case 24:return 66;case 25:return 81;case 26:break;case 27:return this.popState(),52;case 28:return this.popState(),31;case 29:return b.yytext=e(1,2).replace(/\\"/g,'"'),74;case 30:return b.yytext=e(1,2).replace(/\\'/g,"'"),74;case 31:return 79;case 32:return 76;case 33:return 76;case 34:return 77;case 35:return 78;case 36:return 75;case 37:return 69;case 38:return 71;case 39:return 66;case 40:return 66;case 41:return"INVALID";case 42:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,42],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";function d(){}function e(a,b,c){void 0===b&&(b=a.length);var d=a[b-1],e=a[b-2];return d?"ContentStatement"===d.type?(e||!c?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(d.original):void 0:c}function f(a,b,c){void 0===b&&(b=-1);var d=a[b+1],e=a[b+2];return d?"ContentStatement"===d.type?(e||!c?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(d.original):void 0:c}function g(a,b,c){var d=a[null==b?0:b+1];if(d&&"ContentStatement"===d.type&&(c||!d.rightStripped)){var e=d.value;d.value=d.value.replace(c?/^\s+/:/^[ \t]*\r?\n?/,""),d.rightStripped=d.value!==e}}function h(a,b,c){var d=a[null==b?a.length-1:b-1];if(d&&"ContentStatement"===d.type&&(c||!d.leftStripped)){var e=d.value;return d.value=d.value.replace(c?/\s+$/:/[ \t]+$/,""),d.leftStripped=d.value!==e,d.leftStripped}}var i=c(8)["default"];b.__esModule=!0;var j=c(6),k=i(j);d.prototype=new k["default"],d.prototype.Program=function(a){var b=!this.isRootSeen;this.isRootSeen=!0;for(var c=a.body,d=0,i=c.length;i>d;d++){var j=c[d],k=this.accept(j);if(k){var l=e(c,d,b),m=f(c,d,b),n=k.openStandalone&&l,o=k.closeStandalone&&m,p=k.inlineStandalone&&l&&m;k.close&&g(c,d,!0),k.open&&h(c,d,!0),p&&(g(c,d),h(c,d)&&"PartialStatement"===j.type&&(j.indent=/([ \t]+$)/.exec(c[d-1].original)[1])),n&&(g((j.program||j.inverse).body),h(c,d)),o&&(g(c,d),h((j.inverse||j.program).body))}}return a},d.prototype.BlockStatement=function(a){this.accept(a.program),this.accept(a.inverse);var b=a.program||a.inverse,c=a.program&&a.inverse,d=c,i=c;if(c&&c.chained)for(d=c.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var j={open:a.openStrip.open,close:a.closeStrip.close,openStandalone:f(b.body),closeStandalone:e((d||b).body)};if(a.openStrip.close&&g(b.body,null,!0),c){var k=a.inverseStrip;k.open&&h(b.body,null,!0),k.close&&g(d.body,null,!0),a.closeStrip.open&&h(i.body,null,!0),e(b.body)&&f(d.body)&&(h(b.body),g(d.body))}else a.closeStrip.open&&h(b.body,null,!0);return j},d.prototype.MustacheStatement=function(a){return a.strip},d.prototype.PartialStatement=d.prototype.CommentStatement=function(a){var b=a.strip||{};return{inlineStandalone:!0,open:b.open,close:b.close}},b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){this.source=a,this.start={line:b.first_line,column:b.first_column},this.end={line:b.last_line,column:b.last_column}}function e(a){return/^\[.*\]$/.test(a)?a.substr(1,a.length-2):a}function f(a,b){return{open:"~"===a.charAt(2),close:"~"===b.charAt(b.length-3)}}function g(a){return a.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function h(a,b,c){c=this.locInfo(c);for(var d=a?"@":"",e=[],f=0,g="",h=0,i=b.length;i>h;h++){var j=b[h].part,k=b[h].original!==j;if(d+=(b[h].separator||"")+j,k||".."!==j&&"."!==j&&"this"!==j)e.push(j);else{if(e.length>0)throw new n["default"]("Invalid path: "+d,{loc:c});".."===j&&(f++,g+="../")}}return new this.PathExpression(a,f,e,d,c)}function i(a,b,c,d,e,f){var g=d.charAt(3)||d.charAt(2),h="{"!==g&&"&"!==g;return new this.MustacheStatement(a,b,c,h,e,this.locInfo(f))}function j(a,b,c,d){if(a.path.original!==c){var e={loc:a.path.loc};throw new n["default"](a.path.original+" doesn't match "+c,e)}d=this.locInfo(d);var f=new this.Program([b],null,{},d);return new this.BlockStatement(a.path,a.params,a.hash,f,void 0,{},{},{},d)}function k(a,b,c,d,e,f){if(d&&d.path&&a.path.original!==d.path.original){var g={loc:a.path.loc};throw new n["default"](a.path.original+" doesn't match "+d.path.original,g)}b.blockParams=a.blockParams;var h=void 0,i=void 0;return c&&(c.chain&&(c.program.body[0].closeStrip=d.strip),i=c.strip,h=c.program),e&&(e=h,h=b,b=e),new this.BlockStatement(a.path,a.params,a.hash,b,h,a.strip,i,d&&d.strip,this.locInfo(f))}var l=c(8)["default"];b.__esModule=!0,b.SourceLocation=d,b.id=e,b.stripFlags=f,b.stripComment=g,b.preparePath=h,b.prepareMustache=i,b.prepareRawBlock=j,b.prepareBlock=k;var m=c(11),n=l(m)},function(a,b,c){"use strict";function d(a,b,c){if(f.isArray(a)){for(var d=[],e=0,g=a.length;g>e;e++)d.push(b.wrap(a[e],c));return d}return"boolean"==typeof a||"number"==typeof a?a+"":a}function e(a){this.srcFile=a,this.source=[]}b.__esModule=!0;var f=c(12),g=void 0;try{}catch(h){}g||(g=function(a,b,c,d){this.src="",d&&this.add(d)},g.prototype={add:function(a){f.isArray(a)&&(a=a.join("")),this.src+=a},prepend:function(a){f.isArray(a)&&(a=a.join("")),this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),e.prototype={prepend:function(a,b){this.source.unshift(this.wrap(a,b))},push:function(a,b){this.source.push(this.wrap(a,b))},merge:function(){var a=this.empty();return this.each(function(b){a.add(["  ",b,"\n"])}),a},each:function(a){for(var b=0,c=this.source.length;c>b;b++)a(this.source[b])},empty:function(){var a=void 0===arguments[0]?this.currentLocation||{start:{}}:arguments[0];return new g(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var b=void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return a instanceof g?a:(a=d(a,this,b),new g(b.start.line,b.start.column,this.srcFile,a))},functionCall:function(a,b,c){return c=this.generateList(c),this.wrap([a,b?"."+b+"(":"(",c,")"])},quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c)){var e=d(a[c],this);"undefined"!==e&&b.push([this.quotedString(c),":",e])}var f=this.generateList(b);return f.prepend("{"),f.add("}"),f},generateList:function(a,b){for(var c=this.empty(b),e=0,f=a.length;f>e;e++)e&&c.add(","),c.add(d(a[e],this,b));return c},generateArray:function(a,b){var c=this.generateList(a,b);return c.prepend("["),c.add("]"),c}},b["default"]=e,a.exports=b["default"]}])}),function(a){function b(b){this.$element=a(b),this.original_text=this.$element.html().trim(),this.settings=a.extend({},a.fn.trunk8.defaults)}function c(a){var b=document.createElement("DIV");return b.innerHTML=a,"undefined"!=typeof b.textContent?b.textContent:b.innerText}function d(a){if(c(a)===a)return a.split(/\s/g);for(var b,e,f=[],g=/<([a-z]+)([^<]*)(?:>(.*?(?!<\1>)*)<\/\1>|\s+\/>)(['.?!,]*)|((?:[^<>\s])+['.?!,]*\w?|<br\s?\/?>)/gi,h=g.exec(a);h&&b!==g.lastIndex;)b=g.lastIndex,h[5]?f.push(h[5]):h[1]&&f.push({tag:h[1],attribs:h[2],content:h[3],after:h[4]}),h=g.exec(a);for(e=0;e<f.length;e++)"string"!=typeof f[e]&&f[e].content&&(f[e].content=d(f[e].content));return f}function e(b,c,d){b=b.replace(d,"");var e=function(c,f){var g,h,i,j,k="";for(j=0;j<c.length;j++)g=c[j],i=a.trim(b).split(" ").length,a.trim(b).length&&("string"==typeof g?(/<br\s*\/?>/.test(g)||(1===i&&a.trim(b).length<=g.length?(g=b,("p"===f||"div"===f)&&(g+=d),b=""):b=b.replace(g,"")),k+=a.trim(g)+(j===c.length-1||1>=i?"":" ")):(h=e(g.content,g.tag),g.after&&(b=b.replace(g.after,"")),h&&(g.after||(g.after=" "),k+="<"+g.tag+g.attribs+">"+h+"</"+g.tag+">"+g.after)));return k},f=e(c);return f.slice(f.length-d.length)===d&&(f+=d),f}function f(){var b,f,g,i,k,l,m=this.data("trunk8"),n=m.settings,o=n.width,p=n.side,q=n.fill,r=n.parseHTML,s=h.getLineHeight(this)*n.lines,t=m.original_text,u=t.length,v="";if(this.html(t),k=this.text(),r&&c(t)!==t&&(l=d(t),t=c(t),u=t.length),o===j.auto){if(this.height()<=s)return;for(b=0,f=u-1;f>=b;)g=b+(f-b>>1),i=h.eatStr(t,p,u-g,q),r&&l&&(i=e(i,l,q)),this.html(i),this.height()>s?f=g-1:(b=g+1,v=v.length>i.length?v:i);this.html(""),this.html(v),n.tooltip&&this.attr("title",k)}else{if(isNaN(o))return void a.error('Invalid width "'+o+'".');g=u-o,i=h.eatStr(t,p,g,q),this.html(i),n.tooltip&&this.attr("title",t)}n.onTruncate()}var g,h,i={center:"center",left:"left",right:"right"},j={auto:"auto"};b.prototype.updateSettings=function(b){this.settings=a.extend(this.settings,b)},g={init:function(c){return this.each(function(){var d=a(this),e=d.data("trunk8");e||d.data("trunk8",e=new b(this)),e.updateSettings(c),f.call(d)})},update:function(b){return this.each(function(){var c=a(this);b&&(c.data("trunk8").original_text=b),f.call(c)})},revert:function(){return this.each(function(){var b=a(this).data("trunk8").original_text;a(this).html(b)})},getSettings:function(){return a(this.get(0)).data("trunk8").settings}},h={eatStr:function(b,c,d,e){var f,g,j=b.length,k=h.eatStr.generateKey.apply(null,arguments);if(h.eatStr.cache[k])return h.eatStr.cache[k];if(("string"!=typeof b||0===j)&&a.error('Invalid source string "'+b+'".'),0>d||d>j)a.error('Invalid bite size "'+d+'".');else if(0===d)return b;switch("string"!=typeof(e+"")&&a.error("Fill unable to be converted to a string."),c){case i.right:return h.eatStr.cache[k]=a.trim(b.substr(0,j-d))+e;case i.left:return h.eatStr.cache[k]=e+a.trim(b.substr(d));case i.center:return f=j>>1,g=d>>1,h.eatStr.cache[k]=a.trim(h.eatStr(b.substr(0,j-f),i.right,d-g,""))+e+a.trim(h.eatStr(b.substr(j-f),i.left,g,""));default:a.error('Invalid side "'+c+'".')}},getLineHeight:function(b){var c=a(b).css("float");"none"!==c&&a(b).css("float","none");var d=a(b).css("position");"absolute"===d&&a(b).css("position","static");var e,f=a(b).html(),g="line-height-test";return a(b).html("i").wrap('<div id="'+g+'" />'),e=a("#"+g).innerHeight(),a(b).html(f).css({"float":c,position:d}).unwrap(),e}},h.eatStr.cache={},h.eatStr.generateKey=function(){return Array.prototype.join.call(arguments,"")},a.fn.trunk8=function(b){return g[b]?g[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.trunk8"):g.init.apply(this,arguments)},a.fn.trunk8.defaults={fill:"&hellip;",lines:1,side:i.right,tooltip:!0,width:j.auto,parseHTML:!1,onTruncate:function(){}}}(jQuery),function(a,b,c){"use strict";function d(a,b){return b=b||Error,function(){var c,d,e=2,f=arguments,g=f[0],h="["+(a?a+":":"")+g+"] ",i=f[1];for(h+=i.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1),c=b+e;return c<f.length?ta(f[c]):a}),h+="\nhttp://errors.angularjs.org/1.4.4/"+(a?a+"/":"")+g,d=e,c="?";d<f.length;d++,c="&")h+=c+"p"+(d-e)+"="+encodeURIComponent(ta(f[d]));return new b(h)}}function e(a){if(null==a||C(a))return!1;var b="length"in Object(a)&&a.length;return a.nodeType===Sd&&b?!0:x(a)||Jd(a)||0===b||"number"==typeof b&&b>0&&b-1 in a}function f(a,b,c){var d,g;if(a)if(A(a))for(d in a)"prototype"==d||"length"==d||"name"==d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d,a);else if(Jd(a)||e(a)){var h="object"!=typeof a;for(d=0,g=a.length;g>d;d++)(h||d in a)&&b.call(c,a[d],d,a)}else if(a.forEach&&a.forEach!==f)a.forEach(b,c,a);else if(w(a))for(d in a)b.call(c,a[d],d,a);else if("function"==typeof a.hasOwnProperty)for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a);else for(d in a)sd.call(a,d)&&b.call(c,a[d],d,a);return a}function g(a,b,c){for(var d=Object.keys(a).sort(),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function h(a){return function(b,c){a(c,b)}}function i(){return++Hd}function j(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function k(a,b,c){for(var d=a.$$hashKey,e=0,f=b.length;f>e;++e){var g=b[e];if(v(g)||A(g))for(var h=Object.keys(g),i=0,l=h.length;l>i;i++){var m=h[i],n=g[m];c&&v(n)?z(n)?a[m]=new Date(n.valueOf()):B(n)?a[m]=new RegExp(n):(v(a[m])||(a[m]=Jd(n)?[]:{}),k(a[m],[n],!0)):a[m]=n}}return j(a,d),a}function l(a){return k(a,Ad.call(arguments,1),!1)}function m(a){return k(a,Ad.call(arguments,1),!0)}function n(a){return parseInt(a,10)}function o(a,b){return l(Object.create(a),b)}function p(){}function q(a){return a}function r(a){return function(){return a}}function s(a){return A(a.toString)&&a.toString!==Object.prototype.toString}function t(a){return"undefined"==typeof a}function u(a){return"undefined"!=typeof a}function v(a){return null!==a&&"object"==typeof a}function w(a){return null!==a&&"object"==typeof a&&!Ed(a)}function x(a){return"string"==typeof a}function y(a){return"number"==typeof a}function z(a){return"[object Date]"===Dd.call(a)}function A(a){return"function"==typeof a}function B(a){return"[object RegExp]"===Dd.call(a)}function C(a){return a&&a.window===a}function D(a){return a&&a.$evalAsync&&a.$watch}function E(a){return"[object File]"===Dd.call(a)}function F(a){return"[object FormData]"===Dd.call(a)}function G(a){return"[object Blob]"===Dd.call(a)}function H(a){return"boolean"==typeof a}function I(a){return a&&A(a.then)}function J(a){return Kd.test(Dd.call(a))}function K(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function L(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function M(a){return rd(a.nodeName||a[0]&&a[0].nodeName)}function N(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),c}function O(a,b,c,d){if(C(a)||D(a))throw Fd("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(J(b))throw Fd("cpta","Can't copy! TypedArray destination cannot be mutated.");if(b){if(a===b)throw Fd("cpi","Can't copy! Source and destination are identical.");c=c||[],d=d||[],v(a)&&(c.push(a),d.push(b));var e;if(Jd(a)){b.length=0;for(var g=0;g<a.length;g++)b.push(O(a[g],null,c,d))}else{var h=b.$$hashKey;if(Jd(b)?b.length=0:f(b,function(a,c){delete b[c]}),w(a))for(e in a)b[e]=O(a[e],null,c,d);else if(a&&"function"==typeof a.hasOwnProperty)for(e in a)a.hasOwnProperty(e)&&(b[e]=O(a[e],null,c,d));else for(e in a)sd.call(a,e)&&(b[e]=O(a[e],null,c,d));j(b,h)}}else if(b=a,v(a)){var i;if(c&&-1!==(i=c.indexOf(a)))return d[i];if(Jd(a))return O(a,[],c,d);if(J(a))b=new a.constructor(a);else if(z(a))b=new Date(a.getTime());else{if(!B(a)){var k=Object.create(Ed(a));return O(a,k,c,d)}b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex}d&&(c.push(a),d.push(b))}return b}function P(a,b){if(Jd(a)){b=b||[];for(var c=0,d=a.length;d>c;c++)b[c]=a[c]}else if(v(a)){b=b||{};for(var e in a)("$"!==e.charAt(0)||"$"!==e.charAt(1))&&(b[e]=a[e])}return b||a}function Q(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d,e,f,g=typeof a,h=typeof b;if(g==h&&"object"==g){if(!Jd(a)){if(z(a))return z(b)?Q(a.getTime(),b.getTime()):!1;if(B(a))return B(b)?a.toString()==b.toString():!1;if(D(a)||D(b)||C(a)||C(b)||Jd(b)||z(b)||B(b))return!1;f=qa();for(e in a)if("$"!==e.charAt(0)&&!A(a[e])){if(!Q(a[e],b[e]))return!1;f[e]=!0}for(e in b)if(!(e in f||"$"===e.charAt(0)||b[e]===c||A(b[e])))return!1;return!0}if(!Jd(b))return!1;if((d=a.length)==b.length){for(e=0;d>e;e++)if(!Q(a[e],b[e]))return!1;return!0}}return!1}function R(a,b,c){return a.concat(Ad.call(b,c))}function S(a,b){return Ad.call(a,b||0)}function T(a,b){var c=arguments.length>2?S(arguments,2):[];return!A(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,R(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function U(a,d){var e=d;return"string"==typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?e=c:C(d)?e="$WINDOW":d&&b===d?e="$DOCUMENT":D(d)&&(e="$SCOPE"),e}function V(a,b){return"undefined"==typeof a?c:(y(b)||(b=b?2:null),JSON.stringify(a,U,b))}function W(a){return x(a)?JSON.parse(a):a}function X(a,b){var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function Y(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function Z(a,b,c){c=c?-1:1;var d=X(b,a.getTimezoneOffset());return Y(a,c*(d-a.getTimezoneOffset()))}function $(a){a=xd(a).clone();try{a.empty()}catch(b){}var c=xd("<div>").append(a).html();try{return a[0].nodeType===Ud?rd(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+rd(b)})}catch(b){return rd(c)}}function _(a){try{return decodeURIComponent(a)}catch(b){}}function aa(a){var b={};return f((a||"").split("&"),function(a){var c,d,e;a&&(d=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(d=a.substring(0,c),e=a.substring(c+1)),d=_(d),u(d)&&(e=u(e)?_(e):!0,sd.call(b,d)?Jd(b[d])?b[d].push(e):b[d]=[b[d],e]:b[d]=e))}),b}function ba(a){var b=[];return f(a,function(a,c){Jd(a)?f(a,function(a){b.push(da(c,!0)+(a===!0?"":"="+da(a,!0)))}):b.push(da(c,!0)+(a===!0?"":"="+da(a,!0)))}),b.length?b.join("&"):""}function ca(a){return da(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function da(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function ea(a,b){var c,d,e=Pd.length;for(d=0;e>d;++d)if(c=Pd[d]+b,x(c=a.getAttribute(c)))return c;return null}function fa(a,b){var c,d,e={};f(Pd,function(b){var e=b+"app";!c&&a.hasAttribute&&a.hasAttribute(e)&&(c=a,d=a.getAttribute(e))}),f(Pd,function(b){var e,f=b+"app";!c&&(e=a.querySelector("["+f.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(f))}),c&&(e.strictDi=null!==ea(c,"strict-di"),b(c,d?[d]:[],e))}function ga(c,d,e){v(e)||(e={});var g={strictDi:!1};e=l(g,e);var h=function(){if(c=xd(c),c.injector()){var a=c[0]===b?"document":$(c);throw Fd("btstrpd","App Already Bootstrapped with this Element '{0}'",a.replace(/</,"&lt;").replace(/>/,"&gt;"))}d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),e.debugInfoEnabled&&d.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),d.unshift("ng");var f=$a(d,e.strictDi);return f.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),f},i=/^NG_ENABLE_DEBUG_INFO!/,j=/^NG_DEFER_BOOTSTRAP!/;return a&&i.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(i,"")),a&&!j.test(a.name)?h():(a.name=a.name.replace(j,""),Gd.resumeBootstrap=function(a){return f(a,function(a){d.push(a)}),h()},void(A(Gd.resumeDeferredBootstrap)&&Gd.resumeDeferredBootstrap()))}function ha(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function ia(a){var b=Gd.element(a).injector();if(!b)throw Fd("test","no injector found for element argument to getTestability");return b.get("$$testability")}function ja(a,b){return b=b||"_",a.replace(Qd,function(a,c){return(c?b:"")+a.toLowerCase()})}function ka(){var b;if(!Rd){var d=Od();yd=a.jQuery,u(d)&&(yd=null===d?c:a[d]),yd&&yd.fn.on?(xd=yd,l(yd.fn,{scope:ke.scope,isolateScope:ke.isolateScope,controller:ke.controller,injector:ke.injector,inheritedData:ke.inheritedData}),b=yd.cleanData,yd.cleanData=function(a){var c;if(Id)Id=!1;else for(var d,e=0;null!=(d=a[e]);e++)c=yd._data(d,"events"),c&&c.$destroy&&yd(d).triggerHandler("$destroy");b(a)}):xd=Ca,Gd.element=xd,Rd=!0}}function la(a,b,c){if(!a)throw Fd("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function ma(a,b,c){return c&&Jd(a)&&(a=a[a.length-1]),la(A(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function na(a,b){if("hasOwnProperty"===a)throw Fd("badname","hasOwnProperty is not a valid {0} name",b)}function oa(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;g>h;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&A(a)?T(f,a):a}function pa(a){var b=a[0],c=a[a.length-1],d=[b];do{if(b=b.nextSibling,!b)break;d.push(b)}while(b!==c);return xd(d)}function qa(){return Object.create(null)}function ra(a){function b(a,b,c){return a[b]||(a[b]=c())}var c=d("$injector"),e=d("ng"),f=b(a,"angular",Object);return f.$$minErr=f.$$minErr||d,b(f,"module",function(){var a={};return function(d,f,g){var h=function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)};return h(d,"module"),f&&a.hasOwnProperty(d)&&(a[d]=null),b(a,d,function(){function a(a,b,c,d){return d||(d=e),function(){return d[c||"push"]([a,b,arguments]),k}}function b(a,b){return function(c,f){return f&&A(f)&&(f.$$moduleName=d),e.push([a,b,arguments]),k}}if(!f)throw c("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",d);var e=[],h=[],i=[],j=a("$injector","invoke","push",h),k={_invokeQueue:e,_configBlocks:h,_runBlocks:i,requires:f,name:d,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator"),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),config:j,run:function(a){return i.push(a),this}};return g&&j(g),k})}})}function sa(a){var b=[];return JSON.stringify(a,function(a,c){if(c=U(a,c),v(c)){if(b.indexOf(c)>=0)return"<<already seen>>";b.push(c)}return c})}function ta(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof a?"undefined":"string"!=typeof a?sa(a):a}function ua(b){l(b,{bootstrap:ga,copy:O,extend:l,merge:m,equals:Q,element:xd,forEach:f,injector:$a,noop:p,bind:T,toJson:V,fromJson:W,identity:q,isUndefined:t,isDefined:u,isString:x,isFunction:A,isObject:v,isNumber:y,isElement:K,isArray:Jd,version:Yd,isDate:z,lowercase:rd,uppercase:td,callbacks:{counter:0},getTestability:ia,$$minErr:d,$$csp:Nd,reloadWithDebugInfo:ha}),(zd=ra(a))("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:oc}),a.provider("$compile",ib).directive({a:lf,input:Cf,textarea:Cf,form:qf,script:ug,select:xg,style:zg,option:yg,ngBind:Ff,ngBindHtml:Hf,ngBindTemplate:Gf,ngClass:Jf,ngClassEven:Lf,ngClassOdd:Kf,ngCloak:Mf,ngController:Nf,ngForm:rf,ngHide:og,ngIf:Qf,ngInclude:Rf,ngInit:Tf,ngNonBindable:fg,ngPluralize:jg,ngRepeat:kg,ngShow:ng,ngStyle:pg,ngSwitch:qg,ngSwitchWhen:rg,ngSwitchDefault:sg,ngOptions:ig,ngTransclude:tg,ngModel:cg,ngList:Uf,ngChange:If,pattern:Bg,ngPattern:Bg,required:Ag,ngRequired:Ag,minlength:Dg,ngMinlength:Dg,maxlength:Cg,ngMaxlength:Cg,ngValue:Ef,ngModelOptions:eg}).directive({ngInclude:Sf}).directive(mf).directive(Of),a.provider({$anchorScroll:_a,$animate:ze,$animateCss:Ae,$$animateQueue:ye,$$AnimateRunner:xe,$browser:fb,$cacheFactory:gb,$controller:nb,$document:ob,$exceptionHandler:pb,$filter:Cc,$$forceReflow:Fe,$interpolate:Db,$interval:Eb,$http:zb,$httpParamSerializer:rb,$httpParamSerializerJQLike:sb,$httpBackend:Bb,$location:Sb,$log:Tb,$parse:ic,$rootScope:nc,$q:jc,$$q:kc,$sce:sc,$sceDelegate:rc,$sniffer:tc,$templateCache:hb,$templateRequest:uc,$$testability:vc,$timeout:wc,$window:zc,$$rAF:mc,$$jqLite:Va,$$HashMap:oe,$$cookieReader:Bc})}])}function va(){return++$d}function wa(a){return a.replace(be,function(a,b,c,d){return d?c.toUpperCase():c}).replace(ce,"Moz$1")}function xa(a){return!ge.test(a)}function ya(a){var b=a.nodeType;return b===Sd||!b||b===Wd}function za(a){for(var b in Zd[a.ng339])return!0;return!1}function Aa(a,b){var c,d,e,g,h=b.createDocumentFragment(),i=[];if(xa(a))i.push(b.createTextNode(a));else{for(c=c||h.appendChild(b.createElement("div")),d=(he.exec(a)||["",""])[1].toLowerCase(),e=je[d]||je._default,c.innerHTML=e[1]+a.replace(ie,"<$1></$2>")+e[2],g=e[0];g--;)c=c.lastChild;i=R(i,c.childNodes),c=h.firstChild,c.textContent=""}return h.textContent="",h.innerHTML="",f(i,function(a){h.appendChild(a)}),h}function Ba(a,c){c=c||b;var d;return(d=fe.exec(a))?[c.createElement(d[1])]:(d=Aa(a,c))?d.childNodes:[]}function Ca(a){if(a instanceof Ca)return a;var b;if(x(a)&&(a=Ld(a),b=!0),!(this instanceof Ca)){if(b&&"<"!=a.charAt(0))throw ee("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ca(a)}b?Ma(this,Ba(a)):Ma(this,a)}function Da(a){return a.cloneNode(!0)}function Ea(a,b){if(b||Ga(a),a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;e>d;d++)Ga(c[d])}function Fa(a,b,c,d){if(u(d))throw ee("offargs","jqLite#off() does not support the `selector` argument");var e=Ha(a),g=e&&e.events,h=e&&e.handle;if(h)if(b)f(b.split(" "),function(b){if(u(c)){var d=g[b];if(N(d||[],c),d&&d.length>0)return}ae(a,b,h),delete g[b]});else for(b in g)"$destroy"!==b&&ae(a,b,h),delete g[b]}function Ga(a,b){var d=a.ng339,e=d&&Zd[d];if(e){if(b)return void delete e.data[b];e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),Fa(a)),delete Zd[d],a.ng339=c}}function Ha(a,b){var d=a.ng339,e=d&&Zd[d];return b&&!e&&(a.ng339=d=va(),e=Zd[d]={events:{},data:{},handle:c}),e}function Ia(a,b,c){if(ya(a)){var d=u(c),e=!d&&b&&!v(b),f=!b,g=Ha(a,!e),h=g&&g.data;if(d)h[b]=c;else{if(f)return h;if(e)return h&&h[b];l(h,b)}}}function Ja(a,b){return a.getAttribute?(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1:!1}function Ka(a,b){b&&a.setAttribute&&f(b.split(" "),function(b){a.setAttribute("class",Ld((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ld(b)+" "," ")))})}function La(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");f(b.split(" "),function(a){a=Ld(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",Ld(c))}}function Ma(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;c>d;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function Na(a,b){return Oa(a,"$"+(b||"ngController")+"Controller")}function Oa(a,b,d){a.nodeType==Wd&&(a=a.documentElement);for(var e=Jd(b)?b:[b];a;){for(var f=0,g=e.length;g>f;f++)if((d=xd.data(a,e[f]))!==c)return d;a=a.parentNode||a.nodeType===Xd&&a.host}}function Pa(a){for(Ea(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Qa(a,b){b||Ea(a);var c=a.parentNode;c&&c.removeChild(a)}function Ra(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):xd(c).on("load",b)}function Sa(a,b){var c=le[b.toLowerCase()];return c&&me[M(a)]&&c}function Ta(a,b){var c=a.nodeName;return("INPUT"===c||"TEXTAREA"===c)&&ne[b]}function Ua(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(t(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return c.immediatePropagationStopped===!0},f>1&&(e=P(e));for(var h=0;f>h;h++)c.isImmediatePropagationStopped()||e[h].call(a,c)}};return c.elem=a,c}function Va(){this.$get=function(){return l(Ca,{hasClass:function(a,b){return a.attr&&(a=a[0]),Ja(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),La(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),Ka(a,b)}})}}function Wa(a,b){var c=a&&a.$$hashKey;if(c)return"function"==typeof c&&(c=a.$$hashKey()),c;var d=typeof a;return c="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||i)():d+":"+a}function Xa(a,b){if(b){var c=0;this.nextUid=function(){return++c}}f(a,this.put,this)}function Ya(a){var b=a.toString().replace(se,""),c=b.match(pe);return c?"function("+(c[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Za(a,b,c){var d,e,g,h;if("function"==typeof a){if(!(d=a.$inject)){if(d=[],a.length){if(b)throw x(c)&&c||(c=a.name||Ya(a)),te("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",c);e=a.toString().replace(se,""),g=e.match(pe),f(g[1].split(qe),function(a){a.replace(re,function(a,b,c){d.push(c)})})}a.$inject=d}}else Jd(a)?(h=a.length-1,ma(a[h],"fn"),d=a.slice(0,h)):ma(a,"fn",!0);return d}function $a(a,b){function d(a){return function(b,c){return v(b)?void f(b,h(a)):a(b,c)}}function e(a,b){if(na(a,"service"),(A(b)||Jd(b))&&(b=y.instantiate(b)),!b.$get)throw te("pget","Provider '{0}' must define $get factory method.",a);return w[a+q]=b}function g(a,b){return function(){var c=B.invoke(b,this);if(t(c))throw te("undef","Provider '{0}' must return a value from $get factory method.",a);return c}}function i(a,b,c){return e(a,{$get:c!==!1?g(a,b):b})}function j(a,b){return i(a,["$injector",function(a){return a.instantiate(b)}])}function k(a,b){return i(a,r(b),!1)}function l(a,b){na(a,"constant"),w[a]=b,z[a]=b}function m(a,b){var c=y.get(a+q),d=c.$get;c.$get=function(){var a=B.invoke(d,c);return B.invoke(b,null,{$delegate:a})}}function n(a){la(t(a)||Jd(a),"modulesToLoad","not an array");var b,c=[];return f(a,function(a){function d(a){var b,c;for(b=0,c=a.length;c>b;b++){var d=a[b],e=y.get(d[0]);e[d[1]].apply(e,d[2])}}if(!u.get(a)){u.put(a,!0);try{x(a)?(b=zd(a),c=c.concat(n(b.requires)).concat(b._runBlocks),d(b._invokeQueue),d(b._configBlocks)):A(a)?c.push(y.invoke(a)):Jd(a)?c.push(y.invoke(a)):ma(a,"module")}catch(e){throw Jd(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),
te("modulerr","Failed to instantiate module {0} due to:\n{1}",a,e.stack||e.message||e)}}}),c}function o(a,c){function d(b,d){if(a.hasOwnProperty(b)){if(a[b]===p)throw te("cdep","Circular dependency found: {0}",b+" <- "+s.join(" <- "));return a[b]}try{return s.unshift(b),a[b]=p,a[b]=c(b,d)}catch(e){throw a[b]===p&&delete a[b],e}finally{s.shift()}}function e(a,c,e,f){"string"==typeof e&&(f=e,e=null);var g,h,i,j=[],k=$a.$$annotate(a,b,f);for(h=0,g=k.length;g>h;h++){if(i=k[h],"string"!=typeof i)throw te("itkn","Incorrect injection token! Expected service name as string, got {0}",i);j.push(e&&e.hasOwnProperty(i)?e[i]:d(i,f))}return Jd(a)&&(a=a[g]),a.apply(c,j)}function f(a,b,c){var d=Object.create((Jd(a)?a[a.length-1]:a).prototype||null),f=e(a,d,b,c);return v(f)||A(f)?f:d}return{invoke:e,instantiate:f,get:d,annotate:$a.$$annotate,has:function(b){return w.hasOwnProperty(b+q)||a.hasOwnProperty(b)}}}b=b===!0;var p={},q="Provider",s=[],u=new Xa([],!0),w={$provide:{provider:d(e),factory:d(i),service:d(j),value:d(k),constant:d(l),decorator:m}},y=w.$injector=o(w,function(a,b){throw Gd.isString(b)&&s.push(b),te("unpr","Unknown provider: {0}",s.join(" <- "))}),z={},B=z.$injector=o(z,function(a,b){var d=y.get(a+q,b);return B.invoke(d.$get,d,c,a)});return f(n(a),function(a){a&&B.invoke(a)}),B}function _a(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){return"a"===M(a)?(b=a,!0):void 0}),b}function f(){var a=h.yOffset;if(A(a))a=a();else if(K(a)){var c=a[0],d=b.getComputedStyle(c);a="fixed"!==d.position?0:c.getBoundingClientRect().bottom}else y(a)||(a=0);return a}function g(a){if(a){a.scrollIntoView();var c=f();if(c){var d=a.getBoundingClientRect().top;b.scrollBy(0,d-c)}}else b.scrollTo(0,0)}function h(a){a=x(a)?a:c.hash();var b;a?(b=i.getElementById(a))?g(b):(b=e(i.getElementsByName(a)))?g(b):"top"===a&&g(null):g(null)}var i=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){(a!==b||""!==a)&&Ra(function(){d.$evalAsync(h)})}),h}]}function ab(a,b){return a||b?a?b?(Jd(a)&&(a=a.join(" ")),Jd(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function bb(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType===ve)return c}}function cb(a){x(a)&&(a=a.split(" "));var b=qa();return f(a,function(a){a.length&&(b[a]=!0)}),b}function db(a){return v(a)?a:{}}function eb(a,b,c,d){function e(a){try{a.apply(null,S(arguments,1))}finally{if(s--,0===s)for(;u.length;)try{u.pop()()}catch(b){c.error(b)}}}function g(a){var b=a.indexOf("#");return-1===b?"":a.substr(b)}function h(){j(),k()}function i(){try{return n.state}catch(a){}}function j(){v=i(),v=t(v)?null:v,Q(v,C)&&(v=C),C=v}function k(){(x!==l.url()||w!==v)&&(x=l.url(),w=v,f(A,function(a){a(l.url(),v)}))}var l=this,m=(b[0],a.location),n=a.history,o=a.setTimeout,q=a.clearTimeout,r={};l.isMock=!1;var s=0,u=[];l.$$completeOutstandingRequest=e,l.$$incOutstandingRequestCount=function(){s++},l.notifyWhenNoOutstandingRequests=function(a){0===s?a():u.push(a)};var v,w,x=m.href,y=b.find("base"),z=null;j(),w=v,l.url=function(b,c,e){if(t(e)&&(e=null),m!==a.location&&(m=a.location),n!==a.history&&(n=a.history),b){var f=w===e;if(x===b&&(!d.history||f))return l;var h=x&&Jb(x)===Jb(b);return x=b,w=e,!d.history||h&&f?((!h||z)&&(z=b),c?m.replace(b):h?m.hash=g(b):m.href=b):(n[c?"replaceState":"pushState"](e,"",b),j(),w=v),l}return z||m.href.replace(/%27/g,"'")},l.state=function(){return v};var A=[],B=!1,C=null;l.onUrlChange=function(b){return B||(d.history&&xd(a).on("popstate",h),xd(a).on("hashchange",h),B=!0),A.push(b),b},l.$$applicationDestroyed=function(){xd(a).off("hashchange popstate",h)},l.$$checkUrlChange=k,l.baseHref=function(){var a=y.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""},l.defer=function(a,b){var c;return s++,c=o(function(){delete r[c],e(a)},b||0),r[c]=!0,c},l.defer.cancel=function(a){return r[a]?(delete r[a],q(a),e(p),!0):!1}}function fb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new eb(a,d,b,c)}]}function gb(){this.$get=function(){function a(a,c){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw d("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=l({},c,{id:a}),i={},j=c&&c.capacity||Number.MAX_VALUE,k={},m=null,n=null;return b[a]={put:function(a,b){if(!t(b)){if(j<Number.MAX_VALUE){var c=k[a]||(k[a]={key:a});e(c)}return a in i||g++,i[a]=b,g>j&&this.remove(n.key),b}},get:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete k[a]}delete i[a],g--},removeAll:function(){i={},g=0,k={},m=n=null},destroy:function(){i=null,h=null,k=null,delete b[a]},info:function(){return l({},h,{size:g})}}}var b={};return a.info=function(){var a={};return f(b,function(b,c){a[c]=b.info()}),a},a.get=function(a){return b[a]},a}}function hb(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function ib(a,d){function e(a,b,c){var d=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,e={};return f(a,function(a,f){var g=a.match(d);if(!g)throw Be("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f}}),e}function g(a,b){var c={isolateScope:null,bindToController:null};if(v(a.scope)&&(a.bindToController===!0?(c.bindToController=e(a.scope,b,!0),c.isolateScope={}):c.isolateScope=e(a.scope,b,!1)),v(a.bindToController)&&(c.bindToController=e(a.bindToController,b,!0)),v(c.bindToController)){var d=a.controller,f=a.controllerAs;if(!d)throw Be("noctrl","Cannot bind to controller without directive '{0}'s controller.",b);if(!mb(d,f))throw Be("noident","Cannot bind to controller without identifier for directive '{0}'.",b)}return c}function i(a){var b=a.charAt(0);if(!b||b!==rd(b))throw Be("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",a);if(a!==a.trim())throw Be("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",a)}var j={},k="Directive",m=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,n=/(([\w\-]+)(?:\:([^;]+))?;?)/,s=L("ngSrc,ngSrcset,src,srcset"),w=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,y=/^(on[a-z]+|formaction)$/;this.directive=function B(b,c){return na(b,"directive"),x(b)?(i(b),la(c,"directiveFactory"),j.hasOwnProperty(b)||(j[b]=[],a.factory(b+k,["$injector","$exceptionHandler",function(a,c){var d=[];return f(j[b],function(e,f){try{var h=a.invoke(e);A(h)?h={compile:r(h)}:!h.compile&&h.link&&(h.compile=r(h.link)),h.priority=h.priority||0,h.index=f,h.name=h.name||b,h.require=h.require||h.controller&&h.name,h.restrict=h.restrict||"EA";var i=h.$$bindings=g(h,h.name);v(i.isolateScope)&&(h.$$isolateBindings=i.isolateScope),h.$$moduleName=e.$$moduleName,d.push(h)}catch(j){c(j)}}),d}])),j[b].push(c)):f(b,h(B)),this},this.aHrefSanitizationWhitelist=function(a){return u(a)?(d.aHrefSanitizationWhitelist(a),this):d.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return u(a)?(d.imgSrcSanitizationWhitelist(a),this):d.imgSrcSanitizationWhitelist()};var z=!0;this.debugInfoEnabled=function(a){return u(a)?(z=a,this):z},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,d,e,g,h,i,r,u,B,C,E){function F(a,b){try{a.addClass(b)}catch(c){}}function G(a,b,c,d,e){a instanceof xd||(a=xd(a)),f(a,function(b,c){b.nodeType==Ud&&b.nodeValue.match(/\S+/)&&(a[c]=xd(b).wrap("<span></span>").parent()[0])});var g=I(a,b,a,c,d,e);G.$$addScopeClass(a);var h=null;return function(b,c,d){la(b,"scope"),d=d||{};var e=d.parentBoundTranscludeFn,f=d.transcludeControllers,i=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude),h||(h=H(i));var j;if(j="html"!==h?xd(_(h,xd("<div>").append(a).html())):c?ke.clone.call(a):a,f)for(var k in f)j.data("$"+k+"Controller",f[k].instance);return G.$$addScopeInfo(j,b),c&&c(j,b),g&&g(b,j,j,e),j}}function H(a){var b=a&&a[0];return b&&"foreignobject"!==M(b)&&b.toString().match(/SVG/)?"svg":"html"}function I(a,b,d,e,f,g){function h(a,d,e,f){var g,h,i,j,k,l,m,n,q;if(o){var r=d.length;for(q=new Array(r),k=0;k<p.length;k+=3)m=p[k],q[m]=d[m]}else q=d;for(k=0,l=p.length;l>k;)if(i=q[p[k++]],g=p[k++],h=p[k++],g){if(g.scope){j=a.$new(),G.$$addScopeInfo(xd(i),j);var s=g.$$destroyBindings;s&&(g.$$destroyBindings=null,j.$on("$destroyed",s))}else j=a;n=g.transcludeOnThisElement?J(a,g.transclude,f):!g.templateOnThisElement&&f?f:!f&&b?J(a,b):null,g(h,j,i,e,n,g)}else h&&h(a,i.childNodes,c,f)}for(var i,j,k,l,m,n,o,p=[],q=0;q<a.length;q++)i=new ga,j=K(a[q],[],i,0===q?e:c,f),k=j.length?P(j,a[q],i,b,d,null,[],[],g):null,k&&k.scope&&G.$$addScopeClass(i.$$element),m=k&&k.terminal||!(l=a[q].childNodes)||!l.length?null:I(l,k?(k.transcludeOnThisElement||!k.templateOnThisElement)&&k.transclude:b),(k||m)&&(p.push(q,k,m),n=!0,o=o||k),g=null;return n?h:null}function J(a,b,c){var d=function(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})};return d}function K(a,b,c,d,e){var f,g,h=a.nodeType,i=c.$attr;switch(h){case Sd:T(b,jb(M(a)),"E",d,e);for(var j,k,l,o,p,q,r=a.attributes,s=0,t=r&&r.length;t>s;s++){var u=!1,w=!1;j=r[s],k=j.name,p=Ld(j.value),o=jb(k),(q=ma.test(o))&&(k=k.replace(Ce,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));var y=o.replace(/(Start|End)$/,"");U(y)&&o===y+"Start"&&(u=k,w=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6)),l=jb(k.toLowerCase()),i[l]=k,(q||!c.hasOwnProperty(l))&&(c[l]=p,Sa(a,l)&&(c[l]=!0)),ba(a,b,p,l,q),T(b,l,"A",d,e,u,w)}if(g=a.className,v(g)&&(g=g.animVal),x(g)&&""!==g)for(;f=n.exec(g);)l=jb(f[2]),T(b,l,"C",d,e)&&(c[l]=Ld(f[3])),g=g.substr(f.index+f[0].length);break;case Ud:if(11===wd)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===Ud;)a.nodeValue=a.nodeValue+a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);Z(b,a.nodeValue);break;case Vd:try{f=m.exec(a.nodeValue),f&&(l=jb(f[1]),T(b,l,"M",d,e)&&(c[l]=Ld(f[2])))}catch(z){}}return b.sort(X),b}function L(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw Be("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);a.nodeType==Sd&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return xd(d)}function O(a,b,c){return function(d,e,f,g,h){return e=L(e[0],b,c),a(d,e,f,g,h)}}function P(a,d,f,g,h,j,k,l,m){function n(a,b,c,d){a&&(c&&(a=O(a,c,d)),a.require=r.require,a.directiveName=s,(E===r||r.$$isolateScope)&&(a=da(a,{isolateScope:!0})),k.push(a)),b&&(c&&(b=O(b,c,d)),b.require=r.require,b.directiveName=s,(E===r||r.$$isolateScope)&&(b=da(b,{isolateScope:!0})),l.push(b))}function o(a,b,c,d){var e;if(x(b)){var f=b.match(w),g=b.substring(f[0].length),h=f[1]||f[3],i="?"===f[2];if("^^"===h?c=c.parent():(e=d&&d[g],e=e&&e.instance),!e){var j="$"+g+"Controller";e=h?c.inheritedData(j):c.data(j)}if(!e&&!i)throw Be("ctreq","Controller '{0}', required by directive '{1}', can't be found!",g,a)}else if(Jd(b)){e=[];for(var k=0,l=b.length;l>k;k++)e[k]=o(a,b[k],c,d)}return e||null}function p(a,b,c,d,e,f){var g=qa();for(var h in d){var j=d[h],k={$scope:j===E||j.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},l=j.controller;"@"==l&&(l=b[j.name]);var m=i(l,k,!0,j.controllerAs);g[j.name]=m,M||a.data("$"+j.name+"Controller",m.instance)}return g}function q(a,b,e,g,h,i){function j(a,b,d){var e;return D(a)||(d=b,b=a,a=c),M&&(e=t),d||(d=M?v.parent():v),h(a,b,e,d,H)}var m,n,q,r,s,t,u,v,w;if(d===e?(w=f,v=f.$$element):(v=xd(e),w=new ga(v,f)),E&&(s=b.$new(!0)),h&&(u=j,u.$$boundTransclude=h),C&&(t=p(v,w,u,C,s,b)),E&&(G.$$addScopeInfo(v,s,!0,!(F&&(F===E||F===E.$$originalDirective))),G.$$addScopeClass(v,!0),s.$$isolateBindings=E.$$isolateBindings,fa(b,w,s,s.$$isolateBindings,E,s)),t){var x,y,z=E||B;z&&t[z.name]&&(x=z.$$bindings.bindToController,r=t[z.name],r&&r.identifier&&x&&(y=r,i.$$destroyBindings=fa(b,w,r.instance,x,z)));for(m in t){r=t[m];var A=r();A!==r.instance&&(r.instance=A,v.data("$"+m+"Controller",A),r===y&&(i.$$destroyBindings(),i.$$destroyBindings=fa(b,w,A,x,z)))}}for(m=0,n=k.length;n>m;m++)q=k[m],ea(q,q.isolateScope?s:b,v,w,q.require&&o(q.directiveName,q.require,v,t),u);var H=b;for(E&&(E.template||null===E.templateUrl)&&(H=s),a&&a(H,e.childNodes,c,h),m=l.length-1;m>=0;m--)q=l[m],ea(q,q.isolateScope?s:b,v,w,q.require&&o(q.directiveName,q.require,v,t),u)}m=m||{};for(var r,s,t,u,y,z=-Number.MAX_VALUE,B=m.newScopeDirective,C=m.controllerDirectives,E=m.newIsolateScopeDirective,F=m.templateDirective,H=m.nonTlbTranscludeDirective,I=!1,J=!1,M=m.hasElementTranscludeDirective,N=f.$$element=xd(d),P=j,Q=g,T=0,U=a.length;U>T;T++){r=a[T];var X=r.$$start,Z=r.$$end;if(X&&(N=L(d,X,Z)),t=c,z>r.priority)break;if((y=r.scope)&&(r.templateUrl||(v(y)?(Y("new/isolated scope",E||B,r,N),E=r):Y("new/isolated scope",E,r,N)),B=B||r),s=r.name,!r.templateUrl&&r.controller&&(y=r.controller,C=C||qa(),Y("'"+s+"' controller",C[s],r,N),C[s]=r),(y=r.transclude)&&(I=!0,r.$$tlb||(Y("transclusion",H,r,N),H=r),"element"==y?(M=!0,z=r.priority,t=N,N=f.$$element=xd(b.createComment(" "+s+": "+f[s]+" ")),d=N[0],ca(h,S(t),d),Q=G(t,g,z,P&&P.name,{nonTlbTranscludeDirective:H})):(t=xd(Da(d)).contents(),N.empty(),Q=G(t,g))),r.template)if(J=!0,Y("template",F,r,N),F=r,y=A(r.template)?r.template(N,f):r.template,y=ka(y),r.replace){if(P=r,t=xa(y)?[]:lb(_(r.templateNamespace,Ld(y))),d=t[0],1!=t.length||d.nodeType!==Sd)throw Be("tplrt","Template for directive '{0}' must have exactly one root element. {1}",s,"");ca(h,N,d);var aa={$attr:{}},ba=K(d,[],aa),ha=a.splice(T+1,a.length-(T+1));E&&R(ba),a=a.concat(ba).concat(ha),V(f,aa),U=a.length}else N.html(y);if(r.templateUrl)J=!0,Y("template",F,r,N),F=r,r.replace&&(P=r),q=W(a.splice(T,a.length-T),N,f,h,I&&Q,k,l,{controllerDirectives:C,newScopeDirective:B!==r&&B,newIsolateScopeDirective:E,templateDirective:F,nonTlbTranscludeDirective:H}),U=a.length;else if(r.compile)try{u=r.compile(N,f,Q),A(u)?n(null,u,X,Z):u&&n(u.pre,u.post,X,Z)}catch(ia){e(ia,$(N))}r.terminal&&(q.terminal=!0,z=Math.max(z,r.priority))}return q.scope=B&&B.scope===!0,q.transcludeOnThisElement=I,q.templateOnThisElement=J,q.transclude=Q,m.hasElementTranscludeDirective=M,q}function R(a){for(var b=0,c=a.length;c>b;b++)a[b]=o(a[b],{$$isolateScope:!0})}function T(b,d,f,g,h,i,l){if(d===h)return null;var m=null;if(j.hasOwnProperty(d))for(var n,p=a.get(d+k),q=0,r=p.length;r>q;q++)try{n=p[q],(g===c||g>n.priority)&&-1!=n.restrict.indexOf(f)&&(i&&(n=o(n,{$$start:i,$$end:l})),b.push(n),m=n)}catch(s){e(s)}return m}function U(b){if(j.hasOwnProperty(b))for(var c,d=a.get(b+k),e=0,f=d.length;f>e;e++)if(c=d[e],c.multiElement)return!0;return!1}function V(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;f(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),f(b,function(b,f){"class"==f?(F(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function W(a,b,c,d,e,h,i,j){var k,l,m=[],n=b[0],p=a.shift(),q=o(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),r=A(p.templateUrl)?p.templateUrl(b,c):p.templateUrl,s=p.templateNamespace;return b.empty(),g(r).then(function(g){var o,t,u,w;if(g=ka(g),p.replace){if(u=xa(g)?[]:lb(_(s,Ld(g))),o=u[0],1!=u.length||o.nodeType!==Sd)throw Be("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,r);t={$attr:{}},ca(d,b,o);var x=K(o,[],t);v(p.scope)&&R(x),a=x.concat(a),V(c,t)}else o=n,b.html(g);for(a.unshift(q),k=P(a,o,c,e,b,p,h,i,j),f(d,function(a,c){a==o&&(d[c]=b[0])}),l=I(b[0].childNodes,e);m.length;){var y=m.shift(),z=m.shift(),A=m.shift(),B=m.shift(),C=b[0];if(!y.$$destroyed){if(z!==n){var D=z.className;j.hasElementTranscludeDirective&&p.replace||(C=Da(o)),ca(A,xd(z),C),F(xd(C),D)}w=k.transcludeOnThisElement?J(y,k.transclude,B):B,k(l,y,C,d,w,k)}}m=null}),function(a,b,c,d,e){var f=e;b.$$destroyed||(m?m.push(b,c,d,f):(k.transcludeOnThisElement&&(f=J(b,k.transclude,e)),k(l,b,c,d,f,k)))}}function X(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Y(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw Be("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,$(d))}function Z(a,b){var c=d(b,!0);c&&a.push({priority:0,compile:function(a){var b=a.parent(),d=!!b.length;return d&&G.$$addBindingClass(b),function(a,b){var e=b.parent();d||G.$$addBindingClass(e),G.$$addBindingInfo(e,c.expressions),a.$watch(c,function(a){b[0].nodeValue=a})}}})}function _(a,c){switch(a=rd(a||"html")){case"svg":case"math":var d=b.createElement("div");return d.innerHTML="<"+a+">"+c+"</"+a+">",d.childNodes[0].childNodes;default:return c}}function aa(a,b){if("srcdoc"==b)return B.HTML;var c=M(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?B.RESOURCE_URL:void 0}function ba(a,b,c,e,f){var g=aa(a,e);f=s[e]||f;var h=d(c,!0,g,f);if(h){if("multiple"===e&&"select"===M(a))throw Be("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",$(a));b.push({priority:100,compile:function(){return{pre:function(a,b,i){var j=i.$$observers||(i.$$observers={});if(y.test(e))throw Be("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var k=i[e];k!==c&&(h=k&&d(k,!0,g,f),c=k),h&&(i[e]=h(a),(j[e]||(j[e]=[])).$$inter=!0,(i.$$observers&&i.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?i.$updateClass(a,b):i.$set(e,a)}))}}}})}}function ca(a,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(a)for(e=0,f=a.length;f>e;e++)if(a[e]==g){a[e++]=d;for(var j=e,k=j+h-1,l=a.length;l>j;j++,k++)l>k?a[j]=a[k]:delete a[j];a.length-=h-1,a.context===g&&(a.context=d);break}i&&i.replaceChild(d,g);var m=b.createDocumentFragment();m.appendChild(g),xd.hasData(g)&&(xd(d).data(xd(g).data()),yd?(Id=!0,yd.cleanData([g])):delete xd.cache[g[xd.expando]]);for(var n=1,o=c.length;o>n;n++){var p=c[n];xd(p).remove(),m.appendChild(p),delete c[n]}c[0]=d,c.length=1}function da(a,b){return l(function(){return a.apply(null,arguments)},a,b)}function ea(a,b,c,d,f,g){try{a(b,c,d,f,g)}catch(h){e(h,$(c))}}function fa(a,b,c,e,g,i){var j;f(e,function(e,f){var i,k,l,m,n=e.attrName,o=e.optional,q=e.mode;switch(q){case"@":o||sd.call(b,n)||(c[f]=b[n]=void 0),b.$observe(n,function(a){x(a)&&(c[f]=a)}),b.$$observers[n].$$scope=a,x(b[n])&&(c[f]=d(b[n])(a));break;case"=":if(!sd.call(b,n)){if(o)break;b[n]=void 0}if(o&&!b[n])break;k=h(b[n]),m=k.literal?Q:function(a,b){return a===b||a!==a&&b!==b},l=k.assign||function(){throw i=c[f]=k(a),Be("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",b[n],g.name)},i=c[f]=k(a);var r=function(b){return m(b,c[f])||(m(b,i)?l(a,b=c[f]):c[f]=b),i=b};r.$stateful=!0;var s;s=e.collection?a.$watchCollection(b[n],r):a.$watch(h(b[n],r),null,k.literal),j=j||[],j.push(s);break;case"&":if(k=b.hasOwnProperty(n)?h(b[n]):p,k===p&&o)break;c[f]=function(b){return k(a,b)}}});var k=j?function(){for(var a=0,b=j.length;b>a;++a)j[a]()}:p;return i&&k!==p?(i.$on("$destroy",k),p):k}var ga=function(a,b){if(b){var c,d,e,f=Object.keys(b);for(c=0,d=f.length;d>c;c++)e=f[c],this[e]=b[e]}else this.$attr={};this.$$element=a};ga.prototype={$normalize:jb,$addClass:function(a){a&&a.length>0&&C.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&C.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=kb(a,b);c&&c.length&&C.addClass(this.$$element,c);var d=kb(b,a);d&&d.length&&C.removeClass(this.$$element,d)},$set:function(a,b,d,g){var h,i=this.$$element[0],j=Sa(i,a),k=Ta(i,a),l=a;if(j?(this.$$element.prop(a,b),g=j):k&&(this[k]=b,l=k),this[a]=b,g?this.$attr[a]=g:(g=this.$attr[a],g||(this.$attr[a]=g=ja(a,"-"))),h=M(this.$$element),"a"===h&&"href"===a||"img"===h&&"src"===a)this[a]=b=E(b,"src"===a);else if("img"===h&&"srcset"===a){for(var m="",n=Ld(b),o=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(n)?o:/(,)/,q=n.split(p),r=Math.floor(q.length/2),s=0;r>s;s++){var t=2*s;m+=E(Ld(q[t]),!0),m+=" "+Ld(q[t+1])}var u=Ld(q[2*s]).split(/\s/);m+=E(Ld(u[0]),!0),2===u.length&&(m+=" "+Ld(u[1])),this[a]=b=m}d!==!1&&(null===b||b===c?this.$$element.removeAttr(g):this.$$element.attr(g,b));var v=this.$$observers;v&&f(v[l],function(a){try{a(b)}catch(c){e(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=qa()),e=d[a]||(d[a]=[]);return e.push(b),r.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||t(c[a])||b(c[a])}),function(){N(e,b)}}};var ha=d.startSymbol(),ia=d.endSymbol(),ka="{{"==ha||"}}"==ia?q:function(a){return a.replace(/\{\{/g,ha).replace(/}}/g,ia)},ma=/^ngAttr[A-Z]/;return G.$$addBindingInfo=z?function(a,b){var c=a.data("$binding")||[];Jd(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:p,G.$$addBindingClass=z?function(a){F(a,"ng-binding")}:p,G.$$addScopeInfo=z?function(a,b,c,d){var e=c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope";a.data(e,b)}:p,G.$$addScopeClass=z?function(a,b){F(a,b?"ng-isolate-scope":"ng-scope")}:p,G}]}function jb(a){return wa(a.replace(Ce,""))}function kb(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function lb(a){a=xd(a);var b=a.length;if(1>=b)return a;for(;b--;){var c=a[b];c.nodeType===Vd&&Bd.call(a,b,1)}return a}function mb(a,b){if(b&&x(b))return b;if(x(a)){var c=Ee.exec(a);if(c)return c[3]}}function nb(){var a={},b=!1;this.register=function(b,c){na(b,"controller"),v(b)?l(a,b):a[b]=c},this.allowGlobals=function(){b=!0},this.$get=["$injector","$window",function(e,f){function g(a,b,c,e){if(!a||!v(a.$scope))throw d("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",e,b);a.$scope[b]=c}return function(d,h,i,j){var k,m,n,o;if(i=i===!0,j&&x(j)&&(o=j),x(d)){if(m=d.match(Ee),!m)throw De("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",d);n=m[1],o=o||m[3],d=a.hasOwnProperty(n)?a[n]:oa(h.$scope,n,!0)||(b?oa(f,n,!0):c),ma(d,n,!0)}if(i){var p=(Jd(d)?d[d.length-1]:d).prototype;k=Object.create(p||null),o&&g(h,o,k,n||d.name);var q;return q=l(function(){var a=e.invoke(d,k,h,n);return a!==k&&(v(a)||A(a))&&(k=a,o&&g(h,o,k,n||d.name)),k},{instance:k,identifier:o})}return k=e.instantiate(d,h,n),o&&g(h,o,k,n||d.name),k}}]}function ob(){this.$get=["$window",function(a){return xd(a.document)}]}function pb(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function qb(a){return v(a)?z(a)?a.toISOString():V(a):a}function rb(){this.$get=function(){return function(a){if(!a)return"";var b=[];return g(a,function(a,c){null===a||t(a)||(Jd(a)?f(a,function(a,d){b.push(da(c)+"="+da(qb(a)))}):b.push(da(c)+"="+da(qb(a))))}),b.join("&")}}}function sb(){this.$get=function(){return function(a){function b(a,d,e){null===a||t(a)||(Jd(a)?f(a,function(a,c){b(a,d+"["+(v(a)?c:"")+"]")}):v(a)&&!z(a)?g(a,function(a,c){b(a,d+(e?"":"[")+c+(e?"":"]"))}):c.push(da(d)+"="+da(qb(a))))}if(!a)return"";var c=[];return b(a,"",!0),c.join("&")}}}function tb(a,b){if(x(a)){var c=a.replace(Ke,"").trim();if(c){var d=b("Content-Type");(d&&0===d.indexOf(Ge)||ub(c))&&(a=W(c))}}return a}function ub(a){var b=a.match(Ie);return b&&Je[b[0]].test(a)}function vb(a){function b(a,b){a&&(d[a]=d[a]?d[a]+", "+b:b)}var c,d=qa();return x(a)?f(a.split("\n"),function(a){c=a.indexOf(":"),b(rd(Ld(a.substr(0,c))),Ld(a.substr(c+1)))}):v(a)&&f(a,function(a,c){b(rd(c),Ld(a))}),d}function wb(a){var b;return function(c){if(b||(b=vb(a)),c){var d=b[rd(c)];return void 0===d&&(d=null),d}return b}}function xb(a,b,c,d){return A(d)?d(a,b,c):(f(d,function(d){a=d(a,b,c)}),a)}function yb(a){return a>=200&&300>a}function zb(){var a=this.defaults={transformResponse:[tb],transformRequest:[function(a){return!v(a)||E(a)||G(a)||F(a)?a:V(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:P(He),put:P(He),patch:P(He)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(a){return u(a)?(b=!!a,this):b};var e=!0;this.useLegacyPromiseExtensions=function(a){return u(a)?(e=!!a,this):e};var g=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(h,i,j,k,m,n){function o(b){function g(a){var b=l({},a);return a.data?b.data=xb(a.data,a.headers,a.status,j.transformResponse):b.data=a.data,yb(a.status)?b:m.reject(b)}function h(a,b){var c,d={};return f(a,function(a,e){A(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a}),d}function i(b){var c,d,e,f=a.headers,g=l({},b.headers);f=l({},f.common,f[rd(b.method)]);a:for(c in f){d=rd(c);for(e in g)if(rd(e)===d)continue a;g[c]=f[c]}return h(g,P(b))}if(!Gd.isObject(b))throw d("$http")("badreq","Http request configuration must be an object.  Received: {0}",b);var j=l({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},b);j.headers=i(b),j.method=td(j.method),j.paramSerializer=x(j.paramSerializer)?n.get(j.paramSerializer):j.paramSerializer;var k=function(b){var d=b.headers,e=xb(b.data,wb(d),c,b.transformRequest);return t(e)&&f(d,function(a,b){"content-type"===rd(b)&&delete d[b]}),t(b.withCredentials)&&!t(a.withCredentials)&&(b.withCredentials=a.withCredentials),r(b,e).then(g,g)},o=[k,c],p=m.when(j);for(f(y,function(a){(a.request||a.requestError)&&o.unshift(a.request,a.requestError),(a.response||a.responseError)&&o.push(a.response,a.responseError)});o.length;){var q=o.shift(),s=o.shift();p=p.then(q,s)}return e?(p.success=function(a){return ma(a,"fn"),p.then(function(b){a(b.data,b.status,b.headers,j)}),p},p.error=function(a){return ma(a,"fn"),p.then(null,function(b){a(b.data,b.status,b.headers,j)}),p}):(p.success=Me("success"),p.error=Me("error")),p}function p(a){f(arguments,function(a){o[a]=function(b,c){return o(l({},c||{},{method:a,url:b}))}})}function q(a){f(arguments,function(a){o[a]=function(b,c,d){return o(l({},d||{},{method:a,url:b,data:c}))}})}function r(d,e){function f(a,c,d,e){function f(){g(c,a,d,e)}n&&(yb(a)?n.put(y,[a,c,vb(d),e]):n.remove(y)),b?k.$applyAsync(f):(f(),k.$$phase||k.$apply())}function g(a,b,c,e){b=Math.max(b,0),(yb(b)?q.resolve:q.reject)({data:a,status:b,headers:wb(c),config:d,statusText:e})}function j(a){g(a.data,a.status,P(a.headers()),a.statusText)}function l(){var a=o.pendingRequests.indexOf(d);-1!==a&&o.pendingRequests.splice(a,1)}var n,p,q=m.defer(),r=q.promise,x=d.headers,y=s(d.url,d.paramSerializer(d.params));if(o.pendingRequests.push(d),r.then(l,l),!d.cache&&!a.cache||d.cache===!1||"GET"!==d.method&&"JSONP"!==d.method||(n=v(d.cache)?d.cache:v(a.cache)?a.cache:w),n&&(p=n.get(y),u(p)?I(p)?p.then(j,j):Jd(p)?g(p[1],p[0],P(p[2]),p[3]):g(p,200,{},"OK"):n.put(y,r)),t(p)){var z=yc(d.url)?i()[d.xsrfCookieName||a.xsrfCookieName]:c;z&&(x[d.xsrfHeaderName||a.xsrfHeaderName]=z),h(d.method,y,e,f,x,d.timeout,d.withCredentials,d.responseType)}return r}function s(a,b){return b.length>0&&(a+=(-1==a.indexOf("?")?"?":"&")+b),a}var w=j("$http");a.paramSerializer=x(a.paramSerializer)?n.get(a.paramSerializer):a.paramSerializer;var y=[];return f(g,function(a){y.unshift(x(a)?n.get(a):n.invoke(a))}),o.pendingRequests=[],p("get","delete","head","jsonp"),q("post","put","patch"),o.defaults=a,o}]}function Ab(){return new a.XMLHttpRequest}function Bb(){this.$get=["$browser","$window","$document",function(a,b,c){return Cb(a,Ab,a.defer,b.angular.callbacks,c[0])}]}function Cb(a,b,d,e,g){function h(a,b,c){var d=g.createElement("script"),f=null;return d.type="text/javascript",d.src=a,d.async=!0,f=function(a){ae(d,"load",f),ae(d,"error",f),g.body.removeChild(d),d=null;var h=-1,i="unknown";a&&("load"!==a.type||e[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},_d(d,"load",f),_d(d,"error",f),g.body.appendChild(d),f}return function(g,i,j,k,l,m,n,o){function q(){t&&t(),v&&v.abort()}function r(b,e,f,g,h){y!==c&&d.cancel(y),t=v=null,b(e,f,g,h),a.$$completeOutstandingRequest(p)}if(a.$$incOutstandingRequestCount(),i=i||a.url(),"jsonp"==rd(g)){var s="_"+(e.counter++).toString(36);e[s]=function(a){e[s].data=a,e[s].called=!0};var t=h(i.replace("JSON_CALLBACK","angular.callbacks."+s),s,function(a,b){r(k,a,e[s].data,"",b),e[s]=p})}else{var v=b();v.open(g,i,!0),f(l,function(a,b){u(a)&&v.setRequestHeader(b,a)}),v.onload=function(){var a=v.statusText||"",b="response"in v?v.response:v.responseText,c=1223===v.status?204:v.status;0===c&&(c=b?200:"file"==xc(i).protocol?404:0),r(k,c,b,v.getAllResponseHeaders(),a)};var w=function(){r(k,-1,null,null,"")};if(v.onerror=w,v.onabort=w,n&&(v.withCredentials=!0),o)try{v.responseType=o}catch(x){if("json"!==o)throw x}v.send(j)}if(m>0)var y=d(q,m);else I(m)&&m.then(q)}}function Db(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(m,a).replace(n,b)}function h(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=V(a)}return a}function i(f,i,m,n){function o(a){try{return a=C(a),n&&!u(a)?a:h(a)}catch(b){d(Ne.interr(f,b))}}n=!!n;for(var p,q,r,s=0,v=[],w=[],x=f.length,y=[],z=[];x>s;){if(-1==(p=f.indexOf(a,s))||-1==(q=f.indexOf(b,p+j))){s!==x&&y.push(g(f.substring(s)));break}s!==p&&y.push(g(f.substring(s,p))),r=f.substring(p+j,q),v.push(r),w.push(c(r,o)),s=q+k,z.push(y.length),y.push("")}if(m&&y.length>1&&Ne.throwNoconcat(f),!i||v.length){var B=function(a){for(var b=0,c=v.length;c>b;b++){if(n&&t(a[b]))return;y[z[b]]=a[b]}return y.join("")},C=function(a){return m?e.getTrusted(m,a):e.valueOf(a)};return l(function(a){var b=0,c=v.length,e=new Array(c);try{for(;c>b;b++)e[b]=w[b](a);return B(e)}catch(g){d(Ne.interr(f,g))}},{exp:f,expressions:v,$$watchDelegate:function(a,b){var c;return a.$watchGroup(w,function(d,e){var f=B(d);A(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var j=a.length,k=b.length,m=new RegExp(a.replace(/./g,f),"g"),n=new RegExp(b.replace(/./g,f),"g");return i.startSymbol=function(){return a},i.endSymbol=function(){return b},i}]}function Eb(){this.$get=["$rootScope","$window","$q","$$q",function(a,b,c,d){function e(e,g,h,i){var j=arguments.length>4,k=j?S(arguments,4):[],l=b.setInterval,m=b.clearInterval,n=0,o=u(i)&&!i,p=(o?d:c).defer(),q=p.promise;return h=u(h)?h:0,q.then(null,null,j?function(){e.apply(null,k)}:e),q.$$intervalId=l(function(){p.notify(n++),h>0&&n>=h&&(p.resolve(n),m(q.$$intervalId),delete f[q.$$intervalId]),o||a.$apply()},g),f[q.$$intervalId]=p,q}var f={};return e.cancel=function(a){return a&&a.$$intervalId in f?(f[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete f[a.$$intervalId],!0):!1},e}]}function Fb(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=ca(b[c]);return b.join("/")}function Gb(a,b){var c=xc(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=n(c.port)||Pe[c.protocol]||null}function Hb(a,b){var c="/"!==a.charAt(0);c&&(a="/"+a);var d=xc(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),b.$$search=aa(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function Ib(a,b){return 0===b.indexOf(a)?b.substr(a.length):void 0}function Jb(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function Kb(a){return a.replace(/(#.+)|#$/,"$1");
}function Lb(a){return a.substr(0,Jb(a).lastIndexOf("/")+1)}function Mb(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function Nb(a,b,d){this.$$html5=!0,d=d||"",Gb(a,this),this.$$parse=function(a){var c=Ib(b,a);if(!x(c))throw Qe("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,b);Hb(c,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=ba(this.$$search),c=this.$$hash?"#"+ca(this.$$hash):"";this.$$url=Fb(this.$$path)+(a?"?"+a:"")+c,this.$$absUrl=b+this.$$url.substr(1)},this.$$parseLinkUrl=function(e,f){if(f&&"#"===f[0])return this.hash(f.slice(1)),!0;var g,h,i;return(g=Ib(a,e))!==c?(h=g,i=(g=Ib(d,g))!==c?b+(Ib("/",g)||g):a+h):(g=Ib(b,e))!==c?i=b+g:b==e+"/"&&(i=b),i&&this.$$parse(i),!!i}}function Ob(a,b,c){Gb(a,this),this.$$parse=function(d){function e(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return 0===b.indexOf(c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}var f,g=Ib(a,d)||Ib(b,d);t(g)||"#"!==g.charAt(0)?this.$$html5?f=g:(f="",t(g)&&(a=d,this.replace())):(f=Ib(c,g),t(f)&&(f=g)),Hb(f,this),this.$$path=e(this.$$path,f,a),this.$$compose()},this.$$compose=function(){var b=ba(this.$$search),d=this.$$hash?"#"+ca(this.$$hash):"";this.$$url=Fb(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+(this.$$url?c+this.$$url:"")},this.$$parseLinkUrl=function(b,c){return Jb(a)==Jb(b)?(this.$$parse(b),!0):!1}}function Pb(a,b,c){this.$$html5=!0,Ob.apply(this,arguments),this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a==Jb(d)?f=d:(g=Ib(b,d))?f=a+c+g:b===d+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$compose=function(){var b=ba(this.$$search),d=this.$$hash?"#"+ca(this.$$hash):"";this.$$url=Fb(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+c+this.$$url}}function Qb(a){return function(){return this[a]}}function Rb(a,b){return function(c){return t(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function Sb(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return u(b)?(a=b,this):a},this.html5Mode=function(a){return H(a)?(b.enabled=a,this):v(a)?(H(a.enabled)&&(b.enabled=a.enabled),H(a.requireBase)&&(b.requireBase=a.requireBase),H(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=j.url(),f=j.$$state;try{d.url(a,b,c),j.$$state=d.state()}catch(g){throw j.url(e),j.$$state=f,g}}function i(a,b){c.$broadcast("$locationChangeSuccess",j.absUrl(),a,j.$$state,b)}var j,k,l,m=d.baseHref(),n=d.url();if(b.enabled){if(!m&&b.requireBase)throw Qe("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=Mb(n)+(m||"/"),k=e.history?Nb:Pb}else l=Jb(n),k=Ob;var o=Lb(l);j=new k(l,o,"#"+a),j.$$parseLinkUrl(n,n),j.$$state=d.state();var p=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=xd(a.target);"a"!==M(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");v(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=xc(h.animVal).href),p.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||j.$$parseLinkUrl(h,i)&&(a.preventDefault(),j.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),Kb(j.absUrl())!=Kb(n)&&d.url(j.absUrl(),!0);var q=!0;return d.onUrlChange(function(a,b){return t(Ib(o,a))?void(g.location.href=a):(c.$evalAsync(function(){var d,e=j.absUrl(),f=j.$$state;j.$$parse(a),j.$$state=b,d=c.$broadcast("$locationChangeStart",a,e,b,f).defaultPrevented,j.absUrl()===a&&(d?(j.$$parse(e),j.$$state=f,h(e,!1,f)):(q=!1,i(e,f)))}),void(c.$$phase||c.$digest()))}),c.$watch(function(){var a=Kb(d.url()),b=Kb(j.absUrl()),f=d.state(),g=j.$$replace,k=a!==b||j.$$html5&&e.history&&f!==j.$$state;(q||k)&&(q=!1,c.$evalAsync(function(){var b=j.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,j.$$state,f).defaultPrevented;j.absUrl()===b&&(d?(j.$$parse(a),j.$$state=f):(k&&h(b,g,f===j.$$state?null:j.$$state),i(a,f)))})),j.$$replace=!1}),j}]}function Tb(){var a=!0,b=this;this.debugEnabled=function(b){return u(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||p,g=!1;try{g=!!e.apply}catch(h){}return g?function(){var a=[];return f(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Ub(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw Se("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function Vb(a,b){if(a){if(a.constructor===a)throw Se("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.window===a)throw Se("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw Se("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw Se("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function Wb(a,b){if(a){if(a.constructor===a)throw Se("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===Te||a===Ue||a===Ve)throw Se("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function Xb(a,b){return"undefined"!=typeof a?a:b}function Yb(a,b){return"undefined"==typeof a?b:"undefined"==typeof b?a:a+b}function Zb(a,b){var c=a(b);return!c.$stateful}function $b(a,b){var c,d;switch(a.type){case Ze.Program:c=!0,f(a.body,function(a){$b(a.expression,b),c=c&&a.expression.constant}),a.constant=c;break;case Ze.Literal:a.constant=!0,a.toWatch=[];break;case Ze.UnaryExpression:$b(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case Ze.BinaryExpression:$b(a.left,b),$b(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case Ze.LogicalExpression:$b(a.left,b),$b(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case Ze.ConditionalExpression:$b(a.test,b),$b(a.alternate,b),$b(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case Ze.Identifier:a.constant=!1,a.toWatch=[a];break;case Ze.MemberExpression:$b(a.object,b),a.computed&&$b(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case Ze.CallExpression:c=a.filter?Zb(b,a.callee.name):!1,d=[],f(a.arguments,function(a){$b(a,b),c=c&&a.constant,a.constant||d.push.apply(d,a.toWatch)}),a.constant=c,a.toWatch=a.filter&&Zb(b,a.callee.name)?d:[a];break;case Ze.AssignmentExpression:$b(a.left,b),$b(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case Ze.ArrayExpression:c=!0,d=[],f(a.elements,function(a){$b(a,b),c=c&&a.constant,a.constant||d.push.apply(d,a.toWatch)}),a.constant=c,a.toWatch=d;break;case Ze.ObjectExpression:c=!0,d=[],f(a.properties,function(a){$b(a.value,b),c=c&&a.value.constant,a.value.constant||d.push.apply(d,a.value.toWatch)}),a.constant=c,a.toWatch=d;break;case Ze.ThisExpression:a.constant=!1,a.toWatch=[]}}function _b(a){if(1==a.length){var b=a[0].expression,d=b.toWatch;return 1!==d.length?d:d[0]!==b?d:c}}function ac(a){return a.type===Ze.Identifier||a.type===Ze.MemberExpression}function bc(a){return 1===a.body.length&&ac(a.body[0].expression)?{type:Ze.AssignmentExpression,left:a.body[0].expression,right:{type:Ze.NGValueParameter},operator:"="}:void 0}function cc(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===Ze.Literal||a.body[0].expression.type===Ze.ArrayExpression||a.body[0].expression.type===Ze.ObjectExpression)}function dc(a){return a.constant}function ec(a,b){this.astBuilder=a,this.$filter=b}function fc(a,b){this.astBuilder=a,this.$filter=b}function gc(a){return"constructor"==a}function hc(a){return A(a.valueOf)?a.valueOf():_e.call(a)}function ic(){var a=qa(),b=qa();this.$get=["$filter",function(d){function e(a,b){return null==a||null==b?a===b:"object"==typeof a&&(a=hc(a),"object"==typeof a)?!1:a===b||a!==a&&b!==b}function g(a,b,d,f,g){var h,i=f.inputs;if(1===i.length){var j=e;return i=i[0],a.$watch(function(a){var b=i(a);return e(b,j)||(h=f(a,c,c,[b]),j=b&&hc(b)),h},b,d,g)}for(var k=[],l=[],m=0,n=i.length;n>m;m++)k[m]=e,l[m]=null;return a.$watch(function(a){for(var b=!1,d=0,g=i.length;g>d;d++){var j=i[d](a);(b||(b=!e(j,k[d])))&&(l[d]=j,k[d]=j&&hc(j))}return b&&(h=f(a,c,c,l)),h},b,d,g)}function h(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,A(b)&&b.apply(this,arguments),u(a)&&d.$$postDigest(function(){u(f)&&e()})},c)}function i(a,b,c,d){function e(a){var b=!0;return f(a,function(a){u(a)||(b=!1)}),b}var g,h;return g=a.$watch(function(a){return d(a)},function(a,c,d){h=a,A(b)&&b.call(this,a,c,d),e(a)&&d.$$postDigest(function(){e(h)&&g()})},c)}function j(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){A(b)&&b.apply(this,arguments),e()},c)}function k(a,b){if(!b)return a;var c=a.$$watchDelegate,d=c!==i&&c!==h,e=d?function(c,d,e,f){var g=a(c,d,e,f);return b(g,c,d)}:function(c,d,e,f){var g=a(c,d,e,f),h=b(g,c,d);return u(g)?h:g};return a.$$watchDelegate&&a.$$watchDelegate!==g?e.$$watchDelegate=a.$$watchDelegate:b.$stateful||(e.$$watchDelegate=g,e.inputs=a.inputs?a.inputs:[a]),e}var l=Nd().noUnsafeEval,m={csp:l,expensiveChecks:!1},n={csp:l,expensiveChecks:!0};return function(c,e,f){var l,o,q;switch(typeof c){case"string":c=c.trim(),q=c;var r=f?b:a;if(l=r[q],!l){":"===c.charAt(0)&&":"===c.charAt(1)&&(o=!0,c=c.substring(2));var s=f?n:m,t=new Ye(s),u=new $e(t,d,s);l=u.parse(c),l.constant?l.$$watchDelegate=j:o?l.$$watchDelegate=l.literal?i:h:l.inputs&&(l.$$watchDelegate=g),r[q]=l}return k(l,e);case"function":return k(c,e);default:return p}}}]}function jc(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return lc(function(b){a.$evalAsync(b)},b)}]}function kc(){this.$get=["$browser","$exceptionHandler",function(a,b){return lc(function(b){a.defer(b)},b)}]}function lc(a,b){function e(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function g(){this.$$state={status:0}}function h(a,b){return function(c){b.call(a,c)}}function i(a){var d,e,f;f=a.pending,a.processScheduled=!1,a.pending=c;for(var g=0,h=f.length;h>g;++g){e=f[g][0],d=f[g][a.status];try{A(d)?e.resolve(d(a.value)):1===a.status?e.resolve(a.value):e.reject(a.value)}catch(i){e.reject(i),b(i)}}}function j(b){!b.processScheduled&&b.pending&&(b.processScheduled=!0,a(function(){i(b)}))}function k(){this.promise=new g,this.resolve=h(this,this.resolve),this.reject=h(this,this.reject),this.notify=h(this,this.notify)}function m(a){var b=new k,c=0,d=Jd(a)?[]:{};return f(a,function(a,e){c++,s(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}var n=d("$q",TypeError),o=function(){return new k};l(g.prototype,{then:function(a,b,c){if(t(a)&&t(b)&&t(c))return this;var d=new k;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),this.$$state.status>0&&j(this.$$state),d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return r(b,!0,a)},function(b){return r(b,!1,a)},b)}}),l(k.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(n("qcycle","Expected promise to be resolved with value other than itself '{0}'",a)):this.$$resolve(a))},$$resolve:function(a){var c,d;d=e(this,this.$$resolve,this.$$reject);try{(v(a)||A(a))&&(c=a&&a.then),A(c)?(this.promise.$$state.status=-1,c.call(a,d[0],d[1],this.notify)):(this.promise.$$state.value=a,this.promise.$$state.status=1,j(this.promise.$$state))}catch(f){d[1](f),b(f)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,j(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;this.promise.$$state.status<=0&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;g>f;f++){e=d[f][0],a=d[f][3];try{e.notify(A(a)?a(c):c)}catch(h){b(h)}}})}});var p=function(a){var b=new k;return b.reject(a),b.promise},q=function(a,b){var c=new k;return b?c.resolve(a):c.reject(a),c.promise},r=function(a,b,c){var d=null;try{A(c)&&(d=c())}catch(e){return q(e,!1)}return I(d)?d.then(function(){return q(a,b)},function(a){return q(a,!1)}):q(a,b)},s=function(a,b,c,d){var e=new k;return e.resolve(a),e.promise.then(b,c,d)},u=s,w=function x(a){function b(a){d.resolve(a)}function c(a){d.reject(a)}if(!A(a))throw n("norslvr","Expected resolverFn, got '{0}'",a);if(!(this instanceof x))return new x(a);var d=new k;return a(b,c),d.promise};return w.defer=o,w.reject=p,w.when=s,w.resolve=u,w.all=m,w}function mc(){this.$get=["$window","$timeout",function(a,b){function c(){for(var a=0;a<k.length;a++){var b=k[a];b&&(k[a]=null,b())}j=k.length=0}function d(a){var b=k.length;return j++,k.push(a),0===b&&(i=h(c)),function(){b>=0&&(k[b]=null,b=null,0===--j&&i&&(i(),i=null,k.length=0))}}var e=a.requestAnimationFrame||a.webkitRequestAnimationFrame,f=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,g=!!e,h=g?function(a){var b=e(a);return function(){f(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};d.supported=g;var i,j=0,k=[];return d}]}function nc(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=i(),this.$$ChildScope=null}return b.prototype=a,b}var b=10,c=d("$rootScope"),g=null,h=null;this.digestTtl=function(a){return arguments.length&&(b=a),b},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,j,k,l){function m(a){a.currentScope.$$destroyed=!0}function n(){this.$id=i(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function o(a){if(y.$$phase)throw c("inprog","{0} already in progress",y.$$phase);y.$$phase=a}function q(){y.$$phase=null}function r(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function s(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function u(){}function w(){for(;C.length;)try{C.shift()()}catch(a){j(a)}h=null}function x(){null===h&&(h=l.defer(function(){y.$apply(w)}))}n.prototype={constructor:n,$new:function(b,c){var d;return c=c||this,b?(d=new n,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!=this)&&d.$on("$destroy",m),d},$watch:function(a,b,c,d){var e=k(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e,a);var f=this,h=f.$$watchers,i={fn:b,last:u,get:e,exp:d||a,eq:!!c};return g=null,A(b)||(i.fn=p),h||(h=f.$$watchers=[]),h.unshift(i),r(this,1),function(){N(h,i)>=0&&r(f,-1),g=null}},$watchGroup:function(a,b){function c(){i=!1,j?(j=!1,b(e,e,h)):b(e,d,h)}var d=new Array(a.length),e=new Array(a.length),g=[],h=this,i=!1,j=!0;if(!a.length){var k=!0;return h.$evalAsync(function(){k&&b(e,e,h)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(f(a,function(a,b){var f=h.$watch(a,function(a,f){e[b]=a,d[b]=f,i||(i=!0,h.$evalAsync(c))});g.push(f)}),function(){for(;g.length;)g.shift()()})},$watchCollection:function(a,b){function c(a){f=a;var b,c,d,h,i;if(!t(f)){if(v(f))if(e(f)){g!==n&&(g=n,q=g.length=0,l++),b=f.length,q!==b&&(l++,g.length=q=b);for(var j=0;b>j;j++)i=g[j],h=f[j],d=i!==i&&h!==h,d||i===h||(l++,g[j]=h)}else{g!==o&&(g=o={},q=0,l++),b=0;for(c in f)f.hasOwnProperty(c)&&(b++,h=f[c],i=g[c],c in g?(d=i!==i&&h!==h,d||i===h||(l++,g[c]=h)):(q++,g[c]=h,l++));if(q>b){l++;for(c in g)f.hasOwnProperty(c)||(q--,delete g[c])}}else g!==f&&(g=f,l++);return l}}function d(){if(p?(p=!1,b(f,f,i)):b(f,h,i),j)if(v(f))if(e(f)){h=new Array(f.length);for(var a=0;a<f.length;a++)h[a]=f[a]}else{h={};for(var c in f)sd.call(f,c)&&(h[c]=f[c])}else h=f}c.$stateful=!0;var f,g,h,i=this,j=b.length>1,l=0,m=k(a,c),n=[],o={},p=!0,q=0;return this.$watch(m,d)},$digest:function(){var a,d,e,f,i,k,m,n,p,r,s=b,t=this,v=[];o("$digest"),l.$$checkUrlChange(),this===y&&null!==h&&(l.defer.cancel(h),w()),g=null;do{for(k=!1,n=t;z.length;){try{r=z.shift(),r.scope.$eval(r.expression,r.locals)}catch(x){j(x)}g=null}a:do{if(f=n.$$watchers)for(i=f.length;i--;)try{if(a=f[i])if((d=a.get(n))===(e=a.last)||(a.eq?Q(d,e):"number"==typeof d&&"number"==typeof e&&isNaN(d)&&isNaN(e))){if(a===g){k=!1;break a}}else k=!0,g=a,a.last=a.eq?O(d,null):d,a.fn(d,e===u?d:e,n),5>s&&(p=4-s,v[p]||(v[p]=[]),v[p].push({msg:A(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:d,oldVal:e}))}catch(x){j(x)}if(!(m=n.$$watchersCount&&n.$$childHead||n!==t&&n.$$nextSibling))for(;n!==t&&!(m=n.$$nextSibling);)n=n.$parent}while(n=m);if((k||z.length)&&!s--)throw q(),c("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",b,v)}while(k||z.length);for(q();B.length;)try{B.shift()()}catch(x){j(x)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===y&&l.$$applicationDestroyed(),r(this,-this.$$watchersCount);for(var b in this.$$listenerCount)s(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(a,b){return k(a)(this,b)},$evalAsync:function(a,b){y.$$phase||z.length||l.defer(function(){z.length&&y.$digest()}),z.push({scope:this,expression:a,locals:b})},$$postDigest:function(a){B.push(a)},$apply:function(a){try{o("$apply");try{return this.$eval(a)}finally{q()}}catch(b){j(b)}finally{try{y.$digest()}catch(b){throw j(b),b}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&C.push(b),x()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,s(e,1,a))}},$emit:function(a,b){var c,d,e,f=[],g=this,h=!1,i={name:a,targetScope:g,stopPropagation:function(){h=!0},preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1},k=R([i],arguments,1);do{for(c=g.$$listeners[a]||f,i.currentScope=g,d=0,e=c.length;e>d;d++)if(c[d])try{c[d].apply(null,k)}catch(l){j(l)}else c.splice(d,1),d--,e--;if(h)return i.currentScope=null,i;g=g.$parent}while(g);return i.currentScope=null,i},$broadcast:function(a,b){var c=this,d=c,e=c,f={name:a,targetScope:c,preventDefault:function(){f.defaultPrevented=!0},defaultPrevented:!1};if(!c.$$listenerCount[a])return f;for(var g,h,i,k=R([f],arguments,1);d=e;){for(f.currentScope=d,g=d.$$listeners[a]||[],h=0,i=g.length;i>h;h++)if(g[h])try{g[h].apply(null,k)}catch(l){j(l)}else g.splice(h,1),h--,i--;if(!(e=d.$$listenerCount[a]&&d.$$childHead||d!==c&&d.$$nextSibling))for(;d!==c&&!(e=d.$$nextSibling);)d=d.$parent}return f.currentScope=null,f}};var y=new n,z=y.$$asyncQueue=[],B=y.$$postDigestQueue=[],C=y.$$applyAsyncQueue=[];return y}]}function oc(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return u(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return e=xc(c).href,""===e||e.match(f)?c:"unsafe:"+e}}}function pc(a){if("self"===a)return a;if(x(a)){if(a.indexOf("***")>-1)throw af("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=Md(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(B(a))return new RegExp("^"+a.source+"$");throw af("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function qc(a){var b=[];return u(a)&&f(a,function(a){b.push(pc(a))}),b}function rc(){this.SCE_CONTEXTS=bf;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=qc(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=qc(a)),b},this.$get=["$injector",function(d){function e(a,b){return"self"===a?yc(b):!!a.exec(b.href)}function f(c){var d,f,g=xc(c.toString()),h=!1;for(d=0,f=a.length;f>d;d++)if(e(a[d],g)){h=!0;break}if(h)for(d=0,f=b.length;f>d;d++)if(e(b[d],g)){h=!1;break}return h}function g(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function h(a,b){var d=m.hasOwnProperty(a)?m[a]:null;if(!d)throw af("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||b===c||""===b)return b;if("string"!=typeof b)throw af("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new d(b)}function i(a){return a instanceof l?a.$$unwrapTrustedValue():a}function j(a,b){if(null===b||b===c||""===b)return b;var d=m.hasOwnProperty(a)?m[a]:null;if(d&&b instanceof d)return b.$$unwrapTrustedValue();if(a===bf.RESOURCE_URL){if(f(b))return b;throw af("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===bf.HTML)return k(b);throw af("unsafe","Attempting to use an unsafe value in a safe context.")}var k=function(a){throw af("unsafe","Attempting to use an unsafe value in a safe context.")};d.has("$sanitize")&&(k=d.get("$sanitize"));var l=g(),m={};return m[bf.HTML]=g(l),m[bf.CSS]=g(l),m[bf.URL]=g(l),m[bf.JS]=g(l),m[bf.RESOURCE_URL]=g(m[bf.URL]),{trustAs:h,getTrusted:j,valueOf:i}}]}function sc(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&8>wd)throw af("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var d=P(bf);d.isEnabled=function(){return a},d.trustAs=c.trustAs,d.getTrusted=c.getTrusted,d.valueOf=c.valueOf,a||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=q),d.parseAs=function(a,c){var e=b(c);return e.literal&&e.constant?e:b(c,function(b){return d.getTrusted(a,b)})};var e=d.parseAs,g=d.getTrusted,h=d.trustAs;return f(bf,function(a,b){var c=rd(b);d[wa("parse_as_"+c)]=function(b){return e(a,b)},d[wa("get_trusted_"+c)]=function(b){return g(a,b)},d[wa("trust_as_"+c)]=function(b){return h(a,b)}}),d}]}function tc(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=n((/android (\d+)/.exec(rd((a.navigator||{}).userAgent))||[])[1]),g=/Boxee/i.test((a.navigator||{}).userAgent),h=b[0]||{},i=/^(Moz|webkit|ms)(?=[A-Z])/,j=h.body&&h.body.style,k=!1,l=!1;if(j){for(var m in j)if(d=i.exec(m)){c=d[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in j&&"webkit"),k=!!("transition"in j||c+"Transition"in j),l=!!("animation"in j||c+"Animation"in j),!f||k&&l||(k=x(j.webkitTransition),l=x(j.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>f||g),hasEvent:function(a){if("input"===a&&11>=wd)return!1;if(t(e[a])){var b=h.createElement("div");e[a]="on"+a in b}return e[a]},csp:Nd(),vendorPrefix:c,transitions:k,animations:l,android:f}}]}function uc(){this.$get=["$templateCache","$http","$q","$sce",function(a,b,c,d){function e(f,g){function h(a){if(!g)throw Be("tpload","Failed to load template: {0} (HTTP status: {1} {2})",f,a.status,a.statusText);return c.reject(a)}e.totalPendingRequests++,x(f)&&a.get(f)||(f=d.getTrustedResourceUrl(f));var i=b.defaults&&b.defaults.transformResponse;Jd(i)?i=i.filter(function(a){return a!==tb}):i===tb&&(i=null);var j={cache:a,transformResponse:i};return b.get(f,j)["finally"](function(){e.totalPendingRequests--}).then(function(b){return a.put(f,b.data),b.data},h)}return e.totalPendingRequests=0,e}]}function vc(){this.$get=["$rootScope","$browser","$location",function(a,b,c){var d={};return d.findBindings=function(a,b,c){var d=a.getElementsByClassName("ng-binding"),e=[];return f(d,function(a){var d=Gd.element(a).data("$binding");d&&f(d,function(d){if(c){var f=new RegExp("(^|\\s)"+Md(b)+"(\\s|\\||$)");f.test(d)&&e.push(a)}else-1!=d.indexOf(b)&&e.push(a)})}),e},d.findModels=function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=c?"=":"*=",g="["+d[e]+"model"+f+'"'+b+'"]',h=a.querySelectorAll(g);if(h.length)return h}},d.getLocation=function(){return c.url()},d.setLocation=function(b){b!==c.url()&&(c.url(b),a.$digest())},d.whenStable=function(a){b.notifyWhenNoOutstandingRequests(a)},d}]}function wc(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(f,h,i){A(f)||(i=h,h=f,f=p);var j,k=S(arguments,3),l=u(i)&&!i,m=(l?d:c).defer(),n=m.promise;return j=b.defer(function(){try{m.resolve(f.apply(null,k))}catch(b){m.reject(b),e(b)}finally{delete g[n.$$timeoutId]}l||a.$apply()},h),n.$$timeoutId=j,g[j]=m,n}var g={};return f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1},f}]}function xc(a){var b=a;return wd&&(cf.setAttribute("href",b),b=cf.href),cf.setAttribute("href",b),{href:cf.href,protocol:cf.protocol?cf.protocol.replace(/:$/,""):"",host:cf.host,search:cf.search?cf.search.replace(/^\?/,""):"",hash:cf.hash?cf.hash.replace(/^#/,""):"",hostname:cf.hostname,port:cf.port,pathname:"/"===cf.pathname.charAt(0)?cf.pathname:"/"+cf.pathname}}function yc(a){var b=x(a)?xc(a):a;return b.protocol===df.protocol&&b.host===df.host}function zc(){this.$get=r(a)}function Ac(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},e={},f="";return function(){var a,g,h,i,j,k=d.cookie||"";if(k!==f)for(f=k,a=f.split("; "),e={},h=0;h<a.length;h++)g=a[h],i=g.indexOf("="),i>0&&(j=b(g.substring(0,i)),e[j]===c&&(e[j]=b(g.substring(i+1))));return e}}function Bc(){this.$get=Ac}function Cc(a){function b(d,e){if(v(d)){var g={};return f(d,function(a,c){g[c]=b(c,a)}),g}return a.factory(d+c,e)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",Hc),b("date",Uc),b("filter",Dc),b("json",Vc),b("limitTo",Wc),b("lowercase",jf),b("number",Ic),b("orderBy",Xc),b("uppercase",kf)}function Dc(){return function(a,b,c){if(!e(a)){if(null==a)return a;throw d("filter")("notarray","Expected array but received: {0}",a)}var f,g,h=Gc(b);switch(h){case"function":f=b;break;case"boolean":case"null":case"number":case"string":g=!0;case"object":f=Ec(b,c,g);break;default:return a}return Array.prototype.filter.call(a,f)}}function Ec(a,b,c){var d,e=v(a)&&"$"in a;return b===!0?b=Q:A(b)||(b=function(a,b){return t(a)?!1:null===a||null===b?a===b:v(b)||v(a)&&!s(a)?!1:(a=rd(""+a),b=rd(""+b),-1!==a.indexOf(b))}),d=function(d){return e&&!v(d)?Fc(d,a.$,b,!1):Fc(d,a,b,c)}}function Fc(a,b,c,d,e){var f=Gc(a),g=Gc(b);if("string"===g&&"!"===b.charAt(0))return!Fc(a,b.substring(1),c,d);if(Jd(a))return a.some(function(a){return Fc(a,b,c,d)});switch(f){case"object":var h;if(d){for(h in a)if("$"!==h.charAt(0)&&Fc(a[h],b,c,!0))return!0;return e?!1:Fc(a,b,c,!1)}if("object"===g){for(h in b){var i=b[h];if(!A(i)&&!t(i)){var j="$"===h,k=j?a:a[h];if(!Fc(k,i,c,j,j))return!1}}return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function Gc(a){return null===a?"null":typeof a}function Hc(a){var b=a.NUMBER_FORMATS;return function(a,c,d){return t(c)&&(c=b.CURRENCY_SYM),t(d)&&(d=b.PATTERNS[1].maxFrac),null==a?a:Jc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function Ic(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Jc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Jc(a,b,c,d,e){if(v(a))return"";var f=0>a;a=Math.abs(a);var g=a===1/0;if(!g&&!isFinite(a))return"";var h=a+"",i="",j=!1,k=[];if(g&&(i="∞"),!g&&-1!==h.indexOf("e")){var l=h.match(/([\d\.]+)e(-?)(\d+)/);l&&"-"==l[2]&&l[3]>e+1?a=0:(i=h,j=!0)}if(g||j)e>0&&1>a&&(i=a.toFixed(e),a=parseFloat(i));else{var m=(h.split(ef)[1]||"").length;t(e)&&(e=Math.min(Math.max(b.minFrac,m),b.maxFrac)),a=+(Math.round(+(a.toString()+"e"+e)).toString()+"e"+-e);var n=(""+a).split(ef),o=n[0];n=n[1]||"";var p,q=0,r=b.lgSize,s=b.gSize;if(o.length>=r+s)for(q=o.length-r,p=0;q>p;p++)(q-p)%s===0&&0!==p&&(i+=c),i+=o.charAt(p);for(p=q;p<o.length;p++)(o.length-p)%r===0&&0!==p&&(i+=c),i+=o.charAt(p);for(;n.length<e;)n+="0";e&&"0"!==e&&(i+=d+n.substr(0,e))}return 0===a&&(f=!1),k.push(f?b.negPre:b.posPre,i,f?b.negSuf:b.posSuf),k.join("")}function Kc(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function Lc(a,b,c,d){return c=c||0,function(e){var f=e["get"+a]();return(c>0||f>-c)&&(f+=c),0===f&&-12==c&&(f=12),Kc(f,b,d)}}function Mc(a,b){return function(c,d){var e=c["get"+a](),f=td(b?"SHORT"+a:a);return d[f][e]}}function Nc(a,b,c){var d=-1*c,e=d>=0?"+":"";return e+=Kc(Math[d>0?"floor":"ceil"](d/60),2)+Kc(Math.abs(d%60),2)}function Oc(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Pc(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function Qc(a){return function(b){var c=Oc(b.getFullYear()),d=Pc(b),e=+d-+c,f=1+Math.round(e/6048e5);return Kc(f,a)}}function Rc(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function Sc(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function Tc(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}function Uc(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=n(b[9]+b[10]),f=n(b[9]+b[11])),g.call(d,n(b[1]),n(b[2])-1,n(b[3]));var i=n(b[4]||0)-e,j=n(b[5]||0)-f,k=n(b[6]||0),l=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,l),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,e){var g,h,i="",j=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,x(c)&&(c=hf.test(c)?n(c):b(c)),y(c)&&(c=new Date(c)),!z(c)||!isFinite(c.getTime()))return c;for(;d;)h=gf.exec(d),h?(j=R(j,h,1),d=j.pop()):(j.push(d),d=null);var k=c.getTimezoneOffset();return e&&(k=X(e,c.getTimezoneOffset()),c=Z(c,e,!0)),f(j,function(b){g=ff[b],i+=g?g(c,a.DATETIME_FORMATS,k):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function Vc(){return function(a,b){return t(b)&&(b=2),V(a,b)}}function Wc(){return function(a,b,c){return b=Math.abs(Number(b))===1/0?Number(b):n(b),isNaN(b)?a:(y(a)&&(a=a.toString()),
Jd(a)||x(a)?(c=!c||isNaN(c)?0:n(c),c=0>c&&c>=-a.length?a.length+c:c,b>=0?a.slice(c,c+b):0===c?a.slice(b,a.length):a.slice(Math.max(0,c+b),c)):a)}}function Xc(a){function b(b,c){return c=c?-1:1,b.map(function(b){var d=1,e=q;if(A(b))e=b;else if(x(b)&&(("+"==b.charAt(0)||"-"==b.charAt(0))&&(d="-"==b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(e=a(b),e.constant))){var f=e();e=function(a){return a[f]}}return{get:e,descending:d*c}})}function c(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function d(a,b){return"function"==typeof a.valueOf&&(a=a.valueOf(),c(a))?a:s(a)&&(a=a.toString(),c(a))?a:b}function f(a,b){var c=typeof a;return null===a?(c="string",a="null"):"string"===c?a=a.toLowerCase():"object"===c&&(a=d(a,b)),{value:a,type:c}}function g(a,b){var c=0;return a.type===b.type?a.value!==b.value&&(c=a.value<b.value?-1:1):c=a.type<b.type?-1:1,c}return function(a,c,d){function h(a,b){return{value:a,predicateValues:j.map(function(c){return f(c.get(a),b)})}}function i(a,b){for(var c=0,d=0,e=j.length;e>d&&!(c=g(a.predicateValues[d],b.predicateValues[d])*j[d].descending);++d);return c}if(!e(a))return a;Jd(c)||(c=[c]),0===c.length&&(c=["+"]);var j=b(c,d);j.push({get:function(){return{}},descending:d?-1:1});var k=Array.prototype.map.call(a,h);return k.sort(i),a=k.map(function(a){return a.value})}}function Yc(a){return A(a)&&(a={link:a}),a.restrict=a.restrict||"AC",r(a)}function Zc(a,b){a.$name=b}function $c(a,b,d,e,g){var h=this,i=[],j=h.$$parentForm=a.parent().controller("form")||nf;h.$error={},h.$$success={},h.$pending=c,h.$name=g(b.name||b.ngForm||"")(d),h.$dirty=!1,h.$pristine=!0,h.$valid=!0,h.$invalid=!1,h.$submitted=!1,j.$addControl(h),h.$rollbackViewValue=function(){f(i,function(a){a.$rollbackViewValue()})},h.$commitViewValue=function(){f(i,function(a){a.$commitViewValue()})},h.$addControl=function(a){na(a.$name,"input"),i.push(a),a.$name&&(h[a.$name]=a)},h.$$renameControl=function(a,b){var c=a.$name;h[c]===a&&delete h[c],h[b]=a,a.$name=b},h.$removeControl=function(a){a.$name&&h[a.$name]===a&&delete h[a.$name],f(h.$pending,function(b,c){h.$setValidity(c,null,a)}),f(h.$error,function(b,c){h.$setValidity(c,null,a)}),f(h.$$success,function(b,c){h.$setValidity(c,null,a)}),N(i,a)},nd({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];if(d){var e=d.indexOf(c);-1===e&&d.push(c)}else a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(N(d,c),0===d.length&&delete a[b])},parentForm:j,$animate:e}),h.$setDirty=function(){e.removeClass(a,Xf),e.addClass(a,Yf),h.$dirty=!0,h.$pristine=!1,j.$setDirty()},h.$setPristine=function(){e.setClass(a,Xf,Yf+" "+of),h.$dirty=!1,h.$pristine=!0,h.$submitted=!1,f(i,function(a){a.$setPristine()})},h.$setUntouched=function(){f(i,function(a){a.$setUntouched()})},h.$setSubmitted=function(){e.addClass(a,of),h.$submitted=!0,j.$setSubmitted()}}function _c(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function ad(a,b,c,d,e,f){bd(a,b,c,d,e,f),_c(d)}function bd(a,b,c,d,e,f){var g=rd(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(a){h=!0}),b.on("compositionend",function(){h=!1,i()})}var i=function(a){if(j&&(f.defer.cancel(j),j=null),!h){var e=b.val(),i=a&&a.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=Ld(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,i)}};if(e.hasEvent("input"))b.on("input",i);else{var j,k=function(a,b,c){j||(j=f.defer(function(){j=null,b&&b.value===c||i(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||k(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",k)}b.on("change",i),d.$render=function(){var a=d.$isEmpty(d.$viewValue)?"":d.$viewValue;b.val()!==a&&b.val(a)}}function cd(a,b){if(z(a))return a;if(x(a)){yf.lastIndex=0;var c=yf.exec(a);if(c){var d=+c[1],e=+c[2],f=0,g=0,h=0,i=0,j=Oc(d),k=7*(e-1);return b&&(f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=b.getMilliseconds()),new Date(d,0,j.getDate()+k,f,g,h,i)}}return NaN}function dd(a,b){return function(c,d){var e,g;if(z(c))return c;if(x(c)){if('"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),sf.test(c))return new Date(c);if(a.lastIndex=0,e=a.exec(c))return e.shift(),g=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},f(e,function(a,c){c<b.length&&(g[b[c]]=+a)}),new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1e3*g.sss||0)}return NaN}}function ed(a,b,d,e){return function(f,g,h,i,j,k,l){function m(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function n(a){return u(a)?z(a)?a:d(a):c}fd(f,g,h,i),bd(f,g,h,i,j,k);var o,p=i&&i.$options&&i.$options.timezone;if(i.$$parserName=a,i.$parsers.push(function(a){if(i.$isEmpty(a))return null;if(b.test(a)){var e=d(a,o);return p&&(e=Z(e,p)),e}return c}),i.$formatters.push(function(a){if(a&&!z(a))throw ag("datefmt","Expected `{0}` to be a date",a);return m(a)?(o=a,o&&p&&(o=Z(o,p,!0)),l("date")(a,e,p)):(o=null,"")}),u(h.min)||h.ngMin){var q;i.$validators.min=function(a){return!m(a)||t(q)||d(a)>=q},h.$observe("min",function(a){q=n(a),i.$validate()})}if(u(h.max)||h.ngMax){var r;i.$validators.max=function(a){return!m(a)||t(r)||d(a)<=r},h.$observe("max",function(a){r=n(a),i.$validate()})}}}function fd(a,b,d,e){var f=b[0],g=e.$$hasNativeValidators=v(f.validity);g&&e.$parsers.push(function(a){var d=b.prop(qd)||{};return d.badInput&&!d.typeMismatch?c:a})}function gd(a,b,d,e,f,g){if(fd(a,b,d,e),bd(a,b,d,e,f,g),e.$$parserName="number",e.$parsers.push(function(a){return e.$isEmpty(a)?null:vf.test(a)?parseFloat(a):c}),e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!y(a))throw ag("numfmt","Expected `{0}` to be a number",a);a=a.toString()}return a}),u(d.min)||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||t(h)||a>=h},d.$observe("min",function(a){u(a)&&!y(a)&&(a=parseFloat(a,10)),h=y(a)&&!isNaN(a)?a:c,e.$validate()})}if(u(d.max)||d.ngMax){var i;e.$validators.max=function(a){return e.$isEmpty(a)||t(i)||i>=a},d.$observe("max",function(a){u(a)&&!y(a)&&(a=parseFloat(a,10)),i=y(a)&&!isNaN(a)?a:c,e.$validate()})}}function hd(a,b,c,d,e,f){bd(a,b,c,d,e,f),_c(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||tf.test(c)}}function id(a,b,c,d,e,f){bd(a,b,c,d,e,f),_c(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||uf.test(c)}}function jd(a,b,c,d){t(c.name)&&b.attr("name",i());var e=function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)};b.on("click",e),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function kd(a,b,c,d,e){var f;if(u(d)){if(f=a(d),!f.constant)throw ag("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",c,d);return f(b)}return e}function ld(a,b,c,d,e,f,g,h){var i=kd(h,a,"ngTrueValue",c.ngTrueValue,!0),j=kd(h,a,"ngFalseValue",c.ngFalseValue,!1),k=function(a){d.$setViewValue(b[0].checked,a&&a.type)};b.on("click",k),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a===!1},d.$formatters.push(function(a){return Q(a,i)}),d.$parsers.push(function(a){return a?i:j})}function md(a,b){return a="ngClass"+a,["$animate",function(c){function d(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function e(a){var b=[];return Jd(a)?(f(a,function(a){b=b.concat(e(a))}),b):x(a)?a.split(" "):v(a)?(f(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(g,h,i){function j(a){var b=l(a,1);i.$addClass(b)}function k(a){var b=l(a,-1);i.$removeClass(b)}function l(a,b){var c=h.data("$classCounts")||qa(),d=[];return f(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&d.push(a))}),h.data("$classCounts",c),d.join(" ")}function m(a,b){var e=d(b,a),f=d(a,b);e=l(e,1),f=l(f,-1),e&&e.length&&c.addClass(h,e),f&&f.length&&c.removeClass(h,f)}function n(a){if(b===!0||g.$index%2===b){var c=e(a||[]);if(o){if(!Q(a,o)){var d=e(o);m(d,c)}}else j(c)}o=P(a)}var o;g.$watch(i[a],n,!0),i.$observe("class",function(b){n(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var f=1&c;if(f!==(1&d)){var h=e(g.$eval(i[a]));f===b?j(h):k(h)}})}}}]}function nd(a){function b(a,b,i){b===c?d("$pending",a,i):e("$pending",a,i),H(b)?b?(l(h.$error,a,i),k(h.$$success,a,i)):(k(h.$error,a,i),l(h.$$success,a,i)):(l(h.$error,a,i),l(h.$$success,a,i)),h.$pending?(f(_f,!0),h.$valid=h.$invalid=c,g("",null)):(f(_f,!1),h.$valid=od(h.$error),h.$invalid=!h.$valid,g("",h.$valid));var j;j=h.$pending&&h.$pending[a]?c:h.$error[a]?!1:h.$$success[a]?!0:null,g(a,j),m.$setValidity(a,j,h)}function d(a,b,c){h[a]||(h[a]={}),k(h[a],b,c)}function e(a,b,d){h[a]&&l(h[a],b,d),od(h[a])&&(h[a]=c)}function f(a,b){b&&!j[a]?(n.addClass(i,a),j[a]=!0):!b&&j[a]&&(n.removeClass(i,a),j[a]=!1)}function g(a,b){a=a?"-"+ja(a,"-"):"",f(Vf+a,b===!0),f(Wf+a,b===!1)}var h=a.ctrl,i=a.$element,j={},k=a.set,l=a.unset,m=a.parentForm,n=a.$animate;j[Wf]=!(j[Vf]=i.hasClass(Vf)),h.$setValidity=b}function od(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}var pd=/^\/(.+)\/([a-z]*)$/,qd="validity",rd=function(a){return x(a)?a.toLowerCase():a},sd=Object.prototype.hasOwnProperty,td=function(a){return x(a)?a.toUpperCase():a},ud=function(a){return x(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},vd=function(a){return x(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(-33&a.charCodeAt(0))}):a};"i"!=="I".toLowerCase()&&(rd=ud,td=vd);var wd,xd,yd,zd,Ad=[].slice,Bd=[].splice,Cd=[].push,Dd=Object.prototype.toString,Ed=Object.getPrototypeOf,Fd=d("ng"),Gd=a.angular||(a.angular={}),Hd=0;wd=b.documentMode,p.$inject=[],q.$inject=[];var Id,Jd=Array.isArray,Kd=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,Ld=function(a){return x(a)?a.trim():a},Md=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Nd=function(){function a(){try{return new Function(""),!1}catch(a){return!0}}if(!u(Nd.rules)){var c=b.querySelector("[ng-csp]")||b.querySelector("[data-ng-csp]");if(c){var d=c.getAttribute("ng-csp")||c.getAttribute("data-ng-csp");Nd.rules={noUnsafeEval:!d||-1!==d.indexOf("no-unsafe-eval"),noInlineStyle:!d||-1!==d.indexOf("no-inline-style")}}else Nd.rules={noUnsafeEval:a(),noInlineStyle:!1}}return Nd.rules},Od=function(){if(u(Od.name_))return Od.name_;var a,c,d,e,f=Pd.length;for(c=0;f>c;++c)if(d=Pd[c],a=b.querySelector("["+d.replace(":","\\:")+"jq]")){e=a.getAttribute(d+"jq");break}return Od.name_=e},Pd=["ng-","data-ng-","ng:","x-ng-"],Qd=/[A-Z]/g,Rd=!1,Sd=1,Td=2,Ud=3,Vd=8,Wd=9,Xd=11,Yd={full:"1.4.4",major:1,minor:4,dot:4,codeName:"pylon-requirement"};Ca.expando="ng339";var Zd=Ca.cache={},$d=1,_d=function(a,b,c){a.addEventListener(b,c,!1)},ae=function(a,b,c){a.removeEventListener(b,c,!1)};Ca._data=function(a){return this.cache[a[this.expando]]||{}};var be=/([\:\-\_]+(.))/g,ce=/^moz([A-Z])/,de={mouseleave:"mouseout",mouseenter:"mouseover"},ee=d("jqLite"),fe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ge=/<|&#?\w+;/,he=/<([\w:]+)/,ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,je={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};je.optgroup=je.option,je.tbody=je.tfoot=je.colgroup=je.caption=je.thead,je.th=je.td;var ke=Ca.prototype={ready:function(c){function d(){e||(e=!0,c())}var e=!1;"complete"===b.readyState?setTimeout(d):(this.on("DOMContentLoaded",d),Ca(a).on("load",d))},toString:function(){var a=[];return f(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return xd(a>=0?this[a]:this[this.length+a])},length:0,push:Cd,sort:[].sort,splice:[].splice},le={};f("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){le[rd(a)]=a});var me={};f("input,select,option,textarea,button,form,details".split(","),function(a){me[a]=!0});var ne={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};f({data:Ia,removeData:Ga,hasData:za},function(a,b){Ca[b]=a}),f({data:Ia,inheritedData:Oa,scope:function(a){return xd.data(a,"$scope")||Oa(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return xd.data(a,"$isolateScope")||xd.data(a,"$isolateScopeNoTemplate")},controller:Na,injector:function(a){return Oa(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Ja,css:function(a,b,c){return b=wa(b),u(c)?void(a.style[b]=c):a.style[b]},attr:function(a,b,d){var e=a.nodeType;if(e!==Ud&&e!==Td&&e!==Vd){var f=rd(b);if(le[f]){if(!u(d))return a[b]||(a.attributes.getNamedItem(b)||p).specified?f:c;d?(a[b]=!0,a.setAttribute(b,f)):(a[b]=!1,a.removeAttribute(f))}else if(u(d))a.setAttribute(b,d);else if(a.getAttribute){var g=a.getAttribute(b,2);return null===g?c:g}}},prop:function(a,b,c){return u(c)?void(a[b]=c):a[b]},text:function(){function a(a,b){if(t(b)){var c=a.nodeType;return c===Sd||c===Ud?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(t(b)){if(a.multiple&&"select"===M(a)){var c=[];return f(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){return t(b)?a.innerHTML:(Ea(a,!0),void(a.innerHTML=b))},empty:Pa},function(a,b){Ca.prototype[b]=function(b,d){var e,f,g=this.length;if(a!==Pa&&(2==a.length&&a!==Ja&&a!==Na?b:d)===c){if(v(b)){for(e=0;g>e;e++)if(a===Ia)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}for(var h=a.$dv,i=h===c?Math.min(g,1):g,j=0;i>j;j++){var k=a(this[j],b,d);h=h?h+k:k}return h}for(e=0;g>e;e++)a(this[e],b,d);return this}}),f({removeData:Ga,on:function Eg(a,b,c,d){if(u(d))throw ee("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ya(a)){var e=Ha(a,!0),f=e.events,g=e.handle;g||(g=e.handle=Ua(a,f));for(var h=b.indexOf(" ")>=0?b.split(" "):[b],i=h.length;i--;){b=h[i];var j=f[b];j||(f[b]=[],"mouseenter"===b||"mouseleave"===b?Eg(a,de[b],function(a){var c=this,d=a.relatedTarget;(!d||d!==c&&!c.contains(d))&&g(a,b)}):"$destroy"!==b&&_d(a,b,g),j=f[b]),j.push(c)}}},off:Fa,one:function(a,b,c){a=xd(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;Ea(a),f(new Ca(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return f(a.childNodes,function(a){a.nodeType===Sd&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c===Sd||c===Xd){b=new Ca(b);for(var d=0,e=b.length;e>d;d++){var f=b[d];a.appendChild(f)}}},prepend:function(a,b){if(a.nodeType===Sd){var c=a.firstChild;f(new Ca(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){b=xd(b).eq(0).clone()[0];var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)},remove:Qa,detach:function(a){Qa(a,!0)},after:function(a,b){var c=a,d=a.parentNode;b=new Ca(b);for(var e=0,f=b.length;f>e;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}},addClass:La,removeClass:Ka,toggleClass:function(a,b,c){b&&f(b.split(" "),function(b){var d=c;t(d)&&(d=!Ja(a,b)),(d?La:Ka)(a,b)})},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==Xd?b:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Da,triggerHandler:function(a,b,c){var d,e,g,h=b.type||b,i=Ha(a),j=i&&i.events,k=j&&j[h];k&&(d={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:h,target:a},b.type&&(d=l(d,b)),e=P(k),g=c?[d].concat(c):[d],f(e,function(b){d.isImmediatePropagationStopped()||b.apply(a,g)}))}},function(a,b){Ca.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;g>f;f++)t(e)?(e=a(this[f],b,c,d),u(e)&&(e=xd(e))):Ma(e,a(this[f],b,c,d));return u(e)?e:this},Ca.prototype.bind=Ca.prototype.on,Ca.prototype.unbind=Ca.prototype.off}),Xa.prototype={put:function(a,b){this[Wa(a,this.nextUid)]=b},get:function(a){return this[Wa(a,this.nextUid)]},remove:function(a){var b=this[a=Wa(a,this.nextUid)];return delete this[a],b}};var oe=[function(){this.$get=[function(){return Xa}]}],pe=/^[^\(]*\(\s*([^\)]*)\)/m,qe=/,/,re=/^\s*(_?)(\S+?)\1\s*$/,se=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,te=d("$injector");$a.$$annotate=Za;var ue=d("$animate"),ve=1,we="ng-animate",xe=function(){this.$get=["$q","$$rAF",function(a,b){function c(){}return c.all=p,c.chain=p,c.prototype={end:p,cancel:p,resume:p,pause:p,complete:p,then:function(c,d){return a(function(a){b(function(){a()})}).then(c,d)}},c}]},ye=function(){var a=new Xa,b=[];this.$get=["$$AnimateRunner","$rootScope",function(c,d){function e(c,e,g){var h=a.get(c);h||(a.put(c,h={}),b.push(c));var i=function(a,b){var c=!1;return a&&(a=x(a)?a.split(" "):Jd(a)?a:[],f(a,function(a){a&&(c=!0,h[a]=b)})),c},j=i(e,!0),k=i(g,!1);!j&&!k||b.length>1||d.$$postDigest(function(){f(b,function(b){var c=a.get(b);if(c){var d=cb(b.attr("class")),e="",g="";f(c,function(a,b){var c=!!d[b];a!==c&&(a?e+=(e.length?" ":"")+b:g+=(g.length?" ":"")+b)}),f(b,function(a){e&&La(a,e),g&&Ka(a,g)}),a.remove(b)}}),b.length=0})}return{enabled:p,on:p,off:p,pin:p,push:function(a,b,d,f){return f&&f(),d=d||{},d.from&&a.css(d.from),d.to&&a.css(d.to),(d.addClass||d.removeClass)&&e(a,d.addClass,d.removeClass),new c}}}]},ze=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&&"."!==c.charAt(0))throw ue("notcsel","Expecting class selector starting with '.' got '{0}'.",c);var e=c+"-animation";b.$$registeredAnimations[c.substr(1)]=e,a.factory(e,d)},this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null,this.$$classNameFilter)){var b=new RegExp("(\\s+|\\/)"+we+"(\\s+|\\/)");if(b.test(this.$$classNameFilter.toString()))throw ue("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',we)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(a){function b(a,b,c){if(c){var d=bb(c);!d||d.parentNode||d.previousElementSibling||(c=null)}c?c.after(a):b.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(c,d,e,f){return d=d&&xd(d),e=e&&xd(e),d=d||e.parent(),b(c,d,e),a.push(c,"enter",db(f))},move:function(c,d,e,f){return d=d&&xd(d),e=e&&xd(e),d=d||e.parent(),b(c,d,e),a.push(c,"move",db(f))},leave:function(b,c){return a.push(b,"leave",db(c),function(){b.remove()})},addClass:function(b,c,d){return d=db(d),d.addClass=ab(d.addclass,c),a.push(b,"addClass",d)},removeClass:function(b,c,d){return d=db(d),d.removeClass=ab(d.removeClass,c),a.push(b,"removeClass",d)},setClass:function(b,c,d,e){return e=db(e),e.addClass=ab(e.addClass,c),e.removeClass=ab(e.removeClass,d),a.push(b,"setClass",e)},animate:function(b,c,d,e,f){return f=db(f),f.from=f.from?l(f.from,c):c,f.to=f.to?l(f.to,d):d,e=e||"ng-inline-animate",f.tempClasses=ab(f.tempClasses,e),a.push(b,"animate",f)}}}]}],Ae=function(){this.$get=["$$rAF","$q",function(a,b){var c=function(){};return c.prototype={done:function(a){this.defer&&this.defer[a===!0?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=b.defer()),this.defer.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)}},function(b,d){function e(){return a(function(){f(),g||h.done(),g=!0}),h}function f(){d.addClass&&(b.addClass(d.addClass),d.addClass=null),d.removeClass&&(b.removeClass(d.removeClass),d.removeClass=null),d.to&&(b.css(d.to),d.to=null)}d.from&&(b.css(d.from),d.from=null);var g,h=new c;return{start:e,end:e}}}]},Be=d("$compile");ib.$inject=["$provide","$$sanitizeUriProvider"];var Ce=/^((?:x|data)[\:\-_])/i,De=d("$controller"),Ee=/^(\S+)(\s+as\s+(\w+))?$/,Fe=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof xd&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},Ge="application/json",He={"Content-Type":Ge+";charset=utf-8"},Ie=/^\[|^\{(?!\{)/,Je={"[":/]$/,"{":/}$/},Ke=/^\)\]\}',?\n/,Le=d("$http"),Me=function(a){return function(){throw Le("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",a)}},Ne=Gd.$interpolateMinErr=d("$interpolate");Ne.throwNoconcat=function(a){throw Ne("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a)},Ne.interr=function(a,b){return Ne("interr","Can't interpolate: {0}\n{1}",a,b.toString())};var Oe=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Pe={http:80,https:443,ftp:21},Qe=d("$location"),Re={$$html5:!1,$$replace:!1,absUrl:Qb("$$absUrl"),url:function(a){if(t(a))return this.$$url;var b=Oe.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Qb("$$protocol"),host:Qb("$$host"),port:Qb("$$port"),path:Rb("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(x(a)||y(a))a=a.toString(),this.$$search=aa(a);else{if(!v(a))throw Qe("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");a=O(a,{}),f(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:t(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:Rb("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};f([Pb,Ob,Nb],function(a){a.prototype=Object.create(Re),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==Nb||!this.$$html5)throw Qe("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=t(b)?null:b,this}});var Se=d("$parse"),Te=Function.prototype.call,Ue=Function.prototype.apply,Ve=Function.prototype.bind,We=qa();f("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){We[a]=!0});var Xe={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Ye=function(a){this.options=a};Ye.prototype={constructor:Ye,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;){var b=this.text.charAt(this.index);if('"'===b||"'"===b)this.readString(b);else if(this.isNumber(b)||"."===b&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(b))this.readIdent();else if(this.is(b,"(){}[].,;:?"))this.tokens.push({index:this.index,text:b}),this.index++;else if(this.isWhitespace(b))this.index++;else{var c=b+this.peek(),d=c+this.peek(2),e=We[b],f=We[c],g=We[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:!0}),this.index+=h.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):!1},isNumber:function(a){return a>="0"&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||" "===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=u(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw Se("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=rd(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=Xe[f];c+=h||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var Ze=function(a,b){this.lexer=a,this.options=b};Ze.Program="Program",Ze.ExpressionStatement="ExpressionStatement",Ze.AssignmentExpression="AssignmentExpression",Ze.ConditionalExpression="ConditionalExpression",Ze.LogicalExpression="LogicalExpression",Ze.BinaryExpression="BinaryExpression",Ze.UnaryExpression="UnaryExpression",Ze.CallExpression="CallExpression",Ze.MemberExpression="MemberExpression",Ze.Identifier="Identifier",Ze.Literal="Literal",Ze.ArrayExpression="ArrayExpression",Ze.Property="Property",Ze.ObjectExpression="ObjectExpression",Ze.ThisExpression="ThisExpression",Ze.NGValueParameter="NGValueParameter",Ze.prototype={ast:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b},program:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:Ze.Program,body:a}},expressionStatement:function(){return{type:Ze.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a,b=this.expression();a=this.expect("|");)b=this.filter(b);return b},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();return this.expect("=")&&(a={type:Ze.AssignmentExpression,left:a,right:this.assignment(),operator:"="}),a},ternary:function(){var a,b,c=this.logicalOR();return this.expect("?")&&(a=this.expression(),this.consume(":"))?(b=this.expression(),{type:Ze.ConditionalExpression,test:c,alternate:a,consequent:b}):c},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:Ze.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:Ze.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a,b=this.relational();a=this.expect("==","!=","===","!==");)b={type:Ze.BinaryExpression,operator:a.text,left:b,right:this.relational()};return b},relational:function(){for(var a,b=this.additive();a=this.expect("<",">","<=",">=");)b={type:Ze.BinaryExpression,operator:a.text,left:b,right:this.additive()};return b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b={type:Ze.BinaryExpression,operator:a.text,left:b,right:this.multiplicative()};return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b={type:Ze.BinaryExpression,operator:a.text,left:b,right:this.unary()};return b},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:Ze.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.constants.hasOwnProperty(this.peek().text)?a=O(this.constants[this.consume().text]):this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:Ze.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:Ze.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:Ze.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){for(var b=[a],c={type:Ze.CallExpression,callee:this.identifier(),arguments:b,filter:!0};this.expect(":");)b.push(this.expression());return c},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do a.push(this.expression());while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:Ze.Identifier,name:a.text}},constant:function(){return{type:Ze.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Ze.ArrayExpression,elements:a}},object:function(){var a,b=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;a={type:Ze.Property,kind:"init"},this.peek().constant?a.key=this.constant():this.peek().identifier?a.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),a.value=this.expression(),b.push(a)}while(this.expect(","));return this.consume("}"),{type:Ze.ObjectExpression,properties:b}},throwError:function(a,b){throw Se("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw Se("ueoe","Unexpected end of expression: {0}",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw Se("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){var f=this.tokens[a],g=f.text;if(g===b||g===c||g===d||g===e||!b&&!c&&!d&&!e)return f}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return e?(this.tokens.shift(),e):!1},constants:{"true":{type:Ze.Literal,value:!0},"false":{type:Ze.Literal,value:!1},"null":{type:Ze.Literal,value:null},undefined:{type:Ze.Literal,value:c},"this":{type:Ze.ThisExpression}}},ec.prototype={compile:function(a,b){var d=this,e=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},$b(e,d.$filter);var g,h="";if(this.stage="assign",g=bc(e)){this.state.computing="assign";var i=this.nextId();this.recurse(g,i),h="fn.assign="+this.generateFunction("assign","s,v,l")}var j=_b(e.body);d.stage="inputs",f(j,function(a,b){var c="fn"+b;d.state[c]={vars:[],body:[],own:{}},d.state.computing=c;var e=d.nextId();d.recurse(a,e),d.return_(e),d.state.inputs.push(c),a.watchId=b}),this.state.computing="fn",this.stage="main",this.recurse(e);var k='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+h+this.watchFns()+"return fn;",l=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",k)(this.$filter,Ub,Vb,Wb,Xb,Yb,a);return this.state=this.stage=c,l.literal=cc(e),
l.constant=dc(e),l},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,c=this;return f(b,function(b){a.push("var "+b+"="+c.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return f(this.state.filters,function(c,d){a.push(c+"=$filter("+b.escape(d)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,e,g,h){var i,j,k,l,m=this;if(e=e||p,!h&&u(a.watchId))return b=b||this.nextId(),void this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,e,g,!0));switch(a.type){case Ze.Program:f(a.body,function(b,d){m.recurse(b.expression,c,c,function(a){j=a}),d!==a.body.length-1?m.current().body.push(j,";"):m.return_(j)});break;case Ze.Literal:l=this.escape(a.value),this.assign(b,l),e(l);break;case Ze.UnaryExpression:this.recurse(a.argument,c,c,function(a){j=a}),l=a.operator+"("+this.ifDefined(j,0)+")",this.assign(b,l),e(l);break;case Ze.BinaryExpression:this.recurse(a.left,c,c,function(a){i=a}),this.recurse(a.right,c,c,function(a){j=a}),l="+"===a.operator?this.plus(i,j):"-"===a.operator?this.ifDefined(i,0)+a.operator+this.ifDefined(j,0):"("+i+")"+a.operator+"("+j+")",this.assign(b,l),e(l);break;case Ze.LogicalExpression:b=b||this.nextId(),m.recurse(a.left,b),m.if_("&&"===a.operator?b:m.not(b),m.lazyRecurse(a.right,b)),e(b);break;case Ze.ConditionalExpression:b=b||this.nextId(),m.recurse(a.test,b),m.if_(b,m.lazyRecurse(a.alternate,b),m.lazyRecurse(a.consequent,b)),e(b);break;case Ze.Identifier:b=b||this.nextId(),d&&(d.context="inputs"===m.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name),Ub(a.name),m.if_("inputs"===m.stage||m.not(m.getHasOwnProperty("l",a.name)),function(){m.if_("inputs"===m.stage||"s",function(){g&&1!==g&&m.if_(m.not(m.nonComputedMember("s",a.name)),m.lazyAssign(m.nonComputedMember("s",a.name),"{}")),m.assign(b,m.nonComputedMember("s",a.name))})},b&&m.lazyAssign(b,m.nonComputedMember("l",a.name))),(m.state.expensiveChecks||gc(a.name))&&m.addEnsureSafeObject(b),e(b);break;case Ze.MemberExpression:i=d&&(d.context=this.nextId())||this.nextId(),b=b||this.nextId(),m.recurse(a.object,i,c,function(){m.if_(m.notNull(i),function(){a.computed?(j=m.nextId(),m.recurse(a.property,j),m.addEnsureSafeMemberName(j),g&&1!==g&&m.if_(m.not(m.computedMember(i,j)),m.lazyAssign(m.computedMember(i,j),"{}")),l=m.ensureSafeObject(m.computedMember(i,j)),m.assign(b,l),d&&(d.computed=!0,d.name=j)):(Ub(a.property.name),g&&1!==g&&m.if_(m.not(m.nonComputedMember(i,a.property.name)),m.lazyAssign(m.nonComputedMember(i,a.property.name),"{}")),l=m.nonComputedMember(i,a.property.name),(m.state.expensiveChecks||gc(a.property.name))&&(l=m.ensureSafeObject(l)),m.assign(b,l),d&&(d.computed=!1,d.name=a.property.name))},function(){m.assign(b,"undefined")}),e(b)},!!g);break;case Ze.CallExpression:b=b||this.nextId(),a.filter?(j=m.filter(a.callee.name),k=[],f(a.arguments,function(a){var b=m.nextId();m.recurse(a,b),k.push(b)}),l=j+"("+k.join(",")+")",m.assign(b,l),e(b)):(j=m.nextId(),i={},k=[],m.recurse(a.callee,j,i,function(){m.if_(m.notNull(j),function(){m.addEnsureSafeFunction(j),f(a.arguments,function(a){m.recurse(a,m.nextId(),c,function(a){k.push(m.ensureSafeObject(a))})}),i.name?(m.state.expensiveChecks||m.addEnsureSafeObject(i.context),l=m.member(i.context,i.name,i.computed)+"("+k.join(",")+")"):l=j+"("+k.join(",")+")",l=m.ensureSafeObject(l),m.assign(b,l)},function(){m.assign(b,"undefined")}),e(b)}));break;case Ze.AssignmentExpression:if(j=this.nextId(),i={},!ac(a.left))throw Se("lval","Trying to assing a value to a non l-value");this.recurse(a.left,c,i,function(){m.if_(m.notNull(i.context),function(){m.recurse(a.right,j),m.addEnsureSafeObject(m.member(i.context,i.name,i.computed)),l=m.member(i.context,i.name,i.computed)+a.operator+j,m.assign(b,l),e(b||l)})},1);break;case Ze.ArrayExpression:k=[],f(a.elements,function(a){m.recurse(a,m.nextId(),c,function(a){k.push(a)})}),l="["+k.join(",")+"]",this.assign(b,l),e(l);break;case Ze.ObjectExpression:k=[],f(a.properties,function(a){m.recurse(a.value,m.nextId(),c,function(b){k.push(m.escape(a.key.type===Ze.Identifier?a.key.name:""+a.key.value)+":"+b)})}),l="{"+k.join(",")+"}",this.assign(b,l),e(l);break;case Ze.ThisExpression:this.assign(b,"s"),e("s");break;case Ze.NGValueParameter:this.assign(b,"v"),e("v")}},getHasOwnProperty:function(a,b){var c=a+"."+b,d=this.current().own;return d.hasOwnProperty(c)||(d[c]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),d[c]},assign:function(a,b){return a?(this.current().body.push(a,"=",b,";"),a):void 0},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,c){if(a===!0)b();else{var d=this.current().body;d.push("if(",a,"){"),b(),d.push("}"),c&&(d.push("else{"),c(),d.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){return a+"."+b},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,c){return c?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},lazyRecurse:function(a,b,c,d,e,f){var g=this;return function(){g.recurse(a,b,c,d,e,f)}},lazyAssign:function(a,b){var c=this;return function(){c.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(x(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(y(a))return a.toString();if(a===!0)return"true";if(a===!1)return"false";if(null===a)return"null";if("undefined"==typeof a)return"undefined";throw Se("esc","IMPOSSIBLE")},nextId:function(a,b){var c="v"+this.state.nextId++;return a||this.current().vars.push(c+(b?"="+b:"")),c},current:function(){return this.state[this.state.computing]}},fc.prototype={compile:function(a,b){var c=this,d=this.astBuilder.ast(a);this.expression=a,this.expensiveChecks=b,$b(d,c.$filter);var e,g;(e=bc(d))&&(g=this.recurse(e));var h,i=_b(d.body);i&&(h=[],f(i,function(a,b){var d=c.recurse(a);a.input=d,h.push(d),a.watchId=b}));var j=[];f(d.body,function(a){j.push(c.recurse(a.expression))});var k=0===d.body.length?function(){}:1===d.body.length?j[0]:function(a,b){var c;return f(j,function(d){c=d(a,b)}),c};return g&&(k.assign=function(a,b,c){return g(a,c,b)}),h&&(k.inputs=h),k.literal=cc(d),k.constant=dc(d),k},recurse:function(a,b,d){var e,g,h,i=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case Ze.Literal:return this.value(a.value,b);case Ze.UnaryExpression:return g=this.recurse(a.argument),this["unary"+a.operator](g,b);case Ze.BinaryExpression:return e=this.recurse(a.left),g=this.recurse(a.right),this["binary"+a.operator](e,g,b);case Ze.LogicalExpression:return e=this.recurse(a.left),g=this.recurse(a.right),this["binary"+a.operator](e,g,b);case Ze.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case Ze.Identifier:return Ub(a.name,i.expression),i.identifier(a.name,i.expensiveChecks||gc(a.name),b,d,i.expression);case Ze.MemberExpression:return e=this.recurse(a.object,!1,!!d),a.computed||(Ub(a.property.name,i.expression),g=a.property.name),a.computed&&(g=this.recurse(a.property)),a.computed?this.computedMember(e,g,b,d,i.expression):this.nonComputedMember(e,g,i.expensiveChecks,b,d,i.expression);case Ze.CallExpression:return h=[],f(a.arguments,function(a){h.push(i.recurse(a))}),a.filter&&(g=this.$filter(a.callee.name)),a.filter||(g=this.recurse(a.callee,!0)),a.filter?function(a,d,e,f){for(var i=[],j=0;j<h.length;++j)i.push(h[j](a,d,e,f));var k=g.apply(c,i,f);return b?{context:c,name:c,value:k}:k}:function(a,c,d,e){var f,j=g(a,c,d,e);if(null!=j.value){Vb(j.context,i.expression),Wb(j.value,i.expression);for(var k=[],l=0;l<h.length;++l)k.push(Vb(h[l](a,c,d,e),i.expression));f=Vb(j.value.apply(j.context,k),i.expression)}return b?{value:f}:f};case Ze.AssignmentExpression:return e=this.recurse(a.left,!0,1),g=this.recurse(a.right),function(a,c,d,f){var h=e(a,c,d,f),j=g(a,c,d,f);return Vb(h.value,i.expression),h.context[h.name]=j,b?{value:j}:j};case Ze.ArrayExpression:return h=[],f(a.elements,function(a){h.push(i.recurse(a))}),function(a,c,d,e){for(var f=[],g=0;g<h.length;++g)f.push(h[g](a,c,d,e));return b?{value:f}:f};case Ze.ObjectExpression:return h=[],f(a.properties,function(a){h.push({key:a.key.type===Ze.Identifier?a.key.name:""+a.key.value,value:i.recurse(a.value)})}),function(a,c,d,e){for(var f={},g=0;g<h.length;++g)f[h[g].key]=h[g].value(a,c,d,e);return b?{value:f}:f};case Ze.ThisExpression:return function(a){return b?{value:a}:a};case Ze.NGValueParameter:return function(a,c,d,e){return b?{value:d}:d}}},"unary+":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=u(g)?+g:0,b?{value:g}:g}},"unary-":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=u(g)?-g:0,b?{value:g}:g}},"unary!":function(a,b){return function(c,d,e,f){var g=!a(c,d,e,f);return b?{value:g}:g}},"binary+":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=Yb(h,i);return c?{value:j}:j}},"binary-":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=(u(h)?h:0)-(u(i)?i:0);return c?{value:j}:j}},"binary*":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)*b(d,e,f,g);return c?{value:h}:h}},"binary/":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)/b(d,e,f,g);return c?{value:h}:h}},"binary%":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)%b(d,e,f,g);return c?{value:h}:h}},"binary===":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)===b(d,e,f,g);return c?{value:h}:h}},"binary!==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!==b(d,e,f,g);return c?{value:h}:h}},"binary==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)==b(d,e,f,g);return c?{value:h}:h}},"binary!=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!=b(d,e,f,g);return c?{value:h}:h}},"binary<":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<b(d,e,f,g);return c?{value:h}:h}},"binary>":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>b(d,e,f,g);return c?{value:h}:h}},"binary<=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<=b(d,e,f,g);return c?{value:h}:h}},"binary>=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>=b(d,e,f,g);return c?{value:h}:h}},"binary&&":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)&&b(d,e,f,g);return c?{value:h}:h}},"binary||":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)||b(d,e,f,g);return c?{value:h}:h}},"ternary?:":function(a,b,c,d){return function(e,f,g,h){var i=a(e,f,g,h)?b(e,f,g,h):c(e,f,g,h);return d?{value:i}:i}},value:function(a,b){return function(){return b?{context:c,name:c,value:a}:a}},identifier:function(a,b,d,e,f){return function(g,h,i,j){var k=h&&a in h?h:g;e&&1!==e&&k&&!k[a]&&(k[a]={});var l=k?k[a]:c;return b&&Vb(l,f),d?{context:k,name:a,value:l}:l}},computedMember:function(a,b,c,d,e){return function(f,g,h,i){var j,k,l=a(f,g,h,i);return null!=l&&(j=b(f,g,h,i),Ub(j,e),d&&1!==d&&l&&!l[j]&&(l[j]={}),k=l[j],Vb(k,e)),c?{context:l,name:j,value:k}:k}},nonComputedMember:function(a,b,d,e,f,g){return function(h,i,j,k){var l=a(h,i,j,k);f&&1!==f&&l&&!l[b]&&(l[b]={});var m=null!=l?l[b]:c;return(d||gc(b))&&Vb(m,g),e?{context:l,name:b,value:m}:m}},inputs:function(a,b){return function(c,d,e,f){return f?f[b]:a(c,d,e)}}};var $e=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c,this.ast=new Ze(this.lexer),this.astCompiler=c.csp?new fc(this.ast,b):new ec(this.ast,b)};$e.prototype={constructor:$e,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var _e=(qa(),qa(),Object.prototype.valueOf),af=d("$sce"),bf={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Be=d("$compile"),cf=b.createElement("a"),df=xc(a.location.href);Ac.$inject=["$document"],Cc.$inject=["$provide"],Hc.$inject=["$locale"],Ic.$inject=["$locale"];var ef=".",ff={yyyy:Lc("FullYear",4),yy:Lc("FullYear",2,0,!0),y:Lc("FullYear",1),MMMM:Mc("Month"),MMM:Mc("Month",!0),MM:Lc("Month",2,1),M:Lc("Month",1,1),dd:Lc("Date",2),d:Lc("Date",1),HH:Lc("Hours",2),H:Lc("Hours",1),hh:Lc("Hours",2,-12),h:Lc("Hours",1,-12),mm:Lc("Minutes",2),m:Lc("Minutes",1),ss:Lc("Seconds",2),s:Lc("Seconds",1),sss:Lc("Milliseconds",3),EEEE:Mc("Day"),EEE:Mc("Day",!0),a:Rc,Z:Nc,ww:Qc(2),w:Qc(1),G:Sc,GG:Sc,GGG:Sc,GGGG:Tc},gf=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,hf=/^\-?\d+$/;Uc.$inject=["$locale"];var jf=r(rd),kf=r(td);Xc.$inject=["$parse"];var lf=r({restrict:"E",compile:function(a,b){return b.href||b.xlinkHref?void 0:function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===Dd.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),mf={};f(le,function(a,b){function c(a,c,e){a.$watch(e[d],function(a){e.$set(b,!!a)})}if("multiple"!=a){var d=jb("ng-"+b),e=c;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[d]&&c(a,b,e)}),mf[d]=function(){return{restrict:"A",priority:100,link:e}}}}),f(ne,function(a,b){mf[b]=function(){return{priority:100,link:function(a,c,d){if("ngPattern"===b&&"/"==d.ngPattern.charAt(0)){var e=d.ngPattern.match(pd);if(e)return void d.$set("ngPattern",new RegExp(e[1],e[2]))}a.$watch(d[b],function(a){d.$set(b,a)})}}}}),f(["src","srcset","href"],function(a){var b=jb("ng-"+a);mf[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===Dd.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){return b?(e.$set(g,b),void(wd&&f&&d.prop(f,e[g]))):void("href"===a&&e.$set(g,null))})}}}});var nf={$addControl:p,$$renameControl:Zc,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},of="ng-submitted";$c.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var pf=function(a){return["$timeout","$parse",function(b,d){function e(a){return""===a?d('this[""]').assign:d(a).assign||p}var f={name:"form",restrict:a?"EAC":"E",controller:$c,compile:function(d,f){d.addClass(Xf).addClass(Vf);var g=f.name?"name":a&&f.ngForm?"ngForm":!1;return{pre:function(a,d,f,h){if(!("action"in f)){var i=function(b){a.$apply(function(){h.$commitViewValue(),h.$setSubmitted()}),b.preventDefault()};_d(d[0],"submit",i),d.on("$destroy",function(){b(function(){ae(d[0],"submit",i)},0,!1)})}var j=h.$$parentForm,k=g?e(h.$name):p;g&&(k(a,h),f.$observe(g,function(b){h.$name!==b&&(k(a,c),j.$$renameControl(h,b),(k=e(h.$name))(a,h))})),d.on("$destroy",function(){j.$removeControl(h),k(a,c),l(h,nf)})}}}};return f}]},qf=pf(),rf=pf(!0),sf=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,tf=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,uf=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,vf=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,wf=/^(\d{4})-(\d{2})-(\d{2})$/,xf=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,yf=/^(\d{4})-W(\d\d)$/,zf=/^(\d{4})-(\d\d)$/,Af=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Bf={text:ad,date:ed("date",wf,dd(wf,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ed("datetimelocal",xf,dd(xf,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:ed("time",Af,dd(Af,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ed("week",yf,cd,"yyyy-Www"),month:ed("month",zf,dd(zf,["yyyy","MM"]),"yyyy-MM"),number:gd,url:hd,email:id,radio:jd,checkbox:ld,hidden:p,button:p,submit:p,reset:p,file:p},Cf=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Bf[rd(g.type)]||Bf.text)(e,f,g,h[0],b,a,c,d)}}}}],Df=/^(true|false|\d+)$/,Ef=function(){return{restrict:"A",priority:100,compile:function(a,b){return Df.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},Ff=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,d,e){a.$$addBindingInfo(d,e.ngBind),d=d[0],b.$watch(e.ngBind,function(a){d.textContent=a===c?"":a})}}}}],Gf=["$interpolate","$compile",function(a,b){return{compile:function(d){return b.$$addBindingClass(d),function(d,e,f){var g=a(e.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(e,g.expressions),e=e[0],f.$observe("ngBindTemplate",function(a){e.textContent=a===c?"":a})}}}}],Hf=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(a){return(a||"").toString()});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){d.html(a.getTrustedHtml(f(b))||"")})}}}}],If=r({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),Jf=md("",!0),Kf=md("Odd",0),Lf=md("Even",1),Mf=Yc({compile:function(a,b){b.$set("ngCloak",c),a.removeClass("ng-cloak")}}),Nf=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Of={},Pf={blur:!0,focus:!0};f("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=jb("ng-"+a);Of[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};Pf[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Qf=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=pa(h.clone),a.leave(j).then(function(){j=null}),h=null))})}}}],Rf=["$templateRequest","$anchorScroll","$animate",function(a,b,c){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Gd.noop,compile:function(d,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(d,e,i,j,k){var l,m,n,o=0,p=function(){m&&(m.remove(),m=null),l&&(l.$destroy(),l=null),n&&(c.leave(n).then(function(){m=null}),m=n,n=null)};d.$watch(f,function(f){var i=function(){!u(h)||h&&!d.$eval(h)||b()},m=++o;f?(a(f,!0).then(function(a){if(m===o){var b=d.$new();j.template=a;var h=k(b,function(a){p(),c.enter(a,null,e).then(i)});l=b,n=h,l.$emit("$includeContentLoaded",f),d.$eval(g)}},function(){m===o&&(p(),d.$emit("$includeContentError",f))}),d.$emit("$includeContentRequested",f)):(p(),j.template=null)})}}}}],Sf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){return/SVG/.test(d[0].toString())?(d.empty(),void a(Aa(f.template,b).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),void a(d.contents())(c))}}}],Tf=Yc({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),Uf=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,e){var g=b.attr(d.$attr.ngList)||", ",h="false"!==d.ngTrim,i=h?Ld(g):g,j=function(a){if(!t(a)){var b=[];return a&&f(a.split(i),function(a){a&&b.push(h?Ld(a):a)}),b}};e.$parsers.push(j),e.$formatters.push(function(a){return Jd(a)?a.join(g):c}),e.$isEmpty=function(a){return!a||!a.length}}}},Vf="ng-valid",Wf="ng-invalid",Xf="ng-pristine",Yf="ng-dirty",Zf="ng-untouched",$f="ng-touched",_f="ng-pending",ag=d("ngModel"),bg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,e,g,h,i,j,k,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=c,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=c,this.$name=l(d.name||"",!1)(a);var m,n=g(d.ngModel),o=n.assign,q=n,r=o,s=null,v=this;this.$$setOptions=function(a){if(v.$options=a,a&&a.getterSetter){var b=g(d.ngModel+"()"),c=g(d.ngModel+"($$$p)");q=function(a){var c=n(a);return A(c)&&(c=b(a)),c},r=function(a,b){A(n(a))?c(a,{$$$p:v.$modelValue}):o(a,v.$modelValue)}}else if(!n.assign)throw ag("nonassign","Expression '{0}' is non-assignable. Element: {1}",d.ngModel,$(e))},this.$render=p,this.$isEmpty=function(a){return t(a)||""===a||null===a||a!==a};var w=e.inheritedData("$formController")||nf,x=0;nd({ctrl:this,$element:e,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},parentForm:w,$animate:h}),this.$setPristine=function(){v.$dirty=!1,v.$pristine=!0,h.removeClass(e,Yf),h.addClass(e,Xf)},this.$setDirty=function(){v.$dirty=!0,v.$pristine=!1,h.removeClass(e,Xf),h.addClass(e,Yf),w.$setDirty()},this.$setUntouched=function(){v.$touched=!1,v.$untouched=!0,h.setClass(e,Zf,$f)},this.$setTouched=function(){v.$touched=!0,v.$untouched=!1,h.setClass(e,$f,Zf)},this.$rollbackViewValue=function(){i.cancel(s),v.$viewValue=v.$$lastCommittedViewValue,v.$render()},this.$validate=function(){if(!y(v.$modelValue)||!isNaN(v.$modelValue)){var a=v.$$lastCommittedViewValue,b=v.$$rawModelValue,d=v.$valid,e=v.$modelValue,f=v.$options&&v.$options.allowInvalid;v.$$runValidators(b,a,function(a){f||d===a||(v.$modelValue=a?b:c,v.$modelValue!==e&&v.$$writeModelToScope())})}},this.$$runValidators=function(a,b,d){function e(){var a=v.$$parserName||"parse";return m!==c?(m||(f(v.$validators,function(a,b){i(b,null)}),f(v.$asyncValidators,function(a,b){i(b,null)})),i(a,m),m):(i(a,null),!0)}function g(){var c=!0;return f(v.$validators,function(d,e){var f=d(a,b);c=c&&f,i(e,f)}),c?!0:(f(v.$asyncValidators,function(a,b){i(b,null)}),!1)}function h(){var d=[],e=!0;f(v.$asyncValidators,function(f,g){var h=f(a,b);if(!I(h))throw ag("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",h);i(g,c),d.push(h.then(function(){i(g,!0)},function(a){e=!1,i(g,!1)}))}),d.length?k.all(d).then(function(){j(e)},p):j(!0)}function i(a,b){l===x&&v.$setValidity(a,b)}function j(a){l===x&&d(a)}x++;var l=x;return e()&&g()?void h():void j(!1)},this.$commitViewValue=function(){var a=v.$viewValue;i.cancel(s),(v.$$lastCommittedViewValue!==a||""===a&&v.$$hasNativeValidators)&&(v.$$lastCommittedViewValue=a,v.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function b(){v.$modelValue!==g&&v.$$writeModelToScope()}var d=v.$$lastCommittedViewValue,e=d;if(m=t(e)?c:!0)for(var f=0;f<v.$parsers.length;f++)if(e=v.$parsers[f](e),t(e)){m=!1;break}y(v.$modelValue)&&isNaN(v.$modelValue)&&(v.$modelValue=q(a));var g=v.$modelValue,h=v.$options&&v.$options.allowInvalid;v.$$rawModelValue=e,h&&(v.$modelValue=e,b()),v.$$runValidators(e,v.$$lastCommittedViewValue,function(a){h||(v.$modelValue=a?e:c,b())})},this.$$writeModelToScope=function(){r(a,v.$modelValue),f(v.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})},this.$setViewValue=function(a,b){v.$viewValue=a,(!v.$options||v.$options.updateOnDefault)&&v.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c,d=0,e=v.$options;e&&u(e.debounce)&&(c=e.debounce,y(c)?d=c:y(c[b])?d=c[b]:y(c["default"])&&(d=c["default"])),i.cancel(s),d?s=i(function(){v.$commitViewValue()},d):j.$$phase?v.$commitViewValue():a.$apply(function(){v.$commitViewValue()})},a.$watch(function(){var b=q(a);if(b!==v.$modelValue&&(v.$modelValue===v.$modelValue||b===b)){v.$modelValue=v.$$rawModelValue=b,m=c;for(var d=v.$formatters,e=d.length,f=b;e--;)f=d[e](f);v.$viewValue!==f&&(v.$viewValue=v.$$lastCommittedViewValue=f,v.$render(),v.$$runValidators(b,f,p))}return b})}],cg=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:bg,priority:1,compile:function(b){return b.addClass(Xf).addClass(Zf).addClass(Vf),{pre:function(a,b,c,d){var e=d[0],f=d[1]||nf;e.$$setOptions(d[2]&&d[2].$options),f.$addControl(e),c.$observe("name",function(a){e.$name!==a&&f.$$renameControl(e,a)}),a.$on("$destroy",function(){f.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];f.$options&&f.$options.updateOn&&c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(c){f.$touched||(a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched))})}}}}}],dg=/(\s+|^)default(\s+|$)/,eg=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var d=this;this.$options=O(a.$eval(b.ngModelOptions)),this.$options.updateOn!==c?(this.$options.updateOnDefault=!1,this.$options.updateOn=Ld(this.$options.updateOn.replace(dg,function(){return d.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},fg=Yc({terminal:!0,priority:1e3}),gg=d("ngOptions"),hg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ig=["$compile","$parse",function(a,c){function d(a,b,d){function f(a,b,c,d,e){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=e}function g(a){var b;if(!j&&e(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var h=a.match(hg);if(!h)throw gg("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",a,$(b));var i=h[5]||h[7],j=h[6],k=/ as /.test(h[0])&&h[1],l=h[9],m=c(h[2]?h[1]:i),n=k&&c(k),o=n||m,p=l&&c(l),q=l?function(a,b){return p(d,b)}:function(a){return Wa(a)},r=function(a,b){return q(a,x(a,b))},s=c(h[2]||h[1]),t=c(h[3]||""),u=c(h[4]||""),v=c(h[8]),w={},x=j?function(a,b){return w[j]=b,w[i]=a,w}:function(a){return w[i]=a,w};return{trackBy:l,getTrackByValue:r,getWatchables:c(v,function(a){var b=[];a=a||[];for(var c=g(a),e=c.length,f=0;e>f;f++){var i=a===c?f:c[f],j=(a[i],x(a[i],i)),k=q(a[i],j);if(b.push(k),h[2]||h[1]){var l=s(d,j);b.push(l)}if(h[4]){var m=u(d,j);b.push(m)}}return b}),getOptions:function(){for(var a=[],b={},c=v(d)||[],e=g(c),h=e.length,i=0;h>i;i++){var j=c===e?i:e[i],k=c[j],m=x(k,j),n=o(d,m),p=q(n,m),w=s(d,m),y=t(d,m),z=u(d,m),A=new f(p,n,w,y,z);a.push(A),b[p]=A}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[r(a)]},getViewValueFromOption:function(a){return l?Gd.copy(a.viewValue):a.viewValue}}}}}var g=b.createElement("option"),h=b.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(b,c,e,i){function j(a,b){a.element=b,b.disabled=a.disabled,a.value!==b.value&&(b.value=a.selectValue),a.label!==b.label&&(b.label=a.label,b.textContent=a.label)}function k(a,b,c,d){var e;return b&&rd(b.nodeName)===c?e=b:(e=d.cloneNode(!1),b?a.insertBefore(e,b):a.appendChild(e)),e}function l(a){for(var b;a;)b=a.nextSibling,Qa(a),a=b}function m(a){var b=p&&p[0],c=w&&w[0];if(b||c)for(;a&&(a===b||a===c);)a=a.nextSibling;return a}function n(){var a=x&&q.readValue();x=y.getOptions();var b={},d=c[0].firstChild;if(v&&c.prepend(p),d=m(d),x.items.forEach(function(a){var e,f,i;a.group?(e=b[a.group],e||(f=k(c[0],d,"optgroup",h),d=f.nextSibling,f.label=a.group,e=b[a.group]={groupElement:f,currentOptionElement:f.firstChild}),i=k(e.groupElement,e.currentOptionElement,"option",g),j(a,i),e.currentOptionElement=i.nextSibling):(i=k(c[0],d,"option",g),j(a,i),d=i.nextSibling)}),Object.keys(b).forEach(function(a){l(b[a].currentOptionElement)}),l(d),o.$render(),!o.$isEmpty(a)){var e=q.readValue();(y.trackBy?Q(a,e):a===e)||(o.$setViewValue(e),o.$render())}}var o=i[1];if(o){for(var p,q=i[0],r=e.multiple,s=0,t=c.children(),u=t.length;u>s;s++)if(""===t[s].value){p=t.eq(s);break}var v=!!p,w=xd(g.cloneNode(!1));w.val("?");var x,y=d(e.ngOptions,c,b),z=function(){v||c.prepend(p),c.val(""),p.prop("selected",!0),p.attr("selected",!0)},A=function(){v||p.remove()},B=function(){c.prepend(w),c.val("?"),w.prop("selected",!0),w.attr("selected",!0)},C=function(){w.remove()};r?(o.$isEmpty=function(a){return!a||0===a.length},q.writeValue=function(a){x.items.forEach(function(a){a.element.selected=!1}),a&&a.forEach(function(a){var b=x.getOptionFromViewValue(a);b&&!b.disabled&&(b.element.selected=!0)})},q.readValue=function(){var a=c.val()||[],b=[];return f(a,function(a){var c=x.selectValueMap[a];c&&!c.disabled&&b.push(x.getViewValueFromOption(c))}),b},y.trackBy&&b.$watchCollection(function(){return Jd(o.$viewValue)?o.$viewValue.map(function(a){return y.getTrackByValue(a)}):void 0},function(){o.$render()})):(q.writeValue=function(a){var b=x.getOptionFromViewValue(a);b&&!b.disabled?c[0].value!==b.selectValue&&(C(),A(),c[0].value=b.selectValue,b.element.selected=!0,b.element.setAttribute("selected","selected")):null===a||v?(C(),z()):(A(),B())},q.readValue=function(){var a=x.selectValueMap[c.val()];return a&&!a.disabled?(A(),C(),x.getViewValueFromOption(a)):null},y.trackBy&&b.$watch(function(){return y.getTrackByValue(o.$viewValue)},function(){o.$render()})),v?(p.remove(),a(p)(b),p.removeClass("ng-scope")):p=xd(g.cloneNode(!1)),n(),b.$watchCollection(y.getWatchables,n)}}}}],jg=["$locale","$interpolate","$log",function(a,b,c){var d=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(g,h,i){function j(a){h.text(a||"")}var k,l=i.count,m=i.$attr.when&&h.attr(i.$attr.when),n=i.offset||0,o=g.$eval(m)||{},q={},r=b.startSymbol(),s=b.endSymbol(),u=r+l+"-"+n+s,v=Gd.noop;f(i,function(a,b){var c=e.exec(b);if(c){var d=(c[1]?"-":"")+rd(c[2]);o[d]=h.attr(i.$attr[b])}}),f(o,function(a,c){q[c]=b(a.replace(d,u))}),g.$watch(l,function(b){var d=parseFloat(b),e=isNaN(d);if(e||d in o||(d=a.pluralCat(d-n)),d!==k&&!(e&&y(k)&&isNaN(k))){v();var f=q[d];t(f)?(null!=b&&c.debug("ngPluralize: no rule defined for '"+d+"' in "+m),v=p,j()):v=g.$watch(f,j),k=d}})}}}],kg=["$parse","$animate",function(a,g){var h="$$NG_REMOVED",i=d("ngRepeat"),j=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))},k=function(a){return a.clone[0]},l=function(a){return a.clone[a.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(d,m){var n=m.ngRepeat,o=b.createComment(" end ngRepeat: "+n+" "),p=n.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw i("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var q=p[1],r=p[2],s=p[3],t=p[4];if(p=q.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!p)throw i("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",q);var u=p[3]||p[1],v=p[2];if(s&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(s)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(s)))throw i("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",s);
var w,x,y,z,A={$id:Wa};return t?w=a(t):(y=function(a,b){return Wa(b)},z=function(a){return a}),function(a,b,d,m,p){w&&(x=function(b,c,d){return v&&(A[v]=b),A[u]=c,A.$index=d,w(a,A)});var q=qa();a.$watchCollection(r,function(d){var m,r,t,w,A,B,C,D,E,F,G,H,I=b[0],J=qa();if(s&&(a[s]=d),e(d))E=d,D=x||y;else{D=x||z,E=[];for(var K in d)d.hasOwnProperty(K)&&"$"!==K.charAt(0)&&E.push(K)}for(w=E.length,G=new Array(w),m=0;w>m;m++)if(A=d===E?m:E[m],B=d[A],C=D(A,B,m),q[C])F=q[C],delete q[C],J[C]=F,G[m]=F;else{if(J[C])throw f(G,function(a){a&&a.scope&&(q[a.id]=a)}),i("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",n,C,B);G[m]={id:C,scope:c,clone:c},J[C]=!0}for(var L in q){if(F=q[L],H=pa(F.clone),g.leave(H),H[0].parentNode)for(m=0,r=H.length;r>m;m++)H[m][h]=!0;F.scope.$destroy()}for(m=0;w>m;m++)if(A=d===E?m:E[m],B=d[A],F=G[m],F.scope){t=I;do t=t.nextSibling;while(t&&t[h]);k(F)!=t&&g.move(pa(F.clone),null,xd(I)),I=l(F),j(F.scope,m,u,B,v,A,w)}else p(function(a,b){F.scope=b;var c=o.cloneNode(!1);a[a.length++]=c,g.enter(a,null,xd(I)),I=c,F.clone=a,J[F.id]=F,j(F.scope,m,u,B,v,A,w)});q=J})}}}}],lg="ng-hide",mg="ng-hide-animate",ng=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,lg,{tempClasses:mg})})}}}],og=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,lg,{tempClasses:mg})})}}}],pg=Yc(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&f(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),qg=["$animate",function(a){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,g){var h=e.ngSwitch||e.on,i=[],j=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};c.$watch(h,function(c){var d,e;for(d=0,e=k.length;e>d;++d)a.cancel(k[d]);for(k.length=0,d=0,e=l.length;e>d;++d){var h=pa(j[d].clone);l[d].$destroy();var n=k[d]=a.leave(h);n.then(m(k,d))}j.length=0,l.length=0,(i=g.cases["!"+c]||g.cases["?"])&&f(i,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.createComment(" end ngSwitchWhen: ");var g={clone:d};j.push(g),a.enter(d,f.parent(),f)})})})}}}],rg=Yc({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),sg=Yc({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),tg=Yc({restrict:"EAC",link:function(a,b,c,e,f){if(!f)throw d("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",$(b));f(function(a){b.empty(),b.append(a)})}}),ug=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"==c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],vg={$setViewValue:p,$render:p},wg=["$element","$scope","$attrs",function(a,d,e){var f=this,g=new Xa;f.ngModelCtrl=vg,f.unknownOption=xd(b.createElement("option")),f.renderUnknownOption=function(b){var c="? "+Wa(b)+" ?";f.unknownOption.val(c),a.prepend(f.unknownOption),a.val(c)},d.$on("$destroy",function(){f.renderUnknownOption=p}),f.removeUnknownOption=function(){f.unknownOption.parent()&&f.unknownOption.remove()},f.readValue=function(){return f.removeUnknownOption(),a.val()},f.writeValue=function(b){f.hasOption(b)?(f.removeUnknownOption(),a.val(b),""===b&&f.emptyOption.prop("selected",!0)):null==b&&f.emptyOption?(f.removeUnknownOption(),a.val("")):f.renderUnknownOption(b)},f.addOption=function(a,b){na(a,'"option value"'),""===a&&(f.emptyOption=b);var c=g.get(a)||0;g.put(a,c+1)},f.removeOption=function(a){var b=g.get(a);b&&(1===b?(g.remove(a),""===a&&(f.emptyOption=c)):g.put(a,b-1))},f.hasOption=function(a){return!!g.get(a)}}],xg=function(){return{restrict:"E",require:["select","?ngModel"],controller:wg,link:function(a,b,c,d){var e=d[1];if(e){var g=d[0];if(g.ngModelCtrl=e,e.$render=function(){g.writeValue(e.$viewValue)},b.on("change",function(){a.$apply(function(){e.$setViewValue(g.readValue())})}),c.multiple){g.readValue=function(){var a=[];return f(b.find("option"),function(b){b.selected&&a.push(b.value)}),a},g.writeValue=function(a){var c=new Xa(a);f(b.find("option"),function(a){a.selected=u(c.get(a.value))})};var h,i=NaN;a.$watch(function(){i!==e.$viewValue||Q(h,e.$viewValue)||(h=P(e.$viewValue),e.$render()),i=e.$viewValue}),e.$isEmpty=function(a){return!a||0===a.length}}}}}},yg=["$interpolate",function(a){function b(a){a[0].hasAttribute("selected")&&(a[0].selected=!0)}return{restrict:"E",priority:100,compile:function(c,d){if(t(d.value)){var e=a(c.text(),!0);e||d.$set("value",c.text())}return function(a,c,d){var f="$selectController",g=c.parent(),h=g.data(f)||g.parent().data(f);h&&h.ngModelCtrl&&(e?a.$watch(e,function(a,e){d.$set("value",a),e!==a&&h.removeOption(e),h.addOption(a,c),h.ngModelCtrl.$render(),b(c)}):(h.addOption(d.value,c),h.ngModelCtrl.$render(),b(c)),c.on("$destroy",function(){h.removeOption(d.value),h.ngModelCtrl.$render()}))}}}}],zg=r({restrict:"E",terminal:!1}),Ag=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},Bg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,e,f){if(f){var g,h=e.ngPattern||e.pattern;e.$observe("pattern",function(a){if(x(a)&&a.length>0&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw d("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",h,a,$(b));g=a||c,f.$validate()}),f.$validators.pattern=function(a){return f.$isEmpty(a)||t(g)||g.test(a)}}}}},Cg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){var b=n(a);e=isNaN(b)?-1:b,d.$validate()}),d.$validators.maxlength=function(a,b){return 0>e||d.$isEmpty(b)||b.length<=e}}}}},Dg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=n(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}};return a.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ka(),ua(Gd),Gd.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}function d(a,d){var e=d;c===e&&(e=Math.min(b(a),3));var f=Math.pow(10,e),g=(a*f|0)%f;return{v:e,f:g}}var e={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",pluralCat:function(a,b){var c=0|a,f=d(a,b);return 1==c&&0==f.v?e.ONE:e.OTHER}})}]),void xd(b).ready(function(){fa(b,ga)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),angular.module("exceptionless",[]).constant("$ExceptionlessClient",exceptionless.ExceptionlessClient["default"]).factory("exceptionlessHttpInterceptor",["$q","$ExceptionlessClient",function(a,b){return{responseError:function(c){return 404===c.status?b.submitNotFound(c.config.url):401!==c.status&&b.createUnhandledException(new Error("["+c.status+"] "+c.config.url),"errorHttpInterceptor").setSource(c.config.url).setProperty("request",c.config).submit(),a.reject(c)}}}]).config(["$httpProvider","$provide","$ExceptionlessClient",function(a,b,c){a.interceptors.push("exceptionlessHttpInterceptor"),b.decorator("$exceptionHandler",["$delegate",function(a){return function(b,d){a(b,d),c.createUnhandledException(b,"$exceptionHandler").setMessage(d).submit()}}]),b.decorator("$log",["$delegate",function(a){function b(b,d){var e=a[b];return a[b]=function(){e.apply(null,arguments),arguments[0]&&arguments[0].length>0&&c.submitLog(null,arguments[0],d)}}return a.log=b("log","Trace"),a.info=b("info","Info"),a.warn=b("warn","Warn"),a.debug=b("debug","Debug"),a.error=b("error","Error"),a}])}]).run(["$rootScope","$ExceptionlessClient",function(a,b){a.$on("$routeChangeSuccess",function(a,c,d){d&&b.createFeatureUsage(d.name).setProperty("next",c).setProperty("current",d).submit()}),a.$on("$routeChangeError",function(a,c,d,e){b.createUnhandledException(new Error(e),"$routeChangeError").setProperty("current",c).setProperty("previous",d).submit()}),a.$on("$stateChangeSuccess",function(a,c,d,e,f){c&&"otherwise"!==c.name&&b.createFeatureUsage(c.controller||c.name).setProperty("toState",c).setProperty("toParams",d).setProperty("fromState",e).setProperty("fromParams",f).submit()}),a.$on("$stateNotFound",function(a,c,d,e){c&&b.createNotFound(c.to).setProperty("unfoundState",c).setProperty("fromState",d).setProperty("fromParams",e).submit()}),a.$on("$stateChangeError",function(a,c,d,e,f,g){g&&b.createUnhandledException(g,"$stateChangeError").setProperty("toState",c).setProperty("toParams",d).setProperty("fromState",e).setProperty("fromParams",f).submit()}),a.$on("$destroy",function(){b.config.queue.process()})}]),function(a,b,c){"use strict";function d(a,b,c){if(!a)throw ngMinErr("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function e(a,b){return a||b?a?b?(Q(a)&&(a=a.join(" ")),Q(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function f(a){var b={};return a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from),b}function g(a,b,c){var d="";return a=Q(a)?a:a&&R(a)&&a.length?a.split(/\s+/):[],P(a,function(a,e){a&&a.length>0&&(d+=e>0?" ":"",d+=c?b+a:a+b)}),d}function h(a,b){var c=a.indexOf(b);b>=0&&a.splice(c,1)}function i(a){if(a instanceof O)switch(a.length){case 0:return[];case 1:if(a[0].nodeType===X)return a;break;default:return O(j(a))}return a.nodeType===X?O(a):void 0}function j(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType==X)return c}}function k(a,b,c){P(b,function(b){a.addClass(b,c)})}function l(a,b,c){P(b,function(b){a.removeClass(b,c)})}function m(a){return function(b,c){c.addClass&&(k(a,b,c.addClass),c.addClass=null),c.removeClass&&(l(a,b,c.removeClass),c.removeClass=null)}}function n(a){if(a=a||{},!a.$$prepared){var b=a.domOperation||M;a.domOperation=function(){a.$$domOperationFired=!0,b(),b=M},a.$$prepared=!0}return a}function o(a,b){p(a,b),q(a,b)}function p(a,b){b.from&&(a.css(b.from),b.from=null)}function q(a,b){b.to&&(a.css(b.to),b.to=null)}function r(a,b,c){var d=(b.addClass||"")+" "+(c.addClass||""),e=(b.removeClass||"")+" "+(c.removeClass||""),f=s(a.attr("class"),d,e);c.preparationClasses&&(b.preparationClasses=z(c.preparationClasses,b.preparationClasses),delete c.preparationClasses);var g=b.domOperation!==M?b.domOperation:null;return N(b,c),g&&(b.domOperation=g),f.addClass?b.addClass=f.addClass:b.addClass=null,f.removeClass?b.removeClass=f.removeClass:b.removeClass=null,b}function s(a,b,c){function d(a){R(a)&&(a=a.split(" "));var b={};return P(a,function(a){a.length&&(b[a]=!0)}),b}var e=1,f=-1,g={};a=d(a),b=d(b),P(b,function(a,b){g[b]=e}),c=d(c),P(c,function(a,b){g[b]=g[b]===e?null:f});var h={addClass:"",removeClass:""};return P(g,function(b,c){var d,g;b===e?(d="addClass",g=!a[c]):b===f&&(d="removeClass",g=a[c]),g&&(h[d].length&&(h[d]+=" "),h[d]+=c)}),h}function t(a){return a instanceof b.element?a[0]:a}function u(a,b,c){var d="";b&&(d=g(b,$,!0)),c.addClass&&(d=z(d,g(c.addClass,Y))),c.removeClass&&(d=z(d,g(c.removeClass,Z))),d.length&&(c.preparationClasses=d,a.addClass(d))}function v(a,b){b.preparationClasses&&(a.removeClass(b.preparationClasses),b.preparationClasses=null),b.activeClasses&&(a.removeClass(b.activeClasses),b.activeClasses=null)}function w(a,b){var c=b?"-"+b+"s":"";return y(a,[ma,c]),[ma,c]}function x(a,b){var c=b?"paused":"",d=K+ia;return y(a,[d,c]),[d,c]}function y(a,b){var c=b[0],d=b[1];a.style[c]=d}function z(a,b){return a?b?a+" "+b:a:b}function A(){this.$get=["$document",function(a){return O(a[0].body)}]}function B(a){return[la,a+"s"]}function C(a,b){var c=b?ka:ma;return[c,a+"s"]}function D(a,b,c){var d=Object.create(null),e=a.getComputedStyle(b)||{};return P(c,function(a,b){var c=e[a];if(c){var f=c.charAt(0);("-"===f||"+"===f||f>=0)&&(c=E(c)),0===c&&(c=null),d[b]=c}}),d}function E(a){var b=0,c=a.split(/\s*,\s*/);return P(c,function(a){"s"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a=parseFloat(a)||0,b=b?Math.max(a,b):a}),b}function F(a){return 0===a||null!=a}function G(a,b){var c=I,d=a+"s";return b?c+=da:d+=" linear all",[c,d]}function H(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){var c=a[b];return c?c.total:0},get:function(b){var c=a[b];return c&&c.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}var I,J,K,L,M=b.noop,N=b.extend,O=b.element,P=b.forEach,Q=b.isArray,R=b.isString,S=b.isObject,T=b.isUndefined,U=b.isDefined,V=b.isFunction,W=b.isElement,X=1,Y="-add",Z="-remove",$="ng-",_="-active",aa="ng-animate",ba="$$ngAnimateChildren",ca="";a.ontransitionend===c&&a.onwebkittransitionend!==c?(ca="-webkit-",I="WebkitTransition",J="webkitTransitionEnd transitionend"):(I="transition",J="transitionend"),a.onanimationend===c&&a.onwebkitanimationend!==c?(ca="-webkit-",K="WebkitAnimation",L="webkitAnimationEnd animationend"):(K="animation",L="animationend");var da="Duration",ea="Property",fa="Delay",ga="TimingFunction",ha="IterationCount",ia="PlayState",ja=9999,ka=K+fa,la=K+da,ma=I+fa,na=I+da,oa=[function(){return function(a,c,d){var e=d.ngAnimateChildren;b.isString(e)&&0===e.length?c.data(ba,!0):d.$observe("ngAnimateChildren",function(a){a="on"===a||"true"===a,c.data(ba,a)})}}],pa=1e3,qa=3,ra=1.5,sa={transitionDuration:na,transitionDelay:ma,transitionProperty:I+ea,animationDuration:la,animationDelay:ka,animationIterationCount:K+ha},ta={transitionDuration:na,transitionDelay:ma,animationDuration:la,animationDelay:ka},ua=["$animateProvider",function(a){var b=H(),c=H();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAF",function(a,d,e,i,j,k,l){function r(a,b){var c="$$ngAnimateParentKey",d=a.parentNode,e=d[c]||(d[c]=++M);return e+"-"+a.getAttribute("class")+"-"+b}function s(c,d,e,f){var g=b.get(e);return g||(g=D(a,c,f),"infinite"===g.animationIterationCount&&(g.animationIterationCount=1)),b.put(e,g),g}function u(e,f,h,i){var j;if(b.count(h)>0&&(j=c.get(h),!j)){var k=g(f,"-stagger");d.addClass(e,k),j=D(a,e,i),j.animationDuration=Math.max(j.animationDuration,0),j.transitionDuration=Math.max(j.transitionDuration,0),d.removeClass(e,k),c.put(h,j)}return j||{}}function v(a){E&&E(),N.push(a),E=l(function(){E=null,b.flush(),c.flush();for(var a=j(),d=0;d<N.length;d++)N[d](a);N.length=0})}function z(a,b,c){var d=s(a,b,c,sa),e=d.animationDelay,f=d.transitionDelay;return d.maxDelay=e&&f?Math.max(e,f):e||f,d.maxDuration=Math.max(d.animationDuration*d.animationIterationCount,d.transitionDuration),d}function A(a,c){function j(){m()}function l(){m(!0)}function m(b){M||O&&N||(M=!0,N=!1,c.$$skipPreparationClasses||d.removeClass(a,ia),d.removeClass(a,la),x(E,!1),w(E,!1),P(X,function(a){E.style[a[0]]=""}),H(a,c),o(a,c),c.onDone&&c.onDone(),R&&R.complete(!b))}function s(a){Da.blockTransition&&w(E,a),Da.blockKeyframeAnimation&&x(E,!!a)}function A(){return R=new e({end:j,cancel:l}),m(),{$$willAnimate:!1,start:function(){return R},end:j}}function D(){function b(){if(!M){if(s(!1),P(X,function(a){var b=a[0],c=a[1];E.style[b]=c}),H(a,c),d.addClass(a,la),Da.recalculateTimingStyles){if(ka=E.className+" "+ia,oa=r(E,ka),Ba=z(E,ka,oa),Ca=Ba.maxDelay,T=Math.max(Ca,0),V=Ba.maxDuration,0===V)return void m();Da.hasTransitions=Ba.transitionDuration>0,Da.hasAnimations=Ba.animationDuration>0}if(Da.applyTransitionDelay||Da.applyAnimationDelay){Ca="boolean"!=typeof c.delay&&F(c.delay)?parseFloat(c.delay):Ca,T=Math.max(Ca,0);var b;Da.applyTransitionDelay&&(Ba.transitionDelay=Ca,b=C(Ca),X.push(b),E.style[b[0]]=b[1]),Da.applyAnimationDelay&&(Ba.animationDelay=Ca,b=C(Ca,!0),X.push(b),E.style[b[0]]=b[1])}if(U=T*pa,W=V*pa,c.easing){var h,k=c.easing;Da.hasTransitions&&(h=I+ga,X.push([h,k]),E.style[h]=k),Da.hasAnimations&&(h=K+ga,X.push([h,k]),E.style[h]=k)}Ba.transitionDuration&&j.push(J),Ba.animationDuration&&j.push(L),g=Date.now(),a.on(j.join(" "),f),i(e,U+ra*W,!1),q(a,c)}}function e(){m()}function f(a){a.stopPropagation();var b=a.originalEvent||a,c=b.$manualTimeStamp||b.timeStamp||Date.now(),d=parseFloat(b.elapsedTime.toFixed(qa));Math.max(c-g,0)>=U&&d>=V&&(O=!0,m())}if(!M){if(!E.parentNode)return void m();var g,j=[],k=function(a){if(O)N&&a&&(N=!1,m());else if(N=!a,Ba.animationDuration){var b=x(E,N);N?X.push(b):h(X,b)}},l=za>0&&(Ba.transitionDuration&&0===sa.transitionDuration||Ba.animationDuration&&0===sa.animationDuration)&&Math.max(sa.animationDelay,sa.transitionDelay);l?i(b,Math.floor(l*za*pa),!1):b(),S.resume=function(){k(!0)},S.pause=function(){k(!1)}}}var E=t(a);if(!E||!E.parentNode)return A();c=n(c);var M,N,O,R,S,T,U,V,W,X=[],aa=a.attr("class"),ba=f(c);if(0===c.duration||!k.animations&&!k.transitions)return A();var ca=c.event&&Q(c.event)?c.event.join(" "):c.event,da=ca&&c.structural,fa="",ha="";da?fa=g(ca,$,!0):ca&&(fa=ca),c.addClass&&(ha+=g(c.addClass,Y)),c.removeClass&&(ha.length&&(ha+=" "),ha+=g(c.removeClass,Z)),c.applyClassesEarly&&ha.length&&(H(a,c),ha="");var ia=[fa,ha].join(" ").trim(),ka=aa+" "+ia,la=g(ia,_),ma=ba.to&&Object.keys(ba.to).length>0,na=(c.keyframeStyle||"").length>0;if(!na&&!ma&&!ia)return A();var oa,sa;if(c.stagger>0){var ua=parseFloat(c.stagger);sa={transitionDelay:ua,animationDelay:ua,transitionDuration:0,animationDuration:0}}else oa=r(E,ka),sa=u(E,ia,oa,ta);c.$$skipPreparationClasses||d.addClass(a,ia);var va;if(c.transitionStyle){var wa=[I,c.transitionStyle];y(E,wa),X.push(wa)}if(c.duration>=0){va=E.style[I].length>0;var xa=G(c.duration,va);y(E,xa),X.push(xa)}if(c.keyframeStyle){var ya=[K,c.keyframeStyle];y(E,ya),X.push(ya)}var za=sa?c.staggerIndex>=0?c.staggerIndex:b.count(oa):0,Aa=0===za;Aa&&!c.skipBlocking&&w(E,ja);var Ba=z(E,ka,oa),Ca=Ba.maxDelay;T=Math.max(Ca,0),V=Ba.maxDuration;var Da={};return Da.hasTransitions=Ba.transitionDuration>0,Da.hasAnimations=Ba.animationDuration>0,Da.hasTransitionAll=Da.hasTransitions&&"all"==Ba.transitionProperty,Da.applyTransitionDuration=ma&&(Da.hasTransitions&&!Da.hasTransitionAll||Da.hasAnimations&&!Da.hasTransitions),Da.applyAnimationDuration=c.duration&&Da.hasAnimations,Da.applyTransitionDelay=F(c.delay)&&(Da.applyTransitionDuration||Da.hasTransitions),Da.applyAnimationDelay=F(c.delay)&&Da.hasAnimations,Da.recalculateTimingStyles=ha.length>0,(Da.applyTransitionDuration||Da.applyAnimationDuration)&&(V=c.duration?parseFloat(c.duration):V,Da.applyTransitionDuration&&(Da.hasTransitions=!0,Ba.transitionDuration=V,va=E.style[I+ea].length>0,X.push(G(V,va))),Da.applyAnimationDuration&&(Da.hasAnimations=!0,Ba.animationDuration=V,X.push(B(V)))),0!==V||Da.recalculateTimingStyles?(null==c.duration&&Ba.transitionDuration>0&&(Da.recalculateTimingStyles=Da.recalculateTimingStyles||Aa),U=T*pa,W=V*pa,c.skipBlocking||(Da.blockTransition=Ba.transitionDuration>0,Da.blockKeyframeAnimation=Ba.animationDuration>0&&sa.animationDelay>0&&0===sa.animationDuration),p(a,c),Da.blockTransition||Da.blockKeyframeAnimation?s(V):c.skipBlocking||w(E,!1),{$$willAnimate:!0,end:j,start:function(){return M?void 0:(S={end:j,cancel:l,resume:null,pause:null},R=new e(S),v(D),R)}}):A()}var E,H=m(d),M=0,N=[];return A}]}],va=["$$animationProvider",function(a){a.drivers.push("$$animateCssDriver");var b="ng-animate-shim",c="ng-anchor",d="ng-anchor-out",e="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$$body","$sniffer","$$jqLite",function(a,f,g,h,i,j,k){function l(a){return a.replace(/\bng-\S+\b/g,"")}function n(a,b){return R(a)&&(a=a.split(" ")),R(b)&&(b=b.split(" ")),a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function o(f,h,i){function j(a){var b={},c=t(a).getBoundingClientRect();return P(["width","height","top","left"],function(a){var d=c[a];switch(a){case"top":d+=r.scrollTop;break;case"left":d+=r.scrollLeft}b[a]=Math.floor(d)+"px"}),b}function k(){var b=a(q,{addClass:d,delay:!0,from:j(h)});return b.$$willAnimate?b:null}function m(a){return a.attr("class")||""}function o(){var b=l(m(i)),c=n(b,s),f=n(s,b),g=a(q,{to:j(i),addClass:e+" "+c,removeClass:d+" "+f,delay:!0});return g.$$willAnimate?g:null}function p(){q.remove(),h.removeClass(b),i.removeClass(b)}var q=O(t(h).cloneNode(!0)),s=l(m(q));h.addClass(b),i.addClass(b),q.addClass(c),u.append(q);var v,w=k();if(!w&&(v=o(),!v))return p();var x=w||v;return{start:function(){function a(){c&&c.end()}var b,c=x.start();return c.done(function(){return c=null,!v&&(v=o())?(c=v.start(),c.done(function(){c=null,p(),b.complete()}),c):(p(),void b.complete())}),b=new g({end:a,cancel:a})}}}function p(a,b,c,d){var e=q(a,M),f=q(b,M),h=[];return P(d,function(a){var b=a.out,d=a["in"],e=o(c,b,d);e&&h.push(e)}),e||f||0!==h.length?{start:function(){function a(){P(b,function(a){a.end()})}var b=[];e&&b.push(e.start()),f&&b.push(f.start()),P(h,function(a){b.push(a.start())});var c=new g({end:a,cancel:a});return g.all(b,function(a){c.complete(a)}),c}}:void 0}function q(b,c){var d=b.element,e=b.options||{};e.$$skipPreparationClasses=!0,e.skipBlocking=!0,b.structural&&(e.event=b.event,"leave"===b.event&&(e.onDone=e.domOperation)),c(d),v(d,e),e.preparationClasses&&(e.event=z(e.event,e.preparationClasses));var f=a(d,e);return f.$$willAnimate?f:null}if(!j.animations&&!j.transitions)return M;var r=t(i),s=t(h),u=O(r.parentNode===s?r:s),v=m(k);return function(a,b){return a.from&&a.to?p(a.from,a.to,a.classes,a.anchors):q(a,b)}}]}],wa=["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$rAFMutex","$$jqLite",function(b,c,d,e){function f(c){c=Q(c)?c:c.split(" ");for(var d=[],e={},f=0;f<c.length;f++){var g=c[f],h=a.$$registeredAnimations[g];h&&!e[g]&&(d.push(b.get(h)),e[g]=!0)}return d}var g=m(e);return function(a,b,d,e){function h(){e.domOperation(),g(a,e)}function i(a,b,d,e,f){var g;switch(d){case"animate":g=[b,e.from,e.to,f];break;case"setClass":g=[b,p,q,f];break;case"addClass":g=[b,p,f];break;case"removeClass":g=[b,q,f];break;default:g=[b,f]}g.push(e);var h=a.apply(a,g);if(h)if(V(h.start)&&(h=h.start()),h instanceof c)h.done(f);else if(V(h))return h;return M}function j(a,b,d,e,f){var g=[];return P(e,function(e){var h=e[f];h&&g.push(function(){var e,f,g=!1,j=function(a){g||(g=!0,(f||M)(a),e.complete(!a))};return e=new c({end:function(){j()},cancel:function(){j(!0)}}),f=i(h,a,b,d,function(a){var b=a===!1;j(b)}),e})}),g}function k(a,b,d,e,f){var g=j(a,b,d,e,f);if(0===g.length){var h,i;"beforeSetClass"===f?(h=j(a,"removeClass",d,e,"beforeRemoveClass"),i=j(a,"addClass",d,e,"beforeAddClass")):"setClass"===f&&(h=j(a,"removeClass",d,e,"removeClass"),i=j(a,"addClass",d,e,"addClass")),h&&(g=g.concat(h)),i&&(g=g.concat(i))}if(0!==g.length)return function(a){var b=[];return g.length&&P(g,function(a){b.push(a())}),b.length?c.all(b,a):a(),function(a){P(b,function(b){a?b.cancel():b.end()})}}}3===arguments.length&&S(d)&&(e=d,d=null),e=n(e),d||(d=a.attr("class")||"",e.addClass&&(d+=" "+e.addClass),e.removeClass&&(d+=" "+e.removeClass));var l,m,p=e.addClass,q=e.removeClass,r=f(d);if(r.length){var s,t;"leave"==b?(t="leave",s="afterLeave"):(t="before"+b.charAt(0).toUpperCase()+b.substr(1),s=b),"enter"!==b&&"move"!==b&&(l=k(a,b,e,r,t)),m=k(a,b,e,r,s)}return l||m?{start:function(){function b(b){i=!0,h(),o(a,e),j.complete(b)}function d(a){i||((f||M)(a),b(a))}var f,g=[];l&&g.push(function(a){f=l(a)}),g.length?g.push(function(a){h(),a(!0)}):h(),m&&g.push(function(a){f=m(a)});var i=!1,j=new c({end:function(){d()},cancel:function(){d(!0)}});return c.chain(g,b),j}}:void 0}}]}],xa=["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(a,b){function c(b){var c=b.element,d=b.event,e=b.options,f=b.classes;return a(c,d,f,e)}return function(a){if(a.from&&a.to){var d=c(a.from),e=c(a.to);if(!d&&!e)return;return{start:function(){function a(){return function(){P(f,function(a){a.end()})}}function c(a){g.complete(a)}var f=[];d&&f.push(d.start()),e&&f.push(e.start()),b.all(f,c);var g=new b({end:a(),cancel:a()});return g}}}return c(a)}}]}],ya="data-ng-animate",za="$ngAnimatePin",Aa=["$animateProvider",function(a){function b(a,b,c,d){return g[a].some(function(a){return a(b,c,d)})}function c(a,b){a=a||{};var c=(a.addClass||"").length>0,d=(a.removeClass||"").length>0;return b?c&&d:c||d}var e=1,f=2,g=this.rules={skip:[],cancel:[],join:[]};g.join.push(function(a,b,d){return!b.structural&&c(b.options)}),g.skip.push(function(a,b,d){return!b.structural&&!c(b.options)}),g.skip.push(function(a,b,c){return"leave"==c.event&&b.structural}),g.skip.push(function(a,b,c){return c.structural&&c.state===f&&!b.structural}),g.cancel.push(function(a,b,c){return c.structural&&b.structural}),g.cancel.push(function(a,b,c){return c.state===f&&b.structural}),g.cancel.push(function(a,b,c){var d=b.options,e=c.options;return d.addClass&&d.addClass===e.removeClass||d.removeClass&&d.removeClass===e.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$body","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(g,h,k,l,p,q,s,x,y,z,A){function B(a,b){return r(a,b,{})}function C(a,b){var c=t(a),d=[],e=V[b];return e&&P(e,function(a){a.node.contains(c)&&d.push(a.callback)}),d}function D(a,b,c,d){g(function(){P(C(b,a),function(a){a(b,c,d)})})}function E(a,d,g){function j(b,c,d,e){D(c,a,d,e),b.progress(c,d,e)}function k(b){v(a,g),$(a,g),o(a,g),g.domOperation(),p.complete(!b)}var l,m;a=i(a),a&&(l=t(a),m=a.parent()),g=n(g);var p=new x;if(Q(g.addClass)&&(g.addClass=g.addClass.join(" ")),g.addClass&&!R(g.addClass)&&(g.addClass=null),Q(g.removeClass)&&(g.removeClass=g.removeClass.join(" ")),g.removeClass&&!R(g.removeClass)&&(g.removeClass=null),g.from&&!S(g.from)&&(g.from=null),g.to&&!S(g.to)&&(g.to=null),!l)return k(),p;var q=[l.className,g.addClass,g.removeClass].join(" ");if(!Z(q))return k(),p;var y=["enter","move","leave"].indexOf(d)>=0,z=!M||L.get(l),C=!z&&K.get(l)||{},E=!!C.state;if(z||E&&C.state==e||(z=!I(a,m,d)),z)return k(),p;y&&F(a);var H={structural:y,element:a,event:d,close:k,options:g,runner:p};if(E){var N=b("skip",a,H,C);if(N)return C.state===f?(k(),p):(r(a,C.options,g),C.runner);var O=b("cancel",a,H,C);if(O)if(C.state===f)C.runner.end();else{if(!C.structural)return r(a,C.options,H.options),C.runner;C.close()}else{var P=b("join",a,H,C);if(P){if(C.state!==f)return u(a,y?d:null,g),d=H.event=C.event,g=r(a,C.options,H.options),C.runner;B(a,g)}}}else B(a,g);var T=H.structural;if(T||(T="animate"===H.event&&Object.keys(H.options.to||{}).length>0||c(H.options)),!T)return k(),G(a),p;u(a,y?d:null,g),w(l,ja);var U=(C.counter||0)+1;return H.counter=U,J(a,e,H),h.$$postDigest(function(){var b=K.get(l),e=!b;b=b||{};var h=a.parent()||[],i=h.length>0&&("animate"===b.event||b.structural||c(b.options));if(e||b.counter!==U||!i)return e&&($(a,g),o(a,g)),(e||y&&b.event!==d)&&(g.domOperation(),p.end()),void(i||G(a));d=!b.structural&&c(b.options,!0)?"setClass":b.event,J(a,f);var m=s(a,d,b.options,function(a){A(),w(t(a),!1)});m.done(function(b){k(!b);var c=K.get(l);c&&c.counter===U&&G(t(a)),j(p,d,"close",{})}),p.setHost(m),j(p,d,"start",{})}),p}function F(a){var b=t(a),c=b.querySelectorAll("["+ya+"]");P(c,function(a){var b=parseInt(a.getAttribute(ya)),c=K.get(a);switch(b){case f:c.runner.end();case e:c&&K.remove(a)}})}function G(a){var b=t(a);b.removeAttribute(ya),K.remove(b)}function H(a,b){return t(a)===t(b)}function I(a,b,c){var d,e=H(a,p)||"HTML"===a[0].nodeName,f=H(a,k),g=!1,h=a.data(za);for(h&&(b=h);b&&b.length;){f||(f=H(b,k));var i=b[0];if(i.nodeType!==X)break;var j=K.get(i)||{};if(g||(g=j.structural||L.get(i)),T(d)||d===!0){var l=b.data(ba);U(l)&&(d=l)}if(g&&d===!1)break;f||(f=H(b,k),f||(h=b.data(za),h&&(b=h))),e||(e=H(b,p)),b=b.parent()}var m=!g||d;return m&&f&&e}function J(a,b,c){c=c||{},c.state=b;var d=t(a);d.setAttribute(ya,b);var e=K.get(d),f=e?N(e,c):c;K.put(d,f)}var K=new q,L=new q,M=null,O=h.$watch(function(){return 0===y.totalPendingRequests},function(a){a&&(O(),h.$$postDigest(function(){h.$$postDigest(function(){null===M&&(M=!0)})}))}),V={},Y=a.classNameFilter(),Z=Y?function(a){return Y.test(a)}:function(){return!0},$=m(z);return{on:function(a,b,c){var d=j(b);V[a]=V[a]||[],V[a].push({node:d,callback:c})},off:function(a,b,c){function d(a,b,c){var d=j(b);return a.filter(function(a){var b=a.node===d&&(!c||a.callback===c);return!b})}var e=V[a];e&&(V[a]=1===arguments.length?null:d(e,b,c))},pin:function(a,b){d(W(a),"element","not an element"),d(W(b),"parentElement","not an element"),a.data(za,b)},push:function(a,b,c,d){return c=c||{},c.domOperation=d,E(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!M;else{var d=W(a);if(d){var e=t(a),f=L.get(e);1===c?b=!f:(b=!!b,b?f&&L.remove(e):L.put(e,!0))}else b=M=!!a}return b}}}]}],Ba=["$$rAF",function(a){return function(){var b=!1;return a(function(){b=!0}),function(c){b?c():a(c)}}}],Ca=["$q","$$rAFMutex",function(a,b){function c(a){this.setHost(a),this._doneCallbacks=[],this._runInAnimationFrame=b(),this._state=0}var d=0,e=1,f=2;return c.chain=function(a,b){function c(){return d===a.length?void b(!0):void a[d](function(a){return a===!1?void b(!1):(d++,void c())})}var d=0;c()},c.all=function(a,b){function c(c){e=e&&c,++d===a.length&&b(e)}var d=0,e=!0;P(a,function(a){a.done(c)})},c.prototype={setHost:function(a){this.host=a||{}},done:function(a){this._state===f?a():this._doneCallbacks.push(a)},progress:M,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){b===!1?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;b._state===d&&(b._state=e,b._runInAnimationFrame(function(){b._resolve(a)}))},_resolve:function(a){this._state!==f&&(P(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=f)}},c}],Da=["$animateProvider",function(a){function b(a,b){a.data(h,b)}function c(a){a.removeData(h)}function d(a){return a.data(h)}var f="ng-animate-ref",g=this.drivers=[],h="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap",function(a,h,i,j,k){function l(a){function b(a){if(a.processed)return a;a.processed=!0;
var c=a.domNode,d=c.parentNode;f.put(c,a);for(var g;d;){if(g=f.get(d)){g.processed||(g=b(g));break}d=d.parentNode}return(g||e).children.push(a),a}function c(a){var b,c=[],d=[];for(b=0;b<a.children.length;b++)d.push(a.children[b]);var e=d.length,f=0,g=[];for(b=0;b<d.length;b++){var h=d[b];0>=e&&(e=f,f=0,c=c.concat(g),g=[]),g.push(h.fn),P(h.children,function(a){f++,d.push(a)}),e--}return g.length&&(c=c.concat(g)),c}var d,e={children:[]},f=new k;for(d=0;d<a.length;d++){var g=a[d];f.put(g.domNode,a[d]={domNode:g.domNode,fn:g.fn,children:[]})}for(d=0;d<a.length;d++)b(a[d]);return c(e)}var p=[],q=m(a);return function(k,m,r,s){function u(a){var b="["+f+"]",c=a.hasAttribute(f)?[a]:a.querySelectorAll(b),d=[];return P(c,function(a){var b=a.getAttribute(f);b&&b.length&&d.push(a)}),d}function v(a){var b=[],c={};P(a,function(a,d){var e=a.element,g=t(e),h=a.event,i=["enter","move"].indexOf(h)>=0,j=a.structural?u(g):[];if(j.length){var k=i?"to":"from";P(j,function(a){var b=a.getAttribute(f);c[b]=c[b]||{},c[b][k]={animationID:d,element:O(a)}})}else b.push(a)});var d={},e={};return P(c,function(c,f){var g=c.from,h=c.to;if(!g||!h){var i=g?g.animationID:h.animationID,j=i.toString();return void(d[j]||(d[j]=!0,b.push(a[i])))}var k=a[g.animationID],l=a[h.animationID],m=g.animationID.toString();if(!e[m]){var n=e[m]={beforeStart:function(){k.beforeStart(),l.beforeStart()},close:function(){k.close(),l.close()},classes:w(k.classes,l.classes),from:k,to:l,anchors:[]};n.classes.length?b.push(n):(b.push(k),b.push(l))}e[m].anchors.push({out:g.element,"in":h.element})}),b}function w(a,b){a=a.split(" "),b=b.split(" ");for(var c=[],d=0;d<a.length;d++){var e=a[d];if("ng-"!==e.substring(0,3))for(var f=0;f<b.length;f++)if(e===b[f]){c.push(e);break}}return c.join(" ")}function x(a,b){for(var c=g.length-1;c>=0;c--){var d=g[c];if(i.has(d)){var e=i.get(d),f=e(a,b);if(f)return f}}}function y(){k.addClass(aa),F&&a.addClass(k,F)}function z(a,b){function c(a){d(a).setHost(b)}a.from&&a.to?(c(a.from.element),c(a.to.element)):c(a.element)}function A(){var a=d(k);!a||"leave"===m&&r.$$domOperationFired||a.end()}function B(b){k.off("$destroy",A),c(k),q(k,r),o(k,r),r.domOperation(),F&&a.removeClass(k,F),k.removeClass(aa),D.complete(!b)}r=n(r);var C=["enter","move","leave"].indexOf(m)>=0,D=new j({end:function(){B()},cancel:function(){B(!0)}});if(!g.length)return B(),D;b(k,D);var E=e(k.attr("class"),e(r.addClass,r.removeClass)),F=r.tempClasses;return F&&(E+=" "+F,r.tempClasses=null),p.push({element:k,classes:E,event:m,structural:C,options:r,beforeStart:y,close:B}),k.on("$destroy",A),p.length>1?D:(h.$$postDigest(function(){var a=[];P(p,function(b){var c=b.element;d(c)&&t(c).parentNode?a.push(b):b.close()}),p.length=0;var b=v(a),c=[];P(b,function(a){c.push({domNode:t(a.from?a.from.element:a.element),fn:function(){a.beforeStart();var b,c=a.close,e=a.anchors?a.from.element||a.to.element:a.element;if(d(e)){var f=x(a,s);f&&(b=f.start)}if(b){var g=b();g.done(function(a){c(!a)}),z(a,g)}else c()}})}),P(l(c),function(a){a()})}),D)}}]}];b.module("ngAnimate",[]).provider("$$body",A).directive("ngAnimateChildren",oa).factory("$$rAFMutex",Ba).factory("$$AnimateRunner",Ca).provider("$$animateQueue",Aa).provider("$$animation",Da).provider("$animateCss",ua).provider("$$animateCssDriver",va).provider("$$animateJs",wa).provider("$$animateJsDriver",xa)}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(a){return{link:function(b,c,d){function e(){c.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),a.addClass(c,"in",{to:{height:c[0].scrollHeight+"px"}}).then(f)}function f(){c.removeClass("collapsing"),c.css({height:"auto"})}function g(){return c.hasClass("collapse")||c.hasClass("in")?(c.css({height:c[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void a.removeClass(c,"in",{to:{height:"0"}}).then(h)):h()}function h(){c.css({height:"0"}),c.removeClass("collapsing"),c.addClass("collapse")}b.$watch(d.collapse,function(a){a?g():e()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(a,b){return b.templateUrl||"template/accordion/accordion.html"}}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.$watch("isOpen",function(b){b&&d.closeOthers(a)}),a.toggleOpen=function(){a.isDisabled||(a.isOpen=!a.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.find("span").html(""),b.find("span").append(a))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable=!!b.close,this.close=a.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",controllerAs:"alert",templateUrl:function(a,b){return b.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(a){return{require:"alert",link:function(b,c,d,e){a(function(){e.close()},parseInt(d.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(a,b){return function(c,d,e){b||a.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),d.addClass("ng-binding").data("$binding",e.bindHtmlUnsafe),c.$watch(e.bindHtmlUnsafe,function(a){d.html(a||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(a,b,c,d){var e=d[0],f=d[1];f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){if(!c.disabled){var d=b.hasClass(e.activeClass);(!d||angular.isDefined(c.uncheckable))&&a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.btnRadio)),f.$render()})}})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){var d=a.$eval(b);return angular.isDefined(d)?d:c}var h=d[0],i=d[1];i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.bind(h.toggleEvent,function(){c.disabled||a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(a,b,c,d){function e(b,c,e){r||(angular.extend(b,{direction:e,active:!0}),angular.extend(l.currentSlide||{},{direction:e,active:!1}),d.enabled()&&!a.noTransition&&!a.$currentTransition&&b.$element&&l.slides.length>1&&(b.$element.data(p,b.direction),l.currentSlide&&l.currentSlide.$element&&l.currentSlide.$element.data(p,b.direction),a.$currentTransition=!0,n?d.on("addClass",b.$element,function(b,c){"close"===c&&(a.$currentTransition=null,d.off("addClass",b))}):b.$element.one("$animate:close",function(){a.$currentTransition=null})),l.currentSlide=b,q=c,g())}function f(a){if(angular.isUndefined(m[a].index))return m[a];var b;m.length;for(b=0;b<m.length;++b)if(m[b].index==a)return m[b]}function g(){h();var b=+a.interval;!isNaN(b)&&b>0&&(j=c(i,b))}function h(){j&&(c.cancel(j),j=null)}function i(){var b=+a.interval;k&&!isNaN(b)&&b>0&&m.length?a.next():a.pause()}var j,k,l=this,m=l.slides=a.slides=[],n=angular.version.minor>=4,o="uib-noTransition",p="uib-slideDirection",q=-1;l.currentSlide=null;var r=!1;l.select=a.select=function(b,c){var d=a.indexOfSlide(b);void 0===c&&(c=d>l.getCurrentIndex()?"next":"prev"),b&&b!==l.currentSlide&&!a.$currentTransition&&e(b,d,c)},a.$on("$destroy",function(){r=!0}),l.getCurrentIndex=function(){return l.currentSlide&&angular.isDefined(l.currentSlide.index)?+l.currentSlide.index:q},a.indexOfSlide=function(a){return angular.isDefined(a.index)?+a.index:m.indexOf(a)},a.next=function(){var b=(l.getCurrentIndex()+1)%m.length;return 0===b&&a.noWrap()?void a.pause():l.select(f(b),"next")},a.prev=function(){var b=l.getCurrentIndex()-1<0?m.length-1:l.getCurrentIndex()-1;return a.noWrap()&&b===m.length-1?void a.pause():l.select(f(b),"prev")},a.isActive=function(a){return l.currentSlide===a},a.$watch("interval",g),a.$on("$destroy",h),a.play=function(){k||(k=!0,g())},a.pause=function(){a.noPause||(k=!1,h())},l.addSlide=function(b,c){b.$element=c,m.push(b),1===m.length||b.active?(l.select(m[m.length-1]),1==m.length&&a.play()):b.active=!1},l.removeSlide=function(a){angular.isDefined(a.index)&&m.sort(function(a,b){return+a.index>+b.index});var b=m.indexOf(a);m.splice(b,1),m.length>0&&a.active?b>=m.length?l.select(m[b-1]):l.select(m[b]):q>b&&q--,0===m.length&&(l.currentSlide=null)},a.$watch("noTransition",function(a){b.data(o,a)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(a,b){return b.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",index:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}).animation(".item",["$injector","$animate",function(a,b){function c(a,b,c){a.removeClass(b),c&&c()}var d="uib-noTransition",e="uib-slideDirection",f=null;return a.has("$animateCss")&&(f=a.get("$animateCss")),{beforeAddClass:function(a,g,h){if("active"==g&&a.parent()&&!a.parent().data(d)){var i=!1,j=a.data(e),k="next"==j?"left":"right",l=c.bind(this,a,k+" "+j,h);return a.addClass(j),f?f(a,{addClass:k}).start().done(l):b.addClass(a,k).then(function(){i||l(),h()}),function(){i=!0}}h()},beforeRemoveClass:function(a,g,h){if("active"===g&&a.parent()&&!a.parent().data(d)){var i=!1,j=a.data(e),k="next"==j?"left":"right",l=c.bind(this,a,k,h);return f?f(a,{addClass:k}).start().done(l):b.addClass(a,k).then(function(){i||l(),h()}),function(){i=!0}}h()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(a,b,c){function d(a){var b=[],d=a.split("");return angular.forEach(g,function(c,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+c.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;h>g;g++)d[g]="",a[g]="$";a=a.join(""),b.push({index:f,apply:c.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:c(b,"index")}}function e(a,b,c){return 1>c?!1:1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}var f=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var g={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)}},MMM:{regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:b.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:b.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a}},hh:{regex:"0[0-9]|1[0-2]",apply:function(a){this.hours=+a}},H:{regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a}},mm:{regex:"[0-5][0-9]",apply:function(a){this.minutes=+a}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a}},sss:{regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a}},ss:{regex:"[0-5][0-9]",apply:function(a){this.seconds=+a}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a}},a:{regex:b.DATETIME_FORMATS.AMPMS.join("|"),apply:function(a){12===this.hours&&(this.hours=0),"PM"===a&&(this.hours+=12)}}};this.parse=function(c,g,h){if(!angular.isString(c)||!g)return c;g=b.DATETIME_FORMATS[g]||g,g=g.replace(f,"\\$&"),this.parsers[g]||(this.parsers[g]=d(g));var i=this.parsers[g],j=i.regex,k=i.map,l=c.match(j);if(l&&l.length){var m,n;angular.isDate(h)&&!isNaN(h.getTime())?m={year:h.getFullYear(),month:h.getMonth(),date:h.getDate(),hours:h.getHours(),minutes:h.getMinutes(),seconds:h.getSeconds(),milliseconds:h.getMilliseconds()}:(h&&a.warn("dateparser:","baseDate is not a valid date"),m={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var o=1,p=l.length;p>o;o++){var q=k[o-1];q.apply&&q.apply.call(m,l[o])}return e(m.year,m.month,m.date)&&(n=new Date(m.year,m.month,m.date,m.hours,m.minutes,m.seconds,m.milliseconds||0)),n}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(c,e){i[c]=angular.isDefined(b[c])?6>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):g[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=g[d]?new Date(g[d]):null}),angular.forEach(["minMode","maxMode"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(c){i[d]=angular.isDefined(c)?c:b[d],a[d]=i[d],("minMode"==d&&i.modes.indexOf(a.datepickerMode)<i.modes.indexOf(i[d])||"maxMode"==d&&i.modes.indexOf(a.datepickerMode)>i.modes.indexOf(i[d]))&&(a.datepickerMode=i[d])}):(i[d]=g[d]||null,a[d]=i[d])}),a.datepickerMode=a.datepickerMode||g.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(b.initDate)?(this.activeDate=a.$parent.$eval(b.initDate)||new Date,a.$parent.$watch(b.initDate,function(a){a&&(j.$isEmpty(j.$modelValue)||j.$invalid)&&(i.activeDate=a,i.refreshView())})):this.activeDate=new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$viewValue){var a=new Date(j.$viewValue),b=!isNaN(a);b?this.activeDate=a:h||e.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$viewValue?new Date(j.$viewValue):null;j.$setValidity("dateDisabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$viewValue?new Date(j.$viewValue):null;return{date:a,label:f(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date),customClass:this.customClass(a)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},this.fixTimeZone=function(a){var b=a.getHours();a.setHours(23===b?b+2:0)},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$viewValue?new Date(j.$viewValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&-1===b||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){i.element[0].focus()};a.$on("datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),i.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate),k()}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):(a.toggleMode("up"===c?1:-1),k())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive("daypicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?i[b]:29}function g(a,b){for(var c,d=new Array(b),f=new Date(a),g=0;b>g;)c=new Date(f),e.fixTimeZone(c),d[g++]=c,f.setDate(f.getDate()+1);return d}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(-j+1);for(var l=g(k,42),m=0;42>m;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+"-"+m});b.labels=new Array(7);for(var n=0;7>n;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,"EEEE")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=(11-e.startingDay)%7,p=b.rows.length,q=0;p>q;q++)b.weekNumbers.push(h(b.rows[q][o].date))}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a,b){var c=e.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var d=e.activeDate.getMonth()+("pageup"===a?-1:1);e.activeDate.setMonth(d,1),c=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(c)},e.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c,d=new Array(12),f=e.activeDate.getFullYear(),g=0;12>g;g++)c=new Date(f,g,1),e.fixTimeZone(c),d[g]=angular.extend(e.createDateObject(c,e.formatMonth),{uid:b.uniqueId+"-"+g});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(d,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.handleKeyDown=function(a,b){var c=e.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=3;else if("right"===a)c+=1;else if("down"===a)c+=3;else if("pageup"===a||"pagedown"===a){var d=e.activeDate.getFullYear()+("pageup"===a?-1:1);e.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);e.activeDate.setMonth(c)},e.refreshView()}}}]).directive("yearpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b,c=new Array(f),g=0,h=e(d.activeDate.getFullYear());f>g;g++)b=new Date(h+g,0,1),d.fixTimeZone(b),c[g]=angular.extend(d.createDateObject(b,d.formatYear),{uid:a.uniqueId+"-"+g});a.title=[c[0].label,c[f-1].label].join(" - "),a.rows=d.split(c,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a,b){var c=d.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=5:"right"===a?c+=1:"down"===a?c+=5:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*d.step.years:"home"===a?c=e(d.activeDate.getFullYear()):"end"===a&&(c=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(c)},d.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(a,b,c,d,e,f,g,h,i){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(j,k,l,m){function n(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function o(a){if(angular.isNumber(a)&&(a=new Date(a)),a){if(angular.isDate(a)&&!isNaN(a))return a;if(angular.isString(a)){var b=g.parse(a,q,j.date);return isNaN(b)?void 0:b}return void 0}return null}function p(a,b){var c=a||b;if(!l.ngRequired&&!c)return!0;if(angular.isNumber(c)&&(c=new Date(c)),c){if(angular.isDate(c)&&!isNaN(c))return!0;if(angular.isString(c)){var d=g.parse(c,q);return!isNaN(d)}return!1}return!0}var q,r=angular.isDefined(l.closeOnDateSelection)?j.$parent.$eval(l.closeOnDateSelection):h.closeOnDateSelection,s=angular.isDefined(l.datepickerAppendToBody)?j.$parent.$eval(l.datepickerAppendToBody):h.appendToBody,t=angular.isDefined(l.onOpenFocus)?j.$parent.$eval(l.onOpenFocus):h.onOpenFocus,u=angular.isDefined(l.datepickerPopupTemplateUrl)?l.datepickerPopupTemplateUrl:h.datepickerPopupTemplateUrl,v=angular.isDefined(l.datepickerTemplateUrl)?l.datepickerTemplateUrl:h.datepickerTemplateUrl;j.showButtonBar=angular.isDefined(l.showButtonBar)?j.$parent.$eval(l.showButtonBar):h.showButtonBar,j.getText=function(a){return j[a+"Text"]||h[a+"Text"]};var w=!1;if(h.html5Types[l.type]?(q=h.html5Types[l.type],w=!0):(q=l.datepickerPopup||h.datepickerPopup,l.$observe("datepickerPopup",function(a,b){var c=a||h.datepickerPopup;if(c!==q&&(q=c,m.$modelValue=null,!q))throw new Error("datepickerPopup must have a date format specified.")})),!q)throw new Error("datepickerPopup must have a date format specified.");if(w&&l.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var x=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");x.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":u});var y=angular.element(x.children()[0]);if(y.attr("template-url",v),w&&"month"==l.type&&(y.attr("datepicker-mode",'"month"'),y.attr("min-mode","month")),l.datepickerOptions){var z=j.$parent.$eval(l.datepickerOptions);z&&z.initDate&&(j.initDate=z.initDate,y.attr("init-date","initDate"),delete z.initDate),angular.forEach(z,function(a,b){y.attr(n(b),a)})}j.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(a){if(l[a]){var c=b(l[a]);if(j.$parent.$watch(c,function(b){j.watchData[a]=b}),y.attr(n(a),"watchData."+a),"datepickerMode"===a){var d=c.assign;j.$watch("watchData."+a,function(a,b){angular.isFunction(d)&&a!==b&&d(j.$parent,a)})}}}),l.dateDisabled&&y.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),l.showWeeks&&y.attr("show-weeks",l.showWeeks),l.customClass&&y.attr("custom-class","customClass({ date: date, mode: mode })"),w?m.$formatters.push(function(a){return j.date=a,a}):(m.$$parserName="date",m.$validators.date=p,m.$parsers.unshift(o),m.$formatters.push(function(a){return j.date=a,m.$isEmpty(a)?a:f(a,q)})),j.dateSelection=function(a){angular.isDefined(a)&&(j.date=a);var b=j.date?f(j.date,q):null;k.val(b),m.$setViewValue(b),r&&(j.isOpen=!1,k[0].focus())},m.$viewChangeListeners.push(function(){j.date=g.parse(m.$viewValue,q,j.date)});var A=function(a){j.isOpen&&!k[0].contains(a.target)&&j.$apply(function(){j.isOpen=!1})},B=function(a){27===a.which&&j.isOpen?(a.preventDefault(),a.stopPropagation(),j.$apply(function(){j.isOpen=!1}),k[0].focus()):40!==a.which||j.isOpen||(a.preventDefault(),a.stopPropagation(),j.$apply(function(){j.isOpen=!0}))};k.bind("keydown",B),j.keydown=function(a){27===a.which&&(j.isOpen=!1,k[0].focus())},j.$watch("isOpen",function(a){a?(j.position=s?e.offset(k):e.position(k),j.position.top=j.position.top+k.prop("offsetHeight"),i(function(){t&&j.$broadcast("datepicker.focus"),c.bind("click",A)},0,!1)):c.unbind("click",A)}),j.select=function(a){if("today"===a){var b=new Date;angular.isDate(j.date)?(a=new Date(j.date),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}j.dateSelection(a)},j.close=function(){j.isOpen=!1,k[0].focus()};var C=a(x)(j);x.remove(),s?c.find("body").append(C):k.after(C),j.$on("$destroy",function(){j.isOpen===!0&&(d.$$phase||j.$apply(function(){j.isOpen=!1})),C.remove(),k.unbind("keydown",B),c.unbind("click",A)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(a,b){var c=null;this.open=function(b){c||(a.bind("click",d),a.bind("keydown",e)),c&&c!==b&&(c.isOpen=!1),c=b},this.close=function(b){c===b&&(c=null,a.unbind("click",d),a.unbind("keydown",e))};var d=function(a){if(c&&(!a||"disabled"!==c.getAutoClose())){var d=c.getToggleElement();if(!(a&&d&&d[0].contains(a.target))){var e=c.getDropdownElement();a&&"outsideClick"===c.getAutoClose()&&e&&e[0].contains(a.target)||(c.isOpen=!1,b.$$phase||c.$apply())}}},e=function(a){27===a.which?(c.focusToggleElement(),d()):c.isKeynavEnabled()&&/(38|40)/.test(a.which)&&c.isOpen&&(a.preventDefault(),a.stopPropagation(),
c.focusDropdownEntry(a.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(a,b,c,d,e,f,g,h,i,j){var k,l,m=this,n=a.$new(),o=d.openClass,p=angular.noop,q=b.onToggle?c(b.onToggle):angular.noop,r=!1,s=!1;this.init=function(d){m.$element=d,b.isOpen&&(l=c(b.isOpen),p=l.assign,a.$watch(l,function(a){n.isOpen=!!a})),r=angular.isDefined(b.dropdownAppendToBody),s=angular.isDefined(b.keyboardNav),r&&m.dropdownMenu&&(h.find("body").append(m.dropdownMenu),d.on("$destroy",function(){m.dropdownMenu.remove()}))},this.toggle=function(a){return n.isOpen=arguments.length?!!a:!n.isOpen},this.isOpen=function(){return n.isOpen},n.getToggleElement=function(){return m.toggleElement},n.getAutoClose=function(){return b.autoClose||"always"},n.getElement=function(){return m.$element},n.isKeynavEnabled=function(){return s},n.focusDropdownEntry=function(a){var b=m.dropdownMenu?angular.element(m.dropdownMenu).find("a"):angular.element(m.$element).find("ul").eq(0).find("a");switch(a){case 40:angular.isNumber(m.selectedOption)?m.selectedOption=m.selectedOption===b.length-1?m.selectedOption:m.selectedOption+1:m.selectedOption=0;break;case 38:if(!angular.isNumber(m.selectedOption))return;m.selectedOption=0===m.selectedOption?0:m.selectedOption-1}b[m.selectedOption].focus()},n.getDropdownElement=function(){return m.dropdownMenu},n.focusToggleElement=function(){m.toggleElement&&m.toggleElement[0].focus()},n.$watch("isOpen",function(b,c){if(r&&m.dropdownMenu){var d=g.positionElements(m.$element,m.dropdownMenu,"bottom-left",!0),h={top:d.top+"px",display:b?"block":"none"},l=m.dropdownMenu.hasClass("dropdown-menu-right");l?(h.left="auto",h.right=window.innerWidth-(d.left+m.$element.prop("offsetWidth"))+"px"):(h.left=d.left+"px",h.right="auto"),m.dropdownMenu.css(h)}if(f[b?"addClass":"removeClass"](m.$element,o).then(function(){angular.isDefined(b)&&b!==c&&q(a,{open:!!b})}),b)m.dropdownMenuTemplateUrl&&j(m.dropdownMenuTemplateUrl).then(function(a){k=n.$new(),i(a.trim())(k,function(a){var b=a;m.dropdownMenu.replaceWith(b),m.dropdownMenu=b})}),n.focusToggleElement(),e.open(n);else{if(m.dropdownMenuTemplateUrl){k&&k.$destroy();var s=angular.element('<ul class="dropdown-menu"></ul>');m.dropdownMenu.replaceWith(s),m.dropdownMenu=s}e.close(n),m.selectedOption=null}angular.isFunction(p)&&p(a,b)}),a.$on("$locationChangeSuccess",function(){"disabled"!==n.getAutoClose()&&(n.isOpen=!1)}),a.$on("$destroy",function(){n.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(a,b,c,d){d.init(b),b.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(a,b,c,d){if(d){var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(a,b,c,d){b.bind("keydown",function(a){if(-1!==[38,40].indexOf(a.which)){a.preventDefault(),a.stopPropagation();var b=d.dropdownMenu.find("a");switch(a.which){case 40:angular.isNumber(d.selectedOption)?d.selectedOption=d.selectedOption===b.length-1?d.selectedOption:d.selectedOption+1:d.selectedOption=0;break;case 38:d.selectedOption=0===d.selectedOption?0:d.selectedOption-1}b[d.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(a,b,c,d){if(d){b.addClass("dropdown-toggle"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$animate","$injector","$modalStack",function(a,b,c){function d(b,d,f){f.modalInClass&&(e?e(d,{addClass:f.modalInClass}).start():a.addClass(d,f.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(b,c){var g=c();e?e(d,{removeClass:f.modalInClass}).start().then(g):a.removeClass(d,f.modalInClass).then(g)}))}var e=null;return b.has("$animateCss")&&(e=b.get("$animateCss")),{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(a,b){return a.addClass(b.backdropClass),d}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector",function(a,b,c,d){var e=null;return d.has("$animateCss")&&(e=d.get("$animateCss")),{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(d,f,g){f.addClass(g.windowClass||""),d.size=g.size,d.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},d.$isRendered=!0;var h=b.defer();g.$observe("modalRender",function(a){"true"==a&&h.resolve()}),h.promise.then(function(){g.modalInClass&&(e?e(f,{addClass:g.modalInClass}).start():c.addClass(f,g.modalInClass),d.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();e?e(f,{removeClass:g.modalInClass}).start().then(d):c.removeClass(f,g.modalInClass).then(d)}));var b=f[0].querySelectorAll("[autofocus]");b.length?b[0].focus():f[0].focus();var h=a.getTop();h&&a.modalRendered(h.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$stackedMap",function(a,b,c,d,e,f,g,h){function i(){for(var a=-1,b=s.keys(),c=0;c<b.length;c++)s.get(b[c]).value.backdrop&&(a=c);return a}function j(a,b){var d=c.find("body").eq(0),e=s.get(a).value;s.remove(a),l(e.modalDomEl,e.modalScope,function(){d.toggleClass(a.openedClass||r,s.length()>0)}),k(),b&&b.focus?b.focus():d.focus()}function k(){if(o&&-1==i()){var a=p;l(o,p,function(){a=null}),o=void 0,p=void 0}}function l(b,c,d){function e(){e.done||(e.done=!0,n?n(b,{event:"leave"}).start().then(function(){b.remove()}):a.leave(b),c.$destroy(),d&&d())}var g,h=null,i=function(){return g||(g=f.defer(),h=g.promise),function(){g.resolve()}};return c.$broadcast(t.NOW_CLOSING_EVENT,i),f.when(h).then(e)}function m(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}var n=null;g.has("$animateCss")&&(n=g.get("$animateCss"));var o,p,q,r="modal-open",s=h.createNew(),t={NOW_CLOSING_EVENT:"modal.stack.now-closing"},u=0,v="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return e.$watch(i,function(a){p&&(p.index=a)}),c.bind("keydown",function(a){if(a.isDefaultPrevented())return a;var b=s.top();if(b&&b.value.keyboard)switch(a.which){case 27:a.preventDefault(),e.$apply(function(){t.dismiss(b.key,"escape key press")});break;case 9:t.loadFocusElementList(b);var c=!1;a.shiftKey?t.isFocusInFirstItem(a)&&(c=t.focusLastFocusableElement()):t.isFocusInLastItem(a)&&(c=t.focusFirstFocusableElement()),c&&(a.preventDefault(),a.stopPropagation())}}),t.open=function(a,b){var f=c[0].activeElement;s.add(a,{deferred:b.deferred,renderDeferred:b.renderDeferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard,openedClass:b.openedClass});var g=c.find("body").eq(0),h=i();if(h>=0&&!o){p=e.$new(!0),p.index=h;var j=angular.element('<div modal-backdrop="modal-backdrop"></div>');j.attr("backdrop-class",b.backdropClass),b.animation&&j.attr("modal-animation","true"),o=d(j)(p),g.append(o)}var k=angular.element('<div modal-window="modal-window"></div>');k.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,size:b.size,index:s.length()-1,animate:"animate"}).html(b.content),b.animation&&k.attr("modal-animation","true");var l=d(k)(b.scope);s.top().value.modalDomEl=l,s.top().value.modalOpener=f,g.append(l),g.addClass(b.openedClass||r),t.clearFocusListCache()},t.close=function(a,b){var c=s.get(a);return c&&m(c,b,!0)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.resolve(b),j(a,c.value.modalOpener),!0):!c},t.dismiss=function(a,b){var c=s.get(a);return c&&m(c,b,!1)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.reject(b),j(a,c.value.modalOpener),!0):!c},t.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},t.getTop=function(){return s.top()},t.modalRendered=function(a){var b=s.get(a);b&&b.value.renderDeferred.resolve()},t.focusFirstFocusableElement=function(){return q.length>0?(q[0].focus(),!0):!1},t.focusLastFocusableElement=function(){return q.length>0?(q[q.length-1].focus(),!0):!1},t.isFocusInFirstItem=function(a){return q.length>0?(a.target||a.srcElement)==q[0]:!1},t.isFocusInLastItem=function(a){return q.length>0?(a.target||a.srcElement)==q[q.length-1]:!1},t.clearFocusListCache=function(){q=[],u=0},t.loadFocusElementList=function(a){if((void 0===q||!q.length0)&&a){var b=a.value.modalDomEl;b&&b.length&&(q=b[0].querySelectorAll(v))}},t}]).provider("$modal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(b,c,d,e,f,g){function h(a){return a.template?d.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}function i(a){var c=[];return angular.forEach(a,function(a){angular.isFunction(a)||angular.isArray(a)?c.push(d.when(b.invoke(a))):angular.isString(a)&&c.push(d.when(b.get(a)))}),c}var j={};return j.open=function(b){var e=d.defer(),j=d.defer(),k=d.defer(),l={result:e.promise,opened:j.promise,rendered:k.promise,close:function(a){return g.close(l,a)},dismiss:function(a){return g.dismiss(l,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var m=d.all([h(b)].concat(i(b.resolve)));return m.then(function(a){var d=(b.scope||c).$new();d.$close=l.close,d.$dismiss=l.dismiss,d.$on("$destroy",function(){d.$$uibDestructionScheduled||d.$dismiss("$uibUnscheduledDestruction")});var h,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=l,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),h=f(b.controller,i),b.controllerAs&&(b.bindToController&&angular.extend(h,d),d[b.controllerAs]=h)),g.open(l,{scope:d,deferred:e,renderDeferred:k,content:a[0],animation:b.animation,backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size,openedClass:b.openedClass})},function(a){e.reject(a)}),m.then(function(){j.resolve(!0)},function(a){j.reject(a)}),l},j}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(g,h){e=g,this.config=h,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=h.itemsPerPage,a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b,c){c&&c.preventDefault();var d=!a.ngDisabled||!c;d&&a.page!==b&&b>0&&b<=a.totalPages&&(c&&c.target&&c.target.blur(),e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&b>k;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;e>=h;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(b>e){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate","$rootScope",function(e,f,g,h,i,j,k){return function(e,l,m,n){function o(a){var b=(a||n.trigger||m).split(" "),d=b.map(function(a){return c[a]||a});return{show:b,hide:d}}n=angular.extend({},b,d,n);var p=a(e),q=j.startSymbol(),r=j.endSymbol(),s="<div "+p+'-popup title="'+q+"title"+r+'" '+(n.useContentExp?'content-exp="contentExp()" ':'content="'+q+"content"+r+'" ')+'placement="'+q+"placement"+r+'" popup-class="'+q+"popupClass"+r+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(a,b){var c=f(s);return function(a,b,d,f){function j(){G.isOpen?p():m()}function m(){(!F||a.$eval(d[l+"Enable"]))&&(u(),G.popupDelay?C||(C=g(q,G.popupDelay,!1),C.then(function(a){a()})):q()())}function p(){r(),k.$$phase||k.$digest()}function q(){return C=null,B&&(g.cancel(B),B=null),(n.useContentExp?G.contentExp():G.content)?(s(),z.css({top:0,left:0,display:"block"}),I(),G.isOpen=!0,G.$apply(),I):angular.noop}function r(){G.isOpen=!1,g.cancel(C),C=null,G.animation?B||(B=g(t,500)):t()}function s(){z&&t(),A=G.$new(),z=c(A,function(a){D?h.find("body").append(a):b.after(a)}),n.useContentExp&&(A.$watch("contentExp()",function(a){!a&&G.isOpen&&r()}),A.$watch(function(){H||(H=!0,A.$$postDigest(function(){H=!1,J()}))}))}function t(){B=null,z&&(z.remove(),z=null),A&&(A.$destroy(),A=null)}function u(){v(),w(),x()}function v(){G.popupClass=d[l+"Class"]}function w(){var a=d[l+"Placement"];G.placement=angular.isDefined(a)?a:n.placement}function x(){var a=d[l+"PopupDelay"],b=parseInt(a,10);G.popupDelay=isNaN(b)?n.popupDelay:b}function y(){var a=d[l+"Trigger"];K(),E=o(a),E.show.forEach(function(a,c){a===E.hide[c]?b.bind(a,j):a&&(b.bind(a,m),b.bind(E.hide[c],p))})}var z,A,B,C,D=angular.isDefined(n.appendToBody)?n.appendToBody:!1,E=o(void 0),F=angular.isDefined(d[l+"Enable"]),G=a.$new(!0),H=!1,I=function(){if(z){var a=i.positionElements(b,z,G.placement,D);a.top+="px",a.left+="px",z.css(a)}},J=function(){g(I,0,!1)};G.origScope=a,G.isOpen=!1,G.contentExp=function(){return a.$eval(d[e])},n.useContentExp||d.$observe(e,function(a){G.content=a,!a&&G.isOpen?r():J()}),d.$observe("disabled",function(a){C&&a&&g.cancel(C),a&&G.isOpen&&r()}),d.$observe(l+"Title",function(a){G.title=a,J()}),d.$observe(l+"Placement",function(){G.isOpen&&g(function(){w(),q()()},0,!1)});var K=function(){E.show.forEach(function(a){b.unbind(a,m)}),E.hide.forEach(function(a){b.unbind(a,p)})};y();var L=a.$eval(d[l+"Animation"]);G.animation=angular.isDefined(L)?!!L:n.animation;var M=a.$eval(d[l+"AppendToBody"]);D=angular.isDefined(M)?M:D,D&&a.$on("$locationChangeSuccess",function(){G.isOpen&&r()}),a.$on("$destroy",function(){g.cancel(B),g.cancel(C),K(),t(),G=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.tooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(a,b,c){a.placement&&b.addClass(a.placement),a.popupClass&&b.addClass(a.popupClass),a.animation()&&b.addClass(c.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(a){return a("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(a){return a("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(a,b,c){return b||c.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(a){return a("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html"}}).directive("popoverHtml",["$tooltip",function(a){return a("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(a.max)?a.max:c.max,this.addBar=function(b,c){e||c.css({transition:"none"}),this.bars.push(b),b.max=a.max,b.$watch("value",function(a){b.recalculatePercentage()}),b.recalculatePercentage=function(){b.percent=+(100*b.value/b.max).toFixed(2);var a=0;d.bars.forEach(function(b){a+=b.percent}),a>100&&(b.percent-=a-100)},b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)},a.$watch("max",function(b){d.bars.forEach(function(b){b.max=a.max,b.recalculatePercentage()})})}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("RatingController",["$scope","$attrs","ratingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.titles)?a.$parent.$eval(b.titles):c.titles;this.titles=angular.isArray(f)&&f.length>0?f:c.titles;var g=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(g)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(b)},a[b]);return a},this.getTitle=function(a){return a>=this.titles.length?a+1:this.titles[a]},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(d.$viewValue===b?0:b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},b.addTab=function(a){c.push(a),1===c.length&&a.active!==!1?a.active=!0:a.active?b.select(a):a.active=!1},b.removeTab=function(a){var e=c.indexOf(a);if(a.active&&c.length>1&&!d){var f=e==c.length-1?e-1:e+1;b.select(c[f])}c.splice(e,1)};var d;a.$on("$destroy",function(){d=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive("tab",["$parse","$log",function(a,b){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(c,d,e,f,g){c.$watch("active",function(a){a&&f.select(c)}),c.disabled=!1,e.disable&&c.$parent.$watch(a(e.disable),function(a){c.disabled=!!a}),e.disabled&&(b.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),c.$parent.$watch(a(e.disabled),function(a){c.disabled=!!a})),c.select=function(){c.disabled||(c.active=!0)},f.addTab(c),c.$on("$destroy",function(){f.removeTab(c)}),c.$transcludeFn=g}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b,c,d){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(a,b,c,d,e,f){function g(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===q[1]&&(b+=12)),b):void 0}function h(){var b=parseInt(a.minutes,10);return b>=0&&60>b?b:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a.toString()}function j(a){k(),p.$setViewValue(new Date(o)),l(a)}function k(){p.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function l(b){var c=o.getHours(),d=o.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:i(c),"m"!==b&&(a.minutes=i(d)),a.meridian=o.getHours()<12?q[0]:q[1]}function m(a,b){var c=new Date(a.getTime()+6e4*b),d=new Date(a);return d.setHours(c.getHours(),c.getMinutes()),d}function n(a){o=m(o,a),j()}var o=new Date,p={$setViewValue:angular.noop},q=angular.isDefined(b.meridians)?a.$parent.$eval(b.meridians):f.meridians||e.DATETIME_FORMATS.AMPMS;this.init=function(c,d){p=c,p.$render=this.render,p.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),g=d.eq(1),h=angular.isDefined(b.mousewheel)?a.$parent.$eval(b.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(e,g);var i=angular.isDefined(b.arrowkeys)?a.$parent.$eval(b.arrowkeys):f.arrowkeys;i&&this.setupArrowkeyEvents(e,g),a.readonlyInput=angular.isDefined(b.readonlyInput)?a.$parent.$eval(b.readonlyInput):f.readonlyInput,this.setupInputEvents(e,g)};var r=f.hourStep;b.hourStep&&a.$parent.$watch(c(b.hourStep),function(a){r=parseInt(a,10)});var s=f.minuteStep;b.minuteStep&&a.$parent.$watch(c(b.minuteStep),function(a){s=parseInt(a,10)});var t;a.$parent.$watch(c(b.min),function(a){var b=new Date(a);t=isNaN(b)?void 0:b});var u;a.$parent.$watch(c(b.max),function(a){var b=new Date(a);u=isNaN(b)?void 0:b}),a.noIncrementHours=function(){var a=m(o,60*r);return a>u||o>a&&t>a},a.noDecrementHours=function(){var a=m(o,60*-r);return t>a||a>o&&a>u},a.noIncrementMinutes=function(){var a=m(o,s);return a>u||o>a&&t>a},a.noDecrementMinutes=function(){var a=m(o,-s);return t>a||a>o&&a>u},a.noToggleMeridian=function(){return o.getHours()<13?m(o,720)>u:m(o,-720)<t},a.showMeridian=f.showMeridian,b.showMeridian&&a.$parent.$watch(c(b.showMeridian),function(b){if(a.showMeridian=!!b,p.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(o.setHours(c),j())}else l()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c){b.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply())}),c.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply())})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){p.$setViewValue(null),p.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=g();angular.isDefined(a)?(o.setHours(a),t>o||o>u?d(!0):j("h")):d(!0)},b.bind("blur",function(b){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=i(a.hours)})}),a.updateMinutes=function(){var a=h();angular.isDefined(a)?(o.setMinutes(a),t>o||o>u?d(void 0,!0):j("m")):d(void 0,!0)},c.bind("blur",function(b){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=i(a.minutes)})})},this.render=function(){var b=p.$viewValue;isNaN(b)?(p.$setValidity("time",!1),d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(b&&(o=b),t>o||o>u?(p.$setValidity("time",!1),a.invalidHours=!0,a.invalidMinutes=!0):k(),l())},a.showSpinners=angular.isDefined(b.showSpinners)?a.$parent.$eval(b.showSpinners):f.showSpinners,a.incrementHours=function(){a.noIncrementHours()||n(60*r)},a.decrementHours=function(){a.noDecrementHours()||n(60*-r)},a.incrementMinutes=function(){a.noIncrementMinutes()||n(s)},a.decrementMinutes=function(){a.noDecrementMinutes()||n(-s)},a.toggleMeridian=function(){a.noToggleMeridian()||n(720*(o.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(a,b,c,d,e){function f(a){for(var b in a)if(void 0!==h.style[b])return a[b]}e||d.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");
var g=function(d,e,f){f=f||{};var h=a.defer(),i=g[f.animation?"animationEndEventName":"transitionEndEventName"],j=function(a){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(e)?d.addClass(e):angular.isFunction(e)?e(d):angular.isObject(e)&&d.css(e),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},h=document.createElement("trans"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},j={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return g.transitionEndEventName=f(i),g.animationEndEventName=f(j),g}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(a,b,c,d,e,f,g,h,i){var j=[9,13,27,38,40],k=200;return{require:"ngModel",link:function(l,m,n,o){function p(){G.moveInProgress||(G.moveInProgress=!0,G.$digest()),N&&d.cancel(N),N=d(function(){G.matches.length&&q(),G.moveInProgress=!1,G.$digest()},k)}function q(){G.position=B?h.offset(m):h.position(m),G.position.top+=m.prop("offsetHeight")}var r=l.$eval(n.typeaheadMinLength);r||0===r||(r=1);var s,t,u=l.$eval(n.typeaheadWaitMs)||0,v=l.$eval(n.typeaheadEditable)!==!1,w=b(n.typeaheadLoading).assign||angular.noop,x=b(n.typeaheadOnSelect),y=angular.isDefined(n.typeaheadSelectOnBlur)?l.$eval(n.typeaheadSelectOnBlur):!1,z=b(n.typeaheadNoResults).assign||angular.noop,A=n.typeaheadInputFormatter?b(n.typeaheadInputFormatter):void 0,B=n.typeaheadAppendToBody?l.$eval(n.typeaheadAppendToBody):!1,C=l.$eval(n.typeaheadFocusFirst)!==!1,D=n.typeaheadSelectOnExact?l.$eval(n.typeaheadSelectOnExact):!1,E=b(n.ngModel).assign,F=i.parse(n.typeahead),G=l.$new();l.$on("$destroy",function(){G.$destroy()});var H="typeahead-"+G.$id+"-"+Math.floor(1e4*Math.random());m.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":H});var I=angular.element("<div typeahead-popup></div>");I.attr({id:H,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(n.typeaheadTemplateUrl)&&I.attr("template-url",n.typeaheadTemplateUrl);var J=function(){G.matches=[],G.activeIdx=-1,m.attr("aria-expanded",!1)},K=function(a){return H+"-option-"+a};G.$watch("activeIdx",function(a){0>a?m.removeAttr("aria-activedescendant"):m.attr("aria-activedescendant",K(a))});var L=function(a,b){return G.matches.length>b&&a?a.toUpperCase()===G.matches[b].label.toUpperCase():!1},M=function(a){var b={$viewValue:a};w(l,!0),z(l,!1),c.when(F.source(l,b)).then(function(c){var d=a===o.$viewValue;if(d&&s)if(c&&c.length>0){G.activeIdx=C?0:-1,z(l,!1),G.matches.length=0;for(var e=0;e<c.length;e++)b[F.itemName]=c[e],G.matches.push({id:K(e),label:F.viewMapper(G,b),model:c[e]});G.query=a,q(),m.attr("aria-expanded",!0),D&&1===G.matches.length&&L(a,0)&&G.select(0)}else J(),z(l,!0);d&&w(l,!1)},function(){J(),w(l,!1),z(l,!0)})};B&&(angular.element(f).bind("resize",p),e.find("body").bind("scroll",p));var N;G.moveInProgress=!1,J(),G.query=void 0;var O,P=function(a){O=d(function(){M(a)},u)},Q=function(){O&&d.cancel(O)};o.$parsers.unshift(function(a){return s=!0,0===r||a&&a.length>=r?u>0?(Q(),P(a)):M(a):(w(l,!1),Q(),J()),v?a:a?void o.$setValidity("editable",!1):(o.$setValidity("editable",!0),null)}),o.$formatters.push(function(a){var b,c,d={};return v||o.$setValidity("editable",!0),A?(d.$model=a,A(l,d)):(d[F.itemName]=a,b=F.viewMapper(l,d),d[F.itemName]=void 0,c=F.viewMapper(l,d),b!==c?b:a)}),G.select=function(a){var b,c,e={};t=!0,e[F.itemName]=c=G.matches[a].model,b=F.modelMapper(l,e),E(l,b),o.$setValidity("editable",!0),o.$setValidity("parse",!0),x(l,{$item:c,$model:b,$label:F.viewMapper(l,e)}),J(),d(function(){m[0].focus()},0,!1)},m.bind("keydown",function(a){if(0!==G.matches.length&&-1!==j.indexOf(a.which)){if(-1===G.activeIdx&&(9===a.which||13===a.which))return J(),void G.$digest();a.preventDefault(),40===a.which?(G.activeIdx=(G.activeIdx+1)%G.matches.length,G.$digest()):38===a.which?(G.activeIdx=(G.activeIdx>0?G.activeIdx:G.matches.length)-1,G.$digest()):13===a.which||9===a.which?G.$apply(function(){G.select(G.activeIdx)}):27===a.which&&(a.stopPropagation(),J(),G.$digest())}}),m.bind("blur",function(){y&&G.matches.length&&-1!==G.activeIdx&&!t&&(t=!0,G.$apply(function(){G.select(G.activeIdx)})),s=!1,t=!1});var R=function(a){m[0]!==a.target&&3!==a.which&&0!==G.matches.length&&(J(),g.$$phase||G.$digest())};e.bind("click",R),l.$on("$destroy",function(){e.unbind("click",R),B&&S.remove(),I.remove()});var S=a(I)(G);B?e.find("body").append(S):m.after(S)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||"template/typeahead/typeahead-match.html";a(g).then(function(a){b(a.trim())(d,function(a){e.replaceWith(a)})})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?(""+b).replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="panel panel-default" ng-class="{\'panel-open\': isOpen}">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n	ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" ></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.module("dialogs.default-translations",["pascalprecht.translate"]).config(["$translateProvider",function(a){a.translations("en-US",{DIALOGS_ERROR:"Error",DIALOGS_ERROR_MSG:"An unknown error has occurred.",DIALOGS_CLOSE:"Close",DIALOGS_PLEASE_WAIT:"Please Wait",DIALOGS_PLEASE_WAIT_ELIPS:"Please Wait...",DIALOGS_PLEASE_WAIT_MSG:"Waiting on operation to complete.",DIALOGS_PERCENT_COMPLETE:"% Complete",DIALOGS_NOTIFICATION:"Notification",DIALOGS_NOTIFICATION_MSG:"Unknown application notification.",DIALOGS_CONFIRMATION:"Confirmation",DIALOGS_CONFIRMATION_MSG:"Confirmation required.",DIALOGS_OK:"OK",DIALOGS_YES:"Yes",DIALOGS_NO:"No"}),a.translations("zh-CN",{DIALOGS_ERROR:"错误",DIALOGS_ERROR_MSG:"出现未知错误。",DIALOGS_CLOSE:"关闭",DIALOGS_PLEASE_WAIT:"请稍候",DIALOGS_PLEASE_WAIT_ELIPS:"请稍候...",DIALOGS_PLEASE_WAIT_MSG:"请等待操作完成。",DIALOGS_PERCENT_COMPLETE:"% 已完成",DIALOGS_NOTIFICATION:"通知",DIALOGS_NOTIFICATION_MSG:"未知应用程序的通知。",DIALOGS_CONFIRMATION:"确认",DIALOGS_CONFIRMATION_MSG:"确认要求。",DIALOGS_OK:"确定",DIALOGS_YES:"确认",DIALOGS_NO:"取消"}),a.translations("es",{DIALOGS_ERROR:"Error",DIALOGS_ERROR_MSG:"Se ha producido un error.",DIALOGS_CLOSE:"Cerrar",DIALOGS_PLEASE_WAIT:"Espere por favor",DIALOGS_PLEASE_WAIT_ELIPS:"Espere por favor...",DIALOGS_PLEASE_WAIT_MSG:"Completando operación.",DIALOGS_PERCENT_COMPLETE:"% Completado",DIALOGS_NOTIFICATION:"Notificación",DIALOGS_NOTIFICATION_MSG:"Notificación de una aplicación desconocida.",DIALOGS_CONFIRMATION:"Confirmación",DIALOGS_CONFIRMATION_MSG:"Se requiere confirmacion.",DIALOGS_OK:"Aceptar",DIALOGS_YES:"Sí",DIALOGS_NO:"No"}),a.preferredLanguage("en-US")}]),!function(){"use strict";var a=angular.module("translate.sub",[]);a.provider("$translate",[function(){var a=[],b="en-US";this.translations=function(c,d){angular.isDefined(c)&&angular.isDefined(d)&&(a[c]=angular.copy(d),b=c)},this.$get=[function(){return{instant:function(c){return angular.isDefined(c)&&angular.isDefined(a[b][c])?a[b][c]:""}}}]}]),a.filter("translate",["$translate",function(a){return function(b){return a.instant(b)}}]);var b;try{angular.module("pascalprecht.translate"),b=angular.module("dialogs.controllers",["ui.bootstrap.modal","pascalprecht.translate"])}catch(c){b=angular.module("dialogs.controllers",["ui.bootstrap.modal","translate.sub"])}b.controller("errorDialogCtrl",["$scope","$modalInstance","$translate","data",function(a,b,c,d){a.header=angular.isDefined(d.header)?d.header:c.instant("DIALOGS_ERROR"),a.msg=angular.isDefined(d.msg)?d.msg:c.instant("DIALOGS_ERROR_MSG"),a.icon=angular.isDefined(d.fa)&&angular.equals(d.fa,!0)?"fa fa-warning":"glyphicon glyphicon-warning-sign",a.close=function(){b.close(),a.$destroy()}}]),b.controller("waitDialogCtrl",["$scope","$modalInstance","$translate","$timeout","data",function(a,b,c,d,e){a.header=angular.isDefined(e.header)?e.header:c.instant("DIALOGS_PLEASE_WAIT_ELIPS"),a.msg=angular.isDefined(e.msg)?e.msg:c.instant("DIALOGS_PLEASE_WAIT_MSG"),a.progress=angular.isDefined(e.progress)?e.progress:100,a.icon=angular.isDefined(e.fa)&&angular.equals(e.fa,!0)?"fa fa-clock-o":"glyphicon glyphicon-time",a.$on("dialogs.wait.complete",function(){d(function(){b.close(),a.$destroy()})}),a.$on("dialogs.wait.message",function(b,c){a.msg=angular.isDefined(c.msg)?c.msg:a.msg}),a.$on("dialogs.wait.progress",function(b,c){a.msg=angular.isDefined(c.msg)?c.msg:a.msg,a.progress=angular.isDefined(c.progress)?c.progress:a.progress}),a.getProgress=function(){return{width:a.progress+"%"}}}]),b.controller("notifyDialogCtrl",["$scope","$modalInstance","$translate","data",function(a,b,c,d){a.header=angular.isDefined(d.header)?d.header:c.instant("DIALOGS_NOTIFICATION"),a.msg=angular.isDefined(d.msg)?d.msg:c.instant("DIALOGS_NOTIFICATION_MSG"),a.icon=angular.isDefined(d.fa)&&angular.equals(d.fa,!0)?"fa fa-info":"glyphicon glyphicon-info-sign",a.close=function(){b.close(),a.$destroy()}}]),b.controller("confirmDialogCtrl",["$scope","$modalInstance","$translate","data",function(a,b,c,d){a.header=angular.isDefined(d.header)?d.header:c.instant("DIALOGS_CONFIRMATION"),a.msg=angular.isDefined(d.msg)?d.msg:c.instant("DIALOGS_CONFIRMATION_MSG"),a.icon=angular.isDefined(d.fa)&&angular.equals(d.fa,!0)?"fa fa-check":"glyphicon glyphicon-check",a.no=function(){b.dismiss("no")},a.yes=function(){b.close("yes")}}]),angular.module("dialogs.services",["ui.bootstrap.modal","dialogs.controllers"]).provider("dialogs",[function(){var a=!0,b=!0,c="dialogs-default",d="dialogs-backdrop-default",e=!0,f=null,g="lg",h=!1,i=!1,j=function(e){var f={};return e=e||{},f.kb=angular.isDefined(e.keyboard)?!!e.keyboard:b,f.bd=angular.isDefined(e.backdrop)?e.backdrop:a,f.bdc=angular.isDefined(e.backdropClass)?e.backdropClass:d,f.ws=!angular.isDefined(e.size)||"sm"!==e.size&&"lg"!==e.size&&"md"!==e.size?g:e.size,f.wc=angular.isDefined(e.windowClass)?e.windowClass:c,f.anim=angular.isDefined(e.animation)?!!e.animation:h,f};this.useBackdrop=function(b){angular.isDefined(b)&&(a=b)},this.useEscClose=function(a){angular.isDefined(a)&&(b=angular.equals(a,0)||angular.equals(a,"false")||angular.equals(a,"no")||angular.equals(a,null)||angular.equals(a,!1)?!1:!0)},this.useClass=function(a){angular.isDefined(a)&&(c=a)},this.useCopy=function(a){angular.isDefined(a)&&(e=angular.equals(a,0)||angular.equals(a,"false")||angular.equals(a,"no")||angular.equals(a,null)||angular.equals(a,!1)?!1:!0)},this.setWindowTmpl=function(a){angular.isDefined(a)&&(f=a)},this.setSize=function(a){angular.isDefined(a)&&(g=angular.equals(a,"sm")||angular.equals(a,"lg")||angular.equals(a,"md")?a:g)},this.useAnimation=function(){h=!0},this.useFontAwesome=function(){i=!0},this.$get=["$modal",function(a){return{error:function(b,c,d){return d=j(d),a.open({templateUrl:"/dialogs/error.html",controller:"errorDialogCtrl",backdrop:d.bd,backdropClass:d.bdc,keyboard:d.kb,windowClass:d.wc,size:d.ws,animation:d.anim,resolve:{data:function(){return{header:angular.copy(b),msg:angular.copy(c),fa:i}}}})},wait:function(b,c,d,e){return e=j(e),a.open({templateUrl:"/dialogs/wait.html",controller:"waitDialogCtrl",backdrop:e.bd,backdropClass:e.bdc,keyboard:e.kb,windowClass:e.wc,size:e.ws,animation:e.anim,resolve:{data:function(){return{header:angular.copy(b),msg:angular.copy(c),progress:angular.copy(d),fa:i}}}})},notify:function(b,c,d){return d=j(d),a.open({templateUrl:"/dialogs/notify.html",controller:"notifyDialogCtrl",backdrop:d.bd,backdropClass:d.bdc,keyboard:d.kb,windowClass:d.wc,size:d.ws,animation:d.anim,resolve:{data:function(){return{header:angular.copy(b),msg:angular.copy(c),fa:i}}}})},confirm:function(b,c,d){return d=j(d),a.open({templateUrl:"/dialogs/confirm.html",controller:"confirmDialogCtrl",backdrop:d.bd,backdropClass:d.bdc,keyboard:d.kb,windowClass:d.wc,size:d.ws,animation:d.anim,resolve:{data:function(){return{
header:angular.copy(b),msg:angular.copy(c),fa:i}}}})},create:function(b,c,d,f){var g=f&&angular.isDefined(f.copy)?f.copy:e;return f=j(f),a.open({templateUrl:b,controller:c,keyboard:f.kb,backdrop:f.bd,backdropClass:f.bdc,windowClass:f.wc,size:f.ws,animation:f.anim,resolve:{data:function(){return g?angular.copy(d):d}}})}}}]}]),angular.module("dialogs.main",["dialogs.services","ngSanitize"]).config(["$translateProvider","dialogsProvider",function(a,b){try{angular.module("pascalprecht.translate")}catch(c){a.translations("en-US",{DIALOGS_ERROR:"Error",DIALOGS_ERROR_MSG:"An unknown error has occurred.",DIALOGS_CLOSE:"Close",DIALOGS_PLEASE_WAIT:"Please Wait",DIALOGS_PLEASE_WAIT_ELIPS:"Please Wait...",DIALOGS_PLEASE_WAIT_MSG:"Waiting on operation to complete.",DIALOGS_PERCENT_COMPLETE:"% Complete",DIALOGS_NOTIFICATION:"Notification",DIALOGS_NOTIFICATION_MSG:"Unknown application notification.",DIALOGS_CONFIRMATION:"Confirmation",DIALOGS_CONFIRMATION_MSG:"Confirmation required.",DIALOGS_OK:"OK",DIALOGS_YES:"Yes",DIALOGS_NO:"No"})}try{var d=document.styleSheets;a:for(var e=d.length-1;e>=0;e--){var f=null,g=null;if(!d[e].disabled){if(null!==d[e].href&&(f=d[e].href.match(/font\-*awesome/i)),angular.isArray(f)){b.useFontAwesome();break}g=d[e].cssRules;for(var h=g.length-1;h>=0;h--)if(".fa"==g[h].selectorText.toLowerCase()){b.useFontAwesome();break a}}}}catch(c){}}]).run(["$templateCache","$interpolate",function(a,b){var c=b.startSymbol(),d=b.endSymbol();a.put("/dialogs/error.html",'<div class="modal-header dialog-header-error"><button type="button" class="close" ng-click="close()">&times;</button><h4 class="modal-title text-danger"><span class="'+c+"icon"+d+'"></span> <span ng-bind-html="header"></span></h4></div><div class="modal-body text-danger" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="close()">'+c+'"DIALOGS_CLOSE" | translate'+d+"</button></div>"),a.put("/dialogs/wait.html",'<div class="modal-header dialog-header-wait"><h4 class="modal-title"><span class="'+c+"icon"+d+'"></span> '+c+"header"+d+'</h4></div><div class="modal-body"><p ng-bind-html="msg"></p><div class="progress progress-striped active"><div class="progress-bar progress-bar-info" ng-style="getProgress()"></div><span class="sr-only">'+c+"progress"+d+c+'"DIALOGS_PERCENT_COMPLETE" | translate'+d+"</span></div></div>"),a.put("/dialogs/notify.html",'<div class="modal-header dialog-header-notify"><button type="button" class="close" ng-click="close()" class="pull-right">&times;</button><h4 class="modal-title text-info"><span class="'+c+"icon"+d+'"></span> '+c+"header"+d+'</h4></div><div class="modal-body text-info" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="close()">'+c+'"DIALOGS_OK" | translate'+d+"</button></div>"),a.put("/dialogs/confirm.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="no()">&times;</button><h4 class="modal-title"><span class="'+c+"icon"+d+'"></span> '+c+"header"+d+'</h4></div><div class="modal-body" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="yes()">'+c+'"DIALOGS_YES" | translate'+d+'</button><button type="button" class="btn btn-primary" ng-click="no()">'+c+'"DIALOGS_NO" | translate'+d+"</button></div>")}])}(),function(a,b,c){"use strict";function d(a){return D(a)?a:Object.keys(a).map(function(b){return a[b]})}function e(a){return null===a}function f(a,b){var d=Object.keys(a);return-1==d.map(function(d){return b[d]!==c&&b[d]==a[d]}).indexOf(!1)}function g(a,b){if(""===b)return a;var c=a.indexOf(b.charAt(0));return-1===c?!1:g(a.substr(c+1),b.substr(1))}function h(a,b,c){var d=0;return a.filter(function(a){var e=x(c)?b>d&&c(a):b>d;return d=e?d+1:d,e})}function i(a,b,c){return c.round(a*c.pow(10,b))/c.pow(10,b)}function j(a,b,c){b=b||[];var d=Object.keys(a);return d.forEach(function(d){if(C(a[d])&&!D(a[d])){var e=c?c+"."+d:c;j(a[d],b,e||d)}else{var f=c?c+"."+d:d;b.push(f)}}),b}function k(a){return a&&a.$evalAsync&&a.$watch}function l(){return function(a,b){return a>b}}function m(){return function(a,b){return a>=b}}function n(){return function(a,b){return b>a}}function o(){return function(a,b){return b>=a}}function p(){return function(a,b){return a==b}}function q(){return function(a,b){return a!=b}}function r(){return function(a,b){return a===b}}function s(){return function(a,b){return a!==b}}function t(a){return function(b,c){return b=C(b)?d(b):b,!D(b)||y(c)?!1:b.some(function(b){return C(b)||z(c)?a(c)(b):b===c})}}function u(a,b){return b=b||0,b>=a.length?a:D(a[b])?u(a.slice(0,b).concat(a[b],a.slice(b+1)),b):u(a,b+1)}function v(a){return function(b,c){function e(a,b){return y(b)?!1:a.some(function(a){return H(a,b)})}if(b=C(b)?d(b):b,!D(b))return b;var f=[],g=a(c);return y(c)?b.filter(function(a,b,c){return c.indexOf(a)===b}):b.filter(function(a){var b=g(a);return e(f,b)?!1:(f.push(b),!0)})}}function w(a,b,c){return b?a+c+w(a,--b,c):a}var x=b.isDefined,y=b.isUndefined,z=b.isFunction,A=b.isString,B=b.isNumber,C=b.isObject,D=b.isArray,E=b.forEach,F=b.extend,G=b.copy,H=b.equals;String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),b.module("a8m.angular",[]).filter("isUndefined",function(){return function(a){return b.isUndefined(a)}}).filter("isDefined",function(){return function(a){return b.isDefined(a)}}).filter("isFunction",function(){return function(a){return b.isFunction(a)}}).filter("isString",function(){return function(a){return b.isString(a)}}).filter("isNumber",function(){return function(a){return b.isNumber(a)}}).filter("isArray",function(){return function(a){return b.isArray(a)}}).filter("isObject",function(){return function(a){return b.isObject(a)}}).filter("isEqual",function(){return function(a,c){return b.equals(a,c)}}),b.module("a8m.conditions",[]).filter({isGreaterThan:l,">":l,isGreaterThanOrEqualTo:m,">=":m,isLessThan:n,"<":n,isLessThanOrEqualTo:o,"<=":o,isEqualTo:p,"==":p,isNotEqualTo:q,"!=":q,isIdenticalTo:r,"===":r,isNotIdenticalTo:s,"!==":s}),b.module("a8m.is-null",[]).filter("isNull",function(){return function(a){return e(a)}}),b.module("a8m.after-where",[]).filter("afterWhere",function(){return function(a,b){if(a=C(a)?d(a):a,!D(a)||y(b))return a;var c=a.map(function(a){return f(b,a)}).indexOf(!0);return a.slice(-1===c?0:c)}}),b.module("a8m.after",[]).filter("after",function(){return function(a,b){return a=C(a)?d(a):a,D(a)?a.slice(b):a}}),b.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(a,b){if(a=C(a)?d(a):a,!D(a)||y(b))return a;var c=a.map(function(a){return f(b,a)}).indexOf(!0);return a.slice(0,-1===c?a.length:++c)}}),b.module("a8m.before",[]).filter("before",function(){return function(a,b){return a=C(a)?d(a):a,D(a)?a.slice(0,b?--b:b):a}}),b.module("a8m.chunk-by",[]).filter("chunkBy",[function(){function a(a,b){for(var c=[];a--;)c[a]=b;return c}return function(b,c,d){return D(b)?b.map(function(b,e,f){return e*=c,b=f.slice(e,e+c),!y(d)&&b.length<c?b.concat(a(c-b.length,d)):b}).slice(0,Math.ceil(b.length/c)):b}}]),b.module("a8m.concat",[]).filter("concat",[function(){return function(a,b){if(y(b))return a;if(D(a))return C(b)?a.concat(d(b)):a.concat(b);if(C(a)){var c=d(a);return C(b)?c.concat(d(b)):c.concat(b)}return a}}]),b.module("a8m.contains",[]).filter({contains:["$parse",t],some:["$parse",t]}),b.module("a8m.count-by",[]).filter("countBy",["$parse",function(a){return function(b,c){var e,f={},g=a(c);return b=C(b)?d(b):b,!D(b)||y(c)?b:(b.forEach(function(a){e=g(a),f[e]||(f[e]=0),f[e]++}),f)}}]),b.module("a8m.defaults",[]).filter("defaults",["$parse",function(a){return function(b,c){if(b=C(b)?d(b):b,!D(b)||!C(c))return b;var e=j(c);return b.forEach(function(b){e.forEach(function(d){var e=a(d),f=e.assign;y(e(b))&&f(b,e(c))})}),b}}]),b.module("a8m.every",[]).filter("every",["$parse",function(a){return function(b,c){return b=C(b)?d(b):b,!D(b)||y(c)?!0:b.every(function(b){return C(b)||z(c)?a(c)(b):b===c})}}]),b.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(a){return function(b,e,f){var g;return f=A(f)||B(f)?String(f).toLowerCase():c,b=C(b)?d(b):b,!D(b)||y(f)?b:b.filter(function(b){return e.some(function(c){if(~c.indexOf("+")){var d=c.replace(new RegExp("\\s","g"),"").split("+");g=d.reduce(function(c,d,e){return 1===e?a(c)(b)+" "+a(d)(b):c+" "+a(d)(b)})}else g=a(c)(b);return A(g)||B(g)?String(g).toLowerCase().contains(f):!1})})}}]),b.module("a8m.first",[]).filter("first",["$parse",function(a){return function(b){var e,f,g;return b=C(b)?d(b):b,D(b)?(g=Array.prototype.slice.call(arguments,1),e=B(g[0])?g[0]:1,f=B(g[0])?B(g[1])?c:g[1]:g[0],g.length?h(b,e,f?a(f):f):b[0]):b}}]),b.module("a8m.flatten",[]).filter("flatten",function(){return function(a,b){return b=b||!1,a=C(a)?d(a):a,D(a)?b?[].concat.apply([],a):u(a,0):a}}),b.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(a){return function(b,c,e,f){var h,i,j=f||!1;return b=C(b)?d(b):b,!D(b)||y(c)||y(e)?b:(i=a(c),b.filter(function(a){return h=i(a),A(h)?(h=j?h:h.toLowerCase(),e=j?e:e.toLowerCase(),g(h,e)!==!1):!1}))}}]),b.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(a,b,c){function e(a,b){var c,d,e=Object.keys(a);return 0<e.filter(function(e){return c=a[e],d?!0:A(c)?(c=f?c:c.toLowerCase(),d=g(c,b)!==!1):!1}).length}var f=c||!1;return a=C(a)?d(a):a,!D(a)||y(b)?a:(b=f?b:b.toLowerCase(),a.filter(function(a){return A(a)?(a=f?a:a.toLowerCase(),g(a,b)!==!1):C(a)?e(a,b):!1}))}}),b.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(a,b){return function(c,d){function e(a,b){var c,d={};return E(a,function(a){c=b(a),d[c]||(d[c]=[]),d[c].push(a)}),d}if(!C(c)||y(d))return c;var f=a(d);return b.isMemoized("groupBy",arguments)||b.memoize("groupBy",arguments,this,e(c,f))}}]),b.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(a){return C(a)?!d(a).length:!a.length}}),b.module("a8m.join",[]).filter("join",function(){return function(a,b){return y(a)||!D(a)?a:(y(b)&&(b=" "),a.join(b))}}),b.module("a8m.last",[]).filter("last",["$parse",function(a){return function(b){var e,f,g,i=G(b);return i=C(i)?d(i):i,D(i)?(g=Array.prototype.slice.call(arguments,1),e=B(g[0])?g[0]:1,f=B(g[0])?B(g[1])?c:g[1]:g[0],g.length?h(i.reverse(),e,f?a(f):f).reverse():i[i.length-1]):i}}]),b.module("a8m.map",[]).filter("map",["$parse",function(a){return function(b,c){return b=C(b)?d(b):b,!D(b)||y(c)?b:b.map(function(b){return a(c)(b)})}}]),b.module("a8m.omit",[]).filter("omit",["$parse",function(a){return function(b,c){return b=C(b)?d(b):b,!D(b)||y(c)?b:b.filter(function(b){return!a(c)(b)})}}]),b.module("a8m.pick",[]).filter("pick",["$parse",function(a){return function(b,c){return b=C(b)?d(b):b,!D(b)||y(c)?b:b.filter(function(b){return a(c)(b)})}}]),b.module("a8m.range",[]).filter("range",function(){return function(a,b){for(var c=0;c<parseInt(b);c++)a.push(c);return a}}),b.module("a8m.remove-with",[]).filter("removeWith",function(){return function(a,b){return y(b)?a:(a=C(a)?d(a):a,a.filter(function(a){return!f(b,a)}))}}),b.module("a8m.remove",[]).filter("remove",function(){return function(a){a=C(a)?d(a):a;var b=Array.prototype.slice.call(arguments,1);return D(a)?a.filter(function(a){return!b.some(function(b){return H(b,a)})}):a}}),b.module("a8m.reverse",[]).filter("reverse",[function(){return function(a){return a=C(a)?d(a):a,A(a)?a.split("").reverse().join(""):D(a)?a.slice().reverse():a}}]),b.module("a8m.search-field",[]).filter("searchField",["$parse",function(a){return function(b){var c,e;b=C(b)?d(b):b;var f=Array.prototype.slice.call(arguments,1);return D(b)&&f.length?b.map(function(b){return e=f.map(function(d){return(c=a(d))(b)}).join(" "),F(b,{searchField:e})}):b}}]),b.module("a8m.to-array",[]).filter("toArray",function(){return function(a,b){return C(a)?b?Object.keys(a).map(function(b){return F(a[b],{$key:b})}):d(a):a}}),b.module("a8m.unique",[]).filter({unique:["$parse",v],uniq:["$parse",v]}),b.module("a8m.where",[]).filter("where",function(){return function(a,b){return y(b)?a:(a=C(a)?d(a):a,a.filter(function(a){return f(b,a)}))}}),b.module("a8m.xor",[]).filter("xor",["$parse",function(a){return function(b,c,e){function f(b,c){var d=a(e);return c.some(function(a){return e?H(d(a),d(b)):H(a,b)})}return e=e||!1,b=C(b)?d(b):b,c=C(c)?d(c):c,D(b)&&D(c)?b.concat(c).filter(function(a){return!(f(a,b)&&f(a,c))}):b}}]),b.module("a8m.math.byteFmt",["a8m.math"]).filter("byteFmt",["$math",function(a){return function(b,c){return B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)?1024>b?i(b,c,a)+" B":1048576>b?i(b/1024,c,a)+" KB":1073741824>b?i(b/1048576,c,a)+" MB":i(b/1073741824,c,a)+" GB":"NaN"}}]),b.module("a8m.math.degrees",["a8m.math"]).filter("degrees",["$math",function(a){return function(b,c){if(B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)){var d=180*b/a.PI;return a.round(d*a.pow(10,c))/a.pow(10,c)}return"NaN"}}]),b.module("a8m.math.kbFmt",["a8m.math"]).filter("kbFmt",["$math",function(a){return function(b,c){return B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)?1024>b?i(b,c,a)+" KB":1048576>b?i(b/1024,c,a)+" MB":i(b/1048576,c,a)+" GB":"NaN"}}]),b.module("a8m.math",[]).factory("$math",["$window",function(a){return a.Math}]),b.module("a8m.math.max",["a8m.math"]).filter("max",["$math","$parse",function(a,b){function c(c,d){var e=c.map(function(a){return b(d)(a)});return e.indexOf(a.max.apply(a,e))}return function(b,d){return D(b)?y(d)?a.max.apply(a,b):b[c(b,d)]:b}}]),b.module("a8m.math.min",["a8m.math"]).filter("min",["$math","$parse",function(a,b){function c(c,d){var e=c.map(function(a){return b(d)(a)});return e.indexOf(a.min.apply(a,e))}return function(b,d){return D(b)?y(d)?a.min.apply(a,b):b[c(b,d)]:b}}]),b.module("a8m.math.percent",["a8m.math"]).filter("percent",["$math","$window",function(a,b){return function(c,d,e){var f=A(c)?b.Number(c):c;return d=d||100,e=e||!1,!B(f)||b.isNaN(f)?c:e?a.round(f/d*100):f/d*100}}]),b.module("a8m.math.radians",["a8m.math"]).filter("radians",["$math",function(a){return function(b,c){if(B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)){var d=3.14159265359*b/180;return a.round(d*a.pow(10,c))/a.pow(10,c)}return"NaN"}}]),b.module("a8m.math.radix",[]).filter("radix",function(){return function(a,b){var c=/^[2-9]$|^[1-2]\d$|^3[0-6]$/;return B(a)&&c.test(b)?a.toString(b).toUpperCase():a}}),b.module("a8m.math.shortFmt",["a8m.math"]).filter("shortFmt",["$math",function(a){return function(b,c){return B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)?1e3>b?b:1e6>b?i(b/1e3,c,a)+" K":1e9>b?i(b/1e6,c,a)+" M":i(b/1e9,c,a)+" B":"NaN"}}]),b.module("a8m.math.sum",[]).filter("sum",function(){return function(a,b){return D(a)?a.reduce(function(a,b){return a+b},b||0):a}}),b.module("a8m.ends-with",[]).filter("endsWith",function(){return function(a,b,c){var d,e=c||!1;return!A(a)||y(b)?a:(a=e?a:a.toLowerCase(),d=a.length-b.length,-1!==a.indexOf(e?b:b.toLowerCase(),d))}}),b.module("a8m.latinize",[]).filter("latinize",[function(){function a(a){return a.replace(/[^\u0000-\u007E]/g,function(a){return c[a]||a})}for(var b=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],c={},d=0;d<b.length;d++)for(var e=b[d].letters.split(""),f=0;f<e.length;f++)c[e[f]]=b[d].base;return function(b){return A(b)?a(b):b}}]),b.module("a8m.ltrim",[]).filter("ltrim",function(){return function(a,b){var c=b||"\\s";return A(a)?a.replace(new RegExp("^"+c+"+"),""):a}}),b.module("a8m.match",[]).filter("match",function(){return function(a,b,c){var d=new RegExp(b,c);return A(a)?a.match(d):null}}),b.module("a8m.repeat",[]).filter("repeat",[function(){return function(a,b,c){var d=~~b;return A(a)&&d?w(a,--b,c||""):a}}]),b.module("a8m.rtrim",[]).filter("rtrim",function(){return function(a,b){var c=b||"\\s";return A(a)?a.replace(new RegExp(c+"+$"),""):a}}),b.module("a8m.slugify",[]).filter("slugify",[function(){return function(a,b){var c=y(b)?"-":b;return A(a)?a.toLowerCase().replace(/\s+/g,c):a}}]),b.module("a8m.starts-with",[]).filter("startsWith",function(){return function(a,b,c){var d=c||!1;return!A(a)||y(b)?a:(a=d?a:a.toLowerCase(),!a.indexOf(d?b:b.toLowerCase()))}}),b.module("a8m.stringular",[]).filter("stringular",function(){return function(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,c){return y(b[c])?a:b[c]})}}),b.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(a){return A(a)?a.replace(/<\S[^><]*>/g,""):a}}),b.module("a8m.test",[]).filter("test",function(){return function(a,b,c){var d=new RegExp(b,c);return A(a)?d.test(a):a}}),b.module("a8m.trim",[]).filter("trim",function(){return function(a,b){var c=b||"\\s";return A(a)?a.replace(new RegExp("^"+c+"+|"+c+"+$","g"),""):a}}),b.module("a8m.truncate",[]).filter("truncate",function(){return function(a,b,c,d){return b=y(b)?a.length:b,d=d||!1,c=c||"",!A(a)||a.length<=b?a:a.substring(0,d?-1===a.indexOf(" ",b)?a.length:a.indexOf(" ",b):b)+c}}),b.module("a8m.ucfirst",[]).filter("ucfirst",[function(){return function(a){return A(a)?a.split(" ").map(function(a){return a.charAt(0).toUpperCase()+a.substring(1)}).join(" "):a}}]),b.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(a){return function(b){return A(b)?a.encodeURIComponent(b):b}}]),b.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(a){return function(b){return A(b)?a.encodeURI(b):b}}]),b.module("a8m.wrap",[]).filter("wrap",function(){return function(a,b,c){return A(a)&&x(b)?[b,a,c||b].join(""):a}}),b.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function(a,c){function d(a,c){return[a,b.toJson(c)].join("#").replace(/"/g,"")}function e(a){var b=a.targetScope.$id;E(l[b],function(a){delete j[a]}),delete l[b]}function f(){m(function(){c.$$phase||(j={})})}function g(a,b){var c=a.$id;return y(l[c])&&(a.$on("$destroy",e),l[c]=[]),l[c].push(b)}function h(a,b){var c=d(a,b);return j[c]}function i(a,b,c,e){var h=d(a,b);return j[h]=e,k(c)?g(c,h):f(),e}var j={},l={},m=a.setTimeout;return{isMemoized:h,memoize:i}}]}),b.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.chunk-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.range","a8m.math","a8m.math.max","a8m.math.min","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}(window,window.angular),angular.module("md5",[]).constant("md5",function(){function a(a){return c(b(d(a)))}function b(a){return f(g(e(a),8*a.length))}function c(a){try{}catch(b){o=0}for(var c,d=o?"0123456789ABCDEF":"0123456789abcdef",e="",f=0;f<a.length;f++)c=a.charCodeAt(f),e+=d.charAt(c>>>4&15)+d.charAt(15&c);return e}function d(a){for(var b,c,d="",e=-1;++e<a.length;)b=a.charCodeAt(e),c=e+1<a.length?a.charCodeAt(e+1):0,b>=55296&&56319>=b&&c>=56320&&57343>=c&&(b=65536+((1023&b)<<10)+(1023&c),e++),127>=b?d+=String.fromCharCode(b):2047>=b?d+=String.fromCharCode(192|b>>>6&31,128|63&b):65535>=b?d+=String.fromCharCode(224|b>>>12&15,128|b>>>6&63,128|63&b):2097151>=b&&(d+=String.fromCharCode(240|b>>>18&7,128|b>>>12&63,128|b>>>6&63,128|63&b));return d}function e(a){for(var b=Array(a.length>>2),c=0;c<b.length;c++)b[c]=0;for(var c=0;c<8*a.length;c+=8)b[c>>5]|=(255&a.charCodeAt(c/8))<<c%32;return b}function f(a){for(var b="",c=0;c<32*a.length;c+=8)b+=String.fromCharCode(a[c>>5]>>>c%32&255);return b}function g(a,b){a[b>>5]|=128<<b%32,a[(b+64>>>9<<4)+14]=b;for(var c=1732584193,d=-271733879,e=-1732584194,f=271733878,g=0;g<a.length;g+=16){var h=c,n=d,o=e,p=f;c=i(c,d,e,f,a[g+0],7,-680876936),f=i(f,c,d,e,a[g+1],12,-389564586),e=i(e,f,c,d,a[g+2],17,606105819),d=i(d,e,f,c,a[g+3],22,-1044525330),c=i(c,d,e,f,a[g+4],7,-176418897),f=i(f,c,d,e,a[g+5],12,1200080426),e=i(e,f,c,d,a[g+6],17,-1473231341),d=i(d,e,f,c,a[g+7],22,-45705983),c=i(c,d,e,f,a[g+8],7,1770035416),f=i(f,c,d,e,a[g+9],12,-1958414417),e=i(e,f,c,d,a[g+10],17,-42063),d=i(d,e,f,c,a[g+11],22,-1990404162),c=i(c,d,e,f,a[g+12],7,1804603682),f=i(f,c,d,e,a[g+13],12,-40341101),e=i(e,f,c,d,a[g+14],17,-1502002290),d=i(d,e,f,c,a[g+15],22,1236535329),c=j(c,d,e,f,a[g+1],5,-165796510),f=j(f,c,d,e,a[g+6],9,-1069501632),e=j(e,f,c,d,a[g+11],14,643717713),d=j(d,e,f,c,a[g+0],20,-373897302),c=j(c,d,e,f,a[g+5],5,-701558691),f=j(f,c,d,e,a[g+10],9,38016083),e=j(e,f,c,d,a[g+15],14,-660478335),d=j(d,e,f,c,a[g+4],20,-405537848),c=j(c,d,e,f,a[g+9],5,568446438),f=j(f,c,d,e,a[g+14],9,-1019803690),e=j(e,f,c,d,a[g+3],14,-187363961),d=j(d,e,f,c,a[g+8],20,1163531501),c=j(c,d,e,f,a[g+13],5,-1444681467),f=j(f,c,d,e,a[g+2],9,-51403784),e=j(e,f,c,d,a[g+7],14,1735328473),d=j(d,e,f,c,a[g+12],20,-1926607734),c=k(c,d,e,f,a[g+5],4,-378558),f=k(f,c,d,e,a[g+8],11,-2022574463),e=k(e,f,c,d,a[g+11],16,1839030562),d=k(d,e,f,c,a[g+14],23,-35309556),c=k(c,d,e,f,a[g+1],4,-1530992060),f=k(f,c,d,e,a[g+4],11,1272893353),e=k(e,f,c,d,a[g+7],16,-155497632),d=k(d,e,f,c,a[g+10],23,-1094730640),c=k(c,d,e,f,a[g+13],4,681279174),f=k(f,c,d,e,a[g+0],11,-358537222),e=k(e,f,c,d,a[g+3],16,-722521979),d=k(d,e,f,c,a[g+6],23,76029189),c=k(c,d,e,f,a[g+9],4,-640364487),f=k(f,c,d,e,a[g+12],11,-421815835),e=k(e,f,c,d,a[g+15],16,530742520),d=k(d,e,f,c,a[g+2],23,-995338651),c=l(c,d,e,f,a[g+0],6,-198630844),f=l(f,c,d,e,a[g+7],10,1126891415),e=l(e,f,c,d,a[g+14],15,-1416354905),d=l(d,e,f,c,a[g+5],21,-57434055),c=l(c,d,e,f,a[g+12],6,1700485571),f=l(f,c,d,e,a[g+3],10,-1894986606),e=l(e,f,c,d,a[g+10],15,-1051523),d=l(d,e,f,c,a[g+1],21,-2054922799),c=l(c,d,e,f,a[g+8],6,1873313359),f=l(f,c,d,e,a[g+15],10,-30611744),e=l(e,f,c,d,a[g+6],15,-1560198380),d=l(d,e,f,c,a[g+13],21,1309151649),c=l(c,d,e,f,a[g+4],6,-145523070),f=l(f,c,d,e,a[g+11],10,-1120210379),e=l(e,f,c,d,a[g+2],15,718787259),d=l(d,e,f,c,a[g+9],21,-343485551),c=m(c,h),d=m(d,n),e=m(e,o),f=m(f,p)}return Array(c,d,e,f)}function h(a,b,c,d,e,f){return m(n(m(m(b,a),m(d,f)),e),c)}function i(a,b,c,d,e,f,g){return h(b&c|~b&d,a,b,e,f,g)}function j(a,b,c,d,e,f,g){return h(b&d|c&~d,a,b,e,f,g)}function k(a,b,c,d,e,f,g){return h(b^c^d,a,b,e,f,g)}function l(a,b,c,d,e,f,g){return h(c^(b|~d),a,b,e,f,g)}function m(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function n(a,b){return a<<b|a>>>32-b}var o=0;return a}()),function(){var a;a=function(a){return["gravatarService",function(b){var c;return c=function(a,b){var c,d,e;d={};for(c in b)e=b[c],0===c.indexOf(a)&&(c=c.substr(a.length).toLowerCase(),c.length>0&&(d[c]=e));return d},{restrict:"A",link:function(d,e,f){var g,h,i,j;g=a?"gravatarSrcOnce":"gravatarSrc",h=f[g],delete f[g],i=c("gravatar",f),j=d.$watch(h,function(c){if(a){if(null==c)return;j()}e.attr("src",b.url(c,i))})}}}]},angular.module("ui.gravatar",["md5"]).provider("gravatarService",["md5",function(a){var b,c,d;return c=this,b=/^[0-9a-f]{32}$/i,d=function(a){var b,c,d;c=[];for(b in a)d=a[b],c.push(""+b+"="+encodeURIComponent(d));return c.join("&")},this.defaults={},this.secure=!1,this.protocol=null,this.urlFunc=function(c){var e,f,g,h,i;return g=c.protocol?c.protocol+":":"",i=c.secure?"https://secure":g+"//www",h=b.test(c.src)?c.src:a(c.src),f=[i,".gravatar.com/avatar/",h],e=d(c.params),e.length>0&&f.push("?"+e),f.join("")},this.$get=[function(){return{url:function(a,b){return null==a&&(a=""),null==b&&(b={}),c.urlFunc({params:angular.extend(angular.copy(c.defaults),b),protocol:c.protocol,secure:c.secure,src:a})}}}],this}]).directive("gravatarSrc",a()).directive("gravatarSrcOnce",a(!0))}.call(this),function(){"use strict";angular.module("cfp.hotkeys",[]).provider("hotkeys",["$injector",function(a){this.includeCheatSheet=!0,this.useNgRoute=a.has("ngViewDirective"),this.templateTitle="Keyboard Shortcuts:",this.templateHeader=null,this.templateFooter=null,this.template='<div class="cfp-hotkeys-container fade" ng-class="{in: helpVisible}" style="display: none;"><div class="cfp-hotkeys"><h4 class="cfp-hotkeys-title" ng-if="!header">{{ title }}</h4><div ng-bind-html="header" ng-if="header"></div><table><tbody><tr ng-repeat="hotkey in hotkeys | filter:{ description: \'!$$undefined$$\' }"><td class="cfp-hotkeys-keys"><span ng-repeat="key in hotkey.format() track by $index" class="cfp-hotkeys-key">{{ key }}</span></td><td class="cfp-hotkeys-text">{{ hotkey.description }}</td></tr></tbody></table><div ng-bind-html="footer" ng-if="footer"></div><div class="cfp-hotkeys-close" ng-click="toggleCheatSheet()">×</div></div></div>',this.cheatSheetHotkey="?",this.cheatSheetDescription="Show / hide this help menu",this.$get=["$rootElement","$rootScope","$compile","$window","$document",function(a,b,c,d,e){function f(a){var b={command:"⌘",shift:"⇧",left:"←",right:"→",up:"↑",down:"↓","return":"↩",backspace:"⌫"};a=a.split("+");for(var c=0;c<a.length;c++)"mod"===a[c]&&(d.navigator&&d.navigator.platform.indexOf("Mac")>=0?a[c]="command":a[c]="ctrl"),a[c]=b[a[c]]||a[c];return a.join(" + ")}function g(a,b,c,d,e,f){this.combo=a instanceof Array?a:[a],this.description=b,this.callback=c,this.action=d,this.allowIn=e,this.persistent=f,this._formated=null}function h(){for(var a=o.hotkeys.length;a--;){var b=o.hotkeys[a];b&&!b.persistent&&k(b)}}function i(){o.helpVisible=!o.helpVisible,o.helpVisible?(t=l("esc"),k("esc"),j("esc",t.description,i,null,["INPUT","SELECT","TEXTAREA"])):(k("esc"),t!==!1&&j(t))}function j(a,b,c,d,e,f){var h,i=["INPUT","SELECT","TEXTAREA"],j=Object.prototype.toString.call(a);if("[object Object]"===j&&(b=a.description,c=a.callback,d=a.action,f=a.persistent,e=a.allowIn,a=a.combo),b instanceof Function?(d=c,c=b,b="$$undefined$$"):angular.isUndefined(b)&&(b="$$undefined$$"),void 0===f&&(f=!0),"function"==typeof c){h=c,e instanceof Array||(e=[]);for(var k,l=0;l<e.length;l++)e[l]=e[l].toUpperCase(),k=i.indexOf(e[l]),-1!==k&&i.splice(k,1);c=function(a){var b=!0,c=a.target||a.srcElement,d=c.nodeName.toUpperCase();if((" "+c.className+" ").indexOf(" mousetrap ")>-1)b=!0;else for(var e=0;e<i.length;e++)if(i[e]===d){b=!1;break}b&&n(h.apply(this,arguments))}}"string"==typeof d?Mousetrap.bind(a,n(c),d):Mousetrap.bind(a,n(c));var m=new g(a,b,c,d,e,f);return o.hotkeys.push(m),m}function k(a){var b=a instanceof g?a.combo:a;if(Mousetrap.unbind(b),angular.isArray(b)){for(var c=!0,d=b.length;d--;)c=k(b[d])&&c;return c}var e=o.hotkeys.indexOf(l(b));return e>-1?(o.hotkeys[e].combo.length>1?o.hotkeys[e].combo.splice(o.hotkeys[e].combo.indexOf(b),1):o.hotkeys.splice(e,1),!0):!1}function l(a){if(!a)return o.hotkeys;for(var b,c=0;c<o.hotkeys.length;c++)if(b=o.hotkeys[c],b.combo.indexOf(a)>-1)return b;return!1}function m(a){return a.$id in p||(p[a.$id]=[],a.$on("$destroy",function(){for(var b=p[a.$id].length;b--;)k(p[a.$id].pop())})),{add:function(b){var c;return c=arguments.length>1?j.apply(this,arguments):j(b),p[a.$id].push(c),this}}}function n(a){return function(c,d){if(a instanceof Array){var e=a[0],f=a[1];a=function(a){f.scope.$eval(e)}}b.$apply(function(){a(c,l(d))})}}Mousetrap.prototype.stopCallback=function(a,b){return(" "+b.className+" ").indexOf(" mousetrap ")>-1?!1:b.contentEditable&&"true"==b.contentEditable},g.prototype.format=function(){if(null===this._formated){for(var a=this.combo[0],b=a.split(/[\s]/),c=0;c<b.length;c++)b[c]=f(b[c]);this._formated=b}return this._formated};var o=b.$new();o.hotkeys=[],o.helpVisible=!1,o.title=this.templateTitle,o.header=this.templateHeader,o.footer=this.templateFooter,o.toggleCheatSheet=i;var p=[];if(this.useNgRoute&&b.$on("$routeChangeSuccess",function(a,b){h(),b&&b.hotkeys&&angular.forEach(b.hotkeys,function(a){var c=a[2];("string"==typeof c||c instanceof String)&&(a[2]=[c,b]),a[5]=!1,j.apply(this,a)})}),this.includeCheatSheet){var q=e[0],r=a[0],s=angular.element(this.template);j(this.cheatSheetHotkey,this.cheatSheetDescription,i),(r===q||r===q.documentElement)&&(r=q.body),angular.element(r).append(c(s)(o))}var t=!1,u={add:j,del:k,get:l,bindTo:m,template:this.template,toggleCheatSheet:i,includeCheatSheet:this.includeCheatSheet,cheatSheetHotkey:this.cheatSheetHotkey,cheatSheetDescription:this.cheatSheetDescription,useNgRoute:this.useNgRoute,purgeHotkeys:h,templateTitle:this.templateTitle};return u}]}]).directive("hotkey",["hotkeys",function(a){return{restrict:"A",link:function(b,c,d){var e,f;angular.forEach(b.$eval(d.hotkey),function(b,c){f="string"==typeof d.hotkeyAllowIn?d.hotkeyAllowIn.split(/[\s,]+/):[],e=c,a.add({combo:c,description:d.hotkeyDescription,callback:b,action:d.hotkeyAction,allowIn:f})}),c.bind("$destroy",function(){a.del(e)})}}}]).run(["hotkeys",function(a){}])}(),function(a,b,c){function d(a,b,c){return a.addEventListener?void a.addEventListener(b,c,!1):void a.attachEvent("on"+b,c)}function e(a){
if("keypress"==a.type){var b=String.fromCharCode(a.which);return a.shiftKey||(b=b.toLowerCase()),b}return r[a.which]?r[a.which]:s[a.which]?s[a.which]:String.fromCharCode(a.which).toLowerCase()}function f(a,b){return a.sort().join(",")===b.sort().join(",")}function g(a){var b=[];return a.shiftKey&&b.push("shift"),a.altKey&&b.push("alt"),a.ctrlKey&&b.push("ctrl"),a.metaKey&&b.push("meta"),b}function h(a){return a.preventDefault?void a.preventDefault():void(a.returnValue=!1)}function i(a){return a.stopPropagation?void a.stopPropagation():void(a.cancelBubble=!0)}function j(a){return"shift"==a||"ctrl"==a||"alt"==a||"meta"==a}function k(){if(!q){q={};for(var a in r)a>95&&112>a||r.hasOwnProperty(a)&&(q[r[a]]=a)}return q}function l(a,b,c){return c||(c=k()[a]?"keydown":"keypress"),"keypress"==c&&b.length&&(c="keydown"),c}function m(a){return"+"===a?["+"]:(a=a.replace(/\+{2}/g,"+plus"),a.split("+"))}function n(a,b){var c,d,e,f=[];for(c=m(a),e=0;e<c.length;++e)d=c[e],u[d]&&(d=u[d]),b&&"keypress"!=b&&t[d]&&(d=t[d],f.push("shift")),j(d)&&f.push(d);return b=l(d,f,b),{key:d,modifiers:f,action:b}}function o(a,c){return a===b?!1:a===c?!0:o(a.parentNode,c)}function p(a){function c(a){a=a||{};var b,c=!1;for(b in u)a[b]?c=!0:u[b]=0;c||(x=!1)}function k(a,b,c,d,e,g){var h,i,k=[],l=c.type;if(!s._callbacks[a])return[];for("keyup"==l&&j(a)&&(b=[a]),h=0;h<s._callbacks[a].length;++h)if(i=s._callbacks[a][h],(d||!i.seq||u[i.seq]==i.level)&&l==i.action&&("keypress"==l&&!c.metaKey&&!c.ctrlKey||f(b,i.modifiers))){var m=!d&&i.combo==e,n=d&&i.seq==d&&i.level==g;(m||n)&&s._callbacks[a].splice(h,1),k.push(i)}return k}function l(a,b,c,d){s.stopCallback(b,b.target||b.srcElement,c,d)||a(b,c)===!1&&(h(b),i(b))}function m(a){"number"!=typeof a.which&&(a.which=a.keyCode);var b=e(a);if(b)return"keyup"==a.type&&v===b?void(v=!1):void s.handleKey(b,g(a),a)}function o(){clearTimeout(t),t=setTimeout(c,1e3)}function q(a,b,d,f){function g(b){return function(){x=b,++u[a],o()}}function h(b){l(d,b,a),"keyup"!==f&&(v=e(b)),setTimeout(c,10)}u[a]=0;for(var i=0;i<b.length;++i){var j=i+1===b.length,k=j?h:g(f||n(b[i+1]).action);r(b[i],k,f,a,i)}}function r(a,b,c,d,e){s._directMap[a+":"+c]=b,a=a.replace(/\s+/g," ");var f,g=a.split(" ");return g.length>1?void q(a,g,b,c):(f=n(a,c),s._callbacks[f.key]=s._callbacks[f.key]||[],k(f.key,f.modifiers,{type:f.action},d,a,e),void s._callbacks[f.key][d?"unshift":"push"]({callback:b,modifiers:f.modifiers,action:f.action,seq:d,level:e,combo:a}))}var s=this;if(a=a||b,!(s instanceof p))return new p(a);s.target=a,s._callbacks={},s._directMap={};var t,u={},v=!1,w=!1,x=!1;s._handleKey=function(a,b,d){var e,f=k(a,b,d),g={},h=0,i=!1;for(e=0;e<f.length;++e)f[e].seq&&(h=Math.max(h,f[e].level));for(e=0;e<f.length;++e)if(f[e].seq){if(f[e].level!=h)continue;i=!0,g[f[e].seq]=1,l(f[e].callback,d,f[e].combo,f[e].seq)}else i||l(f[e].callback,d,f[e].combo);var m="keypress"==d.type&&w;d.type!=x||j(a)||m||c(g),w=i&&"keydown"==d.type},s._bindMultiple=function(a,b,c){for(var d=0;d<a.length;++d)r(a[d],b,c)},d(a,"keypress",m),d(a,"keydown",m),d(a,"keyup",m)}for(var q,r={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},t={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},u={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},v=1;20>v;++v)r[111+v]="f"+v;for(v=0;9>=v;++v)r[v+96]=v;p.prototype.bind=function(a,b,c){var d=this;return a=a instanceof Array?a:[a],d._bindMultiple.call(d,a,b,c),d},p.prototype.unbind=function(a,b){var c=this;return c.bind.call(c,a,function(){},b)},p.prototype.trigger=function(a,b){var c=this;return c._directMap[a+":"+b]&&c._directMap[a+":"+b]({},a),c},p.prototype.reset=function(){var a=this;return a._callbacks={},a._directMap={},a},p.prototype.stopCallback=function(a,b){var c=this;return(" "+b.className+" ").indexOf(" mousetrap ")>-1?!1:o(b,c.target)?!1:"INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==b.tagName||b.isContentEditable},p.prototype.handleKey=function(){var a=this;return a._handleKey.apply(a,arguments)},p.init=function(){var a=p(b);for(var c in a)"_"!==c.charAt(0)&&(p[c]=function(b){return function(){return a[b].apply(a,arguments)}}(c))},p.init(),a.Mousetrap=p,"undefined"!=typeof module&&module.exports&&(module.exports=p),"function"==typeof define&&define.amd&&define(function(){return p})}(window,document),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="directives.inputMatch"),function(a,b,c){"use strict";var d=b.module("directives.inputMatch",[]);d.directive("match",function(){function a(a,c,d,e){e&&a.$watch(function(){return e.$pristine&&b.isUndefined(e.$modelValue)||a.match===e.$modelValue},function(a){e.$setValidity("match",a)})}return{link:a,require:"?ngModel",restrict:"A",scope:{match:"="}}})}(window,window.angular),function(a,b){if("function"==typeof define&&define.amd)define(["angular"],function(c){return b(a,c,a.Intercom)});else if("object"==typeof exports){var c=null;try{c=require("intercom")}catch(d){}module.exports=b({},require("angular"),c)}else angular&&b(a,a.angular,a.Intercom)}(this,function(a,b,c){"use strict";function d(a){return a?a.charAt(0).toUpperCase()+a.substring(1).toLowerCase():""}function e(a,b){if(document){var c=document.createElement("script");c.type="text/javascript",c.async=!0,c.src=a+b;var d=document.getElementsByTagName("head")[0];d.appendChild(c)}}function f(){var f=this;b.forEach(k,function(a,b){f[b]=function(c){return k[b]=c||a,f}}),f.$get=["$rootScope","$log","IntercomSettings",function(f,g,i){function l(){return a.Intercom.apply(a.Intercom,arguments),l}function m(a,b){l[b]=a,l["$"+b]=function(){return a.apply(c,arguments),f.$$phase||f.$apply(),l}}j&&g.warn("Please use consider using either $intercom or Intercom not both"),j=!0;var n={};k.appID&&(n.app_id=n.app_id||k.appID),b.extend(n,i),h&&(a.Intercom("reattach_activator"),a.Intercom("update",n)),k.asyncLoading&&e(k.scriptUrl,k.appID);var o={boot:function(c){return b.extend(n,c||{}),!n.app_id&&k.appID&&(n.app_id=k.appID),c.app_id&&c.app_id!==n.app_id&&(n.app_id=c.app_id),a.Intercom("boot",n),l},update:function(b){return b?(!b.app_id&&k.appID&&(b.app_id=k.appID),b.app_id&&b.app_id!==k.app_id&&(k.app_id=b.app_id),a.Intercom("update",b)):a.Intercom("update"),l},trackEvent:function(b,c){return a.Intercom("trackEvent",b,c),l},showMessages:function(){return a.Intercom("showMessages"),l},showNewMessage:function(b){return b?a.Intercom("showNewMessage",b):a.Intercom("showNewMessage"),l},hideMessages:function(){return a.Intercom("hideMessages"),l},shutdown:function(){return a.Intercom("shutdown"),l},hide:function(){return a.Intercom("hide"),l},show:function(){return a.Intercom("show"),l},reattachActivator:function(){return a.Intercom("reattach_activator"),l}};b.forEach(o,m);var p={show:!0,hide:!0,activatorClick:!0};return l.$on=function(b,c){return p[b]?(a.Intercom("on"+d(b),function(){f.$$phase?c():f.$apply(c)}),l):void 0},l.on=function(b,c){return p[b]?(a.Intercom("on"+d(b),c),l):void 0},l.$$defineMethod=function(b){b&&m(b,function(){var c=Array.prototype.slice.call(arguments);return a.Intercom.apply(a.Intercom,c.unshift(b)),l})},l}]}c&&a&&!a.Intercom&&(a.Intercom=c);var g=a.IntercomSettings||a.intercomSettings,h=!1;if(b.isFunction(c))a.Intercom("reattach_activator"),g&&a.Intercom("update",g),h=!0;else{var i=function(){i.c(arguments)};i.q=[],i.c=function(a){i.q.push(a)},a.Intercom=i}var j=!1,k={asyncLoading:!1,scriptUrl:"https://widget.intercom.io/widget/",appID:"",development:!1};return b.module("ngIntercom",[]).value("IntercomSettings",{}).provider("$intercom",f).provider("Intercom",f),b.module("angular-intercom",["ngIntercom"]),b.module("ngIntercom")}),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(a){var b=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(b,c,d,e,f,g){function h(){d.cancel(j),g.complete(),l=0,k=0}function i(b){var d,e=c.get("$http"),f=a.defaults;!b.cache&&!f.cache||b.cache===!1||"GET"!==b.method&&"JSONP"!==b.method||(d=angular.isObject(b.cache)?b.cache:angular.isObject(f.cache)?f.cache:e);var g=void 0!==d?void 0!==d.get(b.url):!1;return void 0!==b.cached&&g!==b.cached?b.cached:(b.cached=g,g)}var j,k=0,l=0,m=g.latencyThreshold;return{request:function(a){return a.ignoreLoadingBar||i(a)||(e.$broadcast("cfpLoadingBar:loading",{url:a.url}),0===k&&(j=d(function(){g.start()},m)),k++,g.set(l/k)),a},response:function(a){return a&&a.config?(a.config.ignoreLoadingBar||i(a.config)||(l++,e.$broadcast("cfpLoadingBar:loaded",{url:a.config.url,result:a}),l>=k?h():g.set(l/k)),a):(f.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),a)},responseError:function(a){return a&&a.config?(a.config.ignoreLoadingBar||i(a.config)||(l++,e.$broadcast("cfpLoadingBar:loaded",{url:a.config.url,result:a}),l>=k?h():g.set(l/k)),b.reject(a)):(f.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),b.reject(a))}}}];a.interceptors.push(b)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(a,b,c,d){function e(){k||(k=a.get("$animate"));var e=b.find(n).eq(0);c.cancel(m),r||(d.$broadcast("cfpLoadingBar:started"),r=!0,v&&k.enter(o,e,angular.element(e[0].lastChild)),u&&k.enter(q,e,angular.element(e[0].lastChild)),f(w))}function f(a){if(r){var b=100*a+"%";p.css("width",b),s=a,t&&(c.cancel(l),l=c(function(){g()},250))}}function g(){if(!(h()>=1)){var a=0,b=h();a=b>=0&&.25>b?(3*Math.random()+3)/100:b>=.25&&.65>b?3*Math.random()/100:b>=.65&&.9>b?2*Math.random()/100:b>=.9&&.99>b?.005:0;var c=h()+a;f(c)}}function h(){return s}function i(){s=0,r=!1}function j(){k||(k=a.get("$animate")),d.$broadcast("cfpLoadingBar:completed"),f(1),c.cancel(m),m=c(function(){var a=k.leave(o,i);a&&a.then&&a.then(i),k.leave(q)},500)}var k,l,m,n=this.parentSelector,o=angular.element(this.loadingBarTemplate),p=o.find("div").eq(0),q=angular.element(this.spinnerTemplate),r=!1,s=0,t=this.autoIncrement,u=this.includeSpinner,v=this.includeBar,w=this.startSize;return{start:e,set:f,status:h,inc:g,complete:j,autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),function(a,b){"function"==typeof define&&define.amd?define(function(){return b(a.angular)}):"object"==typeof exports?module.exports=b(a.angular||window&&window.angular):b(a.angular)}(this,function(a){"use strict";a.module("angular-locker",[]).provider("locker",function(){var b=function(b,c){return a.isFunction(b)?b(c):b},c=function(b){return a.isDefined(b)&&null!==b},d=function(a){throw new Error("[angular-locker] "+a)},e={driver:"local",namespace:"locker",eventsEnabled:!0,separator:".",extend:{}};return{defaults:function(b){return c(b)?void a.forEach(b,function(a,b){e.hasOwnProperty(b)&&(e[b]=a)}):e},$get:["$window","$rootScope","$parse",function(f,g,h){function i(e){this._options=e,this._registeredDrivers=a.extend({local:f.localStorage,session:f.sessionStorage},e.extend),this._resolveDriver=function(a){return this._registeredDrivers.hasOwnProperty(a)||d('The driver "'+a+'" was not found.'),this._registeredDrivers[a]},this._driver=this._resolveDriver(e.driver),this._namespace=e.namespace,this._separator=e.separator,this._watchers={},this._checkSupport=function(a){if(!c(this._supported)){var b="l";try{this._resolveDriver(a||e.driver).setItem(b,b),this._resolveDriver(a||e.driver).removeItem(b),this._supported=!0}catch(d){this._supported=!1}}return this._supported},this._getPrefix=function(a){return this._namespace?this._namespace+this._separator+a:a},this._serialize=function(b){try{return a.toJson(b)}catch(c){return b}},this._unserialize=function(b){try{return a.fromJson(b)}catch(c){return b}},this._event=function(b,c){this._options.eventsEnabled&&g.$emit(b,a.extend(c,{driver:this._options.driver,namespace:this._namespace}))},this._setItem=function(b,c){this._checkSupport()||d('The browser does not support the "'+e.driver+'" driver');try{var f=this._getItem(b);this._driver.setItem(this._getPrefix(b),this._serialize(c)),this._exists(b)&&!a.equals(f,c)?this._event("locker.item.updated",{key:b,oldValue:f,newValue:c}):this._event("locker.item.added",{key:b,value:c})}catch(g){d(-1!==["QUOTA_EXCEEDED_ERR","NS_ERROR_DOM_QUOTA_REACHED","QuotaExceededError"].indexOf(g.name)?"The browser storage quota has been exceeded":'Could not add item with key "'+b+'"')}},this._getItem=function(a){return this._checkSupport()||d('The browser does not support the "'+e.driver+'" driver'),this._unserialize(this._driver.getItem(this._getPrefix(a)))},this._exists=function(a){return this._checkSupport()||d('The browser does not support the "'+e.driver+'" driver'),this._driver.hasOwnProperty(this._getPrefix(b(a)))},this._removeItem=function(a){return this._checkSupport()||d('The browser does not support the "'+e.driver+'" driver'),this._exists(a)?(this._driver.removeItem(this._getPrefix(a)),this._event("locker.item.forgotten",{key:a}),!0):!1}}return i.prototype={put:function(d,e,f){if(!c(d))return!1;if(d=b(d),a.isObject(d))a.forEach(d,function(a,b){this._setItem(b,c(a)?a:f)},this);else{if(!c(e))return!1;var g=this._getItem(d);this._setItem(d,b(e,c(g)?g:f))}return this},add:function(a,b,c){return this.has(a)?!1:(this.put(a,b,c),!0)},get:function(b,c){if(a.isArray(b)){var d={};return a.forEach(b,function(a){this.has(a)&&(d[a]=this._getItem(a))},this),d}return this.has(b)?this._getItem(b):2===arguments.length?c:void 0},has:function(a){return this._exists(a)},forget:function(c){return c=b(c),a.isArray(c)?c.map(this._removeItem,this):this._removeItem(c),this},pull:function(a,b){var c=this.get(a,b);return this.forget(a),c},all:function(){var b={};return a.forEach(this._driver,function(a,c){if(this._namespace){var d=this._namespace+this._separator;0===c.indexOf(d)&&(c=c.substring(d.length))}this.has(c)&&(b[c]=this.get(c))},this),b},keys:function(){return Object.keys(this.all())},clean:function(){return this.forget(this.keys())},empty:function(){return this._driver.clear(),this},count:function(){return this.keys().length},bind:function(b,d,e){c(b.$eval(d))||(h(d).assign(b,this.get(d,e)),this.add(d,e));var f=this;return this._watchers[d+b.$id]=b.$watch(d,function(a){f.put(d,a)},a.isObject(b[d])),this},unbind:function(a,b){h(b).assign(a,void 0),this.forget(b);var c=b+a.$id;return this._watchers[c]&&(this._watchers[c](),delete this._watchers[c]),this},driver:function(b){return this.instance(a.extend(this._options,{driver:b}))},getDriver:function(){return this._driver},namespace:function(b){return this.instance(a.extend(this._options,{namespace:b}))},getNamespace:function(){return this._namespace},supported:function(a){return this._checkSupport(a)},instance:function(a){return new i(a)}},new i(e)}]}})}),function(a,b,c){"use strict";function d(a){function b(a,b){return a?e(a)?a.indexOf(b)>=0:a.hasOwnProperty(b):void 0}return["$animate",function(a){return{restrict:"AE",transclude:"element",terminal:!0,require:"^^ngMessages",link:function(c,d,f,g,h){var i,j=d[0],k=f.ngMessage||f.when,l=f.ngMessageExp||f.whenExp,m=function(a){i=a?e(a)?a:a.split(/[\s,]+/):null,g.reRender()};l?(m(c.$eval(l)),c.$watchCollection(l,m)):m(k);var n,o;g.register(j,o={test:function(a){return b(i,a)},attach:function(){n||h(c,function(b){a.enter(b,null,d),n=b,n.on("$destroy",function(){n&&(g.deregister(j),o.detach())})})},detach:function(){if(n){var b=n;n=null,a.leave(b)}}})}}}]}var e=b.isArray,f=b.forEach,g=b.isString,h=b.element;b.module("ngMessages",[]).directive("ngMessages",["$animate",function(a){function b(a,b){return g(b)&&0===b.length||c(a.$eval(b))}function c(a){return g(a)?a.length:!!a}var d="ng-active",e="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(g,h,i){function j(a,b){for(var c=b,d=[];c&&c!==a;){var e=c.$$ngMessageNode;if(e&&e.length)return q[e];c.childNodes.length&&-1==d.indexOf(c)?(d.push(c),c=c.childNodes[c.childNodes.length-1]):c=c.previousSibling||c.parentNode}}function k(a,b,c){var d=q[c];if(o.head){var e=j(a,b);e?(d.next=e.next,e.next=d):(d.next=o.head,o.head=d)}else o.head=d}function l(a,b,c){var d=q[c],e=j(a,b);e?e.next=d.next:o.head=d.next}var m,n,o=this,p=0,q=this.messages={};this.render=function(j){j=j||{},m=!1,n=j;for(var k=b(h,i.ngMessagesMultiple)||b(h,i.multiple),l=[],p={},q=o.head,r=!1,s=0;null!=q;){s++;var t=q.message,u=!1;r||f(j,function(a,b){if(!u&&c(a)&&t.test(b)){if(p[b])return;p[b]=!0,u=!0,t.attach()}}),u?r=!k:l.push(t),q=q.next}f(l,function(a){a.detach()}),l.length!==s?a.setClass(g,d,e):a.setClass(g,e,d)},h.$watchCollection(i.ngMessages||i["for"],o.render),this.reRender=function(){m||(m=!0,h.$evalAsync(function(){m&&n&&o.render(n)}))},this.register=function(a,b){var c=p.toString();q[c]={message:b},k(g[0],a,c),a.$$ngMessageNode=c,p++,o.reRender()},this.deregister=function(a){var b=a.$$ngMessageNode;delete a.$$ngMessageNode,l(g[0],a,b),delete q[b],o.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(a,b,c){return{restrict:"AE",require:"^^ngMessages",link:function(d,e,f){var g=f.ngMessagesInclude||f.src;a(g).then(function(a){c(a)(d,function(a){e.after(a);var c=h(b[0].createComment(" ngMessagesInclude: "+g+" "));e.after(c),e.remove()})})}}}]).directive("ngMessage",d("AE")).directive("ngMessageExp",d("A"))}(window,window.angular),angular.module("angularPayments",[]),angular.module("angularPayments").factory("Common",[function(){var a={};return a.parseExpiry=function(a){var b,c,d,e;return a=a||"",a=a.replace(/\s/g,""),e=a.split("/",2),b=e[0],d=e[1],2===(null!=d?d.length:void 0)&&/^\d+$/.test(d)&&(c=(new Date).getFullYear(),c=c.toString().slice(0,2),d=c+d),b=parseInt(b,10),d=parseInt(d,10),{month:b,year:d}},a}]),angular.module("angularPayments").factory("Cards",[function(){var a=/(\d{1,4})/g,b=/(?:^|\s)(\d{4})$/,c=[{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,format:a,inputFormat:b,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:a,inputFormat:b,length:[14],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:a,inputFormat:b,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:a,inputFormat:b,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:a,inputFormat:b,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:a,inputFormat:b,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,format:a,inputFormat:b,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,inputFormat:/^(\d{4}|\d{4}\s\d{6})$/,length:[15],cvcLength:[3,4],luhn:!0},{type:"visa",pattern:/^4/,format:a,inputFormat:b,length:[13,14,15,16],cvcLength:[3],luhn:!0}],d=function(a){var b,d,e;for(a=(a+"").replace(/\D/g,""),d=0,e=c.length;e>d;d++)if(b=c[d],b.pattern.test(a))return b},e=function(a){var b,d,e;for(d=0,e=c.length;e>d;d++)if(b=c[d],b.type===a)return b};return{fromNumber:function(a){return d(a)},fromType:function(a){return e(a)},defaultFormat:function(){return a},defaultInputFormat:function(){return b}}}]),angular.module("angularPayments").factory("_Format",["Cards","Common","$filter",function(a,b,c){var d={},e=function(a){var b;return null!=a.prop("selectionStart")&&a.prop("selectionStart")!==a.prop("selectionEnd")?!0:("undefined"!=typeof document&&null!==document&&null!=(b=document.selection)&&"function"==typeof b.createRange?b.createRange().text:void 0)?!0:!1},f=function(b){var c,d,e,f,g,h,i;if(e=String.fromCharCode(b.which),c=angular.element(b.currentTarget),i=c.val(),d=a.fromNumber(i+e),f=(i.replace(/\D/g,"")+e).length,h=16,d&&(h=d.length[d.length.length-1]),!(f>=h)){if(!/^\d+$/.test(e)&&!b.meta&&b.keyCode>=46)return void b.preventDefault();if(null==c.prop("selectionStart")||c.prop("selectionStart")===i.length)return g=a.defaultInputFormat(),d&&(g=d.inputFormat),g.test(i)?(b.preventDefault(),c.val(i+" "+e)):g.test(i+e)?(b.preventDefault(),c.val(i+e+" ")):void 0}},g=function(b){var c,d,f,g;c=angular.element(b.currentTarget),f=String.fromCharCode(b.which),/^\d+$/.test(f)&&(e(c)||(g=(c.val()+f).replace(/\D/g,""),d=a.fromNumber(g),d?g.length<=d.length[d.length.length-1]||b.preventDefault():g.length<=16||b.preventDefault()))},h=function(a){var b,c;return b=angular.element(a.currentTarget),c=b.val(),a.meta||8!==a.which||null!=b.prop("selectionStart")&&b.prop("selectionStart")!==c.length?void 0:/\d\s$/.test(c)&&!a.meta&&a.keyCode>=46?(a.preventDefault(),b.val(c.replace(/\d\s$/,""))):/\s\d?$/.test(c)?(a.preventDefault(),b.val(c.replace(/\s\d?$/,""))):void 0},i=function(b){var c,d,e,f;return(c=a.fromNumber(b))?(e=c.length[c.length.length-1],b=b.replace(/\D/g,""),b=b.slice(0,+e+1||9e9),c.format.global?null!=(f=b.match(c.format))?f.join(" "):void 0:(d=c.format.exec(b),null!=d&&d.shift(),null!=d?d.join(" "):void 0)):b},j=function(a){return setTimeout(function(){var b,c;return b=angular.element(a.target),c=b.val(),c=i(c),b.val(c)})},k=function(a){return null!=a?a.replace(/\s/g,""):a};d.card=function(a,b){a.bind("keypress",g),a.bind("keypress",f),a.bind("keydown",h),a.bind("paste",j),b.$parsers.push(k),b.$formatters.push(i)},_formatCVC=function(a){return $target=angular.element(a.currentTarget),digit=String.fromCharCode(a.which),!/^\d+$/.test(digit)&&!a.meta&&a.keyCode>=46?void a.preventDefault():(val=$target.val()+digit,val.length<=4?void 0:void a.preventDefault())},d.cvc=function(a){a.bind("keypress",_formatCVC)},_restrictExpiry=function(a){var b,c,d;return b=angular.element(a.currentTarget),c=String.fromCharCode(a.which),!/^\d+$/.test(c)&&!a.meta&&a.keyCode>=46?void a.preventDefault():e(b)?void 0:(d=b.val()+c,d=d.replace(/\D/g,""),d.length>6?void a.preventDefault():void 0)},_formatExpiry=function(a){var b,c,d;return c=String.fromCharCode(a.which),!/^\d+$/.test(c)&&!a.meta&&a.keyCode>=46?void a.preventDefault():(b=angular.element(a.currentTarget),d=b.val()+c,/^\d$/.test(d)&&"0"!==d&&"1"!==d?(a.preventDefault(),b.val("0"+d+" / ")):/^\d\d$/.test(d)?(a.preventDefault(),b.val(""+d+" / ")):void 0)},_formatForwardExpiry=function(a){var b,c,d;return c=String.fromCharCode(a.which),!/^\d+$/.test(c)&&!a.meta&&a.keyCode>=46?void 0:(b=angular.element(a.currentTarget),d=b.val(),/^\d\d$/.test(d)?b.val(""+d+" / "):void 0)},_formatForwardSlash=function(a){var b,c,d;return c=String.fromCharCode(a.which),"/"===c?(b=angular.element(a.currentTarget),d=b.val(),/^\d$/.test(d)&&"0"!==d?b.val("0"+d+" / "):void 0):void 0},_formatBackExpiry=function(a){var b,c;if(!a.meta&&(b=angular.element(a.currentTarget),c=b.val(),8===a.which&&(null==b.prop("selectionStart")||b.prop("selectionStart")===c.length)))return/\d(\s|\/)+$/.test(c)?(a.preventDefault(),b.val(c.replace(/\d(\s|\/)*$/,""))):/\s\/\s?\d?$/.test(c)?(a.preventDefault(),b.val(c.replace(/\s\/\s?\d?$/,""))):void 0};var l=function(a){if(null!=a){var d=b.parseExpiry(a),e=new Date(d.year,d.month-1);return c("date")(e,"MM/yyyy")}return null},m=function(a){if(null!=a){var d=b.parseExpiry(a),e=new Date(d.year,d.month-1);return c("date")(e,"MM / yyyy")}return null};return d.expiry=function(a,b){a.bind("keypress",_restrictExpiry),a.bind("keypress",_formatExpiry),a.bind("keypress",_formatForwardSlash),a.bind("keypress",_formatForwardExpiry),a.bind("keydown",_formatBackExpiry),b.$parsers.push(l),b.$formatters.push(m)},function(a,b,c){if(!d[a])throw types=Object.keys(d),errstr='Unknown type for formatting: "'+a+'". ',errstr+='Should be one of: "'+types.join('", "')+'"',errstr;return d[a](b,c)}}]).directive("paymentsFormat",["$window","_Format",function(a,b){return{restrict:"A",require:"ngModel",link:function(a,c,d,e){b(d.paymentsFormat,c,e)}}}]),angular.module("angularPayments").factory("_Validate",["Cards","Common","$parse",function(a,b,c){var d=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},e=function(a){var b,c,d,e,f,g;for(d=!0,e=0,c=(a+"").split("").reverse(),f=0,g=c.length;g>f;f++)b=c[f],b=parseInt(b,10),(d=!d)&&(b*=2),b>9&&(b-=9),e+=b;return e%10===0},f={};return f.cvc=function(b,e,f,g){var h,i;if(null==b||0==b.length)return!0;if(!/^\d+$/.test(b))return!1;var j;if(g.paymentsTypeModel){var k=c(g.paymentsTypeModel);j=k(f)}return j?(h=b.length,d.call(null!=(i=a.fromType(j))?i.cvcLength:void 0,h)>=0):b.length>=3&&b.length<=4},f.card=function(b,f,g,h){var i,j,k;h.paymentsTypeModel&&(k=c(h.paymentsTypeModel));var l=function(){k&&k.assign(g,null),f.$card=null};return null==b||0==b.length?(l(),!0):(b=(b+"").replace(/\s+|-/g,""),/^\d+$/.test(b)&&(i=a.fromNumber(b))?(f.$card=angular.copy(i),k&&k.assign(g,i.type),ret=(j=b.length,d.call(i.length,j)>=0&&(i.luhn===!1||e(b))),ret):(l(),!1))},f.expiry=function(a){if(null==a||0==a.length)return!0;obj=b.parseExpiry(a),month=obj.month,year=obj.year;var c,d,e;return month&&year&&/^\d+$/.test(month)&&/^\d+$/.test(year)&&parseInt(month,10)<=12?(2===year.length&&(e=(new Date).getFullYear(),e=e.toString().slice(0,2),year=e+year),d=new Date(year,month),c=new Date,d.setMonth(d.getMonth()-1),d.setMonth(d.getMonth()+1,1),d>c):!1},function(a,b,c,d,e){if(!f[a])throw types=Object.keys(f),errstr='Unknown type for validation: "'+a+'". ',errstr+='Should be one of: "'+types.join('", "')+'"',errstr;return f[a](b,c,d,e)}}]).factory("_ValidateWatch",["_Validate",function(a){var b={};return b.cvc=function(b,c,d,e){e.paymentsTypeModel&&d.$watch(e.paymentsTypeModel,function(f,g){if(f!=g){var h=a(b,c.$modelValue,c,d,e);c.$setValidity(b,h)}})},function(a,c,d,e){return b[a]?b[a](a,c,d,e):void 0}}]).directive("paymentsValidate",["$window","_Validate","_ValidateWatch",function(a,b,c){return{restrict:"A",require:"ngModel",link:function(a,d,e,f){var g=e.paymentsValidate;c(g,f,a,e);var h=function(c){var d=b(g,c,f,a,e);return f.$setValidity(g,d),d?c:void 0};f.$formatters.push(h),f.$parsers.push(h)}}}]),angular.module("angularPayments").directive("stripeForm",["$window","$parse","Common",function(a,b,c){return _getDataToSend=function(a){var b=["number","expMonth","expYear","cvc","name","addressLine1","addressLine2","addressCity","addressState","addressZip","addressCountry"],c=function(a){return a.replace(/([A-Z])/g,function(a){return"_"+a.toLowerCase()})},d={};for(i in b)a.hasOwnProperty(b[i])&&(d[c(b[i])]=angular.copy(a[b[i]]));return d.number=(d.number||"").replace(/ /g,""),d},{restrict:"A",link:function(b,d,e){if(!a.Stripe)throw"stripeForm requires that you have stripe.js installed. Include https://js.stripe.com/v2/ into your html.";var f=angular.element(d);f.bind("submit",function(){expMonthUsed=b.expMonth?!0:!1,expYearUsed=b.expYear?!0:!1,expMonthUsed&&expYearUsed||(exp=c.parseExpiry(b.expiry),b.expMonth=exp.month,b.expYear=exp.year);var d=f.find("button");d.prop("disabled",!0),f.hasClass("ng-valid")?a.Stripe.createToken(_getDataToSend(b),function(){var a=arguments;b.$apply(function(){b[e.stripeForm].apply(b,a)}),d.prop("disabled",!1)}):(b.$apply(function(){b[e.stripeForm].apply(b,[400,{error:"Invalid form submitted."}])}),d.prop("disabled",!1)),b.expMonth=null,b.expYear=null})}}}]),function(a,b,c){"use strict";function d(a){return null!=a&&""!==a&&"hasOwnProperty"!==a&&h.test("."+a)}function e(a,b){if(!d(b))throw g("badmember",'Dotted member path "@{0}" is invalid.',b);for(var e=b.split("."),f=0,h=e.length;h>f&&a!==c;f++){var i=e[f];a=null!==a?a[i]:c}return a}function f(a,c){c=c||{},b.forEach(c,function(a,b){delete c[b]});for(var d in a)!a.hasOwnProperty(d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(c[d]=a[d]);return c}var g=b.$$minErr("$resource"),h=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;b.module("ngResource",["ng"]).provider("$resource",function(){var a=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(d,h){function i(a){return j(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function j(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function k(b,c){this.template=b,this.defaults=o({},a.defaults,c),this.urlParams={}}function l(i,j,r,s){function t(a,b){var c={};return b=o({},j,b),n(b,function(b,d){q(b)&&(b=b()),c[d]=b&&b.charAt&&"@"==b.charAt(0)?e(a,b.substr(1)):b}),c}function u(a){return a.resource}function v(a){f(a||{},this)}var w=new k(i,s);return r=o({},a.defaults.actions,r),v.prototype.toJSON=function(){var a=o({},this);return delete a.$promise,delete a.$resolved,a},n(r,function(a,e){var i=/^(POST|PUT|PATCH)$/i.test(a.method);v[e]=function(j,k,l,r){var s,x,y,z={};switch(arguments.length){case 4:y=r,x=l;case 3:case 2:if(!q(k)){z=j,s=k,x=l;break}if(q(j)){x=j,y=k;break}x=k,y=l;case 1:q(j)?x=j:i?s=j:z=j;break;case 0:break;default:throw g("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var A=this instanceof v,B=A?s:a.isArray?[]:new v(s),C={},D=a.interceptor&&a.interceptor.response||u,E=a.interceptor&&a.interceptor.responseError||c;n(a,function(a,b){"params"!=b&&"isArray"!=b&&"interceptor"!=b&&(C[b]=p(a))}),i&&(C.data=s),w.setUrlParams(C,o({},t(s,a.params||{}),z),a.url);var F=d(C).then(function(c){var d=c.data,h=B.$promise;if(d){if(b.isArray(d)!==!!a.isArray)throw g("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",e,a.isArray?"array":"object",b.isArray(d)?"array":"object",C.method,C.url);a.isArray?(B.length=0,n(d,function(a){"object"==typeof a?B.push(new v(a)):B.push(a)})):(f(d,B),B.$promise=h)}return B.$resolved=!0,c.resource=B,c},function(a){return B.$resolved=!0,(y||m)(a),h.reject(a)});return F=F.then(function(a){var b=D(a);return(x||m)(b,a.headers),b},E),A?F:(B.$promise=F,B.$resolved=!1,B)},v.prototype["$"+e]=function(a,b,c){q(a)&&(c=b,b=a,a={});var d=v[e].call(this,a,this,b,c);return d.$promise||d}}),v.bind=function(a){return l(i,o({},j,a),r)},v}var m=b.noop,n=b.forEach,o=b.extend,p=b.copy,q=b.isFunction;return k.prototype={setUrlParams:function(a,c,d){var e,f,h=this,j=d||h.template,k=h.urlParams={};n(j.split(/\W/),function(a){if("hasOwnProperty"===a)throw g("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(j)&&(k[a]=!0)}),j=j.replace(/\\:/g,":"),c=c||{},n(h.urlParams,function(a,d){e=c.hasOwnProperty(d)?c[d]:h.defaults[d],b.isDefined(e)&&null!==e?(f=i(e),j=j.replace(new RegExp(":"+d+"(\\W|$)","g"),function(a,b){return f+b})):j=j.replace(new RegExp("(/?):"+d+"(\\W|$)","g"),function(a,b,c){return"/"==c.charAt(0)?c:b+c})}),h.defaults.stripTrailingSlashes&&(j=j.replace(/\/+$/,"")||"/"),j=j.replace(/\/\.(?=\w+($|\?))/,"."),a.url=j.replace(/\/\\\./,"/."),n(c,function(b,c){h.urlParams[c]||(a.params=a.params||{},
a.params[c]=b)})}},l}]})}(window,window.angular),function(a,b,c){"use strict";function d(){this.$get=["$$sanitizeUri",function(a){return function(b){var c=[];return g(b,j(c,function(b,c){return!/^unsafe/.test(a(b,c))})),c.join("")}}]}function e(a){var c=[],d=j(c,b.noop);return d.chars(a),c.join("")}function f(a,c){var d,e={},f=a.split(",");for(d=0;d<f.length;d++)e[c?b.lowercase(f[d]):f[d]]=!0;return e}function g(a,c){function d(a,d,f,g){if(d=b.lowercase(d),z[d])for(;t.last()&&A[t.last()];)e("",t.last());y[d]&&t.last()==d&&e("",d),g=v[d]||!!g,g||t.push(d);var i={};f.replace(n,function(a,b,c,d,e){var f=c||d||e||"";i[b]=h(f)}),c.start&&c.start(d,i,g)}function e(a,d){var e,f=0;if(d=b.lowercase(d))for(f=t.length-1;f>=0&&t[f]!=d;f--);if(f>=0){for(e=t.length-1;e>=f;e--)c.end&&c.end(t[e]);t.length=f}}"string"!=typeof a&&(a=null===a||"undefined"==typeof a?"":""+a);var f,g,i,j,t=[],u=a;for(t.last=function(){return t[t.length-1]};a;){if(j="",g=!0,t.last()&&C[t.last()]?(a=a.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+t.last()+"[^>]*>","i"),function(a,b){return b=b.replace(q,"$1").replace(s,"$1"),c.chars&&c.chars(h(b)),""}),e("",t.last())):(0===a.indexOf("<!--")?(f=a.indexOf("--",4),f>=0&&a.lastIndexOf("-->",f)===f&&(c.comment&&c.comment(a.substring(4,f)),a=a.substring(f+3),g=!1)):r.test(a)?(i=a.match(r),i&&(a=a.replace(i[0],""),g=!1)):p.test(a)?(i=a.match(m),i&&(a=a.substring(i[0].length),i[0].replace(m,e),g=!1)):o.test(a)&&(i=a.match(l),i?(i[4]&&(a=a.substring(i[0].length),i[0].replace(l,d)),g=!1):(j+="<",a=a.substring(1))),g&&(f=a.indexOf("<"),j+=0>f?a:a.substring(0,f),a=0>f?"":a.substring(f),c.chars&&c.chars(h(j)))),a==u)throw k("badparse","The sanitizer was unable to parse the following block of html: {0}",a);u=a}e()}function h(a){return a?(I.innerHTML=a.replace(/</g,"&lt;"),I.textContent):""}function i(a){return a.replace(/&/g,"&amp;").replace(t,function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1);return"&#"+(1024*(b-55296)+(c-56320)+65536)+";"}).replace(u,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function j(a,c){var d=!1,e=b.bind(a,a.push);return{start:function(a,f,g){a=b.lowercase(a),!d&&C[a]&&(d=a),d||D[a]!==!0||(e("<"),e(a),b.forEach(f,function(d,f){var g=b.lowercase(f),h="img"===a&&"src"===g||"background"===g;H[g]!==!0||E[g]===!0&&!c(d,h)||(e(" "),e(f),e('="'),e(i(d)),e('"'))}),e(g?"/>":">"))},end:function(a){a=b.lowercase(a),d||D[a]!==!0||(e("</"),e(a),e(">")),a==d&&(d=!1)},chars:function(a){d||e(i(a))}}}var k=b.$$minErr("$sanitize"),l=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,m=/^<\/\s*([\w:-]+)[^>]*>/,n=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,o=/^</,p=/^<\//,q=/<!--(.*?)-->/g,r=/<!DOCTYPE([^>]*?)>/i,s=/<!\[CDATA\[(.*?)]]>/g,t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/([^\#-~| |!])/g,v=f("area,br,col,hr,img,wbr"),w=f("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x=f("rp,rt"),y=b.extend({},x,w),z=b.extend({},w,f("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),A=b.extend({},x,f("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),B=f("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),C=f("script,style"),D=b.extend({},v,z,A,y,B),E=f("background,cite,href,longdesc,src,usemap,xlink:href"),F=f("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),G=f("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),H=b.extend({},E,G,F),I=document.createElement("pre");b.module("ngSanitize",[]).provider("$sanitize",d),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,d=/^mailto:/i;return function(f,g){function h(a){a&&n.push(e(a))}function i(a,c){n.push("<a "),b.isDefined(g)&&n.push('target="',g,'" '),n.push('href="',a.replace(/"/g,"&quot;"),'">'),h(c),n.push("</a>")}if(!f)return f;for(var j,k,l,m=f,n=[];j=m.match(c);)k=j[0],j[2]||j[4]||(k=(j[3]?"http://":"mailto:")+k),l=j.index,h(m.substr(0,l)),i(k,j[0].replace(d,"")),m=m.substring(l+j[0].length);return h(m),a(n.join(""))}}])}(window,window.angular),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.angularStripe=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){return function(b){if("function"!=typeof a)throw new Error(b||"$q is not a function")}}var e=window.angular;b.exports=e.module("assert-q-constructor",[]).factory("assertQConstructor",d).name,d.$inject=["$q"]},{}],2:[function(a,b,c){"use strict";function d(a,b,c,d){return function(){var e=Array.prototype.slice.call(arguments);return new a(function(a,f){c[b].apply(c,e.concat(function(){d.apply({resolve:a,reject:f},arguments)}))})}}function e(a,b){b.error?this.reject(f(new Error,b.error)):this.resolve(b)}var f=a("xtend/mutable"),g=a("dot-prop"),h=["card.createToken","bankAccount.createToken","bitcoinReceiver.createReceiver","bitcoinReceiver.pollReceiver","bitcoinReceiver.getReceiver"],i=["setPublishableKey","card.validateCardNumber","card.validateExpiry","card.validateCVC","card.cardType","bankAccount.validateRoutingNumber","bankAccount.validateAccountNumber","bitcoinReceiver.cancelReceiverPoll"];b.exports=function(a,b){if("function"!=typeof a)throw new Error("Stripe.js must be provided");if("function"!=typeof b)throw new Error("Promise constructor must be provided");var c={};return h.forEach(function(f){var h=f.split("."),i=h[0],j=h[1];g.set(c,f,d(b,j,a[i],e))}),i.forEach(function(b){g.set(c,b,g.get(a,b))}),c}},{"dot-prop":3,"xtend/mutable":4}],3:[function(a,b,c){"use strict";function d(a){return("object"==typeof a||"function"==typeof a)&&null!==a}b.exports.get=function(a,b){if(!d(a)||"string"!=typeof b)return a;var c=b.split(".");return c.some(function(b,c){return a=a[b],void 0===a?!0:void 0}),a},b.exports.set=function(a,b,c){if(d(a)&&"string"==typeof b){var e=b.split(".");e.forEach(function(b,f){d(a[b])||(a[b]={}),f===e.length-1&&(a[b]=c),a=a[b]})}}},{}],4:[function(a,b,c){function d(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}return a}b.exports=d},{}],5:[function(a,b,c){"use strict";function d(a){if(!a)throw new Error("Stripe must be available as window.Stripe");this.setPublishableKey=a.setPublishableKey,this.$get=e}var e=a("./service");b.exports=d,d.$inject=["Stripe"]},{"./service":6}],6:[function(a,b,c){"use strict";function d(a,b){return e(a,b)}var e=a("stripe-as-promised");b.exports=d,d.$inject=["Stripe","$q"]},{"stripe-as-promised":2}],7:[function(a,b,c){"use strict";function d(a){a("angular-stripe: For Angular <= 1.2 support, first load https://github.com/bendrucker/angular-q-constructor")}var e=window.angular,f=a("./provider"),g=window.Stripe;b.exports=e.module("angular-stripe",[a("angular-assert-q-constructor")]).constant("Stripe",g).provider("stripe",f).run(d).name,d.$inject=["assertQConstructor"]},{"./provider":5,"angular-assert-q-constructor":1}]},{},[7])(7)}),function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){function a(a){"use strict";var b=a.storageKey(),c=a.storage(),d=function(){var d=a.preferredLanguage();angular.isString(d)?a.use(d):c.put(b,a.use())};d.displayName="fallbackFromIncorrectStorageValue",c?c.get(b)?a.use(c.get(b))["catch"](d):d():angular.isString(a.preferredLanguage())&&a.use(a.preferredLanguage())}function b(){"use strict";var a,b,c=null,d=!1,e=!1;b={sanitize:function(a,b){return"text"===b&&(a=g(a)),a},escape:function(a,b){return"text"===b&&(a=f(a)),a},sanitizeParameters:function(a,b){return"params"===b&&(a=h(a,g)),a},escapeParameters:function(a,b){return"params"===b&&(a=h(a,f)),a}},b.escaped=b.escapeParameters,this.addStrategy=function(a,c){return b[a]=c,this},this.removeStrategy=function(a){return delete b[a],this},this.useStrategy=function(a){return d=!0,c=a,this},this.$get=["$injector","$log",function(f,g){var h=function(a,c,d){return angular.forEach(d,function(d){if(angular.isFunction(d))a=d(a,c);else{if(!angular.isFunction(b[d]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+d+"'");a=b[d](a,c)}}),a},i=function(){d||e||(g.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),e=!0)};return f.has("$sanitize")&&(a=f.get("$sanitize")),{useStrategy:function(a){return function(b){a.useStrategy(b)}}(this),sanitize:function(a,b,d){if(c||i(),arguments.length<3&&(d=c),!d)return a;var e=angular.isArray(d)?d:[d];return h(a,b,e)}}}];var f=function(a){var b=angular.element("<div></div>");return b.text(a),b.html()},g=function(b){if(!a)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return a(b)},h=function(a,b){if(angular.isObject(a)){var c=angular.isArray(a)?[]:{};return angular.forEach(a,function(a,d){c[d]=h(a,b)}),c}return angular.isNumber(a)?a:b(a)}}function c(a,b,c,d){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t={},u=[],v=a,w=[],x="translate-cloak",y=!1,z=!1,A=".",B=0,C=!0,D="default",E={"default":function(a){return(a||"").split("-").join("_")},java:function(a){var b=(a||"").split("-").join("_"),c=b.split("_");return c.length>1?c[0].toLowerCase()+"_"+c[1].toUpperCase():b},bcp47:function(a){var b=(a||"").split("_").join("-"),c=b.split("-");return c.length>1?c[0].toLowerCase()+"-"+c[1].toUpperCase():b}},F="2.7.2",G=function(){if(angular.isFunction(d.getLocale))return d.getLocale();var a,c,e=b.$get().navigator,f=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(e.languages))for(a=0;a<e.languages.length;a++)if(c=e.languages[a],c&&c.length)return c;for(a=0;a<f.length;a++)if(c=e[f[a]],c&&c.length)return c;return null};G.displayName="angular-translate/service: getFirstBrowserLanguage";var H=function(){var a=G()||"";return E[D]&&(a=E[D](a)),a};H.displayName="angular-translate/service: getLocale";var I=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},J=function(){return this.toString().replace(/^\s+|\s+$/g,"")},K=function(a){for(var b=[],c=angular.lowercase(a),d=0,e=u.length;e>d;d++)b.push(angular.lowercase(u[d]));if(I(b,c)>-1)return a;if(f){var g;for(var h in f){var i=!1,j=Object.prototype.hasOwnProperty.call(f,h)&&angular.lowercase(h)===angular.lowercase(a);if("*"===h.slice(-1)&&(i=h.slice(0,-1)===a.slice(0,h.length-1)),(j||i)&&(g=f[h],I(b,angular.lowercase(g))>-1))return g}}if(a){var k=a.split("_");if(k.length>1&&I(b,angular.lowercase(k[0]))>-1)return k[0]}return a},L=function(a,b){if(!a&&!b)return t;if(a&&!b){if(angular.isString(a))return t[a]}else angular.isObject(t[a])||(t[a]={}),angular.extend(t[a],M(b));return this};this.translations=L,this.cloakClassName=function(a){return a?(x=a,this):x};var M=function(a,b,c,d){var e,f,g,h;b||(b=[]),c||(c={});for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(h=a[e],angular.isObject(h)?M(h,b.concat(e),c,e):(f=b.length?""+b.join(A)+A+e:e,b.length&&e===d&&(g=""+b.join(A),c[g]="@:"+f),c[f]=h));return c};M.displayName="flatObject",this.addInterpolation=function(a){return w.push(a),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(a){return n=a,this},this.useSanitizeValueStrategy=function(a){return c.useStrategy(a),this},this.preferredLanguage=function(a){return N(a),this};var N=function(a){return a&&(e=a),e};this.translationNotFoundIndicator=function(a){return this.translationNotFoundIndicatorLeft(a),this.translationNotFoundIndicatorRight(a),this},this.translationNotFoundIndicatorLeft=function(a){return a?(q=a,this):q},this.translationNotFoundIndicatorRight=function(a){return a?(r=a,this):r},this.fallbackLanguage=function(a){return O(a),this};var O=function(a){return a?(angular.isString(a)?(h=!0,g=[a]):angular.isArray(a)&&(h=!1,g=a),angular.isString(e)&&I(g,e)<0&&g.push(e),this):h?g[0]:g};this.use=function(a){if(a){if(!t[a]&&!o)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+a+"'");return i=a,this}return i};var P=function(a){return a?(v=a,this):l?l+v:v};this.storageKey=P,this.useUrlLoader=function(a,b){return this.useLoader("$translateUrlLoader",angular.extend({url:a},b))},this.useStaticFilesLoader=function(a){return this.useLoader("$translateStaticFilesLoader",a)},this.useLoader=function(a,b){return o=a,p=b||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(a){return k=a,this},this.storagePrefix=function(a){return a?(l=a,this):a},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(a){return m=a,this},this.usePostCompiling=function(a){return y=!!a,this},this.forceAsyncReload=function(a){return z=!!a,this},this.uniformLanguageTag=function(a){return a?angular.isString(a)&&(a={standard:a}):a={},D=a.standard,this},this.determinePreferredLanguage=function(a){var b=a&&angular.isFunction(a)?a():H();return e=u.length?K(b):b,this},this.registerAvailableLanguageKeys=function(a,b){return a?(u=a,b&&(f=b),this):u},this.useLoaderCache=function(a){return a===!1?s=void 0:a===!0?s=!0:"undefined"==typeof a?s="$translationCache":a&&(s=a),this},this.directivePriority=function(a){return void 0===a?B:(B=a,this)},this.statefulFilter=function(a){return void 0===a?C:(C=a,this)},this.$get=["$log","$injector","$rootScope","$q",function(a,b,c,d){var f,l,u,A=b.get(n||"$translateDefaultInterpolation"),D=!1,E={},G={},H=function(a,b,c,h){if(angular.isArray(a)){var j=function(a){for(var e={},f=[],g=function(a){var f=d.defer(),g=function(b){e[a]=b,f.resolve([a,b])};return H(a,b,c,h).then(g,g),f.promise},i=0,j=a.length;j>i;i++)f.push(g(a[i]));return d.all(f).then(function(){return e})};return j(a)}var m=d.defer();a&&(a=J.apply(a));var n=function(){var a=e?G[e]:G[i];if(l=0,k&&!a){var b=f.get(v);if(a=G[b],g&&g.length){var c=I(g,b);l=0===c?1:0,I(g,e)<0&&g.push(e)}}return a}();if(n){var o=function(){aa(a,b,c,h).then(m.resolve,m.reject)};o.displayName="promiseResolved",n["finally"](o,m.reject)}else aa(a,b,c,h).then(m.resolve,m.reject);return m.promise},Q=function(a){return q&&(a=[q,a].join(" ")),r&&(a=[a,r].join(" ")),a},R=function(a){i=a,c.$emit("$translateChangeSuccess",{language:a}),k&&f.put(H.storageKey(),i),A.setLocale(i);var b=function(a,b){E[b].setLocale(i)};b.displayName="eachInterpolatorLocaleSetter",angular.forEach(E,b),c.$emit("$translateChangeEnd",{language:a})},S=function(a){if(!a)throw"No language key specified for loading.";var e=d.defer();c.$emit("$translateLoadingStart",{language:a}),D=!0;var f=s;"string"==typeof f&&(f=b.get(f));var g=angular.extend({},p,{key:a,$http:angular.extend({},{cache:f},p.$http)}),h=function(b){var d={};c.$emit("$translateLoadingSuccess",{language:a}),angular.isArray(b)?angular.forEach(b,function(a){angular.extend(d,M(a))}):angular.extend(d,M(b)),D=!1,e.resolve({key:a,table:d}),c.$emit("$translateLoadingEnd",{language:a})};h.displayName="onLoaderSuccess";var i=function(a){c.$emit("$translateLoadingError",{language:a}),e.reject(a),c.$emit("$translateLoadingEnd",{language:a})};return i.displayName="onLoaderError",b.get(o)(g).then(h,i),e.promise};if(k&&(f=b.get(k),!f.get||!f.put))throw new Error("Couldn't use storage '"+k+"', missing get() or put() method!");if(w.length){var T=function(a){var c=b.get(a);c.setLocale(e||i),E[c.getInterpolationIdentifier()]=c};T.displayName="interpolationFactoryAdder",angular.forEach(w,T)}var U=function(a){var b=d.defer();if(Object.prototype.hasOwnProperty.call(t,a))b.resolve(t[a]);else if(G[a]){var c=function(a){L(a.key,a.table),b.resolve(a.table)};c.displayName="translationTableResolver",G[a].then(c,b.reject)}else b.reject();return b.promise},V=function(a,b,c,e){var f=d.defer(),g=function(d){if(Object.prototype.hasOwnProperty.call(d,b)){e.setLocale(a);var g=d[b];"@:"===g.substr(0,2)?V(a,g.substr(2),c,e).then(f.resolve,f.reject):f.resolve(e.interpolate(d[b],c)),e.setLocale(i)}else f.reject()};return g.displayName="fallbackTranslationResolver",U(a).then(g,f.reject),f.promise},W=function(a,b,c,d){var e,f=t[a];if(f&&Object.prototype.hasOwnProperty.call(f,b)){if(d.setLocale(a),e=d.interpolate(f[b],c),"@:"===e.substr(0,2))return W(a,e.substr(2),c,d);d.setLocale(i)}return e},X=function(a,c){if(m){var d=b.get(m)(a,i,c);return void 0!==d?d:a}return a},Y=function(a,b,c,e,f){var h=d.defer();if(a<g.length){var i=g[a];V(i,b,c,e).then(h.resolve,function(){Y(a+1,b,c,e,f).then(h.resolve)})}else f?h.resolve(f):h.resolve(X(b,c));return h.promise},Z=function(a,b,c,d){var e;if(a<g.length){var f=g[a];e=W(f,b,c,d),e||(e=Z(a+1,b,c,d))}return e},$=function(a,b,c,d){return Y(u>0?u:l,a,b,c,d)},_=function(a,b,c){return Z(u>0?u:l,a,b,c)},aa=function(a,b,c,e){var f=d.defer(),h=i?t[i]:t,j=c?E[c]:A;if(h&&Object.prototype.hasOwnProperty.call(h,a)){var k=h[a];"@:"===k.substr(0,2)?H(k.substr(2),b,c,e).then(f.resolve,f.reject):f.resolve(j.interpolate(k,b))}else{var l;m&&!D&&(l=X(a,b)),i&&g&&g.length?$(a,b,j,e).then(function(a){f.resolve(a)},function(a){f.reject(Q(a))}):m&&!D&&l?e?f.resolve(e):f.resolve(l):e?f.resolve(e):f.reject(Q(a))}return f.promise},ba=function(a,b,c){var d,e=i?t[i]:t,f=A;if(E&&Object.prototype.hasOwnProperty.call(E,c)&&(f=E[c]),e&&Object.prototype.hasOwnProperty.call(e,a)){var h=e[a];d="@:"===h.substr(0,2)?ba(h.substr(2),b,c):f.interpolate(h,b)}else{var j;m&&!D&&(j=X(a,b)),i&&g&&g.length?(l=0,d=_(a,b,f)):d=m&&!D&&j?j:Q(a)}return d},ca=function(a){j===a&&(j=void 0),G[a]=void 0};if(H.preferredLanguage=function(a){return a&&N(a),e},H.cloakClassName=function(){return x},H.fallbackLanguage=function(a){if(void 0!==a&&null!==a){if(O(a),o&&g&&g.length)for(var b=0,c=g.length;c>b;b++)G[g[b]]||(G[g[b]]=S(g[b]));H.use(H.use())}return h?g[0]:g},H.useFallbackLanguage=function(a){if(void 0!==a&&null!==a)if(a){var b=I(g,a);b>-1&&(u=b)}else u=0},H.proposedLanguage=function(){return j},H.storage=function(){return f},H.use=function(a){if(!a)return i;var b=d.defer();c.$emit("$translateChangeStart",{language:a});var e=K(a);return e&&(a=e),!z&&t[a]||!o||G[a]?j===a&&G[a]?G[a].then(function(a){return b.resolve(a.key),a},function(a){return b.reject(a),d.reject(a)}):(b.resolve(a),R(a)):(j=a,G[a]=S(a).then(function(a){return L(a.key,a.table),b.resolve(a.key),R(a.key),a},function(a){return c.$emit("$translateChangeError",{language:a}),b.reject(a),c.$emit("$translateChangeEnd",{language:a}),d.reject(a)}),G[a]["finally"](function(){ca(a)})),b.promise},H.storageKey=function(){return P()},H.isPostCompilingEnabled=function(){return y},H.isForceAsyncReloadEnabled=function(){return z},H.refresh=function(a){function b(){f.resolve(),c.$emit("$translateRefreshEnd",{language:a})}function e(){f.reject(),c.$emit("$translateRefreshEnd",{language:a})}if(!o)throw new Error("Couldn't refresh translation table, no loader registered!");var f=d.defer();if(c.$emit("$translateRefreshStart",{language:a}),a)if(t[a]){var h=function(c){L(c.key,c.table),a===i&&R(i),b()};h.displayName="refreshPostProcessor",S(a).then(h,e)}else e();else{var j=[],k={};if(g&&g.length)for(var l=0,m=g.length;m>l;l++)j.push(S(g[l])),k[g[l]]=!0;i&&!k[i]&&j.push(S(i));var n=function(a){t={},angular.forEach(a,function(a){L(a.key,a.table)}),i&&R(i),b()};n.displayName="refreshPostProcessor",d.all(j).then(n,e)}return f.promise},H.instant=function(a,b,c){if(null===a||angular.isUndefined(a))return a;if(angular.isArray(a)){for(var d={},f=0,h=a.length;h>f;f++)d[a[f]]=H.instant(a[f],b,c);return d}if(angular.isString(a)&&a.length<1)return a;a&&(a=J.apply(a));var j,k=[];e&&k.push(e),i&&k.push(i),g&&g.length&&(k=k.concat(g));for(var l=0,n=k.length;n>l;l++){var o=k[l];if(t[o]&&("undefined"!=typeof t[o][a]?j=ba(a,b,c):(q||r)&&(j=Q(a))),"undefined"!=typeof j)break}return j||""===j||(j=A.interpolate(a,b),m&&!D&&(j=X(a,b))),j},H.versionInfo=function(){return F},H.loaderCache=function(){return s},H.directivePriority=function(){return B},H.statefulFilter=function(){return C},o&&(angular.equals(t,{})&&H.use(H.use()),g&&g.length))for(var da=function(a){return L(a.key,a.table),c.$emit("$translateChangeEnd",{language:a.key}),a},ea=0,fa=g.length;fa>ea;ea++){var ga=g[ea];(z||!t[ga])&&(G[ga]=S(ga).then(da))}return H}]}function d(a,b){"use strict";var c,d={},e="default";return d.setLocale=function(a){c=a},d.getInterpolationIdentifier=function(){return e},d.useSanitizeValueStrategy=function(a){return b.useStrategy(a),this},d.interpolate=function(c,d){d=d||{},d=b.sanitize(d,"params");var e=a(c)(d);return e=b.sanitize(e,"text")},d}function e(a,b,c,d,e,f){"use strict";var g=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:a.directivePriority(),compile:function(b,h){var i=h.translateValues?h.translateValues:void 0,j=h.translateInterpolation?h.translateInterpolation:void 0,k=b[0].outerHTML.match(/translate-value-+/i),l="^(.*)("+c.startSymbol()+".*"+c.endSymbol()+")(.*)",m="^(.*)"+c.startSymbol()+"(.*)"+c.endSymbol()+"(.*)";return function(b,n,o){b.interpolateParams={},b.preText="",b.postText="";var p={},q=function(a,c,d){if(c.translateValues&&angular.extend(a,e(c.translateValues)(b.$parent)),k)for(var f in d)if(Object.prototype.hasOwnProperty.call(c,f)&&"translateValue"===f.substr(0,14)&&"translateValues"!==f){var g=angular.lowercase(f.substr(14,1))+f.substr(15);a[g]=d[f]}},r=function(a){if(angular.isFunction(r._unwatchOld)&&(r._unwatchOld(),r._unwatchOld=void 0),angular.equals(a,"")||!angular.isDefined(a)){var d=g.apply(n.text()).match(l);if(angular.isArray(d)){b.preText=d[1],b.postText=d[3],p.translate=c(d[2])(b.$parent);var e=n.text().match(m);angular.isArray(e)&&e[2]&&e[2].length&&(r._unwatchOld=b.$watch(e[2],function(a){p.translate=a,x()}))}else p.translate=n.text().replace(/^\s+|\s+$/g,"")}else p.translate=a;x()},s=function(a){o.$observe(a,function(b){p[a]=b,x()})};q(b.interpolateParams,o,h);var t=!0;o.$observe("translate",function(a){"undefined"==typeof a?r(""):""===a&&t||(p.translate=a,x()),t=!1});for(var u in o)o.hasOwnProperty(u)&&"translateAttr"===u.substr(0,13)&&s(u);if(o.$observe("translateDefault",function(a){b.defaultText=a}),i&&o.$observe("translateValues",function(a){a&&b.$parent.$watch(function(){angular.extend(b.interpolateParams,e(a)(b.$parent))})}),k){var v=function(a){o.$observe(a,function(c){var d=angular.lowercase(a.substr(14,1))+a.substr(15);b.interpolateParams[d]=c})};for(var w in o)Object.prototype.hasOwnProperty.call(o,w)&&"translateValue"===w.substr(0,14)&&"translateValues"!==w&&v(w)}var x=function(){for(var a in p)p.hasOwnProperty(a)&&void 0!==p[a]&&y(a,p[a],b,b.interpolateParams,b.defaultText)},y=function(b,c,d,e,f){c?a(c,e,j,f).then(function(a){z(a,d,!0,b)},function(a){z(a,d,!1,b)}):z(c,d,!1,b)},z=function(b,c,e,f){if("translate"===f){e||"undefined"==typeof c.defaultText||(b=c.defaultText),n.html(c.preText+b+c.postText);var g=a.isPostCompilingEnabled(),i="undefined"!=typeof h.translateCompile,j=i&&"false"!==h.translateCompile;(g&&!i||j)&&d(n.contents())(c)}else{e||"undefined"==typeof c.defaultText||(b=c.defaultText);var k=o.$attr[f];"data-"===k.substr(0,5)&&(k=k.substr(5)),k=k.substr(15),n.attr(k,b)}};(i||k||o.translateDefault)&&b.$watch("interpolateParams",x,!0);var A=f.$on("$translateChangeSuccess",x);n.text().length?r(o.translate?o.translate:""):o.translate&&r(o.translate),x(),b.$on("$destroy",A)}}}}function f(a,b){"use strict";return{compile:function(c){var d=function(){c.addClass(b.cloakClassName())},e=function(){c.removeClass(b.cloakClassName())},f=a.$on("$translateChangeEnd",function(){e(),f(),f=null});return d(),function(a,c,f){f.translateCloak&&f.translateCloak.length&&f.$observe("translateCloak",function(a){b(a).then(e,d)})}}}}function g(a,b){"use strict";var c=function(c,d,e){return angular.isObject(d)||(d=a(d)(this)),b.instant(c,d,e)};return b.statefulFilter()&&(c.$stateful=!0),c}function h(a){"use strict";return a("translations")}return angular.module("pascalprecht.translate",["ng"]).run(a),a.$inject=["$translate"],a.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",b),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",c),c.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],c.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",d),d.$inject=["$interpolate","$translateSanitization"],d.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",e),e.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],e.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",f),f.$inject=["$rootScope","$translate"],f.displayName="translateCloakDirective",angular.module("pascalprecht.translate").filter("translate",g),g.$inject=["$parse","$translate"],g.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",h),h.$inject=["$cacheFactory"],h.displayName="$translationCache","pascalprecht.translate"}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return N(new(N(function(){},{prototype:a})),b)}function e(a){return M(arguments,function(b){b!==a&&M(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return M(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return N({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return M(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return M(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function n(a,b){var c=L(a),d=c?[]:{};return M(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=L(a)?[]:{};return M(a,function(a,d){c[d]=b(a,d)}),c}function p(a,b){var d=1,f=2,i={},j=[],k=i,l=N(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,J(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);M(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return K(a)&&a.then&&a.$$promises}if(!K(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return M(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!H(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;M(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!K(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=l;var n=a.defer(),r=n.promise,s=r.$$promises={},t=N({},d),u=1+q.length/3,v=!1;if(H(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,m(f.$$inheritedValues,p)),N(s,f.$$promises),f.$$values?(v=e(t,m(f.$$values,p)),r.$$inheritedValues=m(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=m(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function q(a,b,c){this.fromConfig=function(a,b,c){return H(a.template)?this.fromString(a.template,b):H(a.templateUrl)?this.fromUrl(a.templateUrl,b):H(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return I(a)?a(b):a},this.fromUrl=function(c,d){return I(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function r(a,b,e){function f(b,c,d,e){if(q.push(b),
o[b])return o[b];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new P.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:e=["?(",")?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),j=P.type(h||"string")||d(P.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)}),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=N({params:{}},K(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new P.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function s(a){N(this,a)}function t(){function a(a){return null!=a?a.toString().replace(/\//g,"%2F"):a}function e(a){return null!=a?a.toString().replace(/%2F/g,"/"):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return I(a)||L(a)&&I(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(u[a.name],l.invoke(a.def))}}function k(a){N(this,a||{})}P=this;var l,m=!1,p=!0,q=!1,u={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!H(a)||"string"==typeof a},pattern:/[^/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return H(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};t.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return H(a)&&(m=a),m},this.strictMode=function(a){return H(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!H(a))return q;if(a!==!0&&a!==!1&&!J(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return q=a,a},this.compile=function(a,b){return new r(a,N(f(),b))},this.isMatcher=function(a){if(!K(a))return!1;var b=!0;return M(r.prototype,function(c,d){I(c)&&(b=b&&H(a[d])&&I(a[d]))}),b},this.type=function(a,b,c){if(!H(b))return u[a];if(u.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return u[a]=new s(N({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},M(x,function(a,b){u[b]=new s(N({name:b},a))}),u=d(u,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),M(x,function(a,b){u[b]||(u[b]=new s(a))}),this}],this.Param=function(a,b,d,e){function f(a){var b=K(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}function j(b,c,d){if(b.type&&c)throw new Error("Param '"+a+"' has two type configurations.");return c?c:b.type?b.type instanceof s?b.type:new s(b.type):"config"===d?u.any:u.string}function k(){var b={array:"search"===e?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return N(b,c,d).array}function m(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!H(c)||null==c)return q;if(c===!0||J(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function p(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=L(a.replace)?a.replace:[],J(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return-1===h(g,a.from)}).concat(f)}function r(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(d.$$fn);if(null!==a&&a!==c&&!w.type.is(a))throw new Error("Default value ("+a+") for parameter '"+w.id+"' is not an instance of Type ("+w.type.name+")");return a}function t(a){function b(a){return function(b){return b.from===a}}function c(a){var c=o(n(w.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),H(a)?w.type.$normalize(a):r()}function v(){return"{Param:"+a+" "+b+" squash: '"+z+"' optional: "+y+"}"}var w=this;d=f(d),b=j(d,b,e);var x=k();b=x?b.$asArray(x,"search"===e):b,"string"!==b.name||x||"path"!==e||d.value!==c||(d.value="");var y=d.value!==c,z=m(d,y),A=p(d,x,y,z);N(this,{id:a,type:b,location:e,array:x,squash:z,replace:A,isOptional:y,value:t,dynamic:c,config:d,toString:v})},k.prototype={$$new:function(){return d(this,N(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),M(b,function(b){M(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return M(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return M(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],f=a[i[d]],f!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function u(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return H(d)?d:!0}function h(d,e,f,g){function h(a,b,c){return"/"===p?a:b?p.slice(0,-1)+a:c?p.slice(1)+a:a}function m(a){function b(a){var b=a(f,d);return b?(J(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){o&&d.url()===o;o=c;var e,g=j.length;for(e=0;g>e;e++)if(b(j[e]))return;k&&b(k)}}function n(){return i=i||e.$on("$locationChangeSuccess",m)}var o,p=g.baseHref(),q=d.url();return l||n(),{sync:function(){m()},listen:function(){return n()},update:function(a){return a?void(q=d.url()):void(d.url()!==q&&(d.url(q),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),o=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled);var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=h(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!I(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(J(a)){var b=a;a=function(){return b}}else if(!I(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=J(b);if(J(a)&&(a=d.compile(a)),!h&&!I(b)&&!L(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),N(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:J(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),N(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser"]}function v(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function m(a,b){if(!a)return c;var d=J(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=m(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=z[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function n(a,b){A[a]||(A[a]=[]),A[a].push(b)}function p(a){for(var b=A[a]||[];b.length;)q(b.shift())}function q(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!J(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(z.hasOwnProperty(c))throw new Error("State '"+c+"'' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):J(b.parent)?b.parent:K(b.parent)&&J(b.parent.name)?b.parent.name:"";if(e&&!z[e])return n(e,b.self);for(var f in C)I(C[f])&&(b[f]=C[f](b,C.$delegates[f]));return z[c]=b,!b[B]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){y.$current.navigable==b&&j(a,c)||y.transitionTo(b,a,{inherit:!0,location:!1})}]),p(c),b}function r(a){return a.indexOf("*")>-1}function s(a){for(var b=a.split("."),c=y.$current.name.split("."),d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length?!1:c.join("")===b.join("")}function t(a,b){return J(a)&&!H(b)?C[a]:I(b)&&J(a)?(C[a]&&!C.$delegates[a]&&(C.$delegates[a]=C[a]),C[a]=b,this):this}function u(a,b){return K(a)?b=a:b.name=a,q(b),this}function v(a,e,f,h,l,n,p,q,t){function u(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),D;if(!g.retry)return null;if(f.$retry)return p.update(),E;var h=y.transition=e.when(g.retry);return h.then(function(){return h!==y.transition?A:(b.options.$retry=!0,y.transitionTo(b.to,b.toParams,b.options))},function(){return D}),p.update(),h}function v(a,c,d,g,i,j){function m(){var c=[];return M(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:j.notify})||""}],c.push(l.resolve(g,i.globals,i.resolve,a).then(function(c){if(I(d.controllerProvider)||L(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=l.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var A=e.reject(new Error("transition superseded")),C=e.reject(new Error("transition prevented")),D=e.reject(new Error("transition aborted")),E=e.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},y={params:{},current:x.self,$current:x,transition:null},y.reload=function(a){return y.transitionTo(y.current,n,{reload:a||!0,inherit:!1,notify:!0})},y.go=function(a,b,c){return y.transitionTo(a,b,N({inherit:!0,relative:y.$current},c))},y.transitionTo=function(b,c,f){c=c||{},f=N({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=y.$current,l=y.params,o=j.path,q=m(b,f.relative),r=c["#"];if(!H(q)){var s={to:b,toParams:c,options:f},t=u(s,j.self,l,f);if(t)return t;if(b=s.to,c=s.toParams,f=s.options,q=m(b,f.relative),!H(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[B])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(n,c||{},y.$current,q)),!q.params.$$validates(c))return E;c=q.params.$$values(c),b=q;var z=b.path,D=0,F=z[D],G=x.locals,I=[];if(f.reload){if(J(f.reload)||K(f.reload)){if(K(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var L=f.reload===!0?o[0]:m(f.reload);if(f.reload&&!L)throw new Error("No such reload state '"+(J(f.reload)?f.reload:f.reload.name)+"'");for(;F&&F===o[D]&&F!==L;)G=I[D]=F.locals,D++,F=z[D]}}else for(;F&&F===o[D]&&F.ownParams.$$equals(c,l);)G=I[D]=F.locals,D++,F=z[D];if(w(b,c,j,l,G,f))return r&&(c["#"]=r),y.params=c,O(y.params,n),f.location&&b.navigable&&b.navigable.url&&(p.push(b.navigable.url,c,{$$avoidResync:!0,replace:"replace"===f.location}),p.update(!0)),y.transition=null,e.when(y.current);if(c=k(b.params.$$keys(),c||{}),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,l).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),p.update(),C;for(var M=e.when(G),P=D;P<z.length;P++,F=z[P])G=I[P]=d(G),M=v(F,c,F===b,M,G,f);var Q=y.transition=M.then(function(){var d,e,g;if(y.transition!==Q)return A;for(d=o.length-1;d>=D;d--)g=o[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<z.length;d++)e=z[d],e.locals=I[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return r&&(c["#"]=r),y.transition!==Q?A:(y.$current=b,y.current=b.self,y.params=c,O(y.params,n),y.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,l),p.update(!0),y.current)},function(d){return y.transition!==Q?A:(y.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,l,d),g.defaultPrevented||p.update(),e.reject(d))});return Q},y.is=function(a,b,d){d=N({relative:y.$current},d||{});var e=m(a,d.relative);return H(e)?y.$current!==e?!1:b?j(e.params.$$values(b),n):!0:c},y.includes=function(a,b,d){if(d=N({relative:y.$current},d||{}),J(a)&&r(a)){if(!s(a))return!1;a=y.$current.name}var e=m(a,d.relative);return H(e)?H(y.$current.includes[e.name])?b?j(e.params.$$values(b),n,g(b)):!0:!1:c},y.href=function(a,b,d){d=N({lossy:!0,inherit:!0,absolute:!1,relative:y.$current},d||{});var e=m(a,d.relative);if(!H(e))return null;d.inherit&&(b=i(n,b||{},y.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},y.get=function(a,b){if(0===arguments.length)return o(g(z),function(a){return z[a].self});var c=m(a,b||y.$current);return c&&c.self?c.self:null},y}function w(a,b,c,d,e,f){function g(a,b,c){function d(b){return"search"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e)),g=new P.ParamSet(f);return g.$$equals(b,c)}return!f.reload&&a===c&&(e===c.locals||a.self.reloadOnSearch===!1&&g(c,d,b))?!0:void 0}var x,y,z={},A={},B="abstract",C={parent:function(a){if(H(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?m(b[1]):x},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=N({},a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(J(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||x).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new P.ParamSet;return M(a.params||{},function(a,c){b[c]||(b[c]=new P.Param(c,null,a,"config"))}),b},params:function(a){return a.parent&&a.parent.params?N(a.parent.params.$$new(),a.ownParams):new P.ParamSet},views:function(a){var b={};return M(H(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?N({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};x=q({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=t,this.state=u,this.$get=v,v.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function a(a,b){return{load:function(c,d){var e,f={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return d=N(f,d),d.view&&(e=b.fromConfig(d.view,d.params,d.locals)),e&&d.notify&&a.$broadcast("$viewContentLoading",d),e}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function x(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function y(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,b){var c=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(j)return{enter:function(a,b,c){var d=j.enter(a,null,b,c);d&&d.then&&d.then(c)},leave:function(a,b){var c=j.leave(a,b);c&&c.then&&c.then(b)}};if(i){var d=i&&i(b,a);return{enter:function(a,b,c){d.enter(a,null,b),c()},leave:function(a,b){d.leave(a),b()}}}return c()}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){l&&(l.remove(),l=null),n&&(n.$destroy(),n=null),m&&(r.leave(m,function(){l=null}),l=m,m=null)}function k(g){var k,l=A(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if(g||s!==o){k=c.$new(),o=a.$current.locals[l];var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded"),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),c.$on("$viewContentLoading",function(){k(!1)}),k(!0)}}};return k}function z(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=A(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e,k.$element=g;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function A(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function B(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function C(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function D(a,c){var d=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,f,g,h){var i=B(g.uiSref,a.current.name),j=null,k=C(f)||a.$current,l="[object SVGAnimatedString]"===Object.prototype.toString.call(f.prop("href"))?"xlink:href":"href",m=null,n="A"===f.prop("tagName").toUpperCase(),o="FORM"===f[0].nodeName,p=o?"action":l,q=!0,r={relative:k,inherit:!0},s=e.$eval(g.uiSrefOpts)||{};b.forEach(d,function(a){a in s&&(r[a]=s[a])});var t=function(c){if(c&&(j=b.copy(c)),q){m=a.href(i.state,j,r);var d=h[1]||h[0];return d&&d.$$addStateInfo(i.state,j),null===m?(q=!1,!1):void g.$set(p,m)}};i.paramExpr&&(e.$watch(i.paramExpr,function(a,b){a!==j&&t(a)},!0),j=b.copy(e.$eval(i.paramExpr))),t(),o||f.bind("click",function(b){var d=b.which||b.button;if(!(d>1||b.ctrlKey||b.metaKey||b.shiftKey||f.attr("target"))){var e=c(function(){a.go(i.state,j,r)});b.preventDefault();var g=n&&!m?1:0;b.preventDefault=function(){g--<=0&&c.cancel(e)}}})}}}function E(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs",function(b,d,e){function f(){g()?d.addClass(i):d.removeClass(i)}function g(){for(var a=0;a<j.length;a++)if(h(j[a].state,j[a].params))return!0;return!1}function h(b,c){return"undefined"!=typeof e.uiSrefActiveEq?a.is(b.name,c):a.includes(b.name,c)}var i,j=[];i=c(e.uiSrefActiveEq||e.uiSrefActive||"",!1)(b),this.$$addStateInfo=function(b,c){var e=a.get(b,C(d));j.push({state:e||{name:b},params:c}),f()},b.$on("$stateChangeSuccess",f)}]}}function F(a){var b=function(b){return a.is(b)};return b.$stateful=!0,b}function G(a){var b=function(b){return a.includes(b)};return b.$stateful=!0,b}var H=b.isDefined,I=b.isFunction,J=b.isString,K=b.isObject,L=b.isArray,M=b.forEach,N=b.extend,O=b.copy;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",p),q.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",q);var P;r.prototype.concat=function(a,b){var c={caseInsensitive:P.caseInsensitive(),strict:P.strictMode(),squash:P.defaultSquashPolicy()};return new r(this.sourcePath+a+this.sourceSearch,N(c,b),this)},r.prototype.toString=function(){return this.source},r.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/),e=o(d,b);return o(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(e=0;j>e;e++){g=h[e];var l=this.params[g],m=d[e+1];for(f=0;f<l.replace;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),k[g]=l.value(m)}for(;i>e;e++)g=h[e],k[g]=this.params[g].value(b[g]);return k},r.prototype.parameters=function(a){return H(a)?this.params[a]||null:this.$$paramNames},r.prototype.validates=function(a){return this.params.$$validates(a)},r.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=p?m.squash:!1,r=m.type.encode(n);if(k){var s=c[f+1];if(q===!1)null!=r&&(j+=L(r)?o(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var t=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(t)[1]}else J(q)&&(j+=q+s)}else{if(null==r||p&&q!==!1)continue;L(r)||(r=[r]),r=o(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},s.prototype.is=function(a,b){return!0},s.prototype.encode=function(a,b){return a},s.prototype.decode=function(a,b){return a},s.prototype.equals=function(a,b){return a==b},s.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},s.prototype.pattern=/.*/,s.prototype.toString=function(){return"{Type:"+this.name+"}"},s.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},s.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return L(a)?a:H(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){c=e(c);var d=o(c,a);return b===!0?0===n(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",t),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),u.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",u),v.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").value("$stateParams",{}).provider("$state",v),w.$inject=[],b.module("ui.router.state").provider("$view",w),b.module("ui.router.state").provider("$uiViewScroll",x),y.$inject=["$state","$injector","$uiViewScroll","$interpolate"],z.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",y),b.module("ui.router.state").directive("uiView",z),D.$inject=["$state","$timeout"],E.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",D).directive("uiSrefActive",E).directive("uiSrefActiveEq",E),F.$inject=["$state"],G.$inject=["$state"],b.module("ui.router.state").filter("isState",F).filter("includedByState",G)}(window,window.angular),angular.module("xeditable",[]).value("editableOptions",{theme:"default",icon_set:"default",buttons:"right",blurElem:"cancel",blurForm:"ignore",activate:"focus",isDisabled:!1,activationEvent:"click"}),angular.module("xeditable").directive("editableBsdate",["editableDirectiveFactory",function(a){return a({directiveName:"editableBsdate",inputTpl:"<div></div>",render:function(){this.parent.render.call(this);var a=angular.element('<input type="text" class="form-control" ng-model="$data"/>'),b=angular.element('<button type="button" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button>'),c=angular.element('<span class="input-group-btn"></span>');a.attr("datepicker-popup",this.attrs.eDatepickerPopupXEditable||"yyyy/MM/dd"),a.attr("is-open",this.attrs.eIsOpen),a.attr("date-disabled",this.attrs.eDateDisabled),a.attr("datepicker-popup",this.attrs.eDatepickerPopup),a.attr("datepicker-mode",this.attrs.eDatepickerMode||"day"),a.attr("min-date",this.attrs.eMinDate),a.attr("max-date",this.attrs.eMaxDate),a.attr("show-weeks",this.attrs.eShowWeeks||!0),a.attr("starting-day",this.attrs.eStartingDay||0),a.attr("init-date",this.attrs.eInitDate||new Date),a.attr("min-mode",this.attrs.eMinMode||"day"),a.attr("max-mode",this.attrs.eMaxMode||"year"),a.attr("format-day",this.attrs.eFormatDay||"dd"),a.attr("format-month",this.attrs.eFormatMonth||"MMMM"),a.attr("format-year",this.attrs.eFormatYear||"yyyy"),a.attr("format-day-header",this.attrs.eFormatDayHeader||"EEE"),a.attr("format-day-title",this.attrs.eFormatDayTitle||"MMMM yyyy"),a.attr("format-month-title",this.attrs.eFormatMonthTitle||"yyyy"),a.attr("year-range",this.attrs.eYearRange||20),a.attr("show-button-bar",this.attrs.eShowButtonBar||!0),a.attr("current-text",this.attrs.eCurrentText||"Today"),a.attr("clear-text",this.attrs.eClearText||"Clear"),a.attr("close-text",this.attrs.eCloseText||"Done"),a.attr("close-on-date-selection",this.attrs.eCloseOnDateSelection||!0),a.attr("date-picker-append-to-body",this.attrs.eDatePickerAppendToBody||!1),a.attr("date-disabled",this.attrs.eDateDisabled),b.attr("ng-click",this.attrs.eNgClick),c.append(b),this.inputEl.prepend(a),this.inputEl.append(c),this.inputEl.removeAttr("class"),this.inputEl.attr("class","input-group")}})}]),angular.module("xeditable").directive("editableBstime",["editableDirectiveFactory",function(a){return a({directiveName:"editableBstime",inputTpl:"<timepicker></timepicker>",render:function(){this.parent.render.call(this);var a=angular.element('<div class="well well-small" style="display:inline-block;"></div>');a.attr("ng-model",this.inputEl.attr("ng-model")),this.inputEl.removeAttr("ng-model"),this.attrs.eNgChange&&(a.attr("ng-change",this.inputEl.attr("ng-change")),this.inputEl.removeAttr("ng-change")),this.inputEl.wrap(a)}})}]),angular.module("xeditable").directive("editableCheckbox",["editableDirectiveFactory",function(a){return a({directiveName:"editableCheckbox",inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this),this.attrs.eTitle&&(this.inputEl.wrap("<label></label>"),this.inputEl.parent().append(this.attrs.eTitle))},autosubmit:function(){var a=this;a.inputEl.bind("change",function(){setTimeout(function(){a.scope.$apply(function(){a.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableChecklist",["editableDirectiveFactory","editableNgOptionsParser",function(a,b){return a({directiveName:"editableChecklist",inputTpl:"<span></span>",useCopy:!0,render:function(){this.parent.render.call(this);var a=b(this.attrs.eNgOptions),c='<label ng-repeat="'+a.ngRepeat+'"><input type="checkbox" checklist-model="$parent.$data" checklist-value="'+a.locals.valueFn+'"><span ng-bind="'+a.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(c)}})}]),angular.module("xeditable").directive("editableCombodate",["editableDirectiveFactory","editableCombodate",function(a,b){return a({directiveName:"editableCombodate",inputTpl:'<input type="text">',render:function(){this.parent.render.call(this);var a=b.getInstance(this.inputEl,{value:new Date(this.scope.$data)}),c=this;a.$widget.find("select").bind("change",function(b){c.scope.$data=new Date(a.getValue()).toISOString()})}})}]),function(){var a="text|password|email|tel|number|url|search|color|date|datetime|time|month|week|file".split("|");angular.forEach(a,function(a){var b="editable"+a.charAt(0).toUpperCase()+a.slice(1);angular.module("xeditable").directive(b,["editableDirectiveFactory",function(c){return c({directiveName:b,inputTpl:'<input type="'+a+'">'})}])}),angular.module("xeditable").directive("editableRange",["editableDirectiveFactory",function(a){return a({directiveName:"editableRange",inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this),this.inputEl.after("<output>{{$data}}</output>")}})}])}(),angular.module("xeditable").directive("editableRadiolist",["editableDirectiveFactory","editableNgOptionsParser",function(a,b){return a({directiveName:"editableRadiolist",inputTpl:"<span></span>",render:function(){this.parent.render.call(this);var a=b(this.attrs.eNgOptions),c='<label ng-repeat="'+a.ngRepeat+'"><input type="radio" ng-disabled="'+this.attrs.eNgDisabled+'" ng-model="$parent.$data" value="{{'+a.locals.valueFn+'}}"><span ng-bind="'+a.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(c)},autosubmit:function(){var a=this;a.inputEl.bind("change",function(){setTimeout(function(){a.scope.$apply(function(){
a.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableSelect",["editableDirectiveFactory",function(a){return a({directiveName:"editableSelect",inputTpl:"<select></select>",autosubmit:function(){var a=this;a.inputEl.bind("change",function(){a.scope.$apply(function(){a.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableTextarea",["editableDirectiveFactory",function(a){return a({directiveName:"editableTextarea",inputTpl:"<textarea></textarea>",addListeners:function(){var a=this;a.parent.addListeners.call(a),a.single&&"no"!==a.buttons&&a.autosubmit()},autosubmit:function(){var a=this;a.inputEl.bind("keydown",function(b){(b.ctrlKey||b.metaKey)&&13===b.keyCode&&a.scope.$apply(function(){a.scope.$form.$submit()})})}})}]),angular.module("xeditable").factory("editableController",["$q","editableUtils",function(a,b){function c(a,c,d,e,f,g,h,i,j,k){var l,m,n=this;n.scope=a,n.elem=d,n.attrs=c,n.inputEl=null,n.editorEl=null,n.single=!0,n.error="",n.theme=f[h.theme]||f["default"],n.parent={},n.icon_set="default"===h.icon_set?g["default"][h.theme]:g.external[h.icon_set],n.inputTpl="",n.directiveName="",n.useCopy=!1,n.single=null,n.buttons="right",n.init=function(b){if(n.single=b,n.name=c.eName||c[n.directiveName],!c[n.directiveName])throw"You should provide value for `"+n.directiveName+"` in editable element!";l=e(c[n.directiveName]),n.single?n.buttons=n.attrs.buttons||h.buttons:n.buttons="no",c.eName&&n.scope.$watch("$data",function(a){n.scope.$form.$data[c.eName]=a}),c.onshow&&(n.onshow=function(){return n.catchError(e(c.onshow)(a))}),c.onhide&&(n.onhide=function(){return e(c.onhide)(a)}),c.oncancel&&(n.oncancel=function(){return e(c.oncancel)(a)}),c.onbeforesave&&(n.onbeforesave=function(){return n.catchError(e(c.onbeforesave)(a))}),c.onaftersave&&(n.onaftersave=function(){return n.catchError(e(c.onaftersave)(a))}),a.$parent.$watch(c[n.directiveName],function(a,b){n.setLocalValue(),n.handleEmpty()})},n.render=function(){var a=n.theme;n.inputEl=angular.element(n.inputTpl),n.controlsEl=angular.element(a.controlsTpl),n.controlsEl.append(n.inputEl),"no"!==n.buttons&&(n.buttonsEl=angular.element(a.buttonsTpl),n.submitEl=angular.element(a.submitTpl),n.cancelEl=angular.element(a.cancelTpl),n.icon_set&&(n.submitEl.find("span").addClass(n.icon_set.ok),n.cancelEl.find("span").addClass(n.icon_set.cancel)),n.buttonsEl.append(n.submitEl).append(n.cancelEl),n.controlsEl.append(n.buttonsEl),n.inputEl.addClass("editable-has-buttons")),n.errorEl=angular.element(a.errorTpl),n.controlsEl.append(n.errorEl),n.editorEl=angular.element(n.single?a.formTpl:a.noformTpl),n.editorEl.append(n.controlsEl);for(var d in c.$attr)if(!(d.length<=1)){var e=!1,f=d.substring(1,2);if("e"===d.substring(0,1)&&f===f.toUpperCase()&&(e=d.substring(1),"Form"!==e&&"NgSubmit"!==e)){e=e.substring(0,1).toLowerCase()+b.camelToDash(e.substring(1));var g="value"!==e&&""===c[d]?e:c[d];n.inputEl.attr(e,g)}}n.inputEl.addClass("editable-input"),n.inputEl.attr("ng-model","$data"),n.editorEl.addClass(b.camelToDash(n.directiveName)),n.single&&(n.editorEl.attr("editable-form","$form"),n.editorEl.attr("blur",n.attrs.blur||("no"===n.buttons?"cancel":h.blurElem))),angular.isFunction(a.postrender)&&a.postrender.call(n)},n.setLocalValue=function(){n.scope.$data=n.useCopy?angular.copy(l(a.$parent)):l(a.$parent)},n.show=function(){return n.setLocalValue(),n.render(),d.after(n.editorEl),j(n.editorEl)(a),n.addListeners(),d.addClass("editable-hide"),n.onshow()},n.hide=function(){return n.editorEl.remove(),d.removeClass("editable-hide"),n.onhide()},n.cancel=function(){n.oncancel()},n.addListeners=function(){n.inputEl.bind("keyup",function(a){if(n.single)switch(a.keyCode){case 27:n.scope.$apply(function(){n.scope.$form.$cancel()})}}),n.single&&"no"===n.buttons&&n.autosubmit(),n.editorEl.bind("click",function(a){a.which&&1!==a.which||n.scope.$form.$visible&&(n.scope.$form._clicked=!0)})},n.setWaiting=function(a){a?(m=!n.inputEl.attr("disabled")&&!n.inputEl.attr("ng-disabled")&&!n.inputEl.attr("ng-enabled"),m&&(n.inputEl.attr("disabled","disabled"),n.buttonsEl&&n.buttonsEl.find("button").attr("disabled","disabled"))):m&&(n.inputEl.removeAttr("disabled"),n.buttonsEl&&n.buttonsEl.find("button").removeAttr("disabled"))},n.activate=function(a,b){setTimeout(function(){var c=n.inputEl[0];"focus"===h.activate&&c.focus&&(a&&(b=b||a,c.onfocus=function(){var c=this;setTimeout(function(){c.setSelectionRange(a,b)})}),c.focus()),"select"===h.activate&&c.select&&c.select()},0)},n.setError=function(b){angular.isObject(b)||(a.$error=b,n.error=b)},n.catchError=function(a,b){return angular.isObject(a)&&b!==!0?k.when(a).then(angular.bind(this,function(a){this.catchError(a,!0)}),angular.bind(this,function(a){this.catchError(a,!0)})):b&&angular.isObject(a)&&a.status&&200!==a.status&&a.data&&angular.isString(a.data)?(this.setError(a.data),a=a.data):angular.isString(a)&&this.setError(a),a},n.save=function(){l.assign(a.$parent,n.useCopy?angular.copy(n.scope.$data):n.scope.$data)},n.handleEmpty=function(){var b=l(a.$parent),c=null===b||void 0===b||""===b||angular.isArray(b)&&0===b.length;d.toggleClass("editable-empty",c)},n.autosubmit=angular.noop,n.onshow=angular.noop,n.onhide=angular.noop,n.oncancel=angular.noop,n.onbeforesave=angular.noop,n.onaftersave=angular.noop}return c.$inject=["$scope","$attrs","$element","$parse","editableThemes","editableIcons","editableOptions","$rootScope","$compile","$q"],c}]),angular.module("xeditable").factory("editableDirectiveFactory",["$parse","$compile","editableThemes","$rootScope","$document","editableController","editableFormController","editableOptions",function(a,b,c,d,e,f,g,h){return function(b){return{restrict:"A",scope:!0,require:[b.directiveName,"?^form"],controller:f,link:function(c,f,i,j){var k,l=j[0],m=!1;if(j[1])k=j[1],m=!0;else if(i.eForm){var n=a(i.eForm)(c);if(n)k=n,m=!0;else for(var o=0;o<e[0].forms.length;o++)if(e[0].forms[o].name===i.eForm){k=null,m=!0;break}}angular.forEach(b,function(a,b){void 0!==l[b]&&(l.parent[b]=l[b])}),angular.extend(l,b);var p=angular.isDefined(i.editDisabled)?c.$eval(i.editDisabled):h.isDisabled;if(!p)if(l.init(!m),c.$editable=l,f.addClass("editable"),m)if(k){if(c.$form=k,!c.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";c.$form.$addEditable(l)}else d.$$editableBuffer=d.$$editableBuffer||{},d.$$editableBuffer[i.eForm]=d.$$editableBuffer[i.eForm]||[],d.$$editableBuffer[i.eForm].push(l),c.$form=null;else c.$form=g(),c.$form.$addEditable(l),i.eForm&&(c.$parent[i.eForm]=c.$form),(!i.eForm||i.eClickable)&&(f.addClass("editable-click"),f.bind(h.activationEvent,function(a){a.preventDefault(),a.editable=l,c.$apply(function(){c.$form.$show()})}))}}}}]),angular.module("xeditable").factory("editableFormController",["$parse","$document","$rootScope","editablePromiseCollection","editableUtils",function(a,b,c,d,e){var f=[],g=function(a,b){if(b==a)return!0;for(var c=b.parentNode;null!==c;){if(c==a)return!0;c=c.parentNode}return!1},h=function(a,b){var c=!0,d=a.$editables;return angular.forEach(d,function(a){var d=a.editorEl[0];g(d,b.target)&&(c=!1)}),c};b.bind("click",function(a){if(!(a.which&&1!==a.which||a.isDefaultPrevented())){for(var b=[],d=[],e=0;e<f.length;e++)f[e]._clicked?f[e]._clicked=!1:f[e].$waiting||("cancel"===f[e]._blur&&h(f[e],a)&&b.push(f[e]),"submit"===f[e]._blur&&h(f[e],a)&&d.push(f[e]));(b.length||d.length)&&c.$apply(function(){angular.forEach(b,function(a){a.$cancel()}),angular.forEach(d,function(a){a.$submit()})})}});var i={$addEditable:function(a){this.$editables.push(a),a.elem.bind("$destroy",angular.bind(this,this.$removeEditable,a)),a.scope.$form||(a.scope.$form=this),this.$visible&&a.catchError(a.show())},$removeEditable:function(a){for(var b=0;b<this.$editables.length;b++)if(this.$editables[b]===a)return void this.$editables.splice(b,1)},$show:function(){if(!this.$visible){this.$visible=!0;var a=d();a.when(this.$onshow()),this.$setError(null,""),angular.forEach(this.$editables,function(b){a.when(b.show())}),a.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)}),setTimeout(angular.bind(this,function(){this._clicked=!1,-1===e.indexOf(f,this)&&f.push(this)}),0)}},$activate:function(a){var b;if(this.$editables.length){if(angular.isString(a))for(b=0;b<this.$editables.length;b++)if(this.$editables[b].name===a)return void this.$editables[b].activate();for(b=0;b<this.$editables.length;b++)if(this.$editables[b].error)return void this.$editables[b].activate();this.$editables[0].activate(this.$editables[0].elem[0].selectionStart,this.$editables[0].elem[0].selectionEnd)}},$hide:function(){this.$visible&&(this.$visible=!1,this.$onhide(),angular.forEach(this.$editables,function(a){a.hide()}),e.arrayRemove(f,this))},$cancel:function(){this.$visible&&(this.$oncancel(),angular.forEach(this.$editables,function(a){a.cancel()}),this.$hide())},$setWaiting:function(a){this.$waiting=!!a,angular.forEach(this.$editables,function(b){b.setWaiting(!!a)})},$setError:function(a,b){angular.forEach(this.$editables,function(c){a&&c.name!==a||c.setError(b)})},$submit:function(){function a(a){var b=d();b.when(this.$onbeforesave()),b.then({onWait:angular.bind(this,this.$setWaiting),onTrue:a?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})}if(!this.$waiting){this.$setError(null,"");var b=d();angular.forEach(this.$editables,function(a){b.when(a.onbeforesave())}),b.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,a,!0),onFalse:angular.bind(this,a,!1),onString:angular.bind(this,this.$activate)})}},$save:function(){angular.forEach(this.$editables,function(a){a.save()});var a=d();a.when(this.$onaftersave()),angular.forEach(this.$editables,function(b){a.when(b.onaftersave())}),a.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop};return function(){return angular.extend({$editables:[],$visible:!1,$waiting:!1,$data:{},_clicked:!1,_blur:null},i)}}]),angular.module("xeditable").directive("editableForm",["$rootScope","$parse","editableFormController","editableOptions",function(a,b,c,d){return{restrict:"A",require:["form"],compile:function(){return{pre:function(b,d,e,f){var g,h=f[0];e.editableForm?b[e.editableForm]&&b[e.editableForm].$show?(g=b[e.editableForm],angular.extend(h,g)):(g=c(),b[e.editableForm]=g,angular.extend(g,h)):(g=c(),angular.extend(h,g));var i=a.$$editableBuffer,j=h.$name;j&&i&&i[j]&&(angular.forEach(i[j],function(a){g.$addEditable(a)}),delete i[j])},post:function(a,c,e,f){var g;g=e.editableForm&&a[e.editableForm]&&a[e.editableForm].$show?a[e.editableForm]:f[0],e.onshow&&(g.$onshow=angular.bind(g,b(e.onshow),a)),e.onhide&&(g.$onhide=angular.bind(g,b(e.onhide),a)),e.oncancel&&(g.$oncancel=angular.bind(g,b(e.oncancel),a)),e.shown&&b(e.shown)(a)&&g.$show(),g._blur=e.blur||d.blurForm,e.ngSubmit||e.submit||(e.onbeforesave&&(g.$onbeforesave=function(){return b(e.onbeforesave)(a,{$data:g.$data})}),e.onaftersave&&(g.$onaftersave=function(){return b(e.onaftersave)(a,{$data:g.$data})}),c.bind("submit",function(b){b.preventDefault(),a.$apply(function(){g.$submit()})})),c.bind("click",function(a){a.which&&1!==a.which||g.$visible&&(g._clicked=!0)})}}}}}]),angular.module("xeditable").factory("editablePromiseCollection",["$q",function(a){function b(){return{promises:[],hasFalse:!1,hasString:!1,when:function(b,c){if(b===!1)this.hasFalse=!0;else if(!c&&angular.isObject(b))this.promises.push(a.when(b));else{if(!angular.isString(b))return;this.hasString=!0}},then:function(b){function c(){h.hasString||h.hasFalse?!h.hasString&&h.hasFalse?e():f():d()}b=b||{};var d=b.onTrue||angular.noop,e=b.onFalse||angular.noop,f=b.onString||angular.noop,g=b.onWait||angular.noop,h=this;this.promises.length?(g(!0),a.all(this.promises).then(function(a){g(!1),angular.forEach(a,function(a){h.when(a,!0)}),c()},function(a){g(!1),f()})):c()}}}return b}]),angular.module("xeditable").factory("editableUtils",[function(){return{indexOf:function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(b===a[c])return c;return-1},arrayRemove:function(a,b){var c=this.indexOf(a,b);return c>=0&&a.splice(c,1),b},camelToDash:function(a){var b=/[A-Z]/g;return a.replace(b,function(a,b){return(b?"-":"")+a.toLowerCase()})},dashToCamel:function(a){var b=/([\:\-\_]+(.))/g,c=/^moz([A-Z])/;return a.replace(b,function(a,b,c,d){return d?c.toUpperCase():c}).replace(c,"Moz$1")}}}]),angular.module("xeditable").factory("editableNgOptionsParser",[function(){function a(a){var c;if(!(c=a.match(b)))throw"ng-options parse error";var d,e=c[2]||c[1],f=c[4]||c[6],g=c[5],h=(c[3]||"",c[2]?c[1]:f),i=c[7],j=c[8],k=j?c[8]:null;return void 0===g?(d=f+" in "+i,void 0!==j&&(d+=" track by "+k)):d="("+g+", "+f+") in "+i,{ngRepeat:d,locals:{valueName:f,keyName:g,valueFn:h,displayFn:e}}}var b=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return a}]),angular.module("xeditable").factory("editableCombodate",[function(){function a(a,b){if(this.$element=angular.element(a),"INPUT"!=this.$element[0].nodeName)throw"Combodate should be applied to INPUT element";this.defaults={format:"YYYY-MM-DD HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,customClass:"",roundTime:!0,smartDays:!0},this.options=angular.extend({},this.defaults,b),this.init()}return a.prototype={constructor:a,init:function(){if(this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=angular.element('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.options.smartDays){var a=this;this.$widget.find("select").bind("change",function(b){(angular.element(b.target).hasClass("month")||angular.element(b.target).hasClass("year"))&&a.fillCombo("day")})}this.$widget.find("select").css("width","auto"),this.$element.css("display","none").after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var a=this.options.template,b=this.options.customClass;return angular.forEach(this.map,function(b,c){b=b[0];var d=new RegExp(b+"+"),e=b.length>1?b.substring(1,2):b;a=a.replace(d,"{"+e+"}")}),a=a.replace(/ /g,"&nbsp;"),angular.forEach(this.map,function(c,d){c=c[0];var e=c.length>1?c.substring(1,2):c;a=a.replace("{"+e+"}",'<select class="'+d+" "+b+'"></select>')}),a},initCombos:function(){for(var a in this.map){var b=this.$widget[0].querySelectorAll("."+a);this["$"+a]=b.length?angular.element(b):null,this.fillCombo(a)}},fillCombo:function(a){var b=this["$"+a];if(b){var c="fill"+a.charAt(0).toUpperCase()+a.slice(1),d=this[c](),e=b.val();b.html("");for(var f=0;f<d.length;f++)b.append('<option value="'+d[f][0]+'">'+d[f][1]+"</option>");b.val(e)}},fillCommon:function(a){var b,c=[];if("name"===this.options.firstItem){b=moment.relativeTime||moment.langData()._relativeTime;var d="function"==typeof b[a]?b[a](1,!0,a,!1):b[a];d=d.split(" ").reverse()[0],c.push(["",d])}else"empty"===this.options.firstItem&&c.push(["",""]);return c},fillDay:function(){var a,b,c=this.fillCommon("d"),d=-1!==this.options.template.indexOf("DD"),e=31;if(this.options.smartDays&&this.$month&&this.$year){var f=parseInt(this.$month.val(),10),g=parseInt(this.$year.val(),10);isNaN(f)||isNaN(g)||(e=moment([g,f]).daysInMonth())}for(b=1;e>=b;b++)a=d?this.leadZero(b):b,c.push([b,a]);return c},fillMonth:function(){var a,b,c=this.fillCommon("M"),d=-1!==this.options.template.indexOf("MMMM"),e=-1!==this.options.template.indexOf("MMM"),f=-1!==this.options.template.indexOf("MM");for(b=0;11>=b;b++)a=d?moment().date(1).month(b).format("MMMM"):e?moment().date(1).month(b).format("MMM"):f?this.leadZero(b+1):b+1,c.push([b,a]);return c},fillYear:function(){var a,b,c=[],d=-1!==this.options.template.indexOf("YYYY");for(b=this.options.maxYear;b>=this.options.minYear;b--)a=d?b:(b+"").substring(2),c[this.options.yearDescending?"push":"unshift"]([b,a]);return c=this.fillCommon("y").concat(c)},fillHour:function(){var a,b,c=this.fillCommon("h"),d=-1!==this.options.template.indexOf("h"),e=(-1!==this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),f=d?1:0,g=d?12:23;for(b=f;g>=b;b++)a=e?this.leadZero(b):b,c.push([b,a]);return c},fillMinute:function(){var a,b,c=this.fillCommon("m"),d=-1!==this.options.template.indexOf("mm");for(b=0;59>=b;b+=this.options.minuteStep)a=d?this.leadZero(b):b,c.push([b,a]);return c},fillSecond:function(){var a,b,c=this.fillCommon("s"),d=-1!==this.options.template.indexOf("ss");for(b=0;59>=b;b+=this.options.secondStep)a=d?this.leadZero(b):b,c.push([b,a]);return c},fillAmpm:function(){var a=-1!==this.options.template.indexOf("a"),b=(-1!==this.options.template.indexOf("A"),[["am",a?"am":"AM"],["pm",a?"pm":"PM"]]);return b},getValue:function(a){var b,c={},d=this,e=!1;return angular.forEach(this.map,function(a,b){if("ampm"!==b){var f="day"===b?1:0;return c[b]=d["$"+b]?parseInt(d["$"+b].val(),10):f,isNaN(c[b])?(e=!0,!1):void 0}}),e?"":(this.$ampm&&(12===c.hour?c.hour="am"===this.$ampm.val()?0:12:c.hour="am"===this.$ampm.val()?c.hour:c.hour+12),b=moment([c.year,c.month,c.day,c.hour,c.minute,c.second]),this.highlight(b),a=void 0===a?this.options.format:a,null===a?b.isValid()?b:null:b.isValid()?b.format(a):"")},setValue:function(a){function b(a,b){var c={};return angular.forEach(a.children("option"),function(a,d){var e=angular.element(a).attr("value");if(""!==e){var f=Math.abs(e-b);("undefined"==typeof c.distance||f<c.distance)&&(c={value:e,distance:f})}}),c.value}if(a){var c="string"==typeof a?moment(a,this.options.format,!0):moment(a),d=this,e={};c.isValid()&&(angular.forEach(this.map,function(a,b){"ampm"!==b&&(e[b]=c[a[1]]())}),this.$ampm&&(e.hour>=12?(e.ampm="pm",e.hour>12&&(e.hour-=12)):(e.ampm="am",0===e.hour&&(e.hour=12))),angular.forEach(e,function(a,c){d["$"+c]&&("minute"===c&&d.options.minuteStep>1&&d.options.roundTime&&(a=b(d["$"+c],a)),"second"===c&&d.options.secondStep>1&&d.options.roundTime&&(a=b(d["$"+c],a)),d["$"+c].val(a))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(c.format(this.options.format)).triggerHandler("change"))}},highlight:function(a){a.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(a){return 9>=a?"0"+a:a},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},{getInstance:function(b,c){return new a(b,c)}}}]),angular.module("xeditable").factory("editableIcons",function(){var a={"default":{bs2:{ok:"icon-ok icon-white",cancel:"icon-remove"},bs3:{ok:"glyphicon glyphicon-ok",cancel:"glyphicon glyphicon-remove"}},external:{"font-awesome":{ok:"fa fa-check",cancel:"fa fa-times"}}};return a}),angular.module("xeditable").factory("editableThemes",function(){var a={"default":{formTpl:'<form class="editable-wrap"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<span class="editable-controls"></span>',inputTpl:"",errorTpl:'<div class="editable-error" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit">save</button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel</button>'},bs2:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()"><span></span></button>'},bs3:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span></span></button>',buttonsClass:"",inputClass:"",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableBsdate":case"editableTime":case"editableMonth":case"editableWeek":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}break;case"editableCheckbox":this.editorEl.addClass("checkbox")}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}}};return a}),function(a,b){"use strict";angular.module("toaster",[]).constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"close-button":!1,"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",wait:"toast-wait",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message","prevent-duplicates":!1,"mouseover-timer-stop":!0}).service("toaster",["$rootScope","toasterConfig",function(a,b){this.pop=function(b,c,d,e,f,g,h,i,j,k){if(angular.isObject(b)){var l=b;this.toast={type:l.type,title:l.title,body:l.body,timeout:l.timeout,bodyOutputType:l.bodyOutputType,clickHandler:l.clickHandler,showCloseButton:l.showCloseButton,uid:l.toastId,onHideCallback:l.onHideCallback},j=l.toastId,h=l.toasterId}else this.toast={type:b,title:c,body:d,timeout:e,bodyOutputType:f,clickHandler:g,showCloseButton:i,uid:j,onHideCallback:k};a.$emit("toaster-newToast",h,j)},this.clear=function(b,c){a.$emit("toaster-clearToasts",b,c)};for(var c in b["icon-classes"])this[c]=function(a){return function(b,c,d,e,f,g,h,i,j){angular.isString(b)?this.pop(a,b,c,d,e,f,g,h,i,j):this.pop(angular.extend(b,{type:a}))}}(c)}]).factory("toasterEventRegistry",["$rootScope",function(a){var b,c=null,d=null,e=[],f=[];return b={setup:function(){c||(c=a.$on("toaster-newToast",function(a,b,c){for(var d=0,f=e.length;f>d;d++)e[d](a,b,c)})),d||(d=a.$on("toaster-clearToasts",function(a,b,c){for(var d=0,e=f.length;e>d;d++)f[d](a,b,c)}))},subscribeToNewToastEvent:function(a){e.push(a)},subscribeToClearToastsEvent:function(a){f.push(a)},unsubscribeToNewToastEvent:function(a){var b=e.indexOf(a);b>=0&&e.splice(b,1),0===e.length&&(c(),c=null)},unsubscribeToClearToastsEvent:function(a){var b=f.indexOf(a);b>=0&&f.splice(b,1),0===f.length&&(d(),d=null)}},{setup:b.setup,subscribeToNewToastEvent:b.subscribeToNewToastEvent,subscribeToClearToastsEvent:b.subscribeToClearToastsEvent,unsubscribeToNewToastEvent:b.unsubscribeToNewToastEvent,unsubscribeToClearToastsEvent:b.unsubscribeToClearToastsEvent}}]).directive("toasterContainer",["$parse","$rootScope","$interval","$sce","toasterConfig","toaster","toasterEventRegistry",function(a,b,c,d,e,f,g){return{replace:!0,restrict:"EA",scope:!0,link:function(b,h,i){function j(a,d){a.timeoutPromise=c(function(){b.removeToast(a.id)},d,1)}function k(c,e){if(c.type=o["icon-classes"][c.type],c.type||(c.type=o["icon-class"]),o["prevent-duplicates"]===!0)if(n(e)){if(b.toasters.length>0&&b.toasters[b.toasters.length-1].body===c.body)return}else{var f,g;for(f=0,g=b.toasters.length;g>f;f++)b.toasters[f].uid===e&&(l(f),f--,g=b.toasters.length)}c.id=++p,n(e)||(c.uid=e);var h=o["close-button"];if("boolean"==typeof c.showCloseButton);else if("boolean"==typeof h)c.showCloseButton=h;else if("object"==typeof h){var i=h[c.type];"undefined"!=typeof i&&null!==i&&(c.showCloseButton=i)}else c.showCloseButton=!1;switch(c.bodyOutputType=c.bodyOutputType||o["body-output-type"],c.bodyOutputType){case"trustedHtml":c.html=d.trustAsHtml(c.body);break;case"template":c.bodyTemplate=c.body||o["body-template"];break;case"templateWithData":var j=a(c.body||o["body-template"]),k=j(b);c.bodyTemplate=k.template,c.data=k.data}b.configureTimer(c),o["newest-on-top"]===!0?(b.toasters.unshift(c),o.limit>0&&b.toasters.length>o.limit&&b.toasters.pop()):(b.toasters.push(c),o.limit>0&&b.toasters.length>o.limit&&b.toasters.shift())}function l(a){var d=b.toasters[a];d&&(d.timeoutPromise&&c.cancel(d.timeoutPromise),b.toasters.splice(a,1),angular.isFunction(d.onHideCallback)&&d.onHideCallback())}function m(a){for(var c=b.toasters.length-1;c>=0;c--)n(a)?l(c):b.toasters[c].uid==a&&l(c)}function n(a){return angular.isUndefined(a)||null===a}var o,p=0;o=angular.extend({},e,b.$eval(i.toasterOptions)),b.config={toasterId:o["toaster-id"],position:o["position-class"],title:o["title-class"],message:o["message-class"],tap:o["tap-to-dismiss"],closeButton:o["close-button"],animation:o["animation-class"],mouseoverTimer:o["mouseover-timer-stop"]},b.$on("$destroy",function(){g.unsubscribeToNewToastEvent(b._onNewToast),g.unsubscribeToClearToastsEvent(b._onClearToasts)}),b.configureTimer=function(a){var b=angular.isNumber(a.timeout)?a.timeout:o["time-out"];"object"==typeof b&&(b=b[a.type]),b>0&&j(a,b)},b.removeToast=function(a){var c,d;for(c=0,d=b.toasters.length;d>c;c++)if(b.toasters[c].id===a){l(c);break}},b.toasters=[],b._onNewToast=function(a,c,d){(n(b.config.toasterId)&&n(c)||!n(b.config.toasterId)&&!n(c)&&b.config.toasterId==c)&&k(f.toast,d)},b._onClearToasts=function(a,c,d){("*"==c||n(b.config.toasterId)&&n(c)||!n(b.config.toasterId)&&!n(c)&&b.config.toasterId==c)&&m(d)},g.setup(),g.subscribeToNewToastEvent(b._onNewToast),g.subscribeToClearToastsEvent(b._onClearToasts)},controller:["$scope","$element","$attrs",function(a,b,d){a.stopTimer=function(b){a.config.mouseoverTimer===!0&&b.timeoutPromise&&(c.cancel(b.timeoutPromise),b.timeoutPromise=null)},a.restartTimer=function(b){a.config.mouseoverTimer===!0?b.timeoutPromise||a.configureTimer(b):null===b.timeoutPromise&&a.removeToast(b.id)},a.click=function(b,c){if(a.config.tap===!0||b.showCloseButton===!0&&c===!0){var d=!0;b.clickHandler&&(angular.isFunction(b.clickHandler)?d=b.clickHandler(b,c):angular.isFunction(a.$parent.$eval(b.clickHandler))?d=a.$parent.$eval(b.clickHandler)(b,c):console.log("TOAST-NOTE: Your click handler is not inside a parent scope of toaster-container.")),d&&a.removeToast(b.id)}}}],template:'<div id="toast-container" ng-class="[config.position, config.animation]"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="click(toaster)" ng-mouseover="stopTimer(toaster)" ng-mouseout="restartTimer(toaster)"><button type="button" class="toast-close-button" ng-show="toaster.showCloseButton" ng-click="click(toaster, true)">&times;</button><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="templateWithData"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>'}}])}(window,document),angular.module("checklist-model",[]).directive("checklistModel",["$parse","$compile",function(a,b){function c(a,b,c){if(angular.isArray(a))for(var d=a.length;d--;)if(c(a[d],b))return!0;return!1}function d(a,b,d){return a=angular.isArray(a)?a:[],c(a,b,d)||a.push(b),a}function e(a,b,c){if(angular.isArray(a))for(var d=a.length;d--;)if(c(a[d],b)){a.splice(d,1);break}return a}function f(f,g,h){function i(a,b){f[h.ngModel]=c(a,n,o)}var j=h.checklistModel;h.$set("checklistModel",null),b(g)(f),h.$set("checklistModel",j);var k=a(j),l=k.assign,m=a(h.checklistChange),n=h.checklistValue?a(h.checklistValue)(f.$parent):h.value,o=angular.equals;if(h.hasOwnProperty("checklistComparator"))if("."==h.checklistComparator[0]){var p=h.checklistComparator.substring(1);o=function(a,b){return a[p]===b[p]}}else o=a(h.checklistComparator)(f.$parent);f.$watch(h.ngModel,function(a,b){if(a!==b){var c=k(f.$parent);angular.isFunction(l)&&(a===!0?l(f.$parent,d(c,n,o)):l(f.$parent,e(c,n,o))),m&&m(f)}}),angular.isFunction(f.$parent.$watchCollection)?f.$parent.$watchCollection(j,i):f.$parent.$watch(j,i,!0)}return{restrict:"A",priority:1e3,terminal:!0,scope:!0,compile:function(a,b){if(("INPUT"!==a[0].tagName||"checkbox"!==b.type)&&"MD-CHECKBOX"!==a[0].tagName&&!b.btnCheckbox)throw'checklist-model should be applied to `input[type="checkbox"]` or `md-checkbox`.';if(!b.checklistValue&&!b.value)throw"You should provide `value` or `checklist-value`.";return b.ngModel||b.$set("ngModel","checked"),f}}}]),function(){var a=angular.module("restangular",[]);a.provider("Restangular",function(){var a={};a.init=function(a,b){function c(a,b,c,d){var e={};return _.each(_.keys(d),function(f){var g=d[f];g.params=_.extend({},g.params,a.defaultRequestParams[g.method.toLowerCase()]),_.isEmpty(g.params)&&delete g.params,a.isSafe(g.method)?e[f]=function(){return b(_.extend(g,{url:c}))}:e[f]=function(a){return b(_.extend(g,{url:c,data:a}))}}),e}a.configuration=b;var d=["get","head","options","trace","getlist"];b.isSafe=function(a){return _.contains(d,a.toLowerCase())};var e=/^https?:\/\//i;b.isAbsoluteUrl=function(a){return _.isUndefined(b.absoluteUrl)||_.isNull(b.absoluteUrl)?a&&e.test(a):b.absoluteUrl},b.absoluteUrl=_.isUndefined(b.absoluteUrl)?!0:b.absoluteUrl,a.setSelfLinkAbsoluteUrl=function(a){b.absoluteUrl=a},b.baseUrl=_.isUndefined(b.baseUrl)?"":b.baseUrl,a.setBaseUrl=function(a){return b.baseUrl=/\/$/.test(a)?a.substring(0,a.length-1):a,this},b.extraFields=b.extraFields||[],a.setExtraFields=function(a){return b.extraFields=a,this},b.defaultHttpFields=b.defaultHttpFields||{},a.setDefaultHttpFields=function(a){return b.defaultHttpFields=a,this},b.withHttpValues=function(a,c){return _.defaults(c,a,b.defaultHttpFields)},b.encodeIds=_.isUndefined(b.encodeIds)?!0:b.encodeIds,a.setEncodeIds=function(a){b.encodeIds=a},b.defaultRequestParams=b.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},a.setDefaultRequestParams=function(a,c){var d=[],e=c||a;return _.isUndefined(c)?d.push("common"):_.isArray(a)?d=a:d.push(a),_.each(d,function(a){b.defaultRequestParams[a]=e}),this},a.requestParams=b.defaultRequestParams,b.defaultHeaders=b.defaultHeaders||{},a.setDefaultHeaders=function(c){return b.defaultHeaders=c,a.defaultHeaders=b.defaultHeaders,this},a.defaultHeaders=b.defaultHeaders,b.methodOverriders=b.methodOverriders||[],a.setMethodOverriders=function(a){var c=_.extend([],a);return b.isOverridenMethod("delete",c)&&c.push("remove"),b.methodOverriders=c,this},b.jsonp=_.isUndefined(b.jsonp)?!1:b.jsonp,a.setJsonp=function(a){b.jsonp=a},b.isOverridenMethod=function(a,c){var d=c||b.methodOverriders;return!_.isUndefined(_.find(d,function(b){return b.toLowerCase()===a.toLowerCase();
}))},b.urlCreator=b.urlCreator||"path",a.setUrlCreator=function(a){if(!_.has(b.urlCreatorFactory,a))throw new Error("URL Path selected isn't valid");return b.urlCreator=a,this},b.restangularFields=b.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save",restangularized:"restangularized"},a.setRestangularFields=function(a){return b.restangularFields=_.extend(b.restangularFields,a),this},b.isRestangularized=function(a){return!!a[b.restangularFields.restangularized]},b.setFieldToElem=function(a,b,c){var d=a.split("."),e=b;return _.each(_.initial(d),function(a){e[a]={},e=e[a]}),e[_.last(d)]=c,this},b.getFieldFromElem=function(a,b){var c=a.split("."),d=b;return _.each(c,function(a){d&&(d=d[a])}),angular.copy(d)},b.setIdToElem=function(a,c){return b.setFieldToElem(b.restangularFields.id,a,c),this},b.getIdFromElem=function(a){return b.getFieldFromElem(b.restangularFields.id,a)},b.isValidId=function(a){return""!==a&&!_.isUndefined(a)&&!_.isNull(a)},b.setUrlToElem=function(a,c){return b.setFieldToElem(b.restangularFields.selfLink,a,c),this},b.getUrlFromElem=function(a){return b.getFieldFromElem(b.restangularFields.selfLink,a)},b.useCannonicalId=_.isUndefined(b.useCannonicalId)?!1:b.useCannonicalId,a.setUseCannonicalId=function(a){return b.useCannonicalId=a,this},b.getCannonicalIdFromElem=function(a){var c=a[b.restangularFields.cannonicalId],d=b.isValidId(c)?c:b.getIdFromElem(a);return d},b.responseInterceptors=b.responseInterceptors||[],b.defaultResponseInterceptor=function(a){return a},b.responseExtractor=function(a,c,d,e,f,g){var h=angular.copy(b.responseInterceptors);h.push(b.defaultResponseInterceptor);var i=a;return _.each(h,function(a){i=a(i,c,d,e,f,g)}),i},a.addResponseInterceptor=function(a){return b.responseInterceptors.push(a),this},b.errorInterceptors=b.errorInterceptors||[],a.addErrorInterceptor=function(a){return b.errorInterceptors.push(a),this},a.setResponseInterceptor=a.addResponseInterceptor,a.setResponseExtractor=a.addResponseInterceptor,a.setErrorInterceptor=a.addErrorInterceptor,b.requestInterceptors=b.requestInterceptors||[],b.defaultInterceptor=function(a,b,c,d,e,f,g){return{element:a,headers:e,params:f,httpConfig:g}},b.fullRequestInterceptor=function(a,c,d,e,f,g,h){var i=angular.copy(b.requestInterceptors),j=b.defaultInterceptor(a,c,d,e,f,g,h);return _.reduce(i,function(a,b){return _.extend(a,b(a.element,c,d,e,a.headers,a.params,a.httpConfig))},j)},a.addRequestInterceptor=function(a){return b.requestInterceptors.push(function(b,c,d,e,f,g,h){return{headers:f,params:g,element:a(b,c,d,e),httpConfig:h}}),this},a.setRequestInterceptor=a.addRequestInterceptor,a.addFullRequestInterceptor=function(a){return b.requestInterceptors.push(a),this},a.setFullRequestInterceptor=a.addFullRequestInterceptor,b.onBeforeElemRestangularized=b.onBeforeElemRestangularized||function(a){return a},a.setOnBeforeElemRestangularized=function(a){return b.onBeforeElemRestangularized=a,this},a.setRestangularizePromiseInterceptor=function(a){return b.restangularizePromiseInterceptor=a,this},b.onElemRestangularized=b.onElemRestangularized||function(a){return a},a.setOnElemRestangularized=function(a){return b.onElemRestangularized=a,this},b.shouldSaveParent=b.shouldSaveParent||function(){return!0},a.setParentless=function(a){return _.isArray(a)?b.shouldSaveParent=function(b){return!_.contains(a,b)}:_.isBoolean(a)&&(b.shouldSaveParent=function(){return!a}),this},b.suffix=_.isUndefined(b.suffix)?null:b.suffix,a.setRequestSuffix=function(a){return b.suffix=a,this},b.transformers=b.transformers||{},a.addElementTransformer=function(c,d,e){var f=null,g=null;2===arguments.length?g=d:(g=e,f=d);var h=b.transformers[c];return h||(h=b.transformers[c]=[]),h.push(function(a,b){return _.isNull(f)||a===f?g(b):b}),a},a.extendCollection=function(b,c){return a.addElementTransformer(b,!0,c)},a.extendModel=function(b,c){return a.addElementTransformer(b,!1,c)},b.transformElem=function(a,c,d,e,f){if(!f&&!b.transformLocalElements&&!a[b.restangularFields.fromServer])return a;var g=b.transformers[d],h=a;return g&&_.each(g,function(a){h=a(c,h)}),b.onElemRestangularized(h,c,d,e)},b.transformLocalElements=_.isUndefined(b.transformLocalElements)?!1:b.transformLocalElements,a.setTransformOnlyServerElements=function(a){b.transformLocalElements=!a},b.fullResponse=_.isUndefined(b.fullResponse)?!1:b.fullResponse,a.setFullResponse=function(a){return b.fullResponse=a,this},b.urlCreatorFactory={};var f=function(){};f.prototype.setConfig=function(a){return this.config=a,this},f.prototype.parentsArray=function(a){for(var b=[];a;)b.push(a),a=a[this.config.restangularFields.parentResource];return b.reverse()},f.prototype.resource=function(a,d,e,f,g,h,i,j){var k=_.defaults(g||{},this.config.defaultRequestParams.common),l=_.defaults(f||{},this.config.defaultHeaders);i&&(b.isSafe(j)?l["If-None-Match"]=i:l["If-Match"]=i);var m=this.base(a);if(h){var n="";/\/$/.test(m)||(n+="/"),n+=h,m+=n}return this.config.suffix&&-1===m.indexOf(this.config.suffix,m.length-this.config.suffix.length)&&!this.config.getUrlFromElem(a)&&(m+=this.config.suffix),a[this.config.restangularFields.httpConfig]=void 0,c(this.config,d,m,{getList:this.config.withHttpValues(e,{method:"GET",params:k,headers:l}),get:this.config.withHttpValues(e,{method:"GET",params:k,headers:l}),jsonp:this.config.withHttpValues(e,{method:"jsonp",params:k,headers:l}),put:this.config.withHttpValues(e,{method:"PUT",params:k,headers:l}),post:this.config.withHttpValues(e,{method:"POST",params:k,headers:l}),remove:this.config.withHttpValues(e,{method:"DELETE",params:k,headers:l}),head:this.config.withHttpValues(e,{method:"HEAD",params:k,headers:l}),trace:this.config.withHttpValues(e,{method:"TRACE",params:k,headers:l}),options:this.config.withHttpValues(e,{method:"OPTIONS",params:k,headers:l}),patch:this.config.withHttpValues(e,{method:"PATCH",params:k,headers:l})})};var g=function(){};g.prototype=new f,g.prototype.normalizeUrl=function(a){var b=/(http[s]?:\/\/)?(.*)?/.exec(a);return b[2]=b[2].replace(/[\\\/]+/g,"/"),"undefined"!=typeof b[1]?b[1]+b[2]:b[2]},g.prototype.base=function(a){var c=this;return _.reduce(this.parentsArray(a),function(a,d){var e,f=c.config.getUrlFromElem(d);if(f){if(c.config.isAbsoluteUrl(f))return f;e=f}else if(e=d[c.config.restangularFields.route],d[c.config.restangularFields.restangularCollection]){var g=d[c.config.restangularFields.ids];g&&(e+="/"+g.join(","))}else{var h;h=c.config.useCannonicalId?c.config.getCannonicalIdFromElem(d):c.config.getIdFromElem(d),b.isValidId(h)&&!d.singleOne&&(e+="/"+(c.config.encodeIds?encodeURIComponent(h):h))}return a=a.replace(/\/$/,"")+"/"+e,c.normalizeUrl(a)},this.config.baseUrl)},g.prototype.fetchUrl=function(a,b){var c=this.base(a);return b&&(c+="/"+b),c},g.prototype.fetchRequestedUrl=function(a,c){function d(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function e(a,b,c){for(var e=d(a),f=0;f<e.length;f++)b.call(c,a[e[f]],e[f]);return e}function f(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}var g=this.fetchUrl(a,c),h=a[b.restangularFields.reqParams];if(!h)return g+(this.config.suffix||"");var i=[];return e(h,function(a,b){null!==a&&void 0!==a&&(angular.isArray(a)||(a=[a]),angular.forEach(a,function(a){angular.isObject(a)&&(a=angular.toJson(a)),i.push(f(b)+"="+f(a))}))}),g+(this.config.suffix||"")+(-1===g.indexOf("?")?"?":"&")+i.join("&")},b.urlCreatorFactory.path=g};var b={};a.init(this,b),this.$get=["$http","$q",function(c,d){function e(b){function f(a,c,d,e,f){if(c[b.restangularFields.route]=d,c[b.restangularFields.getRestangularUrl]=_.bind(P.fetchUrl,P,c),c[b.restangularFields.getRequestedUrl]=_.bind(P.fetchRequestedUrl,P,c),c[b.restangularFields.addRestangularMethod]=_.bind(L,c),c[b.restangularFields.clone]=_.bind(r,c,c),c[b.restangularFields.reqParams]=_.isEmpty(e)?null:e,c[b.restangularFields.withHttpConfig]=_.bind(z,c),c[b.restangularFields.plain]=_.bind(p,c,c),c[b.restangularFields.restangularized]=!0,c[b.restangularFields.one]=_.bind(g,c,c),c[b.restangularFields.all]=_.bind(h,c,c),c[b.restangularFields.several]=_.bind(i,c,c),c[b.restangularFields.oneUrl]=_.bind(j,c,c),c[b.restangularFields.allUrl]=_.bind(k,c,c),c[b.restangularFields.fromServer]=!!f,a&&b.shouldSaveParent(d)){var l=b.getIdFromElem(a),m=b.getUrlFromElem(a),n=_.union(_.values(_.pick(b.restangularFields,["route","singleOne","parentResource"])),b.extraFields),o=_.pick(a,n);b.isValidId(l)&&b.setIdToElem(o,l,d),b.isValidId(m)&&b.setUrlToElem(o,m,d),c[b.restangularFields.parentResource]=o}else c[b.restangularFields.parentResource]=null;return c}function g(a,c,d,e){var f;if(_.isNumber(c)||_.isNumber(a))throw f="You're creating a Restangular entity with the number ",f+="instead of the route or the parent. For example, you can't call .one(12).",new Error(f);if(_.isUndefined(c))throw f="You're creating a Restangular entity either without the path. ",f+="For example you can't call .one(). Please check if your arguments are valid.",new Error(f);var g={};return b.setIdToElem(g,d,c),b.setFieldToElem(b.restangularFields.singleOne,g,e),s(a,g,c,!1)}function h(a,b){return t(a,[],b,!1)}function i(a,c){var d=[];return d[b.restangularFields.ids]=Array.prototype.splice.call(arguments,2),t(a,d,c,!1)}function j(a,c,d){if(!c)throw new Error("Route is mandatory when creating new Restangular objects.");var e={};return b.setUrlToElem(e,d,c),s(a,e,c,!1)}function k(a,c,d){if(!c)throw new Error("Route is mandatory when creating new Restangular objects.");var e={};return b.setUrlToElem(e,d,c),t(a,e,c,!1)}function l(a,c,d){return a.call=_.bind(m,a),a.get=_.bind(n,a),a[b.restangularFields.restangularCollection]=c,c&&(a.push=_.bind(m,a,"push")),a.$object=d,b.restangularizePromiseInterceptor&&b.restangularizePromiseInterceptor(a),a}function m(a){var c=d.defer(),e=arguments,f={};return this.then(function(b){var d=Array.prototype.slice.call(e,1),g=b[a];g.apply(b,d),f=b,c.resolve(b)}),l(c.promise,this[b.restangularFields.restangularCollection],f)}function n(a){var c=d.defer(),e={};return this.then(function(b){e=b[a],c.resolve(e)}),l(c.promise,this[b.restangularFields.restangularCollection],e)}function o(a,c,d,e){return _.extend(e,d),b.fullResponse?a.resolve(_.extend(c,{data:d})):void a.resolve(d)}function p(a){if(_.isArray(a)){var c=[];return _.each(a,function(a){c.push(b.isRestangularized(a)?p(a):a)}),c}return _.omit(a,_.values(_.omit(b.restangularFields,"id")))}function q(a){a[b.restangularFields.customOperation]=_.bind(K,a),_.each(["put","post","get","delete"],function(b){_.each(["do","custom"],function(c){var d,e="delete"===b?"remove":b,f=c+b.toUpperCase();d="put"!==e&&"post"!==e?K:function(a,b,c,d,e){return _.bind(K,this)(a,c,d,e,b)},a[f]=_.bind(d,a,e)})}),a[b.restangularFields.customGETLIST]=_.bind(y,a),a[b.restangularFields.doGETLIST]=a[b.restangularFields.customGETLIST]}function r(a,c){var d=angular.copy(a,c);return s(d[b.restangularFields.parentResource],d,d[b.restangularFields.route],!0)}function s(a,c,d,e,g,h){var i=b.onBeforeElemRestangularized(c,!1,d),j=f(a,i,d,h,e);return b.useCannonicalId&&(j[b.restangularFields.cannonicalId]=b.getIdFromElem(j)),g&&(j[b.restangularFields.getParentList]=function(){return g}),j[b.restangularFields.restangularCollection]=!1,j[b.restangularFields.get]=_.bind(C,j),j[b.restangularFields.getList]=_.bind(y,j),j[b.restangularFields.put]=_.bind(E,j),j[b.restangularFields.post]=_.bind(F,j),j[b.restangularFields.remove]=_.bind(D,j),j[b.restangularFields.head]=_.bind(G,j),j[b.restangularFields.trace]=_.bind(H,j),j[b.restangularFields.options]=_.bind(I,j),j[b.restangularFields.patch]=_.bind(J,j),j[b.restangularFields.save]=_.bind(A,j),q(j),b.transformElem(j,!1,d,O,!0)}function t(a,c,d,e,g){var h=b.onBeforeElemRestangularized(c,!0,d),i=f(a,h,d,g,e);return i[b.restangularFields.restangularCollection]=!0,i[b.restangularFields.post]=_.bind(F,i,null),i[b.restangularFields.remove]=_.bind(D,i),i[b.restangularFields.head]=_.bind(G,i),i[b.restangularFields.trace]=_.bind(H,i),i[b.restangularFields.putElement]=_.bind(w,i),i[b.restangularFields.options]=_.bind(I,i),i[b.restangularFields.patch]=_.bind(J,i),i[b.restangularFields.get]=_.bind(v,i),i[b.restangularFields.getList]=_.bind(y,i,null),q(i),b.transformElem(i,!0,d,O,!0)}function u(a,b,c){var d=t(a,b,c,!1);return _.each(d,function(b){s(a,b,c,!1)}),d}function v(a,b,c){return this.customGET(a.toString(),b,c)}function w(a,c,e){var f=this,g=this[a],h=d.defer(),i=[];return i=b.transformElem(i,!0,g[b.restangularFields.route],O),g.put(c,e).then(function(b){var c=r(f);c[a]=b,i=c,h.resolve(c)},function(a){h.reject(a)}),l(h.promise,!0,i)}function x(a,c,d,e,f,g){var h=b.responseExtractor(a,c,d,e,f,g),i=f.headers("ETag");return h&&i&&(h[b.restangularFields.etag]=i),h}function y(a,e,f){var g=this,h=d.defer(),i="getList",j=P.fetchUrl(this,a),k=a||g[b.restangularFields.route],m=b.fullRequestInterceptor(null,i,k,j,f||{},e||{},this[b.restangularFields.httpConfig]||{}),n=[];n=b.transformElem(n,!0,k,O);var p="getList";b.jsonp&&(p="jsonp");var q=function(c){var d=c.data,e=c.config.params,f=x(d,i,k,j,c,h);if((_.isUndefined(f)||""===f)&&(f=[]),!_.isArray(f))throw new Error("Response for getList SHOULD be an array and not an object or something else");var l=_.map(f,function(c){return g[b.restangularFields.restangularCollection]?s(g[b.restangularFields.parentResource],c,g[b.restangularFields.route],!0,f):s(g,c,a,!0,f)});l=_.extend(f,l),g[b.restangularFields.restangularCollection]?o(h,c,t(g[b.restangularFields.parentResource],l,g[b.restangularFields.route],!0,e),n):o(h,c,t(g,l,a,!0,e),n)};return P.resource(this,c,m.httpConfig,m.headers,m.params,a,this[b.restangularFields.etag],i)[p]().then(q,function(a){304===a.status&&g[b.restangularFields.restangularCollection]?o(h,a,g,n):_.every(b.errorInterceptors,function(b){return b(a,h,q)!==!1})&&h.reject(a)}),l(h.promise,!0,n)}function z(a){return this[b.restangularFields.httpConfig]=a,this}function A(a,c){return this[b.restangularFields.fromServer]?this[b.restangularFields.put](a,c):_.bind(B,this)("post",void 0,a,void 0,c)}function B(a,e,f,g,h){var i=this,j=d.defer(),k=f||{},m=e||this[b.restangularFields.route],n=P.fetchUrl(this,e),q=g||this,r=q[b.restangularFields.etag]||("post"!==a?this[b.restangularFields.etag]:null);_.isObject(q)&&b.isRestangularized(q)&&(q=p(q));var t=b.fullRequestInterceptor(q,a,m,n,h||{},k||{},this[b.restangularFields.httpConfig]||{}),u={};u=b.transformElem(u,!1,m,O);var v=function(c){var d=c.data,e=c.config.params,f=x(d,a,m,n,c,j);if(f)if("post"!==a||i[b.restangularFields.restangularCollection]){var g=s(i[b.restangularFields.parentResource],f,i[b.restangularFields.route],!0,null,e);g[b.restangularFields.singleOne]=i[b.restangularFields.singleOne],o(j,c,g,u)}else{var g=s(i[b.restangularFields.parentResource],f,m,!0,null,e);o(j,c,g,u)}else o(j,c,void 0,u)},w=function(c){304===c.status&&b.isSafe(a)?o(j,c,i,u):_.every(b.errorInterceptors,function(a){return a(c,j,v)!==!1})&&j.reject(c)},y=a,z=_.extend({},t.headers),A=b.isOverridenMethod(a);return A?(y="post",z=_.extend(z,{"X-HTTP-Method-Override":"remove"===a?"DELETE":a.toUpperCase()})):b.jsonp&&"get"===y&&(y="jsonp"),b.isSafe(a)?A?P.resource(this,c,t.httpConfig,z,t.params,e,r,y)[y]({}).then(v,w):P.resource(this,c,t.httpConfig,z,t.params,e,r,y)[y]().then(v,w):P.resource(this,c,t.httpConfig,z,t.params,e,r,y)[y](t.element).then(v,w),l(j.promise,!1,u)}function C(a,b){return _.bind(B,this)("get",void 0,a,void 0,b)}function D(a,b){return _.bind(B,this)("remove",void 0,a,void 0,b)}function E(a,b){return _.bind(B,this)("put",void 0,a,void 0,b)}function F(a,b,c,d){return _.bind(B,this)("post",a,c,b,d)}function G(a,b){return _.bind(B,this)("head",void 0,a,void 0,b)}function H(a,b){return _.bind(B,this)("trace",void 0,a,void 0,b)}function I(a,b){return _.bind(B,this)("options",void 0,a,void 0,b)}function J(a,b,c){return _.bind(B,this)("patch",void 0,b,a,c)}function K(a,b,c,d,e){return _.bind(B,this)(a,b,c,e,d)}function L(a,c,d,e,f,g){var h;h="getList"===c?_.bind(y,this,d):_.bind(K,this,c,d);var i=function(a,b,c){var d=_.defaults({params:a,headers:b,elem:c},{params:e,headers:f,elem:g});return h(d.params,d.headers,d.elem)};b.isSafe(c)?this[a]=i:this[a]=function(a,b,c){return i(b,c,a)}}function M(c){var d=angular.copy(_.omit(b,"configuration"));return a.init(d,d),c(d),e(d)}function N(a,c){var d=_.values(b.restangularFields),e={},f=(c||O).all(a);e.one=_.bind(g,c||O,c,a),e.post=_.bind(f.post,f),e.getList=_.bind(f.getList,f);for(var h in f)f.hasOwnProperty(h)&&_.isFunction(f[h])&&!_.contains(d,h)&&(e[h]=_.bind(f[h],f));return e}var O={},P=new b.urlCreatorFactory[b.urlCreator];return P.setConfig(b),a.init(O,b),O.copy=_.bind(r,O),O.service=_.bind(N,O),O.withConfig=_.bind(M,O),O.one=_.bind(g,O,null),O.all=_.bind(h,O,null),O.several=_.bind(i,O,null),O.oneUrl=_.bind(j,O,null),O.allUrl=_.bind(k,O,null),O.stripRestangular=_.bind(p,O),O.restangularizeElement=_.bind(s,O),O.restangularizeCollection=_.bind(u,O),O}return e(b)}]})}(),function(a,b,c){"use strict";b.module("ngClipboard",[]).provider("ngClip",function(){var a=this;return this.path="//cdnjs.cloudflare.com/ajax/libs/zeroclipboard/2.1.6/ZeroClipboard.swf",{setPath:function(b){a.path=b},setConfig:function(b){a.config=b},$get:function(){return{path:a.path,config:a.config}}}}).run(["ngClip",function(a){var c={swfPath:a.path,trustedDomains:["*"],allowScriptAccess:"always",forceHandCursor:!0};ZeroClipboard.config(b.extend(c,a.config||{}))}]).directive("clipCopy",["ngClip",function(a){return{scope:{clipCopy:"&",clipClick:"&",clipClickFallback:"&"},restrict:"A",link:function(a,c,d){if(ZeroClipboard.isFlashUnusable())return void c.bind("click",function(b){a.$apply(a.clipClickFallback({$event:b,copy:a.$eval(a.clipCopy)}))});var e=new ZeroClipboard(c);""===d.clipCopy&&(a.clipCopy=function(a){return c[0].previousElementSibling.innerText}),e.on("ready",function(c){e.on("copy",function(b){var c=b.clipboardData;c.setData(d.clipCopyMimeType||"text/plain",a.$eval(a.clipCopy))}),e.on("aftercopy",function(c){b.isDefined(d.clipClick)&&a.$apply(a.clipClick)}),a.$on("$destroy",function(){e.destroy()})})}}}])}(window,window.angular),angular.module("debounce",[]).service("debounce",["$timeout",function(a){return function(b,c,d){function e(){h=this,g=arguments;var e=function(){f=null,d||(i=b.apply(h,g))},j=d&&!f;return f&&a.cancel(f),f=a(e,c),j&&(i=b.apply(h,g)),i}var f,g,h,i;return e.cancel=function(){a.cancel(f),f=null},e}}]).directive("debounce",["debounce","$parse",function(a,b){return{require:"ngModel",priority:999,link:function(c,d,e,f){var g,h,i=b(e.debounce)(c),j=!!b(e.immediate)(c),k=f.$render.bind(f),l=a(function(a){h=!0,f.$setViewValue(a),h=!1},parseInt(i,10),j);f.$render=function(){k(),l.cancel(),g=this.$viewValue},f.$parsers.unshift(function(a){return h?(g=a,a):(l(f.$viewValue),g)})}}}]),function(){"use strict";angular.module("angular-filters",[])}(),function(){"use strict";angular.module("angular-filters").filter("bytes",[function(){return function(a,b){if("number"!=typeof a&&(a=parseFloat(a)),0===a)return"0 B";if(isNaN(a)||!isFinite(a))return"-";var c=0>a;c&&(a=-a),"number"!=typeof b&&(b=parseFloat(b)),(isNaN(b)||!isFinite(b))&&(b=1);var d=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],e=Math.min(Math.floor(Math.log(a)/Math.log(1024)),d.length-1),f=(a/Math.pow(1024,Math.floor(e))).toFixed(b);return(c?"-":"")+f+" "+d[e]}}])}(),function(){"use strict";angular.module("angular-filters").filter("join",[function(){return function(a,b){if(!Array.isArray(a))return a;var c=[];return a.forEach(function(a){a&&c.push(a)}),c.join(b||",")}}])}(),function(){"use strict";angular.module("angular-filters").filter("replace",[function(){function a(a){return"string"==typeof a||a instanceof String}return function(b,c,d){return a(b)&&a(c)&&a(d)?b.split(c).join(d):b}}])}(),function(){"use strict";angular.module("angular-filters").filter("reverse",[function(){function a(a){return a.slice().reverse()}function b(a){for(var b="",c=0;c<a.length;c++)b=a.charAt(c)+b;return b}return function(c){return Array.isArray(c)?a(c):"string"==typeof c||c instanceof String?b(c):c}}])}(),function(){"use strict";angular.module("angular-filters").filter("toSpacedWords",[function(){function a(a){return a.match(/\d+|__/g)||(a=a.replace(/([a-z])([A-Z])/g,"$1 $2"),a=a.length>1?a.charAt(0).toUpperCase()+a.slice(1):a),a}return function(b){return b&&("string"==typeof b||b instanceof String)?a(b):b}}])}(),function(a,b,c){"use strict";b.module("satellizer",[]).constant("SatellizerConfig",{httpInterceptor:!0,withCredentials:!0,tokenRoot:null,cordova:!1,baseUrl:"/",loginUrl:"/auth/login",signupUrl:"/auth/signup",unlinkUrl:"/auth/unlink/",tokenName:"token",tokenPrefix:"satellizer",authHeader:"Authorization",authToken:"Bearer",storageType:"localStorage",providers:{google:{name:"google",url:"/auth/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:a.location.origin||a.location.protocol+"//"+a.location.host,scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",requiredUrlParams:["scope"],optionalUrlParams:["display"],display:"popup",type:"2.0",popupOptions:{width:452,height:633}},facebook:{name:"facebook",url:"/auth/facebook",authorizationEndpoint:"https://www.facebook.com/v2.3/dialog/oauth",redirectUri:(a.location.origin||a.location.protocol+"//"+a.location.host)+"/",scope:["email"],scopeDelimiter:",",requiredUrlParams:["display","scope"],display:"popup",type:"2.0",popupOptions:{width:580,height:400}},linkedin:{name:"linkedin",url:"/auth/linkedin",authorizationEndpoint:"https://www.linkedin.com/uas/oauth2/authorization",redirectUri:a.location.origin||a.location.protocol+"//"+a.location.host,requiredUrlParams:["state"],scope:["r_emailaddress"],scopeDelimiter:" ",state:"STATE",type:"2.0",popupOptions:{width:527,height:582}},github:{name:"github",url:"/auth/github",authorizationEndpoint:"https://github.com/login/oauth/authorize",redirectUri:a.location.origin||a.location.protocol+"//"+a.location.host,optionalUrlParams:["scope"],scope:["user:email"],scopeDelimiter:" ",type:"2.0",popupOptions:{width:1020,height:618}},yahoo:{name:"yahoo",url:"/auth/yahoo",authorizationEndpoint:"https://api.login.yahoo.com/oauth2/request_auth",redirectUri:a.location.origin||a.location.protocol+"//"+a.location.host,scope:[],scopeDelimiter:",",type:"2.0",popupOptions:{width:559,height:519}},twitter:{name:"twitter",url:"/auth/twitter",authorizationEndpoint:"https://api.twitter.com/oauth/authenticate",redirectUri:a.location.origin||a.location.protocol+"//"+a.location.host,type:"1.0",popupOptions:{width:495,height:645}},live:{name:"live",url:"/auth/live",authorizationEndpoint:"https://login.live.com/oauth20_authorize.srf",redirectUri:a.location.origin||a.location.protocol+"//"+a.location.host,scope:["wl.emails"],scopeDelimiter:" ",requiredUrlParams:["display","scope"],display:"popup",type:"2.0",popupOptions:{width:500,height:560}}}}).provider("$auth",["SatellizerConfig",function(a){Object.defineProperties(this,{httpInterceptor:{get:function(){return a.httpInterceptor},set:function(b){a.httpInterceptor=b}},baseUrl:{get:function(){return a.baseUrl},set:function(b){a.baseUrl=b}},loginUrl:{get:function(){return a.loginUrl},set:function(b){a.loginUrl=b}},signupUrl:{get:function(){return a.signupUrl},set:function(b){a.signupUrl=b}},tokenRoot:{get:function(){return a.tokenRoot},set:function(b){a.tokenRoot=b}},tokenName:{get:function(){return a.tokenName},set:function(b){a.tokenName=b}},tokenPrefix:{get:function(){return a.tokenPrefix},set:function(b){a.tokenPrefix=b}},unlinkUrl:{get:function(){return a.unlinkUrl},set:function(b){a.unlinkUrl=b}},authHeader:{get:function(){return a.authHeader},set:function(b){a.authHeader=b}},authToken:{get:function(){return a.authToken},set:function(b){a.authToken=b}},withCredentials:{get:function(){return a.withCredentials},set:function(b){a.withCredentials=b}},cordova:{get:function(){return a.cordova},set:function(b){a.cordova=b}},storageType:{get:function(){return a.storageType},set:function(b){a.storageType=b}}}),b.forEach(Object.keys(a.providers),function(c){this[c]=function(d){return b.extend(a.providers[c],d)}},this);var c=function(c){a.providers[c.name]=a.providers[c.name]||{},b.extend(a.providers[c.name],c)};this.oauth1=function(b){c(b),a.providers[b.name].type="1.0"},this.oauth2=function(b){c(b),a.providers[b.name].type="2.0"},this.$get=["$q","SatellizerShared","SatellizerLocal","SatellizerOauth",function(a,b,c,d){var e={};return e.login=function(a,b){return c.login(a,b)},e.signup=function(a){return c.signup(a)},e.logout=function(){return b.logout()},e.authenticate=function(a,b){return d.authenticate(a,b)},e.link=function(a,b){return d.authenticate(a,b)},e.unlink=function(a,b){return d.unlink(a,b)},e.isAuthenticated=function(){return b.isAuthenticated()},e.getToken=function(){return b.getToken()},e.setToken=function(a){b.setToken({access_token:a})},e.removeToken=function(){return b.removeToken()},e.getPayload=function(){return b.getPayload()},e.setStorageType=function(a){return b.setStorageType(a)},e}]}]).factory("SatellizerShared",["$q","$window","SatellizerConfig","SatellizerStorage",function(c,d,e,f){var g={},h=e.tokenPrefix?[e.tokenPrefix,e.tokenName].join("_"):e.tokenName;return g.getToken=function(){return f.get(h)},g.getPayload=function(){var b=f.get(h);if(b&&3===b.split(".").length){var c=b.split(".")[1],d=c.replace("-","+").replace("_","/");return JSON.parse(decodeURIComponent(escape(a.atob(d))))}},g.setToken=function(a){var c,d=a&&a.access_token;if(d&&(b.isObject(d)&&b.isObject(d.data)?a=d:b.isString(d)&&(c=d)),!c&&a){var g=e.tokenRoot&&e.tokenRoot.split(".").reduce(function(a,b){return a[b]},a.data);c=g?g[e.tokenName]:a.data[e.tokenName]}if(!c){var i=e.tokenRoot?e.tokenRoot+"."+e.tokenName:e.tokenName;throw new Error('Expecting a token named "'+i+'" but instead got: '+JSON.stringify(a.data))}f.set(h,c)},g.removeToken=function(){f.remove(h)},g.isAuthenticated=function(){var a=f.get(h);if(a){if(3===a.split(".").length){var b=a.split(".")[1],c=b.replace("-","+").replace("_","/"),e=JSON.parse(d.atob(c)).exp;return e?Math.round((new Date).getTime()/1e3)<=e:!0}return!0}return!1},g.logout=function(){return f.remove(h),c.when()},g.setStorageType=function(a){e.storageType=a},g}]).factory("SatellizerOauth",["$q","$http","SatellizerConfig","SatellizerUtils","SatellizerShared","SatellizerOauth1","SatellizerOauth2",function(a,b,c,d,e,f,g){var h={};return h.authenticate=function(b,d){var h="1.0"===c.providers[b].type?new f:new g,i=a.defer();return h.open(c.providers[b],d||{}).then(function(a){e.setToken(a,!1),i.resolve(a)})["catch"](function(a){i.reject(a)}),i.promise},h.unlink=function(a,e){return e=e||{},e.url=c.baseUrl?d.joinUrl(c.baseUrl,c.unlinkUrl):c.unlinkUrl,e.data={provider:a}||e.data,e.method=e.method||"POST",b(e)},h}]).factory("SatellizerLocal",["$http","SatellizerUtils","SatellizerShared","SatellizerConfig",function(a,b,c,d){var e={};return e.login=function(e,f){return f=f||{},f.url=d.baseUrl?b.joinUrl(d.baseUrl,d.loginUrl):d.loginUrl,f.data=e||f.data,f.method=f.method||"POST",a(f).then(function(a){return c.setToken(a),a})},e.signup=function(c,e){return e=e||{},e.url=d.baseUrl?b.joinUrl(d.baseUrl,d.signupUrl):d.signupUrl,e.data=c||e.data,e.method=e.method||"POST",a(e)},e}]).factory("SatellizerOauth2",["$q","$http","$window","SatellizerPopup","SatellizerUtils","SatellizerConfig","SatellizerStorage",function(a,c,d,e,f,g,h){return function(){var d={},i={defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"}};return d.open=function(c,j){i=f.merge(c,i);var k,l=[i.authorizationEndpoint,d.buildQueryString()].join("?"),m=i.name+"_state";return b.isFunction(i.state)?h.set(m,i.state()):b.isString(i.state)&&h.set(m,i.state),k=g.cordova?e.open(l,i.name,i.popupOptions,i.redirectUri).eventListener(i.redirectUri):e.open(l,i.name,i.popupOptions,i.redirectUri).pollPopup(),k.then(function(b){return"token"===i.responseType?b:b.state&&b.state!==h.get(m)?a.reject('OAuth "state" mismatch'):d.exchangeForToken(b,j)})},d.exchangeForToken=function(a,d){var e=b.extend({},d);b.forEach(i.responseParams,function(b,c){switch(c){case"code":e[b]=a.code;break;case"clientId":e[b]=i.clientId;break;case"redirectUri":e[b]=i.redirectUri;break;default:e[b]=a[c]}}),a.state&&(e.state=a.state);var h=g.baseUrl?f.joinUrl(g.baseUrl,i.url):i.url;return c.post(h,e,{withCredentials:g.withCredentials})},d.buildQueryString=function(){var a=[],c=["defaultUrlParams","requiredUrlParams","optionalUrlParams"];return b.forEach(c,function(c){b.forEach(i[c],function(c){var d=f.camelCase(c),e=b.isFunction(i[c])?i[c]():i[d];if("state"===c){var g=i.name+"_state";e=encodeURIComponent(h.get(g))}"scope"===c&&Array.isArray(e)&&(e=e.join(i.scopeDelimiter),i.scopePrefix&&(e=[i.scopePrefix,e].join(i.scopeDelimiter))),a.push([c,e])})}),a.map(function(a){return a.join("=")}).join("&")},d}}]).factory("SatellizerOauth1",["$q","$http","SatellizerPopup","SatellizerConfig","SatellizerUtils",function(a,c,d,e,f){return function(){var a={},g={url:null,name:null,popupOptions:null,redirectUri:null,authorizationEndpoint:null};return a.open=function(h,i){b.extend(g,h);var j,k=e.baseUrl?f.joinUrl(e.baseUrl,g.url):g.url;return e.cordova||(j=d.open("",g.name,g.popupOptions,g.redirectUri)),c.post(k,g).then(function(b){e.cordova?j=d.open([g.authorizationEndpoint,a.buildQueryString(b.data)].join("?"),g.name,g.popupOptions,g.redirectUri):j.popupWindow.location=[g.authorizationEndpoint,a.buildQueryString(b.data)].join("?");var c=e.cordova?j.eventListener(g.redirectUri):j.pollPopup();return c.then(function(b){return a.exchangeForToken(b,i)})})},a.exchangeForToken=function(a,d){var h=b.extend({},d,a),i=e.baseUrl?f.joinUrl(e.baseUrl,g.url):g.url;return c.post(i,h,{withCredentials:e.withCredentials})},a.buildQueryString=function(a){var c=[];return b.forEach(a,function(a,b){c.push(encodeURIComponent(b)+"="+encodeURIComponent(a))}),c.join("&")},a}}]).factory("SatellizerPopup",["$q","$interval","$window","SatellizerConfig","SatellizerUtils",function(d,e,f,g,h){var i={};return i.url="",i.popupWindow=null,i.open=function(b,c,d){i.url=b;var e=i.stringifyOptions(i.prepareOptions(d)),f=g.cordova?"_blank":c;return i.popupWindow=a.open(b,f,e),a.popup=i.popupWindow,i.popupWindow&&i.popupWindow.focus&&i.popupWindow.focus(),i},i.eventListener=function(a){var c=d.defer();return i.popupWindow.addEventListener("loadstart",function(d){if(0===d.url.indexOf(a)){var e=document.createElement("a");if(e.href=d.url,e.search||e.hash){var f=e.search.substring(1).replace(/\/$/,""),g=e.hash.substring(1).replace(/\/$/,""),j=h.parseQueryString(g),k=h.parseQueryString(f);b.extend(k,j),k.error||c.resolve(k),i.popupWindow.close()}}}),i.popupWindow.addEventListener("loaderror",function(){c.reject("Authorization Failed")}),c.promise},i.pollPopup=function(){var a=d.defer(),f=e(function(){try{var d=document.location.host,g=i.popupWindow.location.host;if(g===d&&(i.popupWindow.location.search||i.popupWindow.location.hash)){
var j=i.popupWindow.location.search.substring(1).replace(/\/$/,""),k=i.popupWindow.location.hash.substring(1).replace(/[\/$]/,""),l=h.parseQueryString(k),m=h.parseQueryString(j);b.extend(m,l),m.error||a.resolve(m),i.popupWindow.close(),e.cancel(f)}}catch(n){}(!i.popupWindow||i.popupWindow.closed||i.popupWindow.closed===c)&&e.cancel(f)},50);return a.promise},i.prepareOptions=function(a){a=a||{};var c=a.width||500,d=a.height||500;return b.extend({width:c,height:d,left:f.screenX+(f.outerWidth-c)/2,top:f.screenY+(f.outerHeight-d)/2.5},a)},i.stringifyOptions=function(a){var c=[];return b.forEach(a,function(a,b){c.push(b+"="+a)}),c.join(",")},i}]).service("SatellizerUtils",function(){this.camelCase=function(a){return a.replace(/([\:\-\_]+(.))/g,function(a,b,c,d){return d?c.toUpperCase():c})},this.parseQueryString=function(a){var c,d,e={};return b.forEach((a||"").split("&"),function(a){a&&(d=a.split("="),c=decodeURIComponent(d[0]),e[c]=b.isDefined(d[1])?decodeURIComponent(d[1]):!0)}),e},this.joinUrl=function(a,b){if(/^(?:[a-z]+:)?\/\//i.test(b))return b;var c=[a,b].join("/"),d=function(a){return a.replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")};return d(c)},this.merge=function(a,b){var c={};for(var d in a)a.hasOwnProperty(d)&&(d in b&&"object"==typeof a[d]&&null!==d?c[d]=this.merge(a[d],b[d]):c[d]=a[d]);for(d in b)if(b.hasOwnProperty(d)){if(d in c)continue;c[d]=b[d]}return c}}).factory("SatellizerStorage",["$window","SatellizerConfig",function(a,b){var d=function(){try{var c=b.storageType in a&&null!==a[b.storageType];if(c){var d=Math.random().toString(36).substring(7);a[b.storageType].setItem(d,""),a[b.storageType].removeItem(d)}return c}catch(e){return!1}}();return d||console.warn("Satellizer Warning: "+b.storageType+" is not available."),{get:function(e){return d?a[b.storageType].getItem(e):c},set:function(e,f){return d?a[b.storageType].setItem(e,f):c},remove:function(e){return d?a[b.storageType].removeItem(e):c}}}]).factory("SatellizerInterceptor",["$q","SatellizerConfig","SatellizerStorage","SatellizerShared",function(a,b,c,d){return{request:function(a){if(a.skipAuthorization)return a;if(d.isAuthenticated()&&b.httpInterceptor){var e=b.tokenPrefix?b.tokenPrefix+"_"+b.tokenName:b.tokenName,f=c.get(e);b.authHeader&&b.authToken&&(f=b.authToken+" "+f),a.headers[b.authHeader]=f}return a},responseError:function(b){return a.reject(b)}}}]).config(["$httpProvider",function(a){a.interceptors.push("SatellizerInterceptor")}])}(window,window.angular),function(a,b,c){function d(b,c){if(a.isArray(b)){for(var d=b.length-1;d>=0;d--){var e=b[d];"string"===a.type(e)&&i.transports[e]||(c.log("Invalid transport: "+e+", removing it from the transports list."),b.splice(d,1))}0===b.length&&(c.log("No transports remain within the specified transport array."),b=null)}else if(i.transports[b]||"auto"===b){if("auto"===b&&i._.ieVersion<=8)return["longPolling"]}else c.log("Invalid transport: "+b.toString()+"."),b=null;return b}function e(a){return"http:"===a?80:"https:"===a?443:void 0}function f(a,b){return b.match(/:\d+$/)?b:b+":"+e(a)}function g(b,c){var d=this,e=[];d.tryBuffer=function(c){return b.state===a.signalR.connectionState.connecting?(e.push(c),!0):!1},d.drain=function(){if(b.state===a.signalR.connectionState.connected)for(;e.length>0;)c(e.shift())},d.clear=function(){e=[]}}var h={nojQuery:"jQuery was not found. Please ensure jQuery is referenced before the SignalR client JavaScript file.",noTransportOnInit:"No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.",errorOnNegotiate:"Error during negotiation request.",stoppedWhileLoading:"The connection was stopped during page load.",stoppedWhileNegotiating:"The connection was stopped during the negotiate request.",errorParsingNegotiateResponse:"Error parsing negotiate response.",errorDuringStartRequest:"Error during start request. Stopping the connection.",stoppedDuringStartRequest:"The connection was stopped during the start request.",errorParsingStartResponse:"Error parsing start response: '{0}'. Stopping the connection.",invalidStartResponse:"Invalid start response: '{0}'. Stopping the connection.",protocolIncompatible:"You are using a version of the client that isn't compatible with the server. Client version {0}, server version {1}.",sendFailed:"Send failed.",parseFailed:"Failed at parsing response: {0}",longPollFailed:"Long polling request failed.",eventSourceFailedToConnect:"EventSource failed to connect.",eventSourceError:"Error raised by EventSource",webSocketClosed:"WebSocket closed.",pingServerFailedInvalidResponse:"Invalid ping response when pinging server: '{0}'.",pingServerFailed:"Failed to ping server.",pingServerFailedStatusCode:"Failed to ping server.  Server responded with status code {0}, stopping the connection.",pingServerFailedParse:"Failed to parse ping server response, stopping the connection.",noConnectionTransport:"Connection is in an invalid state, there is no transport active.",webSocketsInvalidState:"The Web Socket transport is in an invalid state, transitioning into reconnecting.",reconnectTimeout:"Couldn't reconnect within the configured timeout of {0} ms, disconnecting.",reconnectWindowTimeout:"The client has been inactive since {0} and it has exceeded the inactivity timeout of {1} ms. Stopping the connection."};if("function"!=typeof a)throw new Error(h.nojQuery);var i,j,k="complete"===b.document.readyState,l=a(b),m="__Negotiate Aborted__",n={onStart:"onStart",onStarting:"onStarting",onReceived:"onReceived",onError:"onError",onConnectionSlow:"onConnectionSlow",onReconnecting:"onReconnecting",onReconnect:"onReconnect",onStateChanged:"onStateChanged",onDisconnect:"onDisconnect"},o={processData:!0,timeout:null,async:!0,global:!1,cache:!1},p=function(a,c){if(c!==!1){var d;"undefined"!=typeof b.console&&(d="["+(new Date).toTimeString()+"] SignalR: "+a,b.console.debug?b.console.debug(d):b.console.log&&b.console.log(d))}},q=function(b,c,d){return c===b.state?(b.state=d,a(b).triggerHandler(n.onStateChanged,[{oldState:c,newState:d}]),!0):!1},r=function(a){return a.state===i.connectionState.disconnected},s=function(a){return a._.keepAliveData.activated&&a.transport.supportsKeepAlive(a)},t=function(c){var d,e;c._.configuredStopReconnectingTimeout||(e=function(b){var c=i._.format(i.resources.reconnectTimeout,b.disconnectTimeout);b.log(c),a(b).triggerHandler(n.onError,[i._.error(c,"TimeoutException")]),b.stop(!1,!1)},c.reconnecting(function(){var a=this;a.state===i.connectionState.reconnecting&&(d=b.setTimeout(function(){e(a)},a.disconnectTimeout))}),c.stateChanged(function(a){a.oldState===i.connectionState.reconnecting&&b.clearTimeout(d)}),c._.configuredStopReconnectingTimeout=!0)};i=function(a,b,c){return new i.fn.init(a,b,c)},i._={defaultContentType:"application/x-www-form-urlencoded; charset=UTF-8",ieVersion:function(){var a,c;return"Microsoft Internet Explorer"===b.navigator.appName&&(c=/MSIE ([0-9]+\.[0-9]+)/.exec(b.navigator.userAgent),c&&(a=b.parseFloat(c[1]))),a}(),error:function(a,b,c){var d=new Error(a);return d.source=b,"undefined"!=typeof c&&(d.context=c),d},transportError:function(a,b,d,e){var f=this.error(a,d,e);return f.transport=b?b.name:c,f},format:function(){for(var a=arguments[0],b=0;b<arguments.length-1;b++)a=a.replace("{"+b+"}",arguments[b+1]);return a},firefoxMajorVersion:function(a){var b=a.match(/Firefox\/(\d+)/);return!b||!b.length||b.length<2?0:parseInt(b[1],10)},configurePingInterval:function(c){var d=c._.config,e=function(b){a(c).triggerHandler(n.onError,[b])};d&&!c._.pingIntervalId&&d.pingInterval&&(c._.pingIntervalId=b.setInterval(function(){i.transports._logic.pingServer(c).fail(e)},d.pingInterval))}},i.events=n,i.resources=h,i.ajaxDefaults=o,i.changeState=q,i.isDisconnecting=r,i.connectionState={connecting:0,connected:1,reconnecting:2,disconnected:4},i.hub={start:function(){throw new Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/js'></script>.")}},l.load(function(){k=!0}),i.fn=i.prototype={init:function(b,c,d){var e=a(this);this.url=b,this.qs=c,this.lastError=null,this._={keepAliveData:{},connectingMessageBuffer:new g(this,function(a){e.triggerHandler(n.onReceived,[a])}),lastMessageAt:(new Date).getTime(),lastActiveAt:(new Date).getTime(),beatInterval:5e3,beatHandle:null,totalTransportConnectTimeout:0},"boolean"==typeof d&&(this.logging=d)},_parseResponse:function(a){var b=this;return a&&"string"==typeof a?b.json.parse(a):a},_originalJson:b.JSON,json:b.JSON,isCrossDomain:function(c,d){var e;return c=a.trim(c),d=d||b.location,0!==c.indexOf("http")?!1:(e=b.document.createElement("a"),e.href=c,e.protocol+f(e.protocol,e.host)!==d.protocol+f(d.protocol,d.host))},ajaxDataType:"text",contentType:"application/json; charset=UTF-8",logging:!1,state:i.connectionState.disconnected,clientProtocol:"1.5",reconnectDelay:2e3,transportConnectTimeout:0,disconnectTimeout:3e4,reconnectWindow:3e4,keepAliveWarnAt:2/3,start:function(c,e){var f,g=this,j={pingInterval:3e5,waitForPageLoad:!0,transport:"auto",jsonp:!1},o=g._deferral||a.Deferred(),p=b.document.createElement("a");if(g.lastError=null,g._deferral=o,!g.json)throw new Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.");if("function"===a.type(c)?e=c:"object"===a.type(c)&&(a.extend(j,c),"function"===a.type(j.callback)&&(e=j.callback)),j.transport=d(j.transport,g),!j.transport)throw new Error("SignalR: Invalid transport(s) specified, aborting start.");if(g._.config=j,!k&&j.waitForPageLoad===!0)return g._.deferredStartHandler=function(){g.start(c,e)},l.bind("load",g._.deferredStartHandler),o.promise();if(g.state===i.connectionState.connecting)return o.promise();if(q(g,i.connectionState.disconnected,i.connectionState.connecting)===!1)return o.resolve(g),o.promise();t(g),p.href=g.url,p.protocol&&":"!==p.protocol?(g.protocol=p.protocol,g.host=p.host):(g.protocol=b.document.location.protocol,g.host=p.host||b.document.location.host),g.baseUrl=g.protocol+"//"+g.host,g.wsProtocol="https:"===g.protocol?"wss://":"ws://","auto"===j.transport&&j.jsonp===!0&&(j.transport="longPolling"),0===g.url.indexOf("//")&&(g.url=b.location.protocol+g.url,g.log("Protocol relative URL detected, normalizing it to '"+g.url+"'.")),this.isCrossDomain(g.url)&&(g.log("Auto detected cross domain url."),"auto"===j.transport&&(j.transport=["webSockets","serverSentEvents","longPolling"]),"undefined"==typeof j.withCredentials&&(j.withCredentials=!0),j.jsonp||(j.jsonp=!a.support.cors,j.jsonp&&g.log("Using jsonp because this browser doesn't support CORS.")),g.contentType=i._.defaultContentType),g.withCredentials=j.withCredentials,g.ajaxDataType=j.jsonp?"jsonp":"text",a(g).bind(n.onStart,function(b,c){"function"===a.type(e)&&e.call(g),o.resolve(g)}),g._.initHandler=i.transports._logic.initHandler(g),f=function(c,d){var e=i._.error(h.noTransportOnInit);if(d=d||0,d>=c.length)return 0===d?g.log("No transports supported by the server were selected."):1===d?g.log("No fallback transports were selected."):g.log("Fallback transports exhausted."),a(g).triggerHandler(n.onError,[e]),o.reject(e),void g.stop();if(g.state!==i.connectionState.disconnected){var j=c[d],k=i.transports[j],m=function(){f(c,d+1)};g.transport=k;try{g._.initHandler.start(k,function(){var c=i._.firefoxMajorVersion(b.navigator.userAgent)>=11,d=!!g.withCredentials&&c;g.log("The start request succeeded. Transitioning to the connected state."),s(g)&&i.transports._logic.monitorKeepAlive(g),i.transports._logic.startHeartbeat(g),i._.configurePingInterval(g),q(g,i.connectionState.connecting,i.connectionState.connected)||g.log("WARNING! The connection was not in the connecting state."),g._.connectingMessageBuffer.drain(),a(g).triggerHandler(n.onStart),l.bind("unload",function(){g.log("Window unloading, stopping the connection."),g.stop(d)}),c&&l.bind("beforeunload",function(){b.setTimeout(function(){g.stop(d)},0)})},m)}catch(p){g.log(k.name+" transport threw '"+p.message+"' when attempting to start."),m()}}};var r=g.url+"/negotiate",u=function(b,c){var d=i._.error(h.errorOnNegotiate,b,c._.negotiateRequest);a(c).triggerHandler(n.onError,d),o.reject(d),c.stop()};return a(g).triggerHandler(n.onStarting),r=i.transports._logic.prepareQueryString(g,r),g.log("Negotiating with '"+r+"'."),g._.negotiateRequest=i.transports._logic.ajax(g,{url:r,error:function(a,b){b!==m?u(a,g):o.reject(i._.error(h.stoppedWhileNegotiating,null,g._.negotiateRequest))},success:function(b){var c,d,e,k=[],l=[];try{c=g._parseResponse(b)}catch(m){return void u(i._.error(h.errorParsingNegotiateResponse,m),g)}return d=g._.keepAliveData,g.appRelativeUrl=c.Url,g.id=c.ConnectionId,g.token=c.ConnectionToken,g.webSocketServerUrl=c.WebSocketServerUrl,g._.pollTimeout=1e3*c.ConnectionTimeout+1e4,g.disconnectTimeout=1e3*c.DisconnectTimeout,g._.totalTransportConnectTimeout=g.transportConnectTimeout+1e3*c.TransportConnectTimeout,c.KeepAliveTimeout?(d.activated=!0,d.timeout=1e3*c.KeepAliveTimeout,d.timeoutWarning=d.timeout*g.keepAliveWarnAt,g._.beatInterval=(d.timeout-d.timeoutWarning)/3):d.activated=!1,g.reconnectWindow=g.disconnectTimeout+(d.timeout||0),c.ProtocolVersion&&c.ProtocolVersion===g.clientProtocol?(a.each(i.transports,function(a){return 0===a.indexOf("_")||"webSockets"===a&&!c.TryWebSockets?!0:void l.push(a)}),a.isArray(j.transport)?a.each(j.transport,function(b,c){a.inArray(c,l)>=0&&k.push(c)}):"auto"===j.transport?k=l:a.inArray(j.transport,l)>=0&&k.push(j.transport),void f(k)):(e=i._.error(i._.format(h.protocolIncompatible,g.clientProtocol,c.ProtocolVersion)),a(g).triggerHandler(n.onError,[e]),void o.reject(e))}}),o.promise()},starting:function(b){var c=this;return a(c).bind(n.onStarting,function(a,d){b.call(c)}),c},send:function(a){var b=this;if(b.state===i.connectionState.disconnected)throw new Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()");if(b.state===i.connectionState.connecting)throw new Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.");return b.transport.send(b,a),b},received:function(b){var c=this;return a(c).bind(n.onReceived,function(a,d){b.call(c,d)}),c},stateChanged:function(b){var c=this;return a(c).bind(n.onStateChanged,function(a,d){b.call(c,d)}),c},error:function(b){var c=this;return a(c).bind(n.onError,function(a,d,e){c.lastError=d,b.call(c,d,e)}),c},disconnected:function(b){var c=this;return a(c).bind(n.onDisconnect,function(a,d){b.call(c)}),c},connectionSlow:function(b){var c=this;return a(c).bind(n.onConnectionSlow,function(a,d){b.call(c)}),c},reconnecting:function(b){var c=this;return a(c).bind(n.onReconnecting,function(a,d){b.call(c)}),c},reconnected:function(b){var c=this;return a(c).bind(n.onReconnect,function(a,d){b.call(c)}),c},stop:function(c,d){var e=this,f=e._deferral;return e._.deferredStartHandler&&l.unbind("load",e._.deferredStartHandler),delete e._.config,delete e._.deferredStartHandler,k||e._.config&&e._.config.waitForPageLoad!==!0?e.state!==i.connectionState.disconnected?(e.log("Stopping connection."),q(e,e.state,i.connectionState.disconnected),b.clearTimeout(e._.beatHandle),b.clearInterval(e._.pingIntervalId),e.transport&&(e.transport.stop(e),d!==!1&&e.transport.abort(e,c),s(e)&&i.transports._logic.stopMonitoringKeepAlive(e),e.transport=null),e._.negotiateRequest&&(e._.negotiateRequest.abort(m),delete e._.negotiateRequest),e._.initHandler&&e._.initHandler.stop(),a(e).triggerHandler(n.onDisconnect),delete e._deferral,delete e.messageId,delete e.groupsToken,delete e.id,delete e._.pingIntervalId,delete e._.lastMessageAt,delete e._.lastActiveAt,e._.connectingMessageBuffer.clear(),e):void 0:(e.log("Stopping connection prior to negotiate."),void(f&&f.reject(i._.error(h.stoppedWhileLoading))))},log:function(a){p(a,this.logging)}},i.fn.init.prototype=i.fn,i.noConflict=function(){return a.connection===i&&(a.connection=j),i},a.connection&&(j=a.connection),a.connection=a.signalR=i}(window.jQuery,window),function(a,b,c){function d(a){a._.keepAliveData.monitoring&&e(a),h.markActive(a)&&(a._.beatHandle=b.setTimeout(function(){d(a)},a._.beatInterval))}function e(b){var c,d=b._.keepAliveData;b.state===i.connectionState.connected&&(c=(new Date).getTime()-b._.lastMessageAt,c>=d.timeout?(b.log("Keep alive timed out.  Notifying transport that connection has been lost."),b.transport.lostConnection(b)):c>=d.timeoutWarning?d.userNotified||(b.log("Keep alive has been missed, connection may be dead/slow."),a(b).triggerHandler(j.onConnectionSlow),d.userNotified=!0):d.userNotified=!1)}function f(a,b){var c=a.url+b;return a.transport&&(c+="?transport="+a.transport.name),h.prepareQueryString(a,c)}function g(a){this.connection=a,this.startRequested=!1,this.startCompleted=!1,this.connectionStopped=!1}var h,i=a.signalR,j=a.signalR.events,k=a.signalR.changeState,l="__Start Aborted__";i.transports={},g.prototype={start:function(a,d,e){var f=this,g=f.connection,h=!1;return f.startRequested||f.connectionStopped?void g.log("WARNING! "+a.name+" transport cannot be started. Initialization ongoing or completed."):(g.log(a.name+" transport starting."),f.transportTimeoutHandle=b.setTimeout(function(){h||(h=!0,g.log(a.name+" transport timed out when trying to connect."),f.transportFailed(a,c,e))},g._.totalTransportConnectTimeout),void a.start(g,function(){h||f.initReceived(a,d)},function(b){return h||(h=!0,f.transportFailed(a,b,e)),!f.startCompleted||f.connectionStopped}))},stop:function(){this.connectionStopped=!0,b.clearTimeout(this.transportTimeoutHandle),i.transports._logic.tryAbortStartRequest(this.connection)},initReceived:function(a,c){var d=this,e=d.connection;return d.startRequested?void e.log("WARNING! The client received multiple init messages."):void(d.connectionStopped||(d.startRequested=!0,b.clearTimeout(d.transportTimeoutHandle),e.log(a.name+" transport connected. Initiating start request."),i.transports._logic.ajaxStart(e,function(){d.startCompleted=!0,c()})))},transportFailed:function(c,d,e){var f,g=this.connection,h=g._deferral;this.connectionStopped||(b.clearTimeout(this.transportTimeoutHandle),this.startRequested?this.startCompleted||(f=i._.error(i.resources.errorDuringStartRequest,d),g.log(c.name+" transport failed during the start request. Stopping the connection."),a(g).triggerHandler(j.onError,[f]),h&&h.reject(f),g.stop()):(c.stop(g),g.log(c.name+" transport failed to connect. Attempting to fall back."),e()))}},h=i.transports._logic={ajax:function(b,c){return a.ajax(a.extend(!0,{},a.signalR.ajaxDefaults,{type:"GET",data:{},xhrFields:{withCredentials:b.withCredentials},contentType:b.contentType,dataType:b.ajaxDataType},c))},pingServer:function(b){var c,d,e=a.Deferred();return b.transport?(c=b.url+"/ping",c=h.addQs(c,b.qs),d=h.ajax(b,{url:c,success:function(a){var c;try{c=b._parseResponse(a)}catch(f){return e.reject(i._.transportError(i.resources.pingServerFailedParse,b.transport,f,d)),void b.stop()}"pong"===c.Response?e.resolve():e.reject(i._.transportError(i._.format(i.resources.pingServerFailedInvalidResponse,a),b.transport,null,d))},error:function(a){401===a.status||403===a.status?(e.reject(i._.transportError(i._.format(i.resources.pingServerFailedStatusCode,a.status),b.transport,a,d)),b.stop()):e.reject(i._.transportError(i.resources.pingServerFailed,b.transport,a,d))}})):e.reject(i._.transportError(i.resources.noConnectionTransport,b.transport)),e.promise()},prepareQueryString:function(a,c){var d;return d=h.addQs(c,"clientProtocol="+a.clientProtocol),d=h.addQs(d,a.qs),a.token&&(d+="&connectionToken="+b.encodeURIComponent(a.token)),a.data&&(d+="&connectionData="+b.encodeURIComponent(a.data)),d},addQs:function(b,c){var d,e=-1!==b.indexOf("?")?"&":"?";if(!c)return b;if("object"==typeof c)return b+e+a.param(c);if("string"==typeof c)return d=c.charAt(0),("?"===d||"&"===d)&&(e=""),b+e+c;throw new Error("Query string property must be either a string or object.")},getUrl:function(a,c,d,e,f){var g="webSockets"===c?"":a.baseUrl,i=g+a.appRelativeUrl,j="transport="+c;return!f&&a.groupsToken&&(j+="&groupsToken="+b.encodeURIComponent(a.groupsToken)),d?(i+=e?"/poll":"/reconnect",!f&&a.messageId&&(j+="&messageId="+b.encodeURIComponent(a.messageId))):i+="/connect",i+="?"+j,i=h.prepareQueryString(a,i),f||(i+="&tid="+Math.floor(11*Math.random())),i},maximizePersistentResponse:function(a){return{MessageId:a.C,Messages:a.M,Initialized:"undefined"!=typeof a.S?!0:!1,ShouldReconnect:"undefined"!=typeof a.T?!0:!1,LongPollDelay:a.L,GroupsToken:a.G}},updateGroups:function(a,b){b&&(a.groupsToken=b)},stringifySend:function(a,b){return"string"==typeof b||"undefined"==typeof b||null===b?b:a.json.stringify(b)},ajaxSend:function(b,c){var d,e=h.stringifySend(b,c),g=f(b,"/send"),k=function(b,e){a(e).triggerHandler(j.onError,[i._.transportError(i.resources.sendFailed,e.transport,b,d),c])};return d=h.ajax(b,{url:g,type:"jsonp"===b.ajaxDataType?"GET":"POST",contentType:i._.defaultContentType,data:{data:e},success:function(a){var c;if(a){try{c=b._parseResponse(a)}catch(d){return k(d,b),void b.stop()}h.triggerReceived(b,c)}},error:function(a,c){"abort"!==c&&"parsererror"!==c&&k(a,b)}})},ajaxAbort:function(a,b){if("undefined"!=typeof a.transport){b="undefined"==typeof b?!0:b;var c=f(a,"/abort");h.ajax(a,{url:c,async:b,timeout:1e3,type:"POST"}),a.log("Fired ajax abort async = "+b+".")}},ajaxStart:function(b,c){var d=function(a){var c=b._deferral;c&&c.reject(a)},e=function(c){b.log("The start request failed. Stopping the connection."),a(b).triggerHandler(j.onError,[c]),d(c),b.stop()};b._.startRequest=h.ajax(b,{url:f(b,"/start"),success:function(a,d,f){var g;try{g=b._parseResponse(a)}catch(h){return void e(i._.error(i._.format(i.resources.errorParsingStartResponse,a),h,f))}"started"===g.Response?c():e(i._.error(i._.format(i.resources.invalidStartResponse,a),null,f))},error:function(a,c,f){c!==l?e(i._.error(i.resources.errorDuringStartRequest,f,a)):(b.log("The start request aborted because connection.stop() was called."),d(i._.error(i.resources.stoppedDuringStartRequest,null,a)))}})},tryAbortStartRequest:function(a){a._.startRequest&&(a._.startRequest.abort(l),delete a._.startRequest)},tryInitialize:function(a,b){a.Initialized&&b()},triggerReceived:function(b,c){b._.connectingMessageBuffer.tryBuffer(c)||a(b).triggerHandler(j.onReceived,[c])},processMessages:function(b,c,d){var e;h.markLastMessage(b),c&&(e=h.maximizePersistentResponse(c),h.updateGroups(b,e.GroupsToken),e.MessageId&&(b.messageId=e.MessageId),e.Messages&&(a.each(e.Messages,function(a,c){h.triggerReceived(b,c)}),h.tryInitialize(e,d)))},monitorKeepAlive:function(b){var c=b._.keepAliveData;c.monitoring?b.log("Tried to monitor keep alive but it's already being monitored."):(c.monitoring=!0,h.markLastMessage(b),b._.keepAliveData.reconnectKeepAliveUpdate=function(){h.markLastMessage(b)},a(b).bind(j.onReconnect,b._.keepAliveData.reconnectKeepAliveUpdate),b.log("Now monitoring keep alive with a warning timeout of "+c.timeoutWarning+", keep alive timeout of "+c.timeout+" and disconnecting timeout of "+b.disconnectTimeout))},stopMonitoringKeepAlive:function(b){var c=b._.keepAliveData;c.monitoring&&(c.monitoring=!1,a(b).unbind(j.onReconnect,b._.keepAliveData.reconnectKeepAliveUpdate),b._.keepAliveData={},b.log("Stopping the monitoring of the keep alive."))},startHeartbeat:function(a){a._.lastActiveAt=(new Date).getTime(),d(a)},markLastMessage:function(a){a._.lastMessageAt=(new Date).getTime()},markActive:function(a){return h.verifyLastActive(a)?(a._.lastActiveAt=(new Date).getTime(),!0):!1},isConnectedOrReconnecting:function(a){return a.state===i.connectionState.connected||a.state===i.connectionState.reconnecting},ensureReconnectingState:function(b){return k(b,i.connectionState.connected,i.connectionState.reconnecting)===!0&&a(b).triggerHandler(j.onReconnecting),b.state===i.connectionState.reconnecting},clearReconnectTimeout:function(a){a&&a._.reconnectTimeout&&(b.clearTimeout(a._.reconnectTimeout),delete a._.reconnectTimeout)},verifyLastActive:function(b){if((new Date).getTime()-b._.lastActiveAt>=b.reconnectWindow){var c=i._.format(i.resources.reconnectWindowTimeout,new Date(b._.lastActiveAt),b.reconnectWindow);return b.log(c),a(b).triggerHandler(j.onError,[i._.error(c,"TimeoutException")]),b.stop(!1,!1),!1}return!0},reconnect:function(a,c){var d=i.transports[c];if(h.isConnectedOrReconnecting(a)&&!a._.reconnectTimeout){if(!h.verifyLastActive(a))return;a._.reconnectTimeout=b.setTimeout(function(){h.verifyLastActive(a)&&(d.stop(a),h.ensureReconnectingState(a)&&(a.log(c+" reconnecting."),d.start(a)))},a.reconnectDelay)}},handleParseFailure:function(b,c,d,e,f){var g=i._.transportError(i._.format(i.resources.parseFailed,c),b.transport,d,f);e&&e(g)?b.log("Failed to parse server response while attempting to connect."):(a(b).triggerHandler(j.onError,[g]),b.stop())},initHandler:function(a){return new g(a)},foreverFrame:{count:0,connections:{}}}}(window.jQuery,window),function(a,b,c){var d=a.signalR,e=a.signalR.events,f=a.signalR.changeState,g=d.transports._logic;d.transports.webSockets={name:"webSockets",supportsKeepAlive:function(){return!0},send:function(b,c){var f=g.stringifySend(b,c);try{b.socket.send(f)}catch(h){a(b).triggerHandler(e.onError,[d._.transportError(d.resources.webSocketsInvalidState,b.transport,h,b.socket),c])}},start:function(c,h,i){var j,k=!1,l=this,m=!h,n=a(c);return b.WebSocket?void(c.socket||(j=c.webSocketServerUrl?c.webSocketServerUrl:c.wsProtocol+c.host,j+=g.getUrl(c,this.name,m),c.log("Connecting to websocket endpoint '"+j+"'."),c.socket=new b.WebSocket(j),c.socket.onopen=function(){k=!0,c.log("Websocket opened."),g.clearReconnectTimeout(c),f(c,d.connectionState.reconnecting,d.connectionState.connected)===!0&&n.triggerHandler(e.onReconnect)},c.socket.onclose=function(b){var f;this===c.socket&&(k&&"undefined"!=typeof b.wasClean&&b.wasClean===!1?(f=d._.transportError(d.resources.webSocketClosed,c.transport,b),c.log("Unclean disconnect from websocket: "+(b.reason||"[no reason given]."))):c.log("Websocket closed."),i&&i(f)||(f&&a(c).triggerHandler(e.onError,[f]),l.reconnect(c)))},c.socket.onmessage=function(b){var d;try{d=c._parseResponse(b.data)}catch(e){return void g.handleParseFailure(c,b.data,e,i,b)}d&&(a.isEmptyObject(d)||d.M?g.processMessages(c,d,h):g.triggerReceived(c,d))})):void i()},reconnect:function(a){g.reconnect(a,this.name)},lostConnection:function(a){this.reconnect(a)},stop:function(a){g.clearReconnectTimeout(a),a.socket&&(a.log("Closing the Websocket."),a.socket.close(),a.socket=null)},abort:function(a,b){g.ajaxAbort(a,b)}}}(window.jQuery,window),function(a,b,c){var d=a.signalR,e=a.signalR.events,f=a.signalR.changeState,g=d.transports._logic,h=function(a){b.clearTimeout(a._.reconnectAttemptTimeoutHandle),delete a._.reconnectAttemptTimeoutHandle};d.transports.serverSentEvents={name:"serverSentEvents",supportsKeepAlive:function(){return!0},timeOut:3e3,start:function(c,i,j){var k,l=this,m=!1,n=a(c),o=!i;if(c.eventSource&&(c.log("The connection already has an event source. Stopping it."),c.stop()),!b.EventSource)return void(j&&(c.log("This browser doesn't support SSE."),j()));k=g.getUrl(c,this.name,o);try{c.log("Attempting to connect to SSE endpoint '"+k+"'."),c.eventSource=new b.EventSource(k,{withCredentials:c.withCredentials})}catch(p){return c.log("EventSource failed trying to connect with error "+p.Message+"."),void(j?j():(n.triggerHandler(e.onError,[d._.transportError(d.resources.eventSourceFailedToConnect,c.transport,p)]),o&&l.reconnect(c)))}o&&(c._.reconnectAttemptTimeoutHandle=b.setTimeout(function(){m===!1&&c.eventSource.readyState!==b.EventSource.OPEN&&l.reconnect(c)},l.timeOut)),c.eventSource.addEventListener("open",function(a){c.log("EventSource connected."),h(c),g.clearReconnectTimeout(c),m===!1&&(m=!0,f(c,d.connectionState.reconnecting,d.connectionState.connected)===!0&&n.triggerHandler(e.onReconnect))},!1),c.eventSource.addEventListener("message",function(a){var b;if("initialized"!==a.data){try{b=c._parseResponse(a.data)}catch(d){return void g.handleParseFailure(c,a.data,d,j,a)}g.processMessages(c,b,i)}},!1),c.eventSource.addEventListener("error",function(a){var f=d._.transportError(d.resources.eventSourceError,c.transport,a);this===c.eventSource&&(j&&j(f)||(c.log("EventSource readyState: "+c.eventSource.readyState+"."),a.eventPhase===b.EventSource.CLOSED?(c.log("EventSource reconnecting due to the server connection ending."),l.reconnect(c)):(c.log("EventSource error."),n.triggerHandler(e.onError,[f]))))},!1)},reconnect:function(a){g.reconnect(a,this.name)},lostConnection:function(a){this.reconnect(a)},send:function(a,b){g.ajaxSend(a,b)},stop:function(a){h(a),g.clearReconnectTimeout(a),a&&a.eventSource&&(a.log("EventSource calling close()."),a.eventSource.close(),a.eventSource=null,delete a.eventSource)},abort:function(a,b){g.ajaxAbort(a,b)}}}(window.jQuery,window),function(a,b,c){var d=a.signalR,e=a.signalR.events,f=a.signalR.changeState,g=d.transports._logic,h=function(){var a=b.document.createElement("iframe");return a.setAttribute("style","position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;"),a},i=function(){var a=null,c=1e3,e=0;return{prevent:function(){d._.ieVersion<=8&&(0===e&&(a=b.setInterval(function(){var a=h();b.document.body.appendChild(a),b.document.body.removeChild(a),a=null},c)),e++)},cancel:function(){1===e&&b.clearInterval(a),e>0&&e--}}}();d.transports.foreverFrame={name:"foreverFrame",supportsKeepAlive:function(){return!0},iframeClearThreshold:50,start:function(a,c,d){var e,f=this,j=g.foreverFrame.count+=1,k=h(),l=function(){a.log("Forever frame iframe finished loading and is no longer receiving messages."),d&&d()||f.reconnect(a)};return b.EventSource?void(d&&(a.log("Forever Frame is not supported by SignalR on browsers with SSE support."),d())):(k.setAttribute("data-signalr-connection-id",a.id),i.prevent(),e=g.getUrl(a,this.name),e+="&frameId="+j,b.document.documentElement.appendChild(k),a.log("Binding to iframe's load event."),k.addEventListener?k.addEventListener("load",l,!1):k.attachEvent&&k.attachEvent("onload",l),k.src=e,g.foreverFrame.connections[j]=a,a.frame=k,a.frameId=j,void(c&&(a.onSuccess=function(){a.log("Iframe transport started."),c()})))},reconnect:function(a){var c=this;g.isConnectedOrReconnecting(a)&&g.verifyLastActive(a)&&b.setTimeout(function(){if(g.verifyLastActive(a)&&a.frame&&g.ensureReconnectingState(a)){var b=a.frame,d=g.getUrl(a,c.name,!0)+"&frameId="+a.frameId;a.log("Updating iframe src to '"+d+"'."),b.src=d}},a.reconnectDelay)},lostConnection:function(a){this.reconnect(a)},send:function(a,b){g.ajaxSend(a,b)},receive:function(b,c){var e,f,h;if(b.json!==b._originalJson&&(c=b._originalJson.stringify(c)),h=b._parseResponse(c),g.processMessages(b,h,b.onSuccess),b.state===a.signalR.connectionState.connected&&(b.frameMessageCount=(b.frameMessageCount||0)+1,b.frameMessageCount>d.transports.foreverFrame.iframeClearThreshold&&(b.frameMessageCount=0,e=b.frame.contentWindow||b.frame.contentDocument,e&&e.document&&e.document.body)))for(f=e.document.body;f.firstChild;)f.removeChild(f.firstChild)},stop:function(a){var c=null;if(i.cancel(),a.frame){if(a.frame.stop)a.frame.stop();else try{c=a.frame.contentWindow||a.frame.contentDocument,c.document&&c.document.execCommand&&c.document.execCommand("Stop")}catch(d){a.log("Error occured when stopping foreverFrame transport. Message = "+d.message+".")}a.frame.parentNode===b.document.body&&b.document.body.removeChild(a.frame),delete g.foreverFrame.connections[a.frameId],a.frame=null,a.frameId=null,delete a.frame,delete a.frameId,delete a.onSuccess,delete a.frameMessageCount,a.log("Stopping forever frame.")}},abort:function(a,b){g.ajaxAbort(a,b)},getConnection:function(a){return g.foreverFrame.connections[a]},started:function(b){f(b,d.connectionState.reconnecting,d.connectionState.connected)===!0&&a(b).triggerHandler(e.onReconnect);
}}}(window.jQuery,window),function(a,b,c){var d=a.signalR,e=a.signalR.events,f=a.signalR.changeState,g=a.signalR.isDisconnecting,h=d.transports._logic;d.transports.longPolling={name:"longPolling",supportsKeepAlive:function(){return!1},reconnectDelay:3e3,start:function(c,i,j){var k=this,l=function(){l=a.noop,c.log("LongPolling connected."),i()},m=function(a){return j(a)?(c.log("LongPolling failed to connect."),!0):!1},n=c._,o=0,p=function(c){b.clearTimeout(n.reconnectTimeoutId),n.reconnectTimeoutId=null,f(c,d.connectionState.reconnecting,d.connectionState.connected)===!0&&(c.log("Raising the reconnect event"),a(c).triggerHandler(e.onReconnect))},q=36e5;c.pollXhr&&(c.log("Polling xhr requests already exists, aborting."),c.stop()),c.messageId=null,n.reconnectTimeoutId=null,n.pollTimeoutId=b.setTimeout(function(){!function f(i,j){var r=i.messageId,s=null===r,t=!s,u=!j,v=h.getUrl(i,k.name,t,u,!0),w={};i.messageId&&(w.messageId=i.messageId),i.groupsToken&&(w.groupsToken=i.groupsToken),g(i)!==!0&&(c.log("Opening long polling request to '"+v+"'."),i.pollXhr=h.ajax(c,{xhrFields:{onprogress:function(){h.markLastMessage(c)}},url:v,type:"POST",contentType:d._.defaultContentType,data:w,timeout:c._.pollTimeout,success:function(d){var e,j,k,q=0;c.log("Long poll complete."),o=0;try{e=c._parseResponse(d)}catch(r){return void h.handleParseFailure(i,d,r,m,i.pollXhr)}null!==n.reconnectTimeoutId&&p(i),e&&(j=h.maximizePersistentResponse(e)),h.processMessages(i,e,l),j&&"number"===a.type(j.LongPollDelay)&&(q=j.LongPollDelay),g(i)!==!0&&(k=j&&j.ShouldReconnect,(!k||h.ensureReconnectingState(i))&&(q>0?n.pollTimeoutId=b.setTimeout(function(){f(i,k)},q):f(i,k)))},error:function(g,j){var l=d._.transportError(d.resources.longPollFailed,c.transport,g,i.pollXhr);if(b.clearTimeout(n.reconnectTimeoutId),n.reconnectTimeoutId=null,"abort"===j)return void c.log("Aborted xhr request.");if(!m(l)){if(o++,c.state!==d.connectionState.reconnecting&&(c.log("An error occurred using longPolling. Status = "+j+".  Response = "+g.responseText+"."),a(i).triggerHandler(e.onError,[l])),(c.state===d.connectionState.connected||c.state===d.connectionState.reconnecting)&&!h.verifyLastActive(c))return;if(!h.ensureReconnectingState(i))return;n.pollTimeoutId=b.setTimeout(function(){f(i,!0)},k.reconnectDelay)}}}),t&&j===!0&&(n.reconnectTimeoutId=b.setTimeout(function(){p(i)},Math.min(1e3*(Math.pow(2,o)-1),q))))}(c)},250)},lostConnection:function(a){a.pollXhr&&a.pollXhr.abort("lostConnection")},send:function(a,b){h.ajaxSend(a,b)},stop:function(a){b.clearTimeout(a._.pollTimeoutId),b.clearTimeout(a._.reconnectTimeoutId),delete a._.pollTimeoutId,delete a._.reconnectTimeoutId,a.pollXhr&&(a.pollXhr.abort(),a.pollXhr=null,delete a.pollXhr)},abort:function(a,b){h.ajaxAbort(a,b)}}}(window.jQuery,window),function(a,b,c){function d(a){return a+k}function e(a,b,c){var d,e=a.length,f=[];for(d=0;e>d;d+=1)a.hasOwnProperty(d)&&(f[d]=b.call(c,a[d],d,a));return f}function f(b){return a.isFunction(b)?null:"undefined"===a.type(b)?null:b}function g(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1}function h(a,b){var c,d=a._.invocationCallbacks;g(d)&&a.log("Clearing hub invocation callbacks with error: "+b+"."),a._.invocationCallbackId=0,delete a._.invocationCallbacks,a._.invocationCallbacks={};for(var e in d)c=d[e],c.method.call(c.scope,{E:b})}function i(a,b){return new i.fn.init(a,b)}function j(b,c){var d={qs:null,logging:!1,useDefaultPath:!0};return a.extend(d,c),(!b||d.useDefaultPath)&&(b=(b||"")+"/signalr"),new j.fn.init(b,d)}var k=".hubProxy",l=a.signalR;i.fn=i.prototype={init:function(a,b){this.state={},this.connection=a,this.hubName=b,this._={callbackMap:{}}},constructor:i,hasSubscriptions:function(){return g(this._.callbackMap)},on:function(b,c){var e=this,f=e._.callbackMap;return b=b.toLowerCase(),f[b]||(f[b]={}),f[b][c]=function(a,b){c.apply(e,b)},a(e).bind(d(b),f[b][c]),e},off:function(b,c){var e,f=this,h=f._.callbackMap;return b=b.toLowerCase(),e=h[b],e&&(e[c]?(a(f).unbind(d(b),e[c]),delete e[c],g(e)||delete h[b]):c||(a(f).unbind(d(b)),delete h[b])),f},invoke:function(b){var c=this,d=c.connection,g=a.makeArray(arguments).slice(1),h=e(g,f),i={H:c.hubName,M:b,A:h,I:d._.invocationCallbackId},j=a.Deferred(),k=function(e){var f,g,h=c._maximizeHubResponse(e);a.extend(c.state,h.State),h.Progress?j.notifyWith?j.notifyWith(c,[h.Progress.Data]):d._.progressjQueryVersionLogged||(d.log("A hub method invocation progress update was received but the version of jQuery in use ("+a.prototype.jquery+") does not support progress updates. Upgrade to jQuery 1.7+ to receive progress notifications."),d._.progressjQueryVersionLogged=!0):h.Error?(h.StackTrace&&d.log(h.Error+"\n"+h.StackTrace+"."),f=h.IsHubException?"HubException":"Exception",g=l._.error(h.Error,f),g.data=h.ErrorData,d.log(c.hubName+"."+b+" failed to execute. Error: "+g.message),j.rejectWith(c,[g])):(d.log("Invoked "+c.hubName+"."+b),j.resolveWith(c,[h.Result]))};return d._.invocationCallbacks[d._.invocationCallbackId.toString()]={scope:c,method:k},d._.invocationCallbackId+=1,a.isEmptyObject(c.state)||(i.S=c.state),d.log("Invoking "+c.hubName+"."+b),d.send(i),j.promise()},_maximizeHubResponse:function(a){return{State:a.S,Result:a.R,Progress:a.P?{Id:a.P.I,Data:a.P.D}:null,Id:a.I,IsHubException:a.H,Error:a.E,StackTrace:a.T,ErrorData:a.D}}},i.fn.init.prototype=i.fn,j.fn=j.prototype=a.connection(),j.fn.init=function(b,c){var e={qs:null,logging:!1,useDefaultPath:!0},f=this;a.extend(e,c),a.signalR.fn.init.call(f,b,e.qs,e.logging),f.proxies={},f._.invocationCallbackId=0,f._.invocationCallbacks={},f.received(function(b){var c,e,g,h,i,j;b&&("undefined"!=typeof b.P?(g=b.P.I.toString(),h=f._.invocationCallbacks[g],h&&h.method.call(h.scope,b)):"undefined"!=typeof b.I?(g=b.I.toString(),h=f._.invocationCallbacks[g],h&&(f._.invocationCallbacks[g]=null,delete f._.invocationCallbacks[g],h.method.call(h.scope,b))):(c=this._maximizeClientHubInvocation(b),f.log("Triggering client hub event '"+c.Method+"' on hub '"+c.Hub+"'."),i=c.Hub.toLowerCase(),j=c.Method.toLowerCase(),e=this.proxies[i],a.extend(e.state,c.State),a(e).triggerHandler(d(j),[c.Args])))}),f.error(function(a,b){var c,d;b&&(c=b.I,d=f._.invocationCallbacks[c],d&&(f._.invocationCallbacks[c]=null,delete f._.invocationCallbacks[c],d.method.call(d.scope,{E:a})))}),f.reconnecting(function(){f.transport&&"webSockets"===f.transport.name&&h(f,"Connection started reconnecting before invocation result was received.")}),f.disconnected(function(){h(f,"Connection was disconnected before invocation result was received.")})},j.fn._maximizeClientHubInvocation=function(a){return{Hub:a.H,Method:a.M,Args:a.A,State:a.S}},j.fn._registerSubscribedHubs=function(){var b=this;b._subscribedToHubs||(b._subscribedToHubs=!0,b.starting(function(){var c=[];a.each(b.proxies,function(a){this.hasSubscriptions()&&(c.push({name:a}),b.log("Client subscribed to hub '"+a+"'."))}),0===c.length&&b.log("No hubs have been subscribed to.  The client will not receive data from hubs.  To fix, declare at least one client side function prior to connection start for each hub you wish to subscribe to."),b.data=b.json.stringify(c)}))},j.fn.createHubProxy=function(a){a=a.toLowerCase();var b=this.proxies[a];return b||(b=i(this,a),this.proxies[a]=b),this._registerSubscribedHubs(),b},j.fn.init.prototype=j.fn,a.hubConnection=j}(window.jQuery,window),function(a,b){a.signalR.version="2.2.0"}(window.jQuery),angular.module("SignalR",[]).constant("$",window.jQuery).factory("Hub",["$",function(a){function b(b){var c=null;return c=b&&b.rootPath?a.hubConnection(b.rootPath,{useDefaultPath:!1}):a.hubConnection(),c.logging=b&&b.logging?!0:!1,c}function c(a){var c=!(a&&a.useSharedConnection===!1);return c?"undefined"==typeof d[a.rootPath]?d[a.rootPath]=b(a):d[a.rootPath]:b(a)}var d=[];return function(b,d){var e=this;return e.connection=c(d),e.proxy=e.connection.createHubProxy(b),e.on=function(a,b){e.proxy.on(a,b)},e.invoke=function(a,b){return e.proxy.invoke.apply(e.proxy,arguments)},e.disconnect=function(){e.connection.stop()},e.connect=function(){return e.connection.start(d.transport?{transport:d.transport}:null)},d&&d.listeners&&angular.forEach(d.listeners,function(a,b){e.on(b,a)}),d&&d.methods&&angular.forEach(d.methods,function(b){e[b]=function(){var c=a.makeArray(arguments);return c.unshift(b),e.invoke.apply(e,c)}}),d&&d.queryParams&&(e.connection.qs=d.queryParams),d&&d.errorHandler&&e.connection.error(d.errorHandler),d&&d.hubDisconnected&&e.connection.disconnected(d.hubDisconnected),d&&d.stateChanged&&e.connection.stateChanged(d.stateChanged),e.promise=e.connect(),e}}]),!function(){function a(a){return a&&(a.ownerDocument||a.document||a).documentElement}function b(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function c(a,b){return b>a?-1:a>b?1:a>=b?0:NaN}function d(a){return null===a?NaN:+a}function e(a){return!isNaN(a)}function f(a){return{left:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);e>d;){var f=d+e>>>1;a(b[f],c)<0?d=f+1:e=f}return d},right:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);e>d;){var f=d+e>>>1;a(b[f],c)>0?e=f:d=f+1}return d}}}function g(a){return a.length}function h(a){for(var b=1;a*b%1;)b*=10;return b}function i(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}function j(){this._=Object.create(null)}function k(a){return(a+="")===og||a[0]===pg?pg+a:a}function l(a){return(a+="")[0]===pg?a.slice(1):a}function m(a){return k(a)in this._}function n(a){return(a=k(a))in this._&&delete this._[a]}function o(){var a=[];for(var b in this._)a.push(l(b));return a}function p(){var a=0;for(var b in this._)++a;return a}function q(){for(var a in this._)return!1;return!0}function r(){this._=Object.create(null)}function s(a){return a}function t(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function u(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=qg.length;d>c;++c){var e=qg[c]+b;if(e in a)return e}}function v(){}function w(){}function x(a){function b(){for(var b,d=c,e=-1,f=d.length;++e<f;)(b=d[e].on)&&b.apply(this,arguments);return a}var c=[],d=new j;return b.on=function(b,e){var f,g=d.get(b);return arguments.length<2?g&&g.on:(g&&(g.on=null,c=c.slice(0,f=c.indexOf(g)).concat(c.slice(f+1)),d.remove(b)),e&&c.push(d.set(b,{on:e})),a)},b}function y(){bg.event.preventDefault()}function z(){for(var a,b=bg.event;a=b.sourceEvent;)b=a;return b}function A(a){for(var b=new w,c=0,d=arguments.length;++c<d;)b[arguments[c]]=x(b);return b.of=function(c,d){return function(e){try{var f=e.sourceEvent=bg.event;e.target=a,bg.event=e,b[e.type].apply(c,d)}finally{bg.event=f}}},b}function B(a){return sg(a,wg),a}function C(a){return"function"==typeof a?a:function(){return tg(a,this)}}function D(a){return"function"==typeof a?a:function(){return ug(a,this)}}function E(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function f(){this.setAttributeNS(a.space,a.local,b)}function g(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function h(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}return a=bg.ns.qualify(a),null==b?a.local?d:c:"function"==typeof b?a.local?h:g:a.local?f:e}function F(a){return a.trim().replace(/\s+/g," ")}function G(a){return new RegExp("(?:^|\\s+)"+bg.requote(a)+"(?:\\s+|$)","g")}function H(a){return(a+"").trim().split(/^|\s+/)}function I(a,b){function c(){for(var c=-1;++c<e;)a[c](this,b)}function d(){for(var c=-1,d=b.apply(this,arguments);++c<e;)a[c](this,d)}a=H(a).map(J);var e=a.length;return"function"==typeof b?d:c}function J(a){var b=G(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",F(e+" "+a))):c.setAttribute("class",F(e.replace(b," ")))}}function K(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"==typeof b?f:e}function L(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"==typeof b?e:d}function M(a){function b(){var b=this.ownerDocument,c=this.namespaceURI;return c?b.createElementNS(c,a):b.createElement(a)}function c(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"==typeof a?a:(a=bg.ns.qualify(a)).local?c:b}function N(){var a=this.parentNode;a&&a.removeChild(this)}function O(a){return{__data__:a}}function P(a){return function(){return vg(this,a)}}function Q(a){return arguments.length||(a=c),function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function R(a,b){for(var c=0,d=a.length;d>c;c++)for(var e,f=a[c],g=0,h=f.length;h>g;g++)(e=f[g])&&b(e,g,c);return a}function S(a){return sg(a,yg),a}function T(a){var b,c;return function(d,e,f){var g,h=a[f].update,i=h.length;for(f!=c&&(c=f,b=0),e>=b&&(b=e+1);!(g=h[b])&&++b<i;);return g}}function U(a,b,c){function d(){var b=this[g];b&&(this.removeEventListener(a,b,b.$),delete this[g])}function e(){var e=i(b,dg(arguments));d.call(this),this.addEventListener(a,this[g]=e,e.$=c),e._=b}function f(){var b,c=new RegExp("^__on([^.]+)"+bg.requote(a)+"$");for(var d in this)if(b=d.match(c)){var e=this[d];this.removeEventListener(b[1],e,e.$),delete this[d]}}var g="__on"+a,h=a.indexOf("."),i=V;h>0&&(a=a.slice(0,h));var j=zg.get(a);return j&&(a=j,i=W),h?b?e:d:b?v:f}function V(a,b){return function(c){var d=bg.event;bg.event=c,b[0]=this.__data__;try{a.apply(this,b)}finally{bg.event=d}}}function W(a,b){var c=V(a,b);return function(a){var b=this,d=a.relatedTarget;d&&(d===b||8&d.compareDocumentPosition(b))||c.call(b,a)}}function X(c){var d=".dragsuppress-"+ ++Bg,e="click"+d,f=bg.select(b(c)).on("touchmove"+d,y).on("dragstart"+d,y).on("selectstart"+d,y);if(null==Ag&&(Ag="onselectstart"in c?!1:u(c.style,"userSelect")),Ag){var g=a(c).style,h=g[Ag];g[Ag]="none"}return function(a){if(f.on(d,null),Ag&&(g[Ag]=h),a){var b=function(){f.on(e,null)};f.on(e,function(){y(),b()},!0),setTimeout(b,0)}}}function Y(a,c){c.changedTouches&&(c=c.changedTouches[0]);var d=a.ownerSVGElement||a;if(d.createSVGPoint){var e=d.createSVGPoint();if(0>Cg){var f=b(a);if(f.scrollX||f.scrollY){d=bg.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var g=d[0][0].getScreenCTM();Cg=!(g.f||g.e),d.remove()}}return Cg?(e.x=c.pageX,e.y=c.pageY):(e.x=c.clientX,e.y=c.clientY),e=e.matrixTransform(a.getScreenCTM().inverse()),[e.x,e.y]}var h=a.getBoundingClientRect();return[c.clientX-h.left-a.clientLeft,c.clientY-h.top-a.clientTop]}function Z(){return bg.event.changedTouches[0].identifier}function $(a){return a>0?1:0>a?-1:0}function _(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function aa(a){return a>1?0:-1>a?Fg:Math.acos(a)}function ba(a){return a>1?Ig:-1>a?-Ig:Math.asin(a)}function ca(a){return((a=Math.exp(a))-1/a)/2}function da(a){return((a=Math.exp(a))+1/a)/2}function ea(a){return((a=Math.exp(2*a))-1)/(a+1)}function fa(a){return(a=Math.sin(a/2))*a}function ga(){}function ha(a,b,c){return this instanceof ha?(this.h=+a,this.s=+b,void(this.l=+c)):arguments.length<2?a instanceof ha?new ha(a.h,a.s,a.l):va(""+a,wa,ha):new ha(a,b,c)}function ia(a,b,c){function d(a){return a>360?a-=360:0>a&&(a+=360),60>a?f+(g-f)*a/60:180>a?g:240>a?f+(g-f)*(240-a)/60:f}function e(a){return Math.round(255*d(a))}var f,g;return a=isNaN(a)?0:(a%=360)<0?a+360:a,b=isNaN(b)?0:0>b?0:b>1?1:b,c=0>c?0:c>1?1:c,g=.5>=c?c*(1+b):c+b-c*b,f=2*c-g,new ra(e(a+120),e(a),e(a-120))}function ja(a,b,c){return this instanceof ja?(this.h=+a,this.c=+b,void(this.l=+c)):arguments.length<2?a instanceof ja?new ja(a.h,a.c,a.l):a instanceof la?na(a.l,a.a,a.b):na((a=xa((a=bg.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new ja(a,b,c)}function ka(a,b,c){return isNaN(a)&&(a=0),isNaN(b)&&(b=0),new la(c,Math.cos(a*=Jg)*b,Math.sin(a)*b)}function la(a,b,c){return this instanceof la?(this.l=+a,this.a=+b,void(this.b=+c)):arguments.length<2?a instanceof la?new la(a.l,a.a,a.b):a instanceof ja?ka(a.h,a.c,a.l):xa((a=ra(a)).r,a.g,a.b):new la(a,b,c)}function ma(a,b,c){var d=(a+16)/116,e=d+b/500,f=d-c/200;return e=oa(e)*Ug,d=oa(d)*Vg,f=oa(f)*Wg,new ra(qa(3.2404542*e-1.5371385*d-.4985314*f),qa(-.969266*e+1.8760108*d+.041556*f),qa(.0556434*e-.2040259*d+1.0572252*f))}function na(a,b,c){return a>0?new ja(Math.atan2(c,b)*Kg,Math.sqrt(b*b+c*c),a):new ja(NaN,NaN,a)}function oa(a){return a>.206893034?a*a*a:(a-4/29)/7.787037}function pa(a){return a>.008856?Math.pow(a,1/3):7.787037*a+4/29}function qa(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function ra(a,b,c){return this instanceof ra?(this.r=~~a,this.g=~~b,void(this.b=~~c)):arguments.length<2?a instanceof ra?new ra(a.r,a.g,a.b):va(""+a,ra,ia):new ra(a,b,c)}function sa(a){return new ra(a>>16,a>>8&255,255&a)}function ta(a){return sa(a)+""}function ua(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function va(a,b,c){a=a.toLowerCase();var d,e,f,g=0,h=0,i=0;if(d=/([a-z]+)\((.*)\)/.exec(a))switch(e=d[2].split(","),d[1]){case"hsl":return c(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100);case"rgb":return b(za(e[0]),za(e[1]),za(e[2]))}return(f=Zg.get(a))?b(f.r,f.g,f.b):(null==a||"#"!==a.charAt(0)||isNaN(f=parseInt(a.slice(1),16))||(4===a.length?(g=(3840&f)>>4,g=g>>4|g,h=240&f,h=h>>4|h,i=15&f,i=i<<4|i):7===a.length&&(g=(16711680&f)>>16,h=(65280&f)>>8,i=255&f)),b(g,h,i))}function wa(a,b,c){var d,e,f=Math.min(a/=255,b/=255,c/=255),g=Math.max(a,b,c),h=g-f,i=(g+f)/2;return h?(e=.5>i?h/(g+f):h/(2-g-f),d=a==g?(b-c)/h+(c>b?6:0):b==g?(c-a)/h+2:(a-b)/h+4,d*=60):(d=NaN,e=i>0&&1>i?0:d),new ha(d,e,i)}function xa(a,b,c){a=ya(a),b=ya(b),c=ya(c);var d=pa((.4124564*a+.3575761*b+.1804375*c)/Ug),e=pa((.2126729*a+.7151522*b+.072175*c)/Vg),f=pa((.0193339*a+.119192*b+.9503041*c)/Wg);return la(116*e-16,500*(d-e),200*(e-f))}function ya(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function za(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function Aa(a){return"function"==typeof a?a:function(){return a}}function Ba(a){return function(b,c,d){return 2===arguments.length&&"function"==typeof c&&(d=c,c=null),Ca(b,c,a,d)}}function Ca(a,b,c,d){function e(){var a,b=i.status;if(!b&&Ea(i)||b>=200&&300>b||304===b){try{a=c.call(f,i)}catch(d){return void g.error.call(f,d)}g.load.call(f,a)}else g.error.call(f,i)}var f={},g=bg.dispatch("beforesend","progress","load","error"),h={},i=new XMLHttpRequest,j=null;return!this.XDomainRequest||"withCredentials"in i||!/^(http(s)?:)?\/\//.test(a)||(i=new XDomainRequest),"onload"in i?i.onload=i.onerror=e:i.onreadystatechange=function(){i.readyState>3&&e()},i.onprogress=function(a){var b=bg.event;bg.event=a;try{g.progress.call(f,i)}finally{bg.event=b}},f.header=function(a,b){return a=(a+"").toLowerCase(),arguments.length<2?h[a]:(null==b?delete h[a]:h[a]=b+"",f)},f.mimeType=function(a){return arguments.length?(b=null==a?null:a+"",f):b},f.responseType=function(a){return arguments.length?(j=a,f):j},f.response=function(a){return c=a,f},["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(dg(arguments)))}}),f.send=function(c,d,e){if(2===arguments.length&&"function"==typeof d&&(e=d,d=null),i.open(c,a,!0),null==b||"accept"in h||(h.accept=b+",*/*"),i.setRequestHeader)for(var k in h)i.setRequestHeader(k,h[k]);return null!=b&&i.overrideMimeType&&i.overrideMimeType(b),null!=j&&(i.responseType=j),null!=e&&f.on("error",e).on("load",function(a){e(null,a)}),g.beforesend.call(f,i),i.send(null==d?null:d),f},f.abort=function(){return i.abort(),f},bg.rebind(f,g,"on"),null==d?f:f.get(Da(d))}function Da(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function Ea(a){var b=a.responseType;return b&&"text"!==b?a.response:a.responseText}function Fa(){var a=Ga(),b=Ha()-a;b>24?(isFinite(b)&&(clearTimeout(bh),bh=setTimeout(Fa,b)),ah=0):(ah=1,dh(Fa))}function Ga(){var a=Date.now();for(ch=$g;ch;)a>=ch.t&&(ch.f=ch.c(a-ch.t)),ch=ch.n;return a}function Ha(){for(var a,b=$g,c=1/0;b;)b.f?b=a?a.n=b.n:$g=b.n:(b.t<c&&(c=b.t),b=(a=b).n);return _g=a,c}function Ia(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function Ja(a,b){var c=Math.pow(10,3*ng(8-b));return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}}function Ka(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d&&c?function(a,b){for(var e=a.length,f=[],g=0,h=d[0],i=0;e>0&&h>0&&(i+h+1>b&&(h=Math.max(1,b-i)),f.push(a.substring(e-=h,e+h)),!((i+=h+1)>b));)h=d[g=(g+1)%d.length];return f.reverse().join(c)}:s;return function(a){var c=fh.exec(a),d=c[1]||" ",g=c[2]||">",h=c[3]||"-",i=c[4]||"",j=c[5],k=+c[6],l=c[7],m=c[8],n=c[9],o=1,p="",q="",r=!1,s=!0;switch(m&&(m=+m.substring(1)),(j||"0"===d&&"="===g)&&(j=d="0",g="="),n){case"n":l=!0,n="g";break;case"%":o=100,q="%",n="f";break;case"p":o=100,q="%",n="r";break;case"b":case"o":case"x":case"X":"#"===i&&(p="0"+n.toLowerCase());case"c":s=!1;case"d":r=!0,m=0;break;case"s":o=-1,n="r"}"$"===i&&(p=e[0],q=e[1]),"r"!=n||m||(n="g"),null!=m&&("g"==n?m=Math.max(1,Math.min(21,m)):("e"==n||"f"==n)&&(m=Math.max(0,Math.min(20,m)))),n=gh.get(n)||La;var t=j&&l;return function(a){var c=q;if(r&&a%1)return"";var e=0>a||0===a&&0>1/a?(a=-a,"-"):"-"===h?"":h;if(0>o){var i=bg.formatPrefix(a,m);a=i.scale(a),c=i.symbol+q}else a*=o;a=n(a,m);var u,v,w=a.lastIndexOf(".");if(0>w){var x=s?a.lastIndexOf("e"):-1;0>x?(u=a,v=""):(u=a.substring(0,x),v=a.substring(x))}else u=a.substring(0,w),v=b+a.substring(w+1);!j&&l&&(u=f(u,1/0));var y=p.length+u.length+v.length+(t?0:e.length),z=k>y?new Array(y=k-y+1).join(d):"";return t&&(u=f(z+u,z.length?k-v.length:1/0)),e+=p,a=u+v,("<"===g?e+a+z:">"===g?z+e+a:"^"===g?z.substring(0,y>>=1)+e+a+z.substring(y):e+(t?a:z+a))+c}}}function La(a){return a+""}function Ma(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Na(a,b,c){function d(b){var c=a(b),d=f(c,1);return d-b>b-c?c:d}function e(c){return b(c=a(new ih(c-1)),1),c}function f(a,c){return b(a=new ih(+a),c),a}function g(a,d,f){var g=e(a),h=[];if(f>1)for(;d>g;)c(g)%f||h.push(new Date(+g)),b(g,1);else for(;d>g;)h.push(new Date(+g)),b(g,1);return h}function h(a,b,c){try{ih=Ma;var d=new Ma;return d._=a,g(d,b,c)}finally{ih=Date}}a.floor=a,a.round=d,a.ceil=e,a.offset=f,a.range=g;var i=a.utc=Oa(a);return i.floor=i,i.round=Oa(d),i.ceil=Oa(e),i.offset=Oa(f),i.range=h,a}function Oa(a){return function(b,c){try{ih=Ma;var d=new Ma;return d._=b,a(d,c)._}finally{ih=Date}}}function Pa(a){function b(a){function b(b){for(var c,e,f,g=[],h=-1,i=0;++h<d;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=kh[c=a.charAt(++h)])&&(c=a.charAt(++h)),(f=C[c])&&(c=f(b,null==e?"e"===c?" ":"0":e)),g.push(c),i=h+1);return g.push(a.slice(i,h)),g.join("")}var d=a.length;return b.parse=function(b){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},e=c(d,a,b,0);if(e!=b.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);var f=null!=d.Z&&ih!==Ma,g=new(f?Ma:ih);return"j"in d?g.setFullYear(d.y,0,d.j):"w"in d&&("W"in d||"U"in d)?(g.setFullYear(d.y,0,1),g.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(g.getDay()+5)%7:d.w+7*d.U-(g.getDay()+6)%7)):g.setFullYear(d.y,d.m,d.d),g.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L),f?g._:g},b.toString=function(){return a},b}function c(a,b,c,d){for(var e,f,g,h=0,i=b.length,j=c.length;i>h;){if(d>=j)return-1;if(e=b.charCodeAt(h++),37===e){if(g=b.charAt(h++),f=D[g in kh?b.charAt(h++):g],!f||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function d(a,b,c){w.lastIndex=0;var d=w.exec(b.slice(c));return d?(a.w=x.get(d[0].toLowerCase()),c+d[0].length):-1}function e(a,b,c){u.lastIndex=0;var d=u.exec(b.slice(c));return d?(a.w=v.get(d[0].toLowerCase()),c+d[0].length):-1}function f(a,b,c){A.lastIndex=0;var d=A.exec(b.slice(c));return d?(a.m=B.get(d[0].toLowerCase()),c+d[0].length):-1}function g(a,b,c){y.lastIndex=0;var d=y.exec(b.slice(c));return d?(a.m=z.get(d[0].toLowerCase()),c+d[0].length):-1}function h(a,b,d){return c(a,C.c.toString(),b,d)}function i(a,b,d){return c(a,C.x.toString(),b,d)}function j(a,b,d){return c(a,C.X.toString(),b,d)}function k(a,b,c){var d=t.get(b.slice(c,c+=2).toLowerCase());return null==d?-1:(a.p=d,c)}var l=a.dateTime,m=a.date,n=a.time,o=a.periods,p=a.days,q=a.shortDays,r=a.months,s=a.shortMonths;b.utc=function(a){function c(a){try{ih=Ma;var b=new ih;return b._=a,d(b)}finally{ih=Date}}var d=b(a);return c.parse=function(a){try{ih=Ma;var b=d.parse(a);return b&&b._}finally{ih=Date}},c.toString=d.toString,c},b.multi=b.utc.multi=hb;var t=bg.map(),u=Ra(p),v=Sa(p),w=Ra(q),x=Sa(q),y=Ra(r),z=Sa(r),A=Ra(s),B=Sa(s);o.forEach(function(a,b){t.set(a.toLowerCase(),b)});var C={a:function(a){return q[a.getDay()]},A:function(a){return p[a.getDay()]},b:function(a){return s[a.getMonth()]},B:function(a){return r[a.getMonth()]},c:b(l),d:function(a,b){return Qa(a.getDate(),b,2)},e:function(a,b){return Qa(a.getDate(),b,2)},H:function(a,b){return Qa(a.getHours(),b,2)},I:function(a,b){return Qa(a.getHours()%12||12,b,2)},j:function(a,b){return Qa(1+hh.dayOfYear(a),b,3)},L:function(a,b){return Qa(a.getMilliseconds(),b,3)},m:function(a,b){return Qa(a.getMonth()+1,b,2)},M:function(a,b){return Qa(a.getMinutes(),b,2)},p:function(a){return o[+(a.getHours()>=12)]},S:function(a,b){return Qa(a.getSeconds(),b,2)},U:function(a,b){return Qa(hh.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return Qa(hh.mondayOfYear(a),b,2)},x:b(m),X:b(n),y:function(a,b){return Qa(a.getFullYear()%100,b,2)},Y:function(a,b){return Qa(a.getFullYear()%1e4,b,4)},Z:fb,"%":function(){return"%"}},D={a:d,A:e,b:f,B:g,c:h,d:_a,e:_a,H:bb,I:bb,j:ab,L:eb,m:$a,M:cb,p:k,S:db,U:Ua,w:Ta,W:Va,x:i,X:j,y:Xa,Y:Wa,Z:Ya,"%":gb};return b}function Qa(a,b,c){var d=0>a?"-":"",e=(d?-a:a)+"",f=e.length;return d+(c>f?new Array(c-f+1).join(b)+e:e)}function Ra(a){return new RegExp("^(?:"+a.map(bg.requote).join("|")+")","i")}function Sa(a){for(var b=new j,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function Ta(a,b,c){lh.lastIndex=0;var d=lh.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function Ua(a,b,c){lh.lastIndex=0;var d=lh.exec(b.slice(c));return d?(a.U=+d[0],c+d[0].length):-1}function Va(a,b,c){lh.lastIndex=0;var d=lh.exec(b.slice(c));return d?(a.W=+d[0],c+d[0].length):-1}function Wa(a,b,c){lh.lastIndex=0;var d=lh.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function Xa(a,b,c){lh.lastIndex=0;var d=lh.exec(b.slice(c,c+2));return d?(a.y=Za(+d[0]),c+d[0].length):-1}function Ya(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function Za(a){return a+(a>68?1900:2e3)}function $a(a,b,c){lh.lastIndex=0;var d=lh.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function _a(a,b,c){lh.lastIndex=0;var d=lh.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function ab(a,b,c){lh.lastIndex=0;var d=lh.exec(b.slice(c,c+3));return d?(a.j=+d[0],c+d[0].length):-1}function bb(a,b,c){lh.lastIndex=0;var d=lh.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function cb(a,b,c){lh.lastIndex=0;var d=lh.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function db(a,b,c){lh.lastIndex=0;var d=lh.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function eb(a,b,c){lh.lastIndex=0;var d=lh.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function fb(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",d=ng(b)/60|0,e=ng(b)%60;return c+Qa(d,"0",2)+Qa(e,"0",2)}function gb(a,b,c){mh.lastIndex=0;var d=mh.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function hb(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,d=a[c];!d[1](b);)d=a[++c];return d[0](b)}}function ib(){}function jb(a,b,c){var d=c.s=a+b,e=d-a,f=d-e;c.t=a-f+(b-e)}function kb(a,b){a&&qh.hasOwnProperty(a.type)&&qh[a.type](a,b)}function lb(a,b,c){var d,e=-1,f=a.length-c;for(b.lineStart();++e<f;)d=a[e],b.point(d[0],d[1],d[2]);b.lineEnd()}function mb(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)lb(a[c],b,1);b.polygonEnd()}function nb(){function a(a,b){a*=Jg,b=b*Jg/2+Fg/4;var c=a-d,g=c>=0?1:-1,h=g*c,i=Math.cos(b),j=Math.sin(b),k=f*j,l=e*i+k*Math.cos(h),m=k*g*Math.sin(h);sh.add(Math.atan2(m,l)),d=a,e=i,f=j}var b,c,d,e,f;th.point=function(g,h){th.point=a,d=(b=g)*Jg,e=Math.cos(h=(c=h)*Jg/2+Fg/4),f=Math.sin(h)},th.lineEnd=function(){a(b,c)}}function ob(a){var b=a[0],c=a[1],d=Math.cos(c);return[d*Math.cos(b),d*Math.sin(b),Math.sin(c)]}function pb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function qb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function rb(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function sb(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function tb(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}function ub(a){return[Math.atan2(a[1],a[0]),ba(a[2])]}function vb(a,b){return ng(a[0]-b[0])<Dg&&ng(a[1]-b[1])<Dg}function wb(a,b){a*=Jg;var c=Math.cos(b*=Jg);xb(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function xb(a,b,c){++uh,wh+=(a-wh)/uh,xh+=(b-xh)/uh,yh+=(c-yh)/uh}function yb(){function a(a,e){a*=Jg;var f=Math.cos(e*=Jg),g=f*Math.cos(a),h=f*Math.sin(a),i=Math.sin(e),j=Math.atan2(Math.sqrt((j=c*i-d*h)*j+(j=d*g-b*i)*j+(j=b*h-c*g)*j),b*g+c*h+d*i);vh+=j,zh+=j*(b+(b=g)),Ah+=j*(c+(c=h)),Bh+=j*(d+(d=i)),xb(b,c,d)}var b,c,d;Fh.point=function(e,f){e*=Jg;var g=Math.cos(f*=Jg);b=g*Math.cos(e),c=g*Math.sin(e),d=Math.sin(f),Fh.point=a,xb(b,c,d)}}function zb(){Fh.point=wb}function Ab(){function a(a,b){a*=Jg;var c=Math.cos(b*=Jg),g=c*Math.cos(a),h=c*Math.sin(a),i=Math.sin(b),j=e*i-f*h,k=f*g-d*i,l=d*h-e*g,m=Math.sqrt(j*j+k*k+l*l),n=d*g+e*h+f*i,o=m&&-aa(n)/m,p=Math.atan2(m,n);Ch+=o*j,Dh+=o*k,Eh+=o*l,vh+=p,zh+=p*(d+(d=g)),Ah+=p*(e+(e=h)),Bh+=p*(f+(f=i)),xb(d,e,f)}var b,c,d,e,f;Fh.point=function(g,h){b=g,c=h,Fh.point=a,g*=Jg;var i=Math.cos(h*=Jg);d=i*Math.cos(g),e=i*Math.sin(g),f=Math.sin(h),xb(d,e,f)},Fh.lineEnd=function(){a(b,c),Fh.lineEnd=zb,Fh.point=wb}}function Bb(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])}),c}function Cb(){return!0}function Db(a,b,c,d,e){var f=[],g=[];if(a.forEach(function(a){if(!((b=a.length-1)<=0)){var b,c=a[0],d=a[b];if(vb(c,d)){e.lineStart();for(var h=0;b>h;++h)e.point((c=a[h])[0],c[1]);return void e.lineEnd()}var i=new Fb(c,a,null,!0),j=new Fb(c,null,i,!1);i.o=j,f.push(i),g.push(j),i=new Fb(d,a,null,!1),j=new Fb(d,null,i,!0),i.o=j,f.push(i),g.push(j)}}),g.sort(b),Eb(f),Eb(g),f.length){for(var h=0,i=c,j=g.length;j>h;++h)g[h].e=i=!i;for(var k,l,m=f[0];;){for(var n=m,o=!0;n.v;)if((n=n.n)===m)return;k=n.z,e.lineStart();do{if(n.v=n.o.v=!0,n.e){if(o)for(var h=0,j=k.length;j>h;++h)e.point((l=k[h])[0],l[1]);else d(n.x,n.n.x,1,e);n=n.n}else{if(o){k=n.p.z;for(var h=k.length-1;h>=0;--h)e.point((l=k[h])[0],l[1])}else d(n.x,n.p.x,-1,e);n=n.p}n=n.o,k=n.z,o=!o}while(!n.v);e.lineEnd()}}}function Eb(a){if(b=a.length){for(var b,c,d=0,e=a[0];++d<b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0],c.p=e}}function Fb(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function Gb(a,b,c,d){return function(e,f){function g(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function h(a,b){var c=e(a,b);q.point(c[0],c[1])}function i(){s.point=h,q.lineStart()}function j(){s.point=g,q.lineEnd()}function k(a,b){p.push([a,b]);var c=e(a,b);u.point(c[0],c[1])}function l(){u.lineStart(),p=[]}function m(){k(p[0][0],p[0][1]),u.lineEnd();var a,b=u.clean(),c=t.buffer(),d=c.length;if(p.pop(),o.push(p),p=null,d)if(1&b){a=c[0];var e,d=a.length-1,g=-1;if(d>0){for(v||(f.polygonStart(),v=!0),f.lineStart();++g<d;)f.point((e=a[g])[0],e[1]);f.lineEnd()}}else d>1&&2&b&&c.push(c.pop().concat(c.shift())),n.push(c.filter(Hb));
}var n,o,p,q=b(f),r=e.invert(d[0],d[1]),s={point:g,lineStart:i,lineEnd:j,polygonStart:function(){s.point=k,s.lineStart=l,s.lineEnd=m,n=[],o=[]},polygonEnd:function(){s.point=g,s.lineStart=i,s.lineEnd=j,n=bg.merge(n);var a=Nb(r,o);n.length?(v||(f.polygonStart(),v=!0),Db(n,Jb,a,c,f)):a&&(v||(f.polygonStart(),v=!0),f.lineStart(),c(null,null,1,f),f.lineEnd()),v&&(f.polygonEnd(),v=!1),n=o=null},sphere:function(){f.polygonStart(),f.lineStart(),c(null,null,1,f),f.lineEnd(),f.polygonEnd()}},t=Ib(),u=b(t),v=!1;return s}}function Hb(a){return a.length>1}function Ib(){var a,b=[];return{lineStart:function(){b.push(a=[])},point:function(b,c){a.push([b,c])},lineEnd:v,buffer:function(){var c=b;return b=[],a=null,c},rejoin:function(){b.length>1&&b.push(b.pop().concat(b.shift()))}}}function Jb(a,b){return((a=a.x)[0]<0?a[1]-Ig-Dg:Ig-a[1])-((b=b.x)[0]<0?b[1]-Ig-Dg:Ig-b[1])}function Kb(a){var b,c=NaN,d=NaN,e=NaN;return{lineStart:function(){a.lineStart(),b=1},point:function(f,g){var h=f>0?Fg:-Fg,i=ng(f-c);ng(i-Fg)<Dg?(a.point(c,d=(d+g)/2>0?Ig:-Ig),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),a.point(f,d),b=0):e!==h&&i>=Fg&&(ng(c-e)<Dg&&(c-=e*Dg),ng(f-h)<Dg&&(f-=h*Dg),d=Lb(c,d,f,g),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),b=0),a.point(c=f,d=g),e=h},lineEnd:function(){a.lineEnd(),c=d=NaN},clean:function(){return 2-b}}}function Lb(a,b,c,d){var e,f,g=Math.sin(a-c);return ng(g)>Dg?Math.atan((Math.sin(b)*(f=Math.cos(d))*Math.sin(c)-Math.sin(d)*(e=Math.cos(b))*Math.sin(a))/(e*f*g)):(b+d)/2}function Mb(a,b,c,d){var e;if(null==a)e=c*Ig,d.point(-Fg,e),d.point(0,e),d.point(Fg,e),d.point(Fg,0),d.point(Fg,-e),d.point(0,-e),d.point(-Fg,-e),d.point(-Fg,0),d.point(-Fg,e);else if(ng(a[0]-b[0])>Dg){var f=a[0]<b[0]?Fg:-Fg;e=c*f/2,d.point(-f,e),d.point(0,e),d.point(f,e)}else d.point(b[0],b[1])}function Nb(a,b){var c=a[0],d=a[1],e=[Math.sin(c),-Math.cos(c),0],f=0,g=0;sh.reset();for(var h=0,i=b.length;i>h;++h){var j=b[h],k=j.length;if(k)for(var l=j[0],m=l[0],n=l[1]/2+Fg/4,o=Math.sin(n),p=Math.cos(n),q=1;;){q===k&&(q=0),a=j[q];var r=a[0],s=a[1]/2+Fg/4,t=Math.sin(s),u=Math.cos(s),v=r-m,w=v>=0?1:-1,x=w*v,y=x>Fg,z=o*t;if(sh.add(Math.atan2(z*w*Math.sin(x),p*u+z*Math.cos(x))),f+=y?v+w*Gg:v,y^m>=c^r>=c){var A=qb(ob(l),ob(a));tb(A);var B=qb(e,A);tb(B);var C=(y^v>=0?-1:1)*ba(B[2]);(d>C||d===C&&(A[0]||A[1]))&&(g+=y^v>=0?1:-1)}if(!q++)break;m=r,o=t,p=u,l=a}}return(-Dg>f||Dg>f&&0>sh)^1&g}function Ob(a){function b(a,b){return Math.cos(a)*Math.cos(b)>f}function c(a){var c,f,i,j,k;return{lineStart:function(){j=i=!1,k=1},point:function(l,m){var n,o=[l,m],p=b(l,m),q=g?p?0:e(l,m):p?e(l+(0>l?Fg:-Fg),m):0;if(!c&&(j=i=p)&&a.lineStart(),p!==i&&(n=d(c,o),(vb(c,n)||vb(o,n))&&(o[0]+=Dg,o[1]+=Dg,p=b(o[0],o[1]))),p!==i)k=0,p?(a.lineStart(),n=d(o,c),a.point(n[0],n[1])):(n=d(c,o),a.point(n[0],n[1]),a.lineEnd()),c=n;else if(h&&c&&g^p){var r;q&f||!(r=d(o,c,!0))||(k=0,g?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1])))}!p||c&&vb(c,o)||a.point(o[0],o[1]),c=o,i=p,f=q},lineEnd:function(){i&&a.lineEnd(),c=null},clean:function(){return k|(j&&i)<<1}}}function d(a,b,c){var d=ob(a),e=ob(b),g=[1,0,0],h=qb(d,e),i=pb(h,h),j=h[0],k=i-j*j;if(!k)return!c&&a;var l=f*i/k,m=-f*j/k,n=qb(g,h),o=sb(g,l),p=sb(h,m);rb(o,p);var q=n,r=pb(o,q),s=pb(q,q),t=r*r-s*(pb(o,o)-1);if(!(0>t)){var u=Math.sqrt(t),v=sb(q,(-r-u)/s);if(rb(v,o),v=ub(v),!c)return v;var w,x=a[0],y=b[0],z=a[1],A=b[1];x>y&&(w=x,x=y,y=w);var B=y-x,C=ng(B-Fg)<Dg,D=C||Dg>B;if(!C&&z>A&&(w=z,z=A,A=w),D?C?z+A>0^v[1]<(ng(v[0]-x)<Dg?z:A):z<=v[1]&&v[1]<=A:B>Fg^(x<=v[0]&&v[0]<=y)){var E=sb(q,(-r+u)/s);return rb(E,o),[v,ub(E)]}}}function e(b,c){var d=g?a:Fg-a,e=0;return-d>b?e|=1:b>d&&(e|=2),-d>c?e|=4:c>d&&(e|=8),e}var f=Math.cos(a),g=f>0,h=ng(f)>Dg,i=nc(a,6*Jg);return Gb(b,c,i,g?[0,-a]:[-Fg,a-Fg])}function Pb(a,b,c,d){return function(e){var f,g=e.a,h=e.b,i=g.x,j=g.y,k=h.x,l=h.y,m=0,n=1,o=k-i,p=l-j;if(f=a-i,o||!(f>0)){if(f/=o,0>o){if(m>f)return;n>f&&(n=f)}else if(o>0){if(f>n)return;f>m&&(m=f)}if(f=c-i,o||!(0>f)){if(f/=o,0>o){if(f>n)return;f>m&&(m=f)}else if(o>0){if(m>f)return;n>f&&(n=f)}if(f=b-j,p||!(f>0)){if(f/=p,0>p){if(m>f)return;n>f&&(n=f)}else if(p>0){if(f>n)return;f>m&&(m=f)}if(f=d-j,p||!(0>f)){if(f/=p,0>p){if(f>n)return;f>m&&(m=f)}else if(p>0){if(m>f)return;n>f&&(n=f)}return m>0&&(e.a={x:i+m*o,y:j+m*p}),1>n&&(e.b={x:i+n*o,y:j+n*p}),e}}}}}}function Qb(a,b,c,d){function e(d,e){return ng(d[0]-a)<Dg?e>0?0:3:ng(d[0]-c)<Dg?e>0?2:1:ng(d[1]-b)<Dg?e>0?1:0:e>0?3:2}function f(a,b){return g(a.x,b.x)}function g(a,b){var c=e(a,1),d=e(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(h){function i(a){for(var b=0,c=q.length,d=a[1],e=0;c>e;++e)for(var f,g=1,h=q[e],i=h.length,j=h[0];i>g;++g)f=h[g],j[1]<=d?f[1]>d&&_(j,f,a)>0&&++b:f[1]<=d&&_(j,f,a)<0&&--b,j=f;return 0!==b}function j(f,h,i,j){var k=0,l=0;if(null==f||(k=e(f,i))!==(l=e(h,i))||g(f,h)<0^i>0){do j.point(0===k||3===k?a:c,k>1?d:b);while((k=(k+i+4)%4)!==l)}else j.point(h[0],h[1])}function k(e,f){return e>=a&&c>=e&&f>=b&&d>=f}function l(a,b){k(a,b)&&h.point(a,b)}function m(){D.point=o,q&&q.push(r=[]),y=!0,x=!1,v=w=NaN}function n(){p&&(o(s,t),u&&x&&B.rejoin(),p.push(B.buffer())),D.point=l,x&&h.lineEnd()}function o(a,b){a=Math.max(-Hh,Math.min(Hh,a)),b=Math.max(-Hh,Math.min(Hh,b));var c=k(a,b);if(q&&r.push([a,b]),y)s=a,t=b,u=c,y=!1,c&&(h.lineStart(),h.point(a,b));else if(c&&x)h.point(a,b);else{var d={a:{x:v,y:w},b:{x:a,y:b}};C(d)?(x||(h.lineStart(),h.point(d.a.x,d.a.y)),h.point(d.b.x,d.b.y),c||h.lineEnd(),z=!1):c&&(h.lineStart(),h.point(a,b),z=!1)}v=a,w=b,x=c}var p,q,r,s,t,u,v,w,x,y,z,A=h,B=Ib(),C=Pb(a,b,c,d),D={point:l,lineStart:m,lineEnd:n,polygonStart:function(){h=B,p=[],q=[],z=!0},polygonEnd:function(){h=A,p=bg.merge(p);var b=i([a,d]),c=z&&b,e=p.length;(c||e)&&(h.polygonStart(),c&&(h.lineStart(),j(null,null,1,h),h.lineEnd()),e&&Db(p,f,b,j,h),h.polygonEnd()),p=q=r=null}};return D}}function Rb(a){var b=0,c=Fg/3,d=fc(a),e=d(b,c);return e.parallels=function(a){return arguments.length?d(b=a[0]*Fg/180,c=a[1]*Fg/180):[b/Fg*180,c/Fg*180]},e}function Sb(a,b){function c(a,b){var c=Math.sqrt(f-2*e*Math.sin(b))/e;return[c*Math.sin(a*=e),g-c*Math.cos(a)]}var d=Math.sin(a),e=(d+Math.sin(b))/2,f=1+d*(2*e-d),g=Math.sqrt(f)/e;return c.invert=function(a,b){var c=g-b;return[Math.atan2(a,c)/e,ba((f-(a*a+c*c)*e*e)/(2*e))]},c}function Tb(){function a(a,b){Jh+=e*a-d*b,d=a,e=b}var b,c,d,e;Oh.point=function(f,g){Oh.point=a,b=d=f,c=e=g},Oh.lineEnd=function(){a(b,c)}}function Ub(a,b){Kh>a&&(Kh=a),a>Mh&&(Mh=a),Lh>b&&(Lh=b),b>Nh&&(Nh=b)}function Vb(){function a(a,b){g.push("M",a,",",b,f)}function b(a,b){g.push("M",a,",",b),h.point=c}function c(a,b){g.push("L",a,",",b)}function d(){h.point=a}function e(){g.push("Z")}var f=Wb(4.5),g=[],h={point:a,lineStart:function(){h.point=b},lineEnd:d,polygonStart:function(){h.lineEnd=e},polygonEnd:function(){h.lineEnd=d,h.point=a},pointRadius:function(a){return f=Wb(a),h},result:function(){if(g.length){var a=g.join("");return g=[],a}}};return h}function Wb(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Xb(a,b){wh+=a,xh+=b,++yh}function Yb(){function a(a,d){var e=a-b,f=d-c,g=Math.sqrt(e*e+f*f);zh+=g*(b+a)/2,Ah+=g*(c+d)/2,Bh+=g,Xb(b=a,c=d)}var b,c;Qh.point=function(d,e){Qh.point=a,Xb(b=d,c=e)}}function Zb(){Qh.point=Xb}function $b(){function a(a,b){var c=a-d,f=b-e,g=Math.sqrt(c*c+f*f);zh+=g*(d+a)/2,Ah+=g*(e+b)/2,Bh+=g,g=e*a-d*b,Ch+=g*(d+a),Dh+=g*(e+b),Eh+=3*g,Xb(d=a,e=b)}var b,c,d,e;Qh.point=function(f,g){Qh.point=a,Xb(b=d=f,c=e=g)},Qh.lineEnd=function(){a(b,c)}}function _b(a){function b(b,c){a.moveTo(b+g,c),a.arc(b,c,g,0,Gg)}function c(b,c){a.moveTo(b,c),h.point=d}function d(b,c){a.lineTo(b,c)}function e(){h.point=b}function f(){a.closePath()}var g=4.5,h={point:b,lineStart:function(){h.point=c},lineEnd:e,polygonStart:function(){h.lineEnd=f},polygonEnd:function(){h.lineEnd=e,h.point=b},pointRadius:function(a){return g=a,h},result:v};return h}function ac(a){function b(a){return(h?d:c)(a)}function c(b){return dc(b,function(c,d){c=a(c,d),b.point(c[0],c[1])})}function d(b){function c(c,d){c=a(c,d),b.point(c[0],c[1])}function d(){t=NaN,y.point=f,b.lineStart()}function f(c,d){var f=ob([c,d]),g=a(c,d);e(t,u,s,v,w,x,t=g[0],u=g[1],s=c,v=f[0],w=f[1],x=f[2],h,b),b.point(t,u)}function g(){y.point=c,b.lineEnd()}function i(){d(),y.point=j,y.lineEnd=k}function j(a,b){f(l=a,m=b),n=t,o=u,p=v,q=w,r=x,y.point=f}function k(){e(t,u,s,v,w,x,n,o,l,p,q,r,h,b),y.lineEnd=g,g()}var l,m,n,o,p,q,r,s,t,u,v,w,x,y={point:c,lineStart:d,lineEnd:g,polygonStart:function(){b.polygonStart(),y.lineStart=i},polygonEnd:function(){b.polygonEnd(),y.lineStart=d}};return y}function e(b,c,d,h,i,j,k,l,m,n,o,p,q,r){var s=k-b,t=l-c,u=s*s+t*t;if(u>4*f&&q--){var v=h+n,w=i+o,x=j+p,y=Math.sqrt(v*v+w*w+x*x),z=Math.asin(x/=y),A=ng(ng(x)-1)<Dg||ng(d-m)<Dg?(d+m)/2:Math.atan2(w,v),B=a(A,z),C=B[0],D=B[1],E=C-b,F=D-c,G=t*E-s*F;(G*G/u>f||ng((s*E+t*F)/u-.5)>.3||g>h*n+i*o+j*p)&&(e(b,c,d,h,i,j,C,D,A,v/=y,w/=y,x,q,r),r.point(C,D),e(C,D,A,v,w,x,k,l,m,n,o,p,q,r))}}var f=.5,g=Math.cos(30*Jg),h=16;return b.precision=function(a){return arguments.length?(h=(f=a*a)>0&&16,b):Math.sqrt(f)},b}function bc(a){var b=ac(function(b,c){return a([b*Kg,c*Kg])});return function(a){return gc(b(a))}}function cc(a){this.stream=a}function dc(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function ec(a){return fc(function(){return a})()}function fc(a){function b(a){return a=h(a[0]*Jg,a[1]*Jg),[a[0]*m+i,j-a[1]*m]}function c(a){return a=h.invert((a[0]-i)/m,(j-a[1])/m),a&&[a[0]*Kg,a[1]*Kg]}function d(){h=Bb(g=jc(r,t,u),f);var a=f(p,q);return i=n-a[0]*m,j=o+a[1]*m,e()}function e(){return k&&(k.valid=!1,k=null),b}var f,g,h,i,j,k,l=ac(function(a,b){return a=f(a,b),[a[0]*m+i,j-a[1]*m]}),m=150,n=480,o=250,p=0,q=0,r=0,t=0,u=0,v=Gh,w=s,x=null,y=null;return b.stream=function(a){return k&&(k.valid=!1),k=gc(v(g,l(w(a)))),k.valid=!0,k},b.clipAngle=function(a){return arguments.length?(v=null==a?(x=a,Gh):Ob((x=+a)*Jg),e()):x},b.clipExtent=function(a){return arguments.length?(y=a,w=a?Qb(a[0][0],a[0][1],a[1][0],a[1][1]):s,e()):y},b.scale=function(a){return arguments.length?(m=+a,d()):m},b.translate=function(a){return arguments.length?(n=+a[0],o=+a[1],d()):[n,o]},b.center=function(a){return arguments.length?(p=a[0]%360*Jg,q=a[1]%360*Jg,d()):[p*Kg,q*Kg]},b.rotate=function(a){return arguments.length?(r=a[0]%360*Jg,t=a[1]%360*Jg,u=a.length>2?a[2]%360*Jg:0,d()):[r*Kg,t*Kg,u*Kg]},bg.rebind(b,l,"precision"),function(){return f=a.apply(this,arguments),b.invert=f.invert&&c,d()}}function gc(a){return dc(a,function(b,c){a.point(b*Jg,c*Jg)})}function hc(a,b){return[a,b]}function ic(a,b){return[a>Fg?a-Gg:-Fg>a?a+Gg:a,b]}function jc(a,b,c){return a?b||c?Bb(lc(a),mc(b,c)):lc(a):b||c?mc(b,c):ic}function kc(a){return function(b,c){return b+=a,[b>Fg?b-Gg:-Fg>b?b+Gg:b,c]}}function lc(a){var b=kc(a);return b.invert=kc(-a),b}function mc(a,b){function c(a,b){var c=Math.cos(b),h=Math.cos(a)*c,i=Math.sin(a)*c,j=Math.sin(b),k=j*d+h*e;return[Math.atan2(i*f-k*g,h*d-j*e),ba(k*f+i*g)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),g=Math.sin(b);return c.invert=function(a,b){var c=Math.cos(b),h=Math.cos(a)*c,i=Math.sin(a)*c,j=Math.sin(b),k=j*f-i*g;return[Math.atan2(i*f+j*g,h*d+k*e),ba(k*d-h*e)]},c}function nc(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,g,h){var i=g*b;null!=e?(e=oc(c,e),f=oc(c,f),(g>0?f>e:e>f)&&(e+=g*Gg)):(e=a+g*Gg,f=a-.5*i);for(var j,k=e;g>0?k>f:f>k;k-=i)h.point((j=ub([c,-d*Math.cos(k),-d*Math.sin(k)]))[0],j[1])}}function oc(a,b){var c=ob(b);c[0]-=a,tb(c);var d=aa(-c[1]);return((-c[2]<0?-d:d)+2*Math.PI-Dg)%(2*Math.PI)}function pc(a,b,c){var d=bg.range(a,b-Dg,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function qc(a,b,c){var d=bg.range(a,b-Dg,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function rc(a){return a.source}function sc(a){return a.target}function tc(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),g=Math.cos(d),h=Math.sin(d),i=e*Math.cos(a),j=e*Math.sin(a),k=g*Math.cos(c),l=g*Math.sin(c),m=2*Math.asin(Math.sqrt(fa(d-b)+e*g*fa(c-a))),n=1/Math.sin(m),o=m?function(a){var b=Math.sin(a*=m)*n,c=Math.sin(m-a)*n,d=c*i+b*k,e=c*j+b*l,g=c*f+b*h;return[Math.atan2(e,d)*Kg,Math.atan2(g,Math.sqrt(d*d+e*e))*Kg]}:function(){return[a*Kg,b*Kg]};return o.distance=m,o}function uc(){function a(a,e){var f=Math.sin(e*=Jg),g=Math.cos(e),h=ng((a*=Jg)-b),i=Math.cos(h);Rh+=Math.atan2(Math.sqrt((h=g*Math.sin(h))*h+(h=d*f-c*g*i)*h),c*f+d*g*i),b=a,c=f,d=g}var b,c,d;Sh.point=function(e,f){b=e*Jg,c=Math.sin(f*=Jg),d=Math.cos(f),Sh.point=a},Sh.lineEnd=function(){Sh.point=Sh.lineEnd=v}}function vc(a,b){function c(b,c){var d=Math.cos(b),e=Math.cos(c),f=a(d*e);return[f*e*Math.sin(b),f*Math.sin(c)]}return c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),f=Math.sin(e),g=Math.cos(e);return[Math.atan2(a*f,d*g),Math.asin(d&&c*f/d)]},c}function wc(a,b){function c(a,b){g>0?-Ig+Dg>b&&(b=-Ig+Dg):b>Ig-Dg&&(b=Ig-Dg);var c=g/Math.pow(e(b),f);return[c*Math.sin(f*a),g-c*Math.cos(f*a)]}var d=Math.cos(a),e=function(a){return Math.tan(Fg/4+a/2)},f=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(e(b)/e(a)),g=d*Math.pow(e(a),f)/f;return f?(c.invert=function(a,b){var c=g-b,d=$(f)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/f,2*Math.atan(Math.pow(g/d,1/f))-Ig]},c):yc}function xc(a,b){function c(a,b){var c=f-b;return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-Math.cos(b))/(b-a),f=d/e+a;return ng(e)<Dg?hc:(c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/e,f-$(e)*Math.sqrt(a*a+c*c)]},c)}function yc(a,b){return[a,Math.log(Math.tan(Fg/4+b/2))]}function zc(a){var b,c=ec(a),d=c.scale,e=c.translate,f=c.clipExtent;return c.scale=function(){var a=d.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.translate=function(){var a=e.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.clipExtent=function(a){var g=f.apply(c,arguments);if(g===c){if(b=null==a){var h=Fg*d(),i=e();f([[i[0]-h,i[1]-h],[i[0]+h,i[1]+h]])}}else b&&(g=null);return g},c.clipExtent(null)}function Ac(a,b){return[Math.log(Math.tan(Fg/4+b/2)),-a]}function Bc(a){return a[0]}function Cc(a){return a[1]}function Dc(a){for(var b=a.length,c=[0,1],d=2,e=2;b>e;e++){for(;d>1&&_(a[c[d-2]],a[c[d-1]],a[e])<=0;)--d;c[d++]=e}return c.slice(0,d)}function Ec(a,b){return a[0]-b[0]||a[1]-b[1]}function Fc(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Gc(a,b,c,d){var e=a[0],f=c[0],g=b[0]-e,h=d[0]-f,i=a[1],j=c[1],k=b[1]-i,l=d[1]-j,m=(h*(i-j)-l*(e-f))/(l*g-h*k);return[e+m*g,i+m*k]}function Hc(a){var b=a[0],c=a[a.length-1];return!(b[0]-c[0]||b[1]-c[1])}function Ic(){bd(this),this.edge=this.site=this.circle=null}function Jc(a){var b=ci.pop()||new Ic;return b.site=a,b}function Kc(a){Uc(a),_h.remove(a),ci.push(a),bd(a)}function Lc(a){var b=a.circle,c=b.x,d=b.cy,e={x:c,y:d},f=a.P,g=a.N,h=[a];Kc(a);for(var i=f;i.circle&&ng(c-i.circle.x)<Dg&&ng(d-i.circle.cy)<Dg;)f=i.P,h.unshift(i),Kc(i),i=f;h.unshift(i),Uc(i);for(var j=g;j.circle&&ng(c-j.circle.x)<Dg&&ng(d-j.circle.cy)<Dg;)g=j.N,h.push(j),Kc(j),j=g;h.push(j),Uc(j);var k,l=h.length;for(k=1;l>k;++k)j=h[k],i=h[k-1],$c(j.edge,i.site,j.site,e);i=h[0],j=h[l-1],j.edge=Yc(i.site,j.site,null,e),Tc(i),Tc(j)}function Mc(a){for(var b,c,d,e,f=a.x,g=a.y,h=_h._;h;)if(d=Nc(h,g)-f,d>Dg)h=h.L;else{if(e=f-Oc(h,g),!(e>Dg)){d>-Dg?(b=h.P,c=h):e>-Dg?(b=h,c=h.N):b=c=h;break}if(!h.R){b=h;break}h=h.R}var i=Jc(a);if(_h.insert(b,i),b||c){if(b===c)return Uc(b),c=Jc(b.site),_h.insert(i,c),i.edge=c.edge=Yc(b.site,i.site),Tc(b),void Tc(c);if(!c)return void(i.edge=Yc(b.site,i.site));Uc(b),Uc(c);var j=b.site,k=j.x,l=j.y,m=a.x-k,n=a.y-l,o=c.site,p=o.x-k,q=o.y-l,r=2*(m*q-n*p),s=m*m+n*n,t=p*p+q*q,u={x:(q*s-n*t)/r+k,y:(m*t-p*s)/r+l};$c(c.edge,j,o,u),i.edge=Yc(j,a,null,u),c.edge=Yc(a,o,null,u),Tc(b),Tc(c)}}function Nc(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-(1/0);c=g.site;var h=c.x,i=c.y,j=i-b;if(!j)return h;var k=h-d,l=1/f-1/j,m=k/j;return l?(-m+Math.sqrt(m*m-2*l*(k*k/(-2*j)-i+j/2+e-f/2)))/l+d:(d+h)/2}function Oc(a,b){var c=a.N;if(c)return Nc(c,b);var d=a.site;return d.y===b?d.x:1/0}function Pc(a){this.site=a,this.edges=[]}function Qc(a){for(var b,c,d,e,f,g,h,i,j,k,l=a[0][0],m=a[1][0],n=a[0][1],o=a[1][1],p=$h,q=p.length;q--;)if(f=p[q],f&&f.prepare())for(h=f.edges,i=h.length,g=0;i>g;)k=h[g].end(),d=k.x,e=k.y,j=h[++g%i].start(),b=j.x,c=j.y,(ng(d-b)>Dg||ng(e-c)>Dg)&&(h.splice(g,0,new _c(Zc(f.site,k,ng(d-l)<Dg&&o-e>Dg?{x:l,y:ng(b-l)<Dg?c:o}:ng(e-o)<Dg&&m-d>Dg?{x:ng(c-o)<Dg?b:m,y:o}:ng(d-m)<Dg&&e-n>Dg?{x:m,y:ng(b-m)<Dg?c:n}:ng(e-n)<Dg&&d-l>Dg?{x:ng(c-n)<Dg?b:l,y:n}:null),f.site,null)),++i)}function Rc(a,b){return b.angle-a.angle}function Sc(){bd(this),this.x=this.y=this.arc=this.site=this.cy=null}function Tc(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,e=a.site,f=c.site;if(d!==f){var g=e.x,h=e.y,i=d.x-g,j=d.y-h,k=f.x-g,l=f.y-h,m=2*(i*l-j*k);if(!(m>=-Eg)){var n=i*i+j*j,o=k*k+l*l,p=(l*n-j*o)/m,q=(i*o-k*n)/m,l=q+h,r=di.pop()||new Sc;r.arc=a,r.site=e,r.x=p+g,r.y=l+Math.sqrt(p*p+q*q),r.cy=l,a.circle=r;for(var s=null,t=bi._;t;)if(r.y<t.y||r.y===t.y&&r.x<=t.x){if(!t.L){s=t.P;break}t=t.L}else{if(!t.R){s=t;break}t=t.R}bi.insert(s,r),s||(ai=r)}}}}function Uc(a){var b=a.circle;b&&(b.P||(ai=b.N),bi.remove(b),di.push(b),bd(b),a.circle=null)}function Vc(a){for(var b,c=Zh,d=Pb(a[0][0],a[0][1],a[1][0],a[1][1]),e=c.length;e--;)b=c[e],(!Wc(b,a)||!d(b)||ng(b.a.x-b.b.x)<Dg&&ng(b.a.y-b.b.y)<Dg)&&(b.a=b.b=null,c.splice(e,1))}function Wc(a,b){var c=a.b;if(c)return!0;var d,e,f=a.a,g=b[0][0],h=b[1][0],i=b[0][1],j=b[1][1],k=a.l,l=a.r,m=k.x,n=k.y,o=l.x,p=l.y,q=(m+o)/2,r=(n+p)/2;if(p===n){if(g>q||q>=h)return;if(m>o){if(f){if(f.y>=j)return}else f={x:q,y:i};c={x:q,y:j}}else{if(f){if(f.y<i)return}else f={x:q,y:j};c={x:q,y:i}}}else if(d=(m-o)/(p-n),e=r-d*q,-1>d||d>1)if(m>o){if(f){if(f.y>=j)return}else f={x:(i-e)/d,y:i};c={x:(j-e)/d,y:j}}else{if(f){if(f.y<i)return}else f={x:(j-e)/d,y:j};c={x:(i-e)/d,y:i}}else if(p>n){if(f){if(f.x>=h)return}else f={x:g,y:d*g+e};c={x:h,y:d*h+e}}else{if(f){if(f.x<g)return}else f={x:h,y:d*h+e};c={x:g,y:d*g+e}}return a.a=f,a.b=c,!0}function Xc(a,b){this.l=a,this.r=b,this.a=this.b=null}function Yc(a,b,c,d){var e=new Xc(a,b);return Zh.push(e),c&&$c(e,a,b,c),d&&$c(e,b,a,d),$h[a.i].edges.push(new _c(e,a,b)),$h[b.i].edges.push(new _c(e,b,a)),e}function Zc(a,b,c){var d=new Xc(a,null);return d.a=b,d.b=c,Zh.push(d),d}function $c(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function _c(a,b,c){var d=a.a,e=a.b;this.edge=a,this.site=b,this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function ad(){this._=null}function bd(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function cd(a,b){var c=b,d=b.R,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.R=d.L,c.R&&(c.R.U=c),d.L=c}function dd(a,b){var c=b,d=b.L,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.L=d.R,c.L&&(c.L.U=c),d.R=c}function ed(a){for(;a.L;)a=a.L;return a}function fd(a,b){var c,d,e,f=a.sort(gd).pop();for(Zh=[],$h=new Array(a.length),_h=new ad,bi=new ad;;)if(e=ai,f&&(!e||f.y<e.y||f.y===e.y&&f.x<e.x))(f.x!==c||f.y!==d)&&($h[f.i]=new Pc(f),Mc(f),c=f.x,d=f.y),f=a.pop();else{if(!e)break;Lc(e.arc)}b&&(Vc(b),Qc(b));var g={cells:$h,edges:Zh};return _h=bi=Zh=$h=null,g}function gd(a,b){return b.y-a.y||b.x-a.x}function hd(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}function id(a){return a.x}function jd(a){return a.y}function kd(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function ld(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=.5*(c+e),h=.5*(d+f),i=b.nodes;i[0]&&ld(a,i[0],c,d,g,h),i[1]&&ld(a,i[1],g,d,e,h),i[2]&&ld(a,i[2],c,h,g,f),i[3]&&ld(a,i[3],g,h,e,f)}}function md(a,b,c,d,e,f,g){var h,i=1/0;return function j(a,k,l,m,n){if(!(k>f||l>g||d>m||e>n)){if(o=a.point){var o,p=b-a.x,q=c-a.y,r=p*p+q*q;if(i>r){var s=Math.sqrt(i=r);d=b-s,e=c-s,f=b+s,g=c+s,h=o}}for(var t=a.nodes,u=.5*(k+m),v=.5*(l+n),w=b>=u,x=c>=v,y=x<<1|w,z=y+4;z>y;++y)if(a=t[3&y])switch(3&y){case 0:j(a,k,l,u,v);break;case 1:j(a,u,l,m,v);break;case 2:j(a,k,v,u,n);break;case 3:j(a,u,v,m,n)}}}(a,d,e,f,g),h}function nd(a,b){a=bg.rgb(a),b=bg.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-c,g=b.g-d,h=b.b-e;return function(a){return"#"+ua(Math.round(c+f*a))+ua(Math.round(d+g*a))+ua(Math.round(e+h*a))}}function od(a,b){var c,d={},e={};for(c in a)c in b?d[c]=rd(a[c],b[c]):e[c]=a[c];for(c in b)c in a||(e[c]=b[c]);return function(a){for(c in d)e[c]=d[c](a);return e}}function pd(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function qd(a,b){var c,d,e,f=fi.lastIndex=gi.lastIndex=0,g=-1,h=[],i=[];for(a+="",b+="";(c=fi.exec(a))&&(d=gi.exec(b));)(e=d.index)>f&&(e=b.slice(f,e),h[g]?h[g]+=e:h[++g]=e),(c=c[0])===(d=d[0])?h[g]?h[g]+=d:h[++g]=d:(h[++g]=null,i.push({i:g,x:pd(c,d)})),f=gi.lastIndex;return f<b.length&&(e=b.slice(f),h[g]?h[g]+=e:h[++g]=e),h.length<2?i[0]?(b=i[0].x,function(a){return b(a)+""}):function(){return b}:(b=i.length,function(a){for(var c,d=0;b>d;++d)h[(c=i[d]).i]=c.x(a);return h.join("")})}function rd(a,b){for(var c,d=bg.interpolators.length;--d>=0&&!(c=bg.interpolators[d](a,b)););return c}function sd(a,b){var c,d=[],e=[],f=a.length,g=b.length,h=Math.min(a.length,b.length);for(c=0;h>c;++c)d.push(rd(a[c],b[c]));for(;f>c;++c)e[c]=a[c];for(;g>c;++c)e[c]=b[c];return function(a){for(c=0;h>c;++c)e[c]=d[c](a);return e}}function td(a){return function(b){return 0>=b?0:b>=1?1:a(b)}}function ud(a){return function(b){return 1-a(1-b)}}function vd(a){return function(b){return.5*(.5>b?a(2*b):2-a(2-2*b))}}function wd(a){return a*a}function xd(a){return a*a*a}function yd(a){if(0>=a)return 0;if(a>=1)return 1;var b=a*a,c=b*a;return 4*(.5>a?c:3*(a-b)+c-.75)}function zd(a){return function(b){return Math.pow(b,a)}}function Ad(a){return 1-Math.cos(a*Ig)}function Bd(a){return Math.pow(2,10*(a-1))}function Cd(a){return 1-Math.sqrt(1-a*a)}function Dd(a,b){var c;return arguments.length<2&&(b=.45),arguments.length?c=b/Gg*Math.asin(1/a):(a=1,c=b/4),function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*Gg/b)}}function Ed(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function Fd(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Gd(a,b){a=bg.hcl(a),b=bg.hcl(b);var c=a.h,d=a.c,e=a.l,f=b.h-c,g=b.c-d,h=b.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?b.c:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):f>180?f-=360:-180>f&&(f+=360),function(a){return ka(c+f*a,d+g*a,e+h*a)+""}}function Hd(a,b){a=bg.hsl(a),b=bg.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,g=b.s-d,h=b.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?b.s:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):f>180?f-=360:-180>f&&(f+=360),function(a){return ia(c+f*a,d+g*a,e+h*a)+""}}function Id(a,b){a=bg.lab(a),b=bg.lab(b);var c=a.l,d=a.a,e=a.b,f=b.l-c,g=b.a-d,h=b.b-e;return function(a){return ma(c+f*a,d+g*a,e+h*a)+""}}function Jd(a,b){return b-=a,function(c){return Math.round(a+b*c)}}function Kd(a){var b=[a.a,a.b],c=[a.c,a.d],d=Md(b),e=Ld(b,c),f=Md(Nd(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Kg,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*Kg:0}function Ld(a,b){return a[0]*b[0]+a[1]*b[1]}function Md(a){var b=Math.sqrt(Ld(a,a));return b&&(a[0]/=b,a[1]/=b),b}function Nd(a,b,c){return a[0]+=c*b[0],a[1]+=c*b[1],a}function Od(a,b){var c,d=[],e=[],f=bg.transform(a),g=bg.transform(b),h=f.translate,i=g.translate,j=f.rotate,k=g.rotate,l=f.skew,m=g.skew,n=f.scale,o=g.scale;return h[0]!=i[0]||h[1]!=i[1]?(d.push("translate(",null,",",null,")"),e.push({i:1,x:pd(h[0],i[0])},{i:3,x:pd(h[1],i[1])})):i[0]||i[1]?d.push("translate("+i+")"):d.push(""),j!=k?(j-k>180?k+=360:k-j>180&&(j+=360),e.push({i:d.push(d.pop()+"rotate(",null,")")-2,x:pd(j,k)})):k&&d.push(d.pop()+"rotate("+k+")"),l!=m?e.push({i:d.push(d.pop()+"skewX(",null,")")-2,x:pd(l,m)}):m&&d.push(d.pop()+"skewX("+m+")"),n[0]!=o[0]||n[1]!=o[1]?(c=d.push(d.pop()+"scale(",null,",",null,")"),e.push({i:c-4,x:pd(n[0],o[0])},{i:c-2,x:pd(n[1],o[1])})):(1!=o[0]||1!=o[1])&&d.push(d.pop()+"scale("+o+")"),c=e.length,function(a){for(var b,f=-1;++f<c;)d[(b=e[f]).i]=b.x(a);return d.join("")}}function Pd(a,b){return b=(b-=a=+a)||1/b,function(c){return(c-a)/b}}function Qd(a,b){return b=(b-=a=+a)||1/b,function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function Rd(a){for(var b=a.source,c=a.target,d=Td(b,c),e=[b];b!==d;)b=b.parent,e.push(b);for(var f=e.length;c!==d;)e.splice(f,0,c),c=c.parent;return e}function Sd(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function Td(a,b){if(a===b)return a;for(var c=Sd(a),d=Sd(b),e=c.pop(),f=d.pop(),g=null;e===f;)g=e,e=c.pop(),f=d.pop();return g}function Ud(a){a.fixed|=2}function Vd(a){a.fixed&=-7}function Wd(a){a.fixed|=4,a.px=a.x,a.py=a.y}function Xd(a){a.fixed&=-5}function Yd(a,b,c){var d=0,e=0;if(a.charge=0,!a.leaf)for(var f,g=a.nodes,h=g.length,i=-1;++i<h;)f=g[i],null!=f&&(Yd(f,b,c),a.charge+=f.charge,d+=f.charge*f.cx,e+=f.charge*f.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var j=b*c[a.point.index];a.charge+=a.pointCharge=j,d+=j*a.point.x,e+=j*a.point.y}a.cx=d/a.charge,a.cy=e/a.charge}function Zd(a,b){return bg.rebind(a,b,"sort","children","value"),a.nodes=a,a.links=de,a}function $d(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;--d>=0;)c.push(e[d])}function _d(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(f=a.children)&&(e=f.length))for(var e,f,g=-1;++g<e;)c.push(f[g]);for(;null!=(a=d.pop());)b(a)}function ae(a){return a.children}function be(a){return a.value}function ce(a,b){return b.value-a.value}function de(a){return bg.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function ee(a){return a.x}function fe(a){return a.y}function ge(a,b,c){a.y0=b,a.y=c}function he(a){return bg.range(a.length)}function ie(a){for(var b=-1,c=a[0].length,d=[];++b<c;)d[b]=0;return d}function je(a){for(var b,c=1,d=0,e=a[0][1],f=a.length;f>c;++c)(b=a[c][1])>e&&(d=c,e=b);return d}function ke(a){return a.reduce(le,0)}function le(a,b){return a+b[1]}function me(a,b){return ne(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function ne(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function oe(a){return[bg.min(a),bg.max(a)]}function pe(a,b){return a.value-b.value}function qe(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function re(a,b){a._pack_next=b,b._pack_prev=a}function se(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return.999*e*e>c*c+d*d}function te(a){function b(a){k=Math.min(a.x-a.r,k),l=Math.max(a.x+a.r,l),m=Math.min(a.y-a.r,m),n=Math.max(a.y+a.r,n)}if((c=a.children)&&(j=c.length)){var c,d,e,f,g,h,i,j,k=1/0,l=-(1/0),m=1/0,n=-(1/0);if(c.forEach(ue),d=c[0],d.x=-d.r,d.y=0,b(d),j>1&&(e=c[1],e.x=e.r,e.y=0,b(e),j>2))for(f=c[2],xe(d,e,f),b(f),qe(d,f),d._pack_prev=f,qe(f,e),e=d._pack_next,g=3;j>g;g++){xe(d,e,f=c[g]);var o=0,p=1,q=1;for(h=e._pack_next;h!==e;h=h._pack_next,p++)if(se(h,f)){o=1;break}if(1==o)for(i=d._pack_prev;i!==h._pack_prev&&!se(i,f);i=i._pack_prev,q++);o?(q>p||p==q&&e.r<d.r?re(d,e=h):re(d=i,e),g--):(qe(d,f),e=f,b(f))}var r=(k+l)/2,s=(m+n)/2,t=0;for(g=0;j>g;g++)f=c[g],f.x-=r,f.y-=s,t=Math.max(t,f.r+Math.sqrt(f.x*f.x+f.y*f.y));a.r=t,c.forEach(ve)}}function ue(a){a._pack_next=a._pack_prev=a}function ve(a){delete a._pack_next,delete a._pack_prev}function we(a,b,c,d){var e=a.children;if(a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d,e)for(var f=-1,g=e.length;++f<g;)we(e[f],b,c,d)}function xe(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f;g*=g,d*=d;var i=.5+(d-g)/(2*h),j=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+i*e+j*f,c.y=a.y+i*f-j*e}else c.x=a.x+d,c.y=a.y}function ye(a,b){return a.parent==b.parent?1:2}function ze(a){var b=a.children;return b.length?b[0]:a.t}function Ae(a){var b,c=a.children;return(b=c.length)?c[b-1]:a.t}function Be(a,b,c){var d=c/(b.i-a.i);b.c-=d,b.s+=c,a.c+=d,b.z+=c,b.m+=c}function Ce(a){for(var b,c=0,d=0,e=a.children,f=e.length;--f>=0;)b=e[f],b.z+=c,b.m+=c,c+=b.s+(d+=b.c)}function De(a,b,c){return a.a.parent===b.parent?a.a:c}function Ee(a){return 1+bg.max(a,function(a){return a.y})}function Fe(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function Ge(a){var b=a.children;return b&&b.length?Ge(b[0]):a}function He(a){var b,c=a.children;return c&&(b=c.length)?He(c[b-1]):a}function Ie(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Je(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return 0>e&&(c+=e/2,e=0),0>f&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}function Ke(a){var b=a[0],c=a[a.length-1];return c>b?[b,c]:[c,b]}function Le(a){return a.rangeExtent?a.rangeExtent():Ke(a.range())}function Me(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function Ne(a,b){var c,d=0,e=a.length-1,f=a[d],g=a[e];return f>g&&(c=d,d=e,e=c,c=f,f=g,g=c),a[d]=b.floor(f),a[e]=b.ceil(g),a}function Oe(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:ri}function Pe(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;for(a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++g<=h;)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=bg.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function Qe(a,b,c,d){function e(){var e=Math.min(a.length,b.length)>2?Pe:Me,i=d?Qd:Pd;return g=e(a,b,i,c),h=e(b,a,i,rd),f}function f(a){return g(a)}var g,h;return f.invert=function(a){return h(a)},f.domain=function(b){return arguments.length?(a=b.map(Number),e()):a},f.range=function(a){return arguments.length?(b=a,e()):b},f.rangeRound=function(a){return f.range(a).interpolate(Jd)},f.clamp=function(a){return arguments.length?(d=a,e()):d},f.interpolate=function(a){return arguments.length?(c=a,e()):c},f.ticks=function(b){return Ue(a,b)},f.tickFormat=function(b,c){return Ve(a,b,c)},f.nice=function(b){return Se(a,b),e()},f.copy=function(){return Qe(a,b,c,d)},e()}function Re(a,b){return bg.rebind(a,b,"range","rangeRound","interpolate","clamp")}function Se(a,b){return Ne(a,Oe(Te(a,b)[2]))}function Te(a,b){null==b&&(b=10);var c=Ke(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;return.15>=f?e*=10:.35>=f?e*=5:.75>=f&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+.5*e,c[2]=e,c}function Ue(a,b){return bg.range.apply(bg,Te(a,b))}function Ve(a,b,c){var d=Te(a,b);if(c){var e=fh.exec(c);if(e.shift(),"s"===e[8]){var f=bg.formatPrefix(Math.max(ng(d[0]),ng(d[1])));return e[7]||(e[7]="."+We(f.scale(d[2]))),e[8]="f",c=bg.format(e.join("")),function(a){return c(f.scale(a))+f.symbol}}e[7]||(e[7]="."+Xe(e[8],d)),c=e.join("")}else c=",."+We(d[2])+"f";return bg.format(c)}function We(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function Xe(a,b){var c=We(b[2]);return a in si?Math.abs(c-We(Math.max(ng(b[0]),ng(b[1]))))+ +("e"!==a):c-2*("%"===a)}function Ye(a,b,c,d){function e(a){return(c?Math.log(0>a?0:a):-Math.log(a>0?0:-a))/Math.log(b)}function f(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function g(b){return a(e(b))}return g.invert=function(b){return f(a.invert(b))},g.domain=function(b){return arguments.length?(c=b[0]>=0,a.domain((d=b.map(Number)).map(e)),g):d},g.base=function(c){return arguments.length?(b=+c,a.domain(d.map(e)),g):b},g.nice=function(){var b=Ne(d.map(e),c?Math:ui);return a.domain(b),d=b.map(f),g},g.ticks=function(){var a=Ke(d),g=[],h=a[0],i=a[1],j=Math.floor(e(h)),k=Math.ceil(e(i)),l=b%1?2:b;if(isFinite(k-j)){if(c){for(;k>j;j++)for(var m=1;l>m;m++)g.push(f(j)*m);g.push(f(j))}else for(g.push(f(j));j++<k;)for(var m=l-1;m>0;m--)g.push(f(j)*m);for(j=0;g[j]<h;j++);for(k=g.length;g[k-1]>i;k--);g=g.slice(j,k)}return g},g.tickFormat=function(a,b){if(!arguments.length)return ti;arguments.length<2?b=ti:"function"!=typeof b&&(b=bg.format(b));
var d,h=Math.max(.1,a/g.ticks().length),i=c?(d=1e-12,Math.ceil):(d=-1e-12,Math.floor);return function(a){return a/f(i(e(a)+d))<=h?b(a):""}},g.copy=function(){return Ye(a.copy(),b,c,d)},Re(g,a)}function Ze(a,b,c){function d(b){return a(e(b))}var e=$e(b),f=$e(1/b);return d.invert=function(b){return f(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain((c=b.map(Number)).map(e)),d):c},d.ticks=function(a){return Ue(c,a)},d.tickFormat=function(a,b){return Ve(c,a,b)},d.nice=function(a){return d.domain(Se(c,a))},d.exponent=function(g){return arguments.length?(e=$e(b=g),f=$e(1/b),a.domain(c.map(e)),d):b},d.copy=function(){return Ze(a.copy(),b,c)},Re(d,a)}function $e(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function _e(a,b){function c(c){return f[((e.get(c)||("range"===b.t?e.set(c,a.push(c)):NaN))-1)%f.length]}function d(b,c){return bg.range(a.length).map(function(a){return b+c*a})}var e,f,g;return c.domain=function(d){if(!arguments.length)return a;a=[],e=new j;for(var f,g=-1,h=d.length;++g<h;)e.has(f=d[g])||e.set(f,a.push(f));return c[b.t].apply(c,b.a)},c.range=function(a){return arguments.length?(f=a,g=0,b={t:"range",a:arguments},c):f},c.rangePoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=a.length<2?(i=(i+j)/2,0):(j-i)/(a.length-1+h);return f=d(i+k*h/2,k),g=0,b={t:"rangePoints",a:arguments},c},c.rangeRoundPoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=a.length<2?(i=j=Math.round((i+j)/2),0):(j-i)/(a.length-1+h)|0;return f=d(i+Math.round(k*h/2+(j-i-(a.length-1+h)*k)/2),k),g=0,b={t:"rangeRoundPoints",a:arguments},c},c.rangeBands=function(e,h,i){arguments.length<2&&(h=0),arguments.length<3&&(i=h);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=(l-k)/(a.length-h+2*i);return f=d(k+m*i,m),j&&f.reverse(),g=m*(1-h),b={t:"rangeBands",a:arguments},c},c.rangeRoundBands=function(e,h,i){arguments.length<2&&(h=0),arguments.length<3&&(i=h);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=Math.floor((l-k)/(a.length-h+2*i));return f=d(k+Math.round((l-k-(a.length-h)*m)/2),m),j&&f.reverse(),g=Math.round(m*(1-h)),b={t:"rangeRoundBands",a:arguments},c},c.rangeBand=function(){return g},c.rangeExtent=function(){return Ke(b.a[0])},c.copy=function(){return _e(a,b)},c.domain(a)}function af(a,b){function f(){var c=0,d=b.length;for(h=[];++c<d;)h[c-1]=bg.quantile(a,c/d);return g}function g(a){return isNaN(a=+a)?void 0:b[bg.bisect(h,a)]}var h;return g.domain=function(b){return arguments.length?(a=b.map(d).filter(e).sort(c),f()):a},g.range=function(a){return arguments.length?(b=a,f()):b},g.quantiles=function(){return h},g.invertExtent=function(c){return c=b.indexOf(c),0>c?[NaN,NaN]:[c>0?h[c-1]:a[0],c<h.length?h[c]:a[a.length-1]]},g.copy=function(){return af(a,b)},f()}function bf(a,b,c){function d(b){return c[Math.max(0,Math.min(g,Math.floor(f*(b-a))))]}function e(){return f=c.length/(b-a),g=c.length-1,d}var f,g;return d.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],e()):[a,b]},d.range=function(a){return arguments.length?(c=a,e()):c},d.invertExtent=function(b){return b=c.indexOf(b),b=0>b?NaN:b/f+a,[b,b+1/f]},d.copy=function(){return bf(a,b,c)},e()}function cf(a,b){function c(c){return c>=c?b[bg.bisect(a,c)]:void 0}return c.domain=function(b){return arguments.length?(a=b,c):a},c.range=function(a){return arguments.length?(b=a,c):b},c.invertExtent=function(c){return c=b.indexOf(c),[a[c-1],a[c]]},c.copy=function(){return cf(a,b)},c}function df(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return Ue(a,b)},b.tickFormat=function(b,c){return Ve(a,b,c)},b.copy=function(){return df(a)},b}function ef(){return 0}function ff(a){return a.innerRadius}function gf(a){return a.outerRadius}function hf(a){return a.startAngle}function jf(a){return a.endAngle}function kf(a){return a&&a.padAngle}function lf(a,b,c,d){return(a-c)*b-(b-d)*a>0?0:1}function mf(a,b,c,d,e){var f=a[0]-b[0],g=a[1]-b[1],h=(e?d:-d)/Math.sqrt(f*f+g*g),i=h*g,j=-h*f,k=a[0]+i,l=a[1]+j,m=b[0]+i,n=b[1]+j,o=(k+m)/2,p=(l+n)/2,q=m-k,r=n-l,s=q*q+r*r,t=c-d,u=k*n-m*l,v=(0>r?-1:1)*Math.sqrt(t*t*s-u*u),w=(u*r-q*v)/s,x=(-u*q-r*v)/s,y=(u*r+q*v)/s,z=(-u*q+r*v)/s,A=w-o,B=x-p,C=y-o,D=z-p;return A*A+B*B>C*C+D*D&&(w=y,x=z),[[w-i,x-j],[w*c/t,x*c/t]]}function nf(a){function b(b){function g(){j.push("M",f(a(k),h))}for(var i,j=[],k=[],l=-1,m=b.length,n=Aa(c),o=Aa(d);++l<m;)e.call(this,i=b[l],l)?k.push([+n.call(this,i,l),+o.call(this,i,l)]):k.length&&(g(),k=[]);return k.length&&g(),j.length?j.join(""):null}var c=Bc,d=Cc,e=Cb,f=of,g=f.key,h=.7;return b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b.defined=function(a){return arguments.length?(e=a,b):e},b.interpolate=function(a){return arguments.length?(g="function"==typeof a?f=a:(f=Ai.get(a)||of).key,b):g},b.tension=function(a){return arguments.length?(h=a,b):h},b}function of(a){return a.join("L")}function pf(a){return of(a)+"Z"}function qf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);return c>1&&e.push("H",d[0]),e.join("")}function rf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function sf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function tf(a,b){return a.length<4?of(a):a[1]+wf(a.slice(1,-1),xf(a,b))}function uf(a,b){return a.length<3?of(a):a[0]+wf((a.push(a[0]),a),xf([a[a.length-2]].concat(a,[a[1]]),b))}function vf(a,b){return a.length<3?of(a):a[0]+wf(a,xf(a,b))}function wf(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2)return of(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,i=1;if(c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],i=2),b.length>1){h=b[1],f=a[i],i++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(var j=2;j<b.length;j++,i++)f=a[i],h=b[j],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}if(c){var k=a[i];d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+k[0]+","+k[1]}return d}function xf(a,b){for(var c,d=[],e=(1-b)/2,f=a[0],g=a[1],h=1,i=a.length;++h<i;)c=f,f=g,g=a[h],d.push([e*(g[0]-c[0]),e*(g[1]-c[1])]);return d}function yf(a){if(a.length<3)return of(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],i=[e,",",f,"L",Cf(Di,g),",",Cf(Di,h)];for(a.push(a[c-1]);++b<=c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),Df(i,g,h);return a.pop(),i.push("L",d),i.join("")}function zf(a){if(a.length<4)return of(a);for(var b,c=[],d=-1,e=a.length,f=[0],g=[0];++d<3;)b=a[d],f.push(b[0]),g.push(b[1]);for(c.push(Cf(Di,f)+","+Cf(Di,g)),--d;++d<e;)b=a[d],f.shift(),f.push(b[0]),g.shift(),g.push(b[1]),Df(c,f,g);return c.join("")}function Af(a){for(var b,c,d=-1,e=a.length,f=e+4,g=[],h=[];++d<4;)c=a[d%e],g.push(c[0]),h.push(c[1]);for(b=[Cf(Di,g),",",Cf(Di,h)],--d;++d<f;)c=a[d%e],g.shift(),g.push(c[0]),h.shift(),h.push(c[1]),Df(b,g,h);return b.join("")}function Bf(a,b){var c=a.length-1;if(c)for(var d,e,f=a[0][0],g=a[0][1],h=a[c][0]-f,i=a[c][1]-g,j=-1;++j<=c;)d=a[j],e=j/c,d[0]=b*d[0]+(1-b)*(f+e*h),d[1]=b*d[1]+(1-b)*(g+e*i);return yf(a)}function Cf(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Df(a,b,c){a.push("C",Cf(Bi,b),",",Cf(Bi,c),",",Cf(Ci,b),",",Cf(Ci,c),",",Cf(Di,b),",",Cf(Di,c))}function Ef(a,b){return(b[1]-a[1])/(b[0]-a[0])}function Ff(a){for(var b=0,c=a.length-1,d=[],e=a[0],f=a[1],g=d[0]=Ef(e,f);++b<c;)d[b]=(g+(g=Ef(e=f,f=a[b+1])))/2;return d[b]=g,d}function Gf(a){for(var b,c,d,e,f=[],g=Ff(a),h=-1,i=a.length-1;++h<i;)b=Ef(a[h],a[h+1]),ng(b)<Dg?g[h]=g[h+1]=0:(c=g[h]/b,d=g[h+1]/b,e=c*c+d*d,e>9&&(e=3*b/Math.sqrt(e),g[h]=e*c,g[h+1]=e*d));for(h=-1;++h<=i;)e=(a[Math.min(i,h+1)][0]-a[Math.max(0,h-1)][0])/(6*(1+g[h]*g[h])),f.push([e||0,g[h]*e||0]);return f}function Hf(a){return a.length<3?of(a):a[0]+wf(a,Gf(a))}function If(a){for(var b,c,d,e=-1,f=a.length;++e<f;)b=a[e],c=b[0],d=b[1]-Ig,b[0]=c*Math.cos(d),b[1]=c*Math.sin(d);return a}function Jf(a){function b(b){function i(){p.push("M",h(a(r),l),k,j(a(q.reverse()),l),"Z")}for(var m,n,o,p=[],q=[],r=[],s=-1,t=b.length,u=Aa(c),v=Aa(e),w=c===d?function(){return n}:Aa(d),x=e===f?function(){return o}:Aa(f);++s<t;)g.call(this,m=b[s],s)?(q.push([n=+u.call(this,m,s),o=+v.call(this,m,s)]),r.push([+w.call(this,m,s),+x.call(this,m,s)])):q.length&&(i(),q=[],r=[]);return q.length&&i(),p.length?p.join(""):null}var c=Bc,d=Bc,e=0,f=Cc,g=Cb,h=of,i=h.key,j=h,k="L",l=.7;return b.x=function(a){return arguments.length?(c=d=a,b):d},b.x0=function(a){return arguments.length?(c=a,b):c},b.x1=function(a){return arguments.length?(d=a,b):d},b.y=function(a){return arguments.length?(e=f=a,b):f},b.y0=function(a){return arguments.length?(e=a,b):e},b.y1=function(a){return arguments.length?(f=a,b):f},b.defined=function(a){return arguments.length?(g=a,b):g},b.interpolate=function(a){return arguments.length?(i="function"==typeof a?h=a:(h=Ai.get(a)||of).key,j=h.reverse||h,k=h.closed?"M":"L",b):i},b.tension=function(a){return arguments.length?(l=a,b):l},b}function Kf(a){return a.radius}function Lf(a){return[a.x,a.y]}function Mf(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]-Ig;return[c*Math.cos(d),c*Math.sin(d)]}}function Nf(){return 64}function Of(){return"circle"}function Pf(a){var b=Math.sqrt(a/Fg);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}function Qf(a){return function(){var b,c;(b=this[a])&&(c=b[b.active])&&(--b.count?delete b[b.active]:delete this[a],b.active+=.5,c.event&&c.event.interrupt.call(this,this.__data__,c.index))}}function Rf(a,b,c){return sg(a,Ki),a.namespace=b,a.id=c,a}function Sf(a,b,c,d){var e=a.id,f=a.namespace;return R(a,"function"==typeof c?function(a,g,h){a[f][e].tween.set(b,d(c.call(a,a.__data__,g,h)))}:(c=d(c),function(a){a[f][e].tween.set(b,c)}))}function Tf(a){return null==a&&(a=""),function(){this.textContent=a}}function Uf(a){return null==a?"__transition__":"__transition_"+a+"__"}function Vf(a,b,c,d,e){var f=a[c]||(a[c]={active:0,count:0}),g=f[d];if(!g){var h=e.time;g=f[d]={tween:new j,time:h,delay:e.delay,duration:e.duration,ease:e.ease,index:b},e=null,++f.count,bg.timer(function(e){function i(c){if(f.active>d)return k();var e=f[f.active];e&&(--f.count,delete f[f.active],e.event&&e.event.interrupt.call(a,a.__data__,e.index)),f.active=d,g.event&&g.event.start.call(a,a.__data__,b),g.tween.forEach(function(c,d){(d=d.call(a,a.__data__,b))&&p.push(d)}),m=g.ease,l=g.duration,bg.timer(function(){return o.c=j(c||1)?Cb:j,1},0,h)}function j(c){if(f.active!==d)return 1;for(var e=c/l,h=m(e),i=p.length;i>0;)p[--i].call(a,h);return e>=1?(g.event&&g.event.end.call(a,a.__data__,b),k()):void 0}function k(){return--f.count?delete f[d]:delete a[c],1}var l,m,n=g.delay,o=ch,p=[];return o.t=n+h,e>=n?i(e-n):void(o.c=i)},0,h)}}function Wf(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate("+(isFinite(d)?d:c(a))+",0)"})}function Xf(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate(0,"+(isFinite(d)?d:c(a))+")"})}function Yf(a){return a.toISOString()}function Zf(a,b,c){function d(b){return a(b)}function e(a,c){var d=a[1]-a[0],e=d/c,f=bg.bisect(Ti,e);return f==Ti.length?[b.year,Te(a.map(function(a){return a/31536e6}),c)[2]]:f?b[e/Ti[f-1]<Ti[f]/e?f-1:f]:[Wi,Te(a,c)[2]]}return d.invert=function(b){return $f(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain(b),d):a.domain().map($f)},d.nice=function(a,b){function c(c){return!isNaN(c)&&!a.range(c,$f(+c+1),b).length}var f=d.domain(),g=Ke(f),h=null==a?e(g,10):"number"==typeof a&&e(g,a);return h&&(a=h[0],b=h[1]),d.domain(Ne(f,b>1?{floor:function(b){for(;c(b=a.floor(b));)b=$f(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=$f(+b+1);return b}}:a))},d.ticks=function(a,b){var c=Ke(d.domain()),f=null==a?e(c,10):"number"==typeof a?e(c,a):!a.range&&[{range:a},b];return f&&(a=f[0],b=f[1]),a.range(c[0],$f(+c[1]+1),1>b?1:b)},d.tickFormat=function(){return c},d.copy=function(){return Zf(a.copy(),b,c)},Re(d,a)}function $f(a){return new Date(a)}function _f(a){return JSON.parse(a.responseText)}function ag(a){var b=eg.createRange();return b.selectNode(eg.body),b.createContextualFragment(a.responseText)}var bg={version:"3.5.6"},cg=[].slice,dg=function(a){return cg.call(a)},eg=this.document;if(eg)try{dg(eg.documentElement.childNodes)[0].nodeType}catch(fg){dg=function(a){for(var b=a.length,c=new Array(b);b--;)c[b]=a[b];return c}}if(Date.now||(Date.now=function(){return+new Date}),eg)try{eg.createElement("DIV").style.setProperty("opacity",0,"")}catch(gg){var hg=this.Element.prototype,ig=hg.setAttribute,jg=hg.setAttributeNS,kg=this.CSSStyleDeclaration.prototype,lg=kg.setProperty;hg.setAttribute=function(a,b){ig.call(this,a,b+"")},hg.setAttributeNS=function(a,b,c){jg.call(this,a,b,c+"")},kg.setProperty=function(a,b,c){lg.call(this,a,b+"",c)}}bg.ascending=c,bg.descending=function(a,b){return a>b?-1:b>a?1:b>=a?0:NaN},bg.min=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&c>d&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&c>d&&(c=d)}return c},bg.max=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&d>c&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&d>c&&(c=d)}return c},bg.extent=function(a,b){var c,d,e,f=-1,g=a.length;if(1===arguments.length){for(;++f<g;)if(null!=(d=a[f])&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=a[f])&&(c>d&&(c=d),d>e&&(e=d))}else{for(;++f<g;)if(null!=(d=b.call(a,a[f],f))&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=b.call(a,a[f],f))&&(c>d&&(c=d),d>e&&(e=d))}return[c,e]},bg.sum=function(a,b){var c,d=0,f=a.length,g=-1;if(1===arguments.length)for(;++g<f;)e(c=+a[g])&&(d+=c);else for(;++g<f;)e(c=+b.call(a,a[g],g))&&(d+=c);return d},bg.mean=function(a,b){var c,f=0,g=a.length,h=-1,i=g;if(1===arguments.length)for(;++h<g;)e(c=d(a[h]))?f+=c:--i;else for(;++h<g;)e(c=d(b.call(a,a[h],h)))?f+=c:--i;return i?f/i:void 0},bg.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e},bg.median=function(a,b){var f,g=[],h=a.length,i=-1;if(1===arguments.length)for(;++i<h;)e(f=d(a[i]))&&g.push(f);else for(;++i<h;)e(f=d(b.call(a,a[i],i)))&&g.push(f);return g.length?bg.quantile(g.sort(c),.5):void 0},bg.variance=function(a,b){var c,f,g=a.length,h=0,i=0,j=-1,k=0;if(1===arguments.length)for(;++j<g;)e(c=d(a[j]))&&(f=c-h,h+=f/++k,i+=f*(c-h));else for(;++j<g;)e(c=d(b.call(a,a[j],j)))&&(f=c-h,h+=f/++k,i+=f*(c-h));return k>1?i/(k-1):void 0},bg.deviation=function(){var a=bg.variance.apply(this,arguments);return a?Math.sqrt(a):a};var mg=f(c);bg.bisectLeft=mg.left,bg.bisect=bg.bisectRight=mg.right,bg.bisector=function(a){return f(1===a.length?function(b,d){return c(a(b),d)}:a)},bg.shuffle=function(a,b,c){(f=arguments.length)<3&&(c=a.length,2>f&&(b=0));for(var d,e,f=c-b;f;)e=Math.random()*f--|0,d=a[f+b],a[f+b]=a[e+b],a[e+b]=d;return a},bg.permute=function(a,b){for(var c=b.length,d=new Array(c);c--;)d[c]=a[b[c]];return d},bg.pairs=function(a){for(var b,c=0,d=a.length-1,e=a[0],f=new Array(0>d?0:d);d>c;)f[c]=[b=e,e=a[++c]];return f},bg.zip=function(){if(!(d=arguments.length))return[];for(var a=-1,b=bg.min(arguments,g),c=new Array(b);++a<b;)for(var d,e=-1,f=c[a]=new Array(d);++e<d;)f[e]=arguments[e][a];return c},bg.transpose=function(a){return bg.zip.apply(bg,a)},bg.keys=function(a){var b=[];for(var c in a)b.push(c);return b},bg.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b},bg.entries=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},bg.merge=function(a){for(var b,c,d,e=a.length,f=-1,g=0;++f<e;)g+=a[f].length;for(c=new Array(g);--e>=0;)for(d=a[e],b=d.length;--b>=0;)c[--g]=d[b];return c};var ng=Math.abs;bg.range=function(a,b,c){if(arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0)),(b-a)/c===1/0)throw new Error("infinite range");var d,e=[],f=h(ng(c)),g=-1;if(a*=f,b*=f,c*=f,0>c)for(;(d=a+c*++g)>b;)e.push(d/f);else for(;(d=a+c*++g)<b;)e.push(d/f);return e},bg.map=function(a,b){var c=new j;if(a instanceof j)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var d,e=-1,f=a.length;if(1===arguments.length)for(;++e<f;)c.set(e,a[e]);else for(;++e<f;)c.set(b.call(a,d=a[e],e),d)}else for(var g in a)c.set(g,a[g]);return c};var og="__proto__",pg="\x00";i(j,{has:m,get:function(a){return this._[k(a)]},set:function(a,b){return this._[k(a)]=b},remove:n,keys:o,values:function(){var a=[];for(var b in this._)a.push(this._[b]);return a},entries:function(){var a=[];for(var b in this._)a.push({key:l(b),value:this._[b]});return a},size:p,empty:q,forEach:function(a){for(var b in this._)a.call(this,l(b),this._[b])}}),bg.nest=function(){function a(b,g,h){if(h>=f.length)return d?d.call(e,g):c?g.sort(c):g;for(var i,k,l,m,n=-1,o=g.length,p=f[h++],q=new j;++n<o;)(m=q.get(i=p(k=g[n])))?m.push(k):q.set(i,[k]);return b?(k=b(),l=function(c,d){k.set(c,a(b,d,h))}):(k={},l=function(c,d){k[c]=a(b,d,h)}),q.forEach(l),k}function b(a,c){if(c>=f.length)return a;var d=[],e=g[c++];return a.forEach(function(a,e){d.push({key:a,values:b(e,c)})}),e?d.sort(function(a,b){return e(a.key,b.key)}):d}var c,d,e={},f=[],g=[];return e.map=function(b,c){return a(c,b,0)},e.entries=function(c){return b(a(bg.map,c,0),0)},e.key=function(a){return f.push(a),e},e.sortKeys=function(a){return g[f.length-1]=a,e},e.sortValues=function(a){return c=a,e},e.rollup=function(a){return d=a,e},e},bg.set=function(a){var b=new r;if(a)for(var c=0,d=a.length;d>c;++c)b.add(a[c]);return b},i(r,{has:m,add:function(a){return this._[k(a+="")]=!0,a},remove:n,values:o,size:p,empty:q,forEach:function(a){for(var b in this._)a.call(this,l(b))}}),bg.behavior={},bg.rebind=function(a,b){for(var c,d=1,e=arguments.length;++d<e;)a[c=arguments[d]]=t(a,b,b[c]);return a};var qg=["webkit","ms","moz","Moz","o","O"];bg.dispatch=function(){for(var a=new w,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=x(a);return a},w.prototype.on=function(a,b){var c=a.indexOf("."),d="";if(c>=0&&(d=a.slice(c+1),a=a.slice(0,c)),a)return arguments.length<2?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)this.hasOwnProperty(a)&&this[a].on(d,null);return this}},bg.event=null,bg.requote=function(a){return a.replace(rg,"\\$&")};var rg=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,sg={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},tg=function(a,b){return b.querySelector(a)},ug=function(a,b){return b.querySelectorAll(a)},vg=function(a,b){var c=a.matches||a[u(a,"matchesSelector")];return(vg=function(a,b){return c.call(a,b)})(a,b)};"function"==typeof Sizzle&&(tg=function(a,b){return Sizzle(a,b)[0]||null},ug=Sizzle,vg=Sizzle.matchesSelector),bg.selection=function(){return bg.select(eg.documentElement)};var wg=bg.selection.prototype=[];wg.select=function(a){var b,c,d,e,f=[];a=C(a);for(var g=-1,h=this.length;++g<h;){f.push(b=[]),b.parentNode=(d=this[g]).parentNode;for(var i=-1,j=d.length;++i<j;)(e=d[i])?(b.push(c=a.call(e,e.__data__,i,g)),c&&"__data__"in e&&(c.__data__=e.__data__)):b.push(null)}return B(f)},wg.selectAll=function(a){var b,c,d=[];a=D(a);for(var e=-1,f=this.length;++e<f;)for(var g=this[e],h=-1,i=g.length;++h<i;)(c=g[h])&&(d.push(b=dg(a.call(c,c.__data__,h,e))),b.parentNode=c);return B(d)};var xg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};bg.ns={prefix:xg,qualify:function(a){var b=a.indexOf(":"),c=a;return b>=0&&(c=a.slice(0,b),a=a.slice(b+1)),xg.hasOwnProperty(c)?{space:xg[c],local:a}:a}},wg.attr=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node();return a=bg.ns.qualify(a),a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(E(b,a[b]));return this}return this.each(E(a,b))},wg.classed=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node(),d=(a=H(a)).length,e=-1;if(b=c.classList){for(;++e<d;)if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!G(a[e]).test(b))return!1;return!0}for(b in a)this.each(I(b,a[b]));return this}return this.each(I(a,b))},wg.style=function(a,c,d){var e=arguments.length;if(3>e){if("string"!=typeof a){2>e&&(c="");for(d in a)this.each(K(d,a[d],c));return this}if(2>e){var f=this.node();return b(f).getComputedStyle(f,null).getPropertyValue(a)}d=""}return this.each(K(a,c,d))},wg.property=function(a,b){if(arguments.length<2){if("string"==typeof a)return this.node()[a];for(b in a)this.each(L(b,a[b]));return this}return this.each(L(a,b))},wg.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},wg.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},wg.append=function(a){return a=M(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})},wg.insert=function(a,b){return a=M(a),b=C(b),this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})},wg.remove=function(){return this.each(N)},wg.data=function(a,b){function c(a,c){var d,e,f,g=a.length,l=c.length,m=Math.min(g,l),n=new Array(l),o=new Array(l),p=new Array(g);if(b){var q,r=new j,s=new Array(g);for(d=-1;++d<g;)r.has(q=b.call(e=a[d],e.__data__,d))?p[d]=e:r.set(q,e),s[d]=q;for(d=-1;++d<l;)(e=r.get(q=b.call(c,f=c[d],d)))?e!==!0&&(n[d]=e,e.__data__=f):o[d]=O(f),r.set(q,!0);for(d=-1;++d<g;)r.get(s[d])!==!0&&(p[d]=a[d])}else{for(d=-1;++d<m;)e=a[d],f=c[d],e?(e.__data__=f,n[d]=e):o[d]=O(f);for(;l>d;++d)o[d]=O(c[d]);for(;g>d;++d)p[d]=a[d]}o.update=n,o.parentNode=n.parentNode=p.parentNode=a.parentNode,h.push(o),i.push(n),k.push(p)}var d,e,f=-1,g=this.length;if(!arguments.length){for(a=new Array(g=(d=this[0]).length);++f<g;)(e=d[f])&&(a[f]=e.__data__);return a}var h=S([]),i=B([]),k=B([]);if("function"==typeof a)for(;++f<g;)c(d=this[f],a.call(d,d.parentNode.__data__,f));else for(;++f<g;)c(d=this[f],a);return i.enter=function(){return h},i.exit=function(){return k},i},wg.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},wg.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=P(a));for(var f=0,g=this.length;g>f;f++){e.push(b=[]),b.parentNode=(c=this[f]).parentNode;for(var h=0,i=c.length;i>h;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return B(e)},wg.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c,d=this[a],e=d.length-1,f=d[e];--e>=0;)(c=d[e])&&(f&&f!==c.nextSibling&&f.parentNode.insertBefore(c,f),f=c);return this},wg.sort=function(a){a=Q.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()},wg.each=function(a){return R(this,function(b,c,d){a.call(b,b.__data__,c,d)})},wg.call=function(a){var b=dg(arguments);return a.apply(b[0]=this,b),this},wg.empty=function(){return!this.node()},wg.node=function(){for(var a=0,b=this.length;b>a;a++)for(var c=this[a],d=0,e=c.length;e>d;d++){var f=c[d];if(f)return f}return null},wg.size=function(){var a=0;return R(this,function(){++a}),a};var yg=[];bg.selection.enter=S,bg.selection.enter.prototype=yg,yg.append=wg.append,yg.empty=wg.empty,yg.node=wg.node,yg.call=wg.call,yg.size=wg.size,yg.select=function(a){for(var b,c,d,e,f,g=[],h=-1,i=this.length;++h<i;){d=(e=this[h]).update,g.push(b=[]),b.parentNode=e.parentNode;for(var j=-1,k=e.length;++j<k;)(f=e[j])?(b.push(d[j]=c=a.call(e.parentNode,f.__data__,j,h)),c.__data__=f.__data__):b.push(null)}return B(g)},yg.insert=function(a,b){return arguments.length<2&&(b=T(this)),wg.insert.call(this,a,b)},bg.select=function(b){var c;return"string"==typeof b?(c=[tg(b,eg)],c.parentNode=eg.documentElement):(c=[b],c.parentNode=a(b)),B([c])},bg.selectAll=function(a){var b;return"string"==typeof a?(b=dg(ug(a,eg)),b.parentNode=eg.documentElement):(b=a,b.parentNode=null),B([b])},wg.on=function(a,b,c){var d=arguments.length;if(3>d){if("string"!=typeof a){2>d&&(b=!1);for(c in a)this.each(U(c,a[c],b));return this}if(2>d)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(U(a,b,c))};var zg=bg.map({mouseenter:"mouseover",mouseleave:"mouseout"});eg&&zg.forEach(function(a){"on"+a in eg&&zg.remove(a)});var Ag,Bg=0;bg.mouse=function(a){return Y(a,z())};var Cg=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;bg.touch=function(a,b,c){if(arguments.length<3&&(c=b,b=z().changedTouches),b)for(var d,e=0,f=b.length;f>e;++e)if((d=b[e]).identifier===c)return Y(a,d)},bg.behavior.drag=function(){function a(){this.on("mousedown.drag",f).on("touchstart.drag",g)}function c(a,b,c,f,g){return function(){function h(){var a,c,d=b(m,p);d&&(a=d[0]-t[0],c=d[1]-t[1],o|=a|c,t=d,n({type:"drag",x:d[0]+j[0],y:d[1]+j[1],dx:a,dy:c}))}function i(){b(m,p)&&(r.on(f+q,null).on(g+q,null),s(o&&bg.event.target===l),n({type:"dragend"}))}var j,k=this,l=bg.event.target,m=k.parentNode,n=d.of(k,arguments),o=0,p=a(),q=".drag"+(null==p?"":"-"+p),r=bg.select(c(l)).on(f+q,h).on(g+q,i),s=X(l),t=b(m,p);e?(j=e.apply(k,arguments),j=[j.x-t[0],j.y-t[1]]):j=[0,0],n({type:"dragstart"})}}var d=A(a,"drag","dragstart","dragend"),e=null,f=c(v,bg.mouse,b,"mousemove","mouseup"),g=c(Z,bg.touch,s,"touchmove","touchend");return a.origin=function(b){return arguments.length?(e=b,a):e},bg.rebind(a,d,"on")},bg.touches=function(a,b){return arguments.length<2&&(b=z().touches),b?dg(b).map(function(b){var c=Y(a,b);return c.identifier=b.identifier,c}):[]};var Dg=1e-6,Eg=Dg*Dg,Fg=Math.PI,Gg=2*Fg,Hg=Gg-Dg,Ig=Fg/2,Jg=Fg/180,Kg=180/Fg,Lg=Math.SQRT2,Mg=2,Ng=4;bg.interpolateZoom=function(a,b){function c(a){var b=a*s;if(r){var c=da(p),g=f/(Mg*m)*(c*ea(Lg*b+p)-ca(p));return[d+g*j,e+g*k,f*c/da(Lg*b+p)]}return[d+a*j,e+a*k,f*Math.exp(Lg*b)]}var d=a[0],e=a[1],f=a[2],g=b[0],h=b[1],i=b[2],j=g-d,k=h-e,l=j*j+k*k,m=Math.sqrt(l),n=(i*i-f*f+Ng*l)/(2*f*Mg*m),o=(i*i-f*f-Ng*l)/(2*i*Mg*m),p=Math.log(Math.sqrt(n*n+1)-n),q=Math.log(Math.sqrt(o*o+1)-o),r=q-p,s=(r||Math.log(i/f))/Lg;return c.duration=1e3*s,c},bg.behavior.zoom=function(){function a(a){a.on(F,l).on(Pg+".zoom",n).on("dblclick.zoom",o).on(I,m)}function c(a){return[(a[0]-z.x)/z.k,(a[1]-z.y)/z.k]}function d(a){return[a[0]*z.k+z.x,a[1]*z.k+z.y]}function e(a){z.k=Math.max(C[0],Math.min(C[1],a))}function f(a,b){b=d(b),z.x+=a[0]-b[0],z.y+=a[1]-b[1]}function g(b,c,d,g){b.__chart__={x:z.x,y:z.y,k:z.k},e(Math.pow(2,g)),f(q=c,d),b=bg.select(b),D>0&&(b=b.transition().duration(D)),b.call(a.event)}function h(){v&&v.domain(u.range().map(function(a){return(a-z.x)/z.k}).map(u.invert)),x&&x.domain(w.range().map(function(a){return(a-z.y)/z.k}).map(w.invert))}function i(a){E++||a({type:"zoomstart"})}function j(a){h(),a({type:"zoom",scale:z.k,translate:[z.x,z.y]})}function k(a){--E||(a({type:"zoomend"}),q=null)}function l(){function a(){l=1,f(bg.mouse(e),n),j(h)}function d(){m.on(G,null).on(H,null),o(l&&bg.event.target===g),k(h)}var e=this,g=bg.event.target,h=J.of(e,arguments),l=0,m=bg.select(b(e)).on(G,a).on(H,d),n=c(bg.mouse(e)),o=X(e);Ji.call(e),i(h)}function m(){function a(){var a=bg.touches(o);return n=z.k,a.forEach(function(a){a.identifier in q&&(q[a.identifier]=c(a))}),a}function b(){var b=bg.event.target;bg.select(b).on(u,d).on(v,h),w.push(b);for(var c=bg.event.changedTouches,e=0,f=c.length;f>e;++e)q[c[e].identifier]=null;var i=a(),j=Date.now();if(1===i.length){if(500>j-t){var k=i[0];g(o,k,q[k.identifier],Math.floor(Math.log(z.k)/Math.LN2)+1),y()}t=j}else if(i.length>1){var k=i[0],l=i[1],m=k[0]-l[0],n=k[1]-l[1];r=m*m+n*n}}function d(){var a,b,c,d,g=bg.touches(o);Ji.call(o);for(var h=0,i=g.length;i>h;++h,d=null)if(c=g[h],d=q[c.identifier]){if(b)break;a=c,b=d}if(d){var k=(k=c[0]-a[0])*k+(k=c[1]-a[1])*k,l=r&&Math.sqrt(k/r);a=[(a[0]+c[0])/2,(a[1]+c[1])/2],b=[(b[0]+d[0])/2,(b[1]+d[1])/2],e(l*n)}t=null,f(a,b),j(p)}function h(){if(bg.event.touches.length){for(var b=bg.event.changedTouches,c=0,d=b.length;d>c;++c)delete q[b[c].identifier];for(var e in q)return void a()}bg.selectAll(w).on(s,null),x.on(F,l).on(I,m),A(),k(p)}var n,o=this,p=J.of(o,arguments),q={},r=0,s=".zoom-"+bg.event.changedTouches[0].identifier,u="touchmove"+s,v="touchend"+s,w=[],x=bg.select(o),A=X(o);b(),i(p),x.on(F,null).on(I,b)}function n(){var a=J.of(this,arguments);s?clearTimeout(s):(Ji.call(this),p=c(q=r||bg.mouse(this)),i(a)),s=setTimeout(function(){s=null,k(a)},50),y(),e(Math.pow(2,.002*Og())*z.k),f(q,p),j(a)}function o(){var a=bg.mouse(this),b=Math.log(z.k)/Math.LN2;g(this,a,c(a),bg.event.shiftKey?Math.ceil(b)-1:Math.floor(b)+1)}var p,q,r,s,t,u,v,w,x,z={x:0,y:0,k:1},B=[960,500],C=Qg,D=250,E=0,F="mousedown.zoom",G="mousemove.zoom",H="mouseup.zoom",I="touchstart.zoom",J=A(a,"zoomstart","zoom","zoomend");return Pg||(Pg="onwheel"in eg?(Og=function(){return-bg.event.deltaY*(bg.event.deltaMode?120:1)},"wheel"):"onmousewheel"in eg?(Og=function(){return bg.event.wheelDelta},"mousewheel"):(Og=function(){return-bg.event.detail},"MozMousePixelScroll")),a.event=function(a){a.each(function(){var a=J.of(this,arguments),b=z;Hi?bg.select(this).transition().each("start.zoom",function(){z=this.__chart__||{x:0,y:0,k:1},i(a)}).tween("zoom:zoom",function(){var c=B[0],d=B[1],e=q?q[0]:c/2,f=q?q[1]:d/2,g=bg.interpolateZoom([(e-z.x)/z.k,(f-z.y)/z.k,c/z.k],[(e-b.x)/b.k,(f-b.y)/b.k,c/b.k]);return function(b){var d=g(b),h=c/d[2];this.__chart__=z={x:e-d[0]*h,y:f-d[1]*h,k:h},j(a)}}).each("interrupt.zoom",function(){k(a)}).each("end.zoom",function(){k(a)}):(this.__chart__=z,i(a),j(a),k(a))})},a.translate=function(b){return arguments.length?(z={x:+b[0],y:+b[1],k:z.k},h(),a):[z.x,z.y]},a.scale=function(b){return arguments.length?(z={x:z.x,y:z.y,k:+b},h(),a):z.k},a.scaleExtent=function(b){return arguments.length?(C=null==b?Qg:[+b[0],+b[1]],a):C},a.center=function(b){return arguments.length?(r=b&&[+b[0],+b[1]],a):r},a.size=function(b){return arguments.length?(B=b&&[+b[0],+b[1]],a):B},a.duration=function(b){return arguments.length?(D=+b,a):D},a.x=function(b){return arguments.length?(v=b,u=b.copy(),z={x:0,y:0,k:1},a):v},a.y=function(b){return arguments.length?(x=b,w=b.copy(),z={x:0,y:0,k:1},a):x},bg.rebind(a,J,"on")};var Og,Pg,Qg=[0,1/0];bg.color=ga,ga.prototype.toString=function(){return this.rgb()+""},bg.hsl=ha;var Rg=ha.prototype=new ga;Rg.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new ha(this.h,this.s,this.l/a)},Rg.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new ha(this.h,this.s,a*this.l)},Rg.rgb=function(){return ia(this.h,this.s,this.l)},bg.hcl=ja;var Sg=ja.prototype=new ga;Sg.brighter=function(a){return new ja(this.h,this.c,Math.min(100,this.l+Tg*(arguments.length?a:1)))},Sg.darker=function(a){return new ja(this.h,this.c,Math.max(0,this.l-Tg*(arguments.length?a:1)))},Sg.rgb=function(){return ka(this.h,this.c,this.l).rgb()},bg.lab=la;var Tg=18,Ug=.95047,Vg=1,Wg=1.08883,Xg=la.prototype=new ga;Xg.brighter=function(a){return new la(Math.min(100,this.l+Tg*(arguments.length?a:1)),this.a,this.b)},Xg.darker=function(a){return new la(Math.max(0,this.l-Tg*(arguments.length?a:1)),this.a,this.b)},Xg.rgb=function(){return ma(this.l,this.a,this.b)},bg.rgb=ra;var Yg=ra.prototype=new ga;Yg.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;return b||c||d?(b&&e>b&&(b=e),c&&e>c&&(c=e),d&&e>d&&(d=e),new ra(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))):new ra(e,e,e)},Yg.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new ra(a*this.r,a*this.g,a*this.b)},Yg.hsl=function(){return wa(this.r,this.g,this.b)},Yg.toString=function(){return"#"+ua(this.r)+ua(this.g)+ua(this.b)};var Zg=bg.map({aliceblue:15792383,antiquewhite:16444375,
aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Zg.forEach(function(a,b){Zg.set(a,sa(b))}),bg.functor=Aa,bg.xhr=Ba(s),bg.dsv=function(a,b){function c(a,c,f){arguments.length<3&&(f=c,c=null);var g=Ca(a,b,null==c?d:e(c),f);return g.row=function(a){return arguments.length?g.response(null==(c=a)?d:e(a)):c},g}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function f(b){return b.map(g).join(a)}function g(a){return h.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var h=new RegExp('["'+a+"\n]"),i=a.charCodeAt(0);return c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),c)}:e})},c.parseRows=function(a,b){function c(){if(k>=j)return g;if(e)return e=!1,f;var b=k;if(34===a.charCodeAt(b)){for(var c=b;c++<j;)if(34===a.charCodeAt(c)){if(34!==a.charCodeAt(c+1))break;++c}k=c+2;var d=a.charCodeAt(c+1);return 13===d?(e=!0,10===a.charCodeAt(c+2)&&++k):10===d&&(e=!0),a.slice(b+1,c).replace(/""/g,'"')}for(;j>k;){var d=a.charCodeAt(k++),h=1;if(10===d)e=!0;else if(13===d)e=!0,10===a.charCodeAt(k)&&(++k,++h);else if(d!==i)continue;return a.slice(b,k-h)}return a.slice(b)}for(var d,e,f={},g={},h=[],j=a.length,k=0,l=0;(d=c())!==g;){for(var m=[];d!==f&&d!==g;)m.push(d),d=c();b&&null==(m=b(m,l++))||h.push(m)}return h},c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);var d=new r,e=[];return b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))}),[e.map(g).join(a)].concat(b.map(function(b){return e.map(function(a){return g(b[a])}).join(a)})).join("\n")},c.formatRows=function(a){return a.map(f).join("\n")},c},bg.csv=bg.dsv(",","text/csv"),bg.tsv=bg.dsv("	","text/tab-separated-values");var $g,_g,ah,bh,ch,dh=this[u(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};bg.timer=function(a,b,c){var d=arguments.length;2>d&&(b=0),3>d&&(c=Date.now());var e=c+b,f={c:a,t:e,f:!1,n:null};_g?_g.n=f:$g=f,_g=f,ah||(bh=clearTimeout(bh),ah=1,dh(Fa))},bg.timer.flush=function(){Ga(),Ha()},bg.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var eh=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ja);bg.formatPrefix=function(a,b){var c=0;return a&&(0>a&&(a*=-1),b&&(a=bg.round(a,Ia(a,b))),c=1+Math.floor(1e-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/3)))),eh[8+c/3]};var fh=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,gh=bg.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=bg.round(a,Ia(a,b))).toFixed(Math.max(0,Math.min(20,Ia(a*(1+1e-15),b))))}}),hh=bg.time={},ih=Date;Ma.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){jh.setUTCDate.apply(this._,arguments)},setDay:function(){jh.setUTCDay.apply(this._,arguments)},setFullYear:function(){jh.setUTCFullYear.apply(this._,arguments)},setHours:function(){jh.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){jh.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){jh.setUTCMinutes.apply(this._,arguments)},setMonth:function(){jh.setUTCMonth.apply(this._,arguments)},setSeconds:function(){jh.setUTCSeconds.apply(this._,arguments)},setTime:function(){jh.setTime.apply(this._,arguments)}};var jh=Date.prototype;hh.year=Na(function(a){return a=hh.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()}),hh.years=hh.year.range,hh.years.utc=hh.year.utc.range,hh.day=Na(function(a){var b=new ih(2e3,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1}),hh.days=hh.day.range,hh.days.utc=hh.day.utc.range,hh.dayOfYear=function(a){var b=hh.year(a);return Math.floor((a-b-6e4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(a,b){b=7-b;var c=hh[a]=Na(function(a){return(a=hh.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=hh.year(a).getDay();return Math.floor((hh.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});hh[a+"s"]=c.range,hh[a+"s"].utc=c.utc.range,hh[a+"OfYear"]=function(a){var c=hh.year(a).getDay();return Math.floor((hh.dayOfYear(a)+(c+b)%7)/7)}}),hh.week=hh.sunday,hh.weeks=hh.sunday.range,hh.weeks.utc=hh.sunday.utc.range,hh.weekOfYear=hh.sundayOfYear;var kh={"-":"",_:" ",0:"0"},lh=/^\s*\d+/,mh=/^%/;bg.locale=function(a){return{numberFormat:Ka(a),timeFormat:Pa(a)}};var nh=bg.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});bg.format=nh.numberFormat,bg.geo={},ib.prototype={s:0,t:0,add:function(a){jb(a,this.t,oh),jb(oh.s,this.s,this),this.s?this.t+=oh.t:this.s=oh.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var oh=new ib;bg.geo.stream=function(a,b){a&&ph.hasOwnProperty(a.type)?ph[a.type](a,b):kb(a,b)};var ph={Feature:function(a,b){kb(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)kb(c[d].geometry,b)}},qh={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){lb(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)lb(c[d],b,0)},Polygon:function(a,b){mb(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)mb(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)kb(c[d],b)}};bg.geo.area=function(a){return rh=0,bg.geo.stream(a,th),rh};var rh,sh=new ib,th={sphere:function(){rh+=4*Fg},point:v,lineStart:v,lineEnd:v,polygonStart:function(){sh.reset(),th.lineStart=nb},polygonEnd:function(){var a=2*sh;rh+=0>a?4*Fg+a:a,th.lineStart=th.lineEnd=th.point=v}};bg.geo.bounds=function(){function a(a,b){t.push(u=[k=a,m=a]),l>b&&(l=b),b>n&&(n=b)}function b(b,c){var d=ob([b*Jg,c*Jg]);if(r){var e=qb(r,d),f=[e[1],-e[0],0],g=qb(f,e);tb(g),g=ub(g);var i=b-o,j=i>0?1:-1,p=g[0]*Kg*j,q=ng(i)>180;if(q^(p>j*o&&j*b>p)){var s=g[1]*Kg;s>n&&(n=s)}else if(p=(p+360)%360-180,q^(p>j*o&&j*b>p)){var s=-g[1]*Kg;l>s&&(l=s)}else l>c&&(l=c),c>n&&(n=c);q?o>b?h(k,b)>h(k,m)&&(m=b):h(b,m)>h(k,m)&&(k=b):m>=k?(k>b&&(k=b),b>m&&(m=b)):b>o?h(k,b)>h(k,m)&&(m=b):h(b,m)>h(k,m)&&(k=b)}else a(b,c);r=d,o=b}function c(){v.point=b}function d(){u[0]=k,u[1]=m,v.point=a,r=null}function e(a,c){if(r){var d=a-o;s+=ng(d)>180?d+(d>0?360:-360):d}else p=a,q=c;th.point(a,c),b(a,c)}function f(){th.lineStart()}function g(){e(p,q),th.lineEnd(),ng(s)>Dg&&(k=-(m=180)),u[0]=k,u[1]=m,r=null}function h(a,b){return(b-=a)<0?b+360:b}function i(a,b){return a[0]-b[0]}function j(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var k,l,m,n,o,p,q,r,s,t,u,v={point:a,lineStart:c,lineEnd:d,polygonStart:function(){v.point=e,v.lineStart=f,v.lineEnd=g,s=0,th.polygonStart()},polygonEnd:function(){th.polygonEnd(),v.point=a,v.lineStart=c,v.lineEnd=d,0>sh?(k=-(m=180),l=-(n=90)):s>Dg?n=90:-Dg>s&&(l=-90),u[0]=k,u[1]=m}};return function(a){n=m=-(k=l=1/0),t=[],bg.geo.stream(a,v);var b=t.length;if(b){t.sort(i);for(var c,d=1,e=t[0],f=[e];b>d;++d)c=t[d],j(c[0],e)||j(c[1],e)?(h(e[0],c[1])>h(e[0],e[1])&&(e[1]=c[1]),h(c[0],e[1])>h(e[0],e[1])&&(e[0]=c[0])):f.push(e=c);for(var g,c,o=-(1/0),b=f.length-1,d=0,e=f[b];b>=d;e=c,++d)c=f[d],(g=h(e[1],c[0]))>o&&(o=g,k=c[0],m=e[1])}return t=u=null,k===1/0||l===1/0?[[NaN,NaN],[NaN,NaN]]:[[k,l],[m,n]]}}(),bg.geo.centroid=function(a){uh=vh=wh=xh=yh=zh=Ah=Bh=Ch=Dh=Eh=0,bg.geo.stream(a,Fh);var b=Ch,c=Dh,d=Eh,e=b*b+c*c+d*d;return Eg>e&&(b=zh,c=Ah,d=Bh,Dg>vh&&(b=wh,c=xh,d=yh),e=b*b+c*c+d*d,Eg>e)?[NaN,NaN]:[Math.atan2(c,b)*Kg,ba(d/Math.sqrt(e))*Kg]};var uh,vh,wh,xh,yh,zh,Ah,Bh,Ch,Dh,Eh,Fh={sphere:v,point:wb,lineStart:yb,lineEnd:zb,polygonStart:function(){Fh.lineStart=Ab},polygonEnd:function(){Fh.lineStart=yb}},Gh=Gb(Cb,Kb,Mb,[-Fg,-Fg/2]),Hh=1e9;bg.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){return e&&(e.valid=!1),e=f(a),e.valid=!0,e},extent:function(h){return arguments.length?(f=Qb(a=+h[0][0],b=+h[0][1],c=+h[1][0],d=+h[1][1]),e&&(e.valid=!1,e=null),g):[[a,b],[c,d]]}};return g.extent([[0,0],[960,500]])},(bg.geo.conicEqualArea=function(){return Rb(Sb)}).raw=Sb,bg.geo.albers=function(){return bg.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},bg.geo.albersUsa=function(){function a(a){var f=a[0],g=a[1];return b=null,c(f,g),b||(d(f,g),b)||e(f,g),b}var b,c,d,e,f=bg.geo.albers(),g=bg.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=bg.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),i={point:function(a,c){b=[a,c]}};return a.invert=function(a){var b=f.scale(),c=f.translate(),d=(a[0]-c[0])/b,e=(a[1]-c[1])/b;return(e>=.12&&.234>e&&d>=-.425&&-.214>d?g:e>=.166&&.234>e&&d>=-.214&&-.115>d?h:f).invert(a)},a.stream=function(a){var b=f.stream(a),c=g.stream(a),d=h.stream(a);return{point:function(a,e){b.point(a,e),c.point(a,e),d.point(a,e)},sphere:function(){b.sphere(),c.sphere(),d.sphere()},lineStart:function(){b.lineStart(),c.lineStart(),d.lineStart()},lineEnd:function(){b.lineEnd(),c.lineEnd(),d.lineEnd()},polygonStart:function(){b.polygonStart(),c.polygonStart(),d.polygonStart()},polygonEnd:function(){b.polygonEnd(),c.polygonEnd(),d.polygonEnd()}}},a.precision=function(b){return arguments.length?(f.precision(b),g.precision(b),h.precision(b),a):f.precision()},a.scale=function(b){return arguments.length?(f.scale(b),g.scale(.35*b),h.scale(b),a.translate(f.translate())):f.scale()},a.translate=function(b){if(!arguments.length)return f.translate();var j=f.scale(),k=+b[0],l=+b[1];return c=f.translate(b).clipExtent([[k-.455*j,l-.238*j],[k+.455*j,l+.238*j]]).stream(i).point,d=g.translate([k-.307*j,l+.201*j]).clipExtent([[k-.425*j+Dg,l+.12*j+Dg],[k-.214*j-Dg,l+.234*j-Dg]]).stream(i).point,e=h.translate([k-.205*j,l+.212*j]).clipExtent([[k-.214*j+Dg,l+.166*j+Dg],[k-.115*j-Dg,l+.234*j-Dg]]).stream(i).point,a},a.scale(1070)};var Ih,Jh,Kh,Lh,Mh,Nh,Oh={point:v,lineStart:v,lineEnd:v,polygonStart:function(){Jh=0,Oh.lineStart=Tb},polygonEnd:function(){Oh.lineStart=Oh.lineEnd=Oh.point=v,Ih+=ng(Jh/2)}},Ph={point:Ub,lineStart:v,lineEnd:v,polygonStart:v,polygonEnd:v},Qh={point:Xb,lineStart:Yb,lineEnd:Zb,polygonStart:function(){Qh.lineStart=$b},polygonEnd:function(){Qh.point=Xb,Qh.lineStart=Yb,Qh.lineEnd=Zb}};bg.geo.path=function(){function a(a){return a&&("function"==typeof h&&f.pointRadius(+h.apply(this,arguments)),g&&g.valid||(g=e(f)),bg.geo.stream(a,g)),f.result()}function b(){return g=null,a}var c,d,e,f,g,h=4.5;return a.area=function(a){return Ih=0,bg.geo.stream(a,e(Oh)),Ih},a.centroid=function(a){return wh=xh=yh=zh=Ah=Bh=Ch=Dh=Eh=0,bg.geo.stream(a,e(Qh)),Eh?[Ch/Eh,Dh/Eh]:Bh?[zh/Bh,Ah/Bh]:yh?[wh/yh,xh/yh]:[NaN,NaN]},a.bounds=function(a){return Mh=Nh=-(Kh=Lh=1/0),bg.geo.stream(a,e(Ph)),[[Kh,Lh],[Mh,Nh]]},a.projection=function(a){return arguments.length?(e=(c=a)?a.stream||bc(a):s,b()):c},a.context=function(a){return arguments.length?(f=null==(d=a)?new Vb:new _b(a),"function"!=typeof h&&f.pointRadius(h),b()):d},a.pointRadius=function(b){return arguments.length?(h="function"==typeof b?b:(f.pointRadius(+b),+b),a):h},a.projection(bg.geo.albersUsa()).context(null)},bg.geo.transform=function(a){return{stream:function(b){var c=new cc(b);for(var d in a)c[d]=a[d];return c}}},cc.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},bg.geo.projection=ec,bg.geo.projectionMutator=fc,(bg.geo.equirectangular=function(){return ec(hc)}).raw=hc.invert=hc,bg.geo.rotation=function(a){function b(b){return b=a(b[0]*Jg,b[1]*Jg),b[0]*=Kg,b[1]*=Kg,b}return a=jc(a[0]%360*Jg,a[1]*Jg,a.length>2?a[2]*Jg:0),b.invert=function(b){return b=a.invert(b[0]*Jg,b[1]*Jg),b[0]*=Kg,b[1]*=Kg,b},b},ic.invert=hc,bg.geo.circle=function(){function a(){var a="function"==typeof d?d.apply(this,arguments):d,b=jc(-a[0]*Jg,-a[1]*Jg,0).invert,e=[];return c(null,null,1,{point:function(a,c){e.push(a=b(a,c)),a[0]*=Kg,a[1]*=Kg}}),{type:"Polygon",coordinates:[e]}}var b,c,d=[0,0],e=6;return a.origin=function(b){return arguments.length?(d=b,a):d},a.angle=function(d){return arguments.length?(c=nc((b=+d)*Jg,e*Jg),a):b},a.precision=function(d){return arguments.length?(c=nc(b*Jg,(e=+d)*Jg),a):e},a.angle(90)},bg.geo.distance=function(a,b){var c,d=(b[0]-a[0])*Jg,e=a[1]*Jg,f=b[1]*Jg,g=Math.sin(d),h=Math.cos(d),i=Math.sin(e),j=Math.cos(e),k=Math.sin(f),l=Math.cos(f);return Math.atan2(Math.sqrt((c=l*g)*c+(c=j*k-i*l*h)*c),i*k+j*l*h)},bg.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return bg.range(Math.ceil(f/q)*q,e,q).map(m).concat(bg.range(Math.ceil(j/r)*r,i,r).map(n)).concat(bg.range(Math.ceil(d/o)*o,c,o).filter(function(a){return ng(a%q)>Dg}).map(k)).concat(bg.range(Math.ceil(h/p)*p,g,p).filter(function(a){return ng(a%r)>Dg}).map(l))}var c,d,e,f,g,h,i,j,k,l,m,n,o=10,p=o,q=90,r=360,s=2.5;return a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[m(f).concat(n(i).slice(1),m(e).reverse().slice(1),n(j).reverse().slice(1))]}},a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()},a.majorExtent=function(b){return arguments.length?(f=+b[0][0],e=+b[1][0],j=+b[0][1],i=+b[1][1],f>e&&(b=f,f=e,e=b),j>i&&(b=j,j=i,i=b),a.precision(s)):[[f,j],[e,i]]},a.minorExtent=function(b){return arguments.length?(d=+b[0][0],c=+b[1][0],h=+b[0][1],g=+b[1][1],d>c&&(b=d,d=c,c=b),h>g&&(b=h,h=g,g=b),a.precision(s)):[[d,h],[c,g]]},a.step=function(b){return arguments.length?a.majorStep(b).minorStep(b):a.minorStep()},a.majorStep=function(b){return arguments.length?(q=+b[0],r=+b[1],a):[q,r]},a.minorStep=function(b){return arguments.length?(o=+b[0],p=+b[1],a):[o,p]},a.precision=function(b){return arguments.length?(s=+b,k=pc(h,g,90),l=qc(d,c,s),m=pc(j,i,90),n=qc(f,e,s),a):s},a.majorExtent([[-180,-90+Dg],[180,90-Dg]]).minorExtent([[-180,-80-Dg],[180,80+Dg]])},bg.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[b||d.apply(this,arguments),c||e.apply(this,arguments)]}}var b,c,d=rc,e=sc;return a.distance=function(){return bg.geo.distance(b||d.apply(this,arguments),c||e.apply(this,arguments))},a.source=function(c){return arguments.length?(d=c,b="function"==typeof c?null:c,a):d},a.target=function(b){return arguments.length?(e=b,c="function"==typeof b?null:b,a):e},a.precision=function(){return arguments.length?a:0},a},bg.geo.interpolate=function(a,b){return tc(a[0]*Jg,a[1]*Jg,b[0]*Jg,b[1]*Jg)},bg.geo.length=function(a){return Rh=0,bg.geo.stream(a,Sh),Rh};var Rh,Sh={sphere:v,point:v,lineStart:uc,lineEnd:v,polygonStart:v,polygonEnd:v},Th=vc(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(bg.geo.azimuthalEqualArea=function(){return ec(Th)}).raw=Th;var Uh=vc(function(a){var b=Math.acos(a);return b&&b/Math.sin(b)},s);(bg.geo.azimuthalEquidistant=function(){return ec(Uh)}).raw=Uh,(bg.geo.conicConformal=function(){return Rb(wc)}).raw=wc,(bg.geo.conicEquidistant=function(){return Rb(xc)}).raw=xc;var Vh=vc(function(a){return 1/a},Math.atan);(bg.geo.gnomonic=function(){return ec(Vh)}).raw=Vh,yc.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Ig]},(bg.geo.mercator=function(){return zc(yc)}).raw=yc;var Wh=vc(function(){return 1},Math.asin);(bg.geo.orthographic=function(){return ec(Wh)}).raw=Wh;var Xh=vc(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(bg.geo.stereographic=function(){return ec(Xh)}).raw=Xh,Ac.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-Ig]},(bg.geo.transverseMercator=function(){var a=zc(Ac),b=a.center,c=a.rotate;return a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return a?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90])}).raw=Ac,bg.geom={},bg.geom.hull=function(a){function b(a){if(a.length<3)return[];var b,e=Aa(c),f=Aa(d),g=a.length,h=[],i=[];for(b=0;g>b;b++)h.push([+e.call(this,a[b],b),+f.call(this,a[b],b),b]);for(h.sort(Ec),b=0;g>b;b++)i.push([h[b][0],-h[b][1]]);var j=Dc(h),k=Dc(i),l=k[0]===j[0],m=k[k.length-1]===j[j.length-1],n=[];for(b=j.length-1;b>=0;--b)n.push(a[h[j[b]][2]]);for(b=+l;b<k.length-m;++b)n.push(a[h[k[b]][2]]);return n}var c=Bc,d=Cc;return arguments.length?b(a):(b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b)},bg.geom.polygon=function(a){return sg(a,Yh),a};var Yh=bg.geom.polygon.prototype=[];Yh.area=function(){for(var a,b=-1,c=this.length,d=this[c-1],e=0;++b<c;)a=d,d=this[b],e+=a[1]*d[0]-a[0]*d[1];return.5*e},Yh.centroid=function(a){var b,c,d=-1,e=this.length,f=0,g=0,h=this[e-1];for(arguments.length||(a=-1/(6*this.area()));++d<e;)b=h,h=this[d],c=b[0]*h[1]-h[0]*b[1],f+=(b[0]+h[0])*c,g+=(b[1]+h[1])*c;return[f*a,g*a]},Yh.clip=function(a){for(var b,c,d,e,f,g,h=Hc(a),i=-1,j=this.length-Hc(this),k=this[j-1];++i<j;){for(b=a.slice(),a.length=0,e=this[i],f=b[(d=b.length-h)-1],c=-1;++c<d;)g=b[c],Fc(g,k,e)?(Fc(f,k,e)||a.push(Gc(f,g,k,e)),a.push(g)):Fc(f,k,e)&&a.push(Gc(f,g,k,e)),f=g;h&&a.push(a[0]),k=e}return a};var Zh,$h,_h,ai,bi,ci=[],di=[];Pc.prototype.prepare=function(){for(var a,b=this.edges,c=b.length;c--;)a=b[c].edge,a.b&&a.a||b.splice(c,1);return b.sort(Rc),b.length},_c.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ad.prototype={insert:function(a,b){var c,d,e;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=ed(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);for(b.L=b.R=null,b.U=c,b.C=!0,a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(cd(this,c),a=c,c=a.U),c.C=!1,d.C=!0,dd(this,d))):(e=d.L,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(dd(this,c),a=c,c=a.U),c.C=!1,d.C=!0,cd(this,d))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var b,c,d,e=a.U,f=a.L,g=a.R;if(c=f?g?ed(g):f:g,e?e.L===a?e.L=c:e.R=c:this._=c,f&&g?(d=c.C,c.C=a.C,c.L=f,f.U=c,c!==g?(e=c.U,c.U=a.U,a=c.R,e.L=a,c.R=g,g.U=c):(c.U=e,e=c,a=c.R)):(d=a.C,a=c),a&&(a.U=e),!d){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===e.L){if(b=e.R,b.C&&(b.C=!1,e.C=!0,cd(this,e),b=e.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,dd(this,b),b=e.R),b.C=e.C,e.C=b.R.C=!1,cd(this,e),a=this._;break}}else if(b=e.L,b.C&&(b.C=!1,e.C=!0,dd(this,e),b=e.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,cd(this,b),b=e.L),b.C=e.C,e.C=b.L.C=!1,dd(this,e),a=this._;break}b.C=!0,a=e,e=e.U}while(!a.C);a&&(a.C=!1)}}},bg.geom.voronoi=function(a){function b(a){var b=new Array(a.length),d=h[0][0],e=h[0][1],f=h[1][0],g=h[1][1];return fd(c(a),h).cells.forEach(function(c,h){var i=c.edges,j=c.site,k=b[h]=i.length?i.map(function(a){var b=a.start();return[b.x,b.y]}):j.x>=d&&j.x<=f&&j.y>=e&&j.y<=g?[[d,g],[f,g],[f,e],[d,e]]:[];k.point=a[h]}),b}function c(a){return a.map(function(a,b){return{x:Math.round(f(a,b)/Dg)*Dg,y:Math.round(g(a,b)/Dg)*Dg,i:b}})}var d=Bc,e=Cc,f=d,g=e,h=ei;return a?b(a):(b.links=function(a){return fd(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})},b.triangles=function(a){var b=[];return fd(c(a)).cells.forEach(function(c,d){for(var e,f,g=c.site,h=c.edges.sort(Rc),i=-1,j=h.length,k=h[j-1].edge,l=k.l===g?k.r:k.l;++i<j;)e=k,f=l,k=h[i].edge,l=k.l===g?k.r:k.l,d<f.i&&d<l.i&&hd(g,f,l)<0&&b.push([a[d],a[f.i],a[l.i]])}),b},b.x=function(a){return arguments.length?(f=Aa(d=a),b):d},b.y=function(a){return arguments.length?(g=Aa(e=a),b):e},b.clipExtent=function(a){return arguments.length?(h=null==a?ei:a,b):h===ei?null:h},b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):h===ei?null:h&&h[1]},b)};var ei=[[-1e6,-1e6],[1e6,1e6]];bg.geom.delaunay=function(a){return bg.geom.voronoi().triangles(a)},bg.geom.quadtree=function(a,b,c,d,e){function f(a){function f(a,b,c,d,e,f,g,h){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var i=a.x,k=a.y;if(null!=i)if(ng(i-c)+ng(k-d)<.01)j(a,b,c,d,e,f,g,h);else{var l=a.point;a.x=a.y=a.point=null,j(a,l,i,k,e,f,g,h),j(a,b,c,d,e,f,g,h)}else a.x=c,a.y=d,a.point=b}else j(a,b,c,d,e,f,g,h)}function j(a,b,c,d,e,g,h,i){var j=.5*(e+h),k=.5*(g+i),l=c>=j,m=d>=k,n=m<<1|l;a.leaf=!1,a=a.nodes[n]||(a.nodes[n]=kd()),l?e=j:h=j,m?g=k:i=k,f(a,b,c,d,e,g,h,i)}var k,l,m,n,o,p,q,r,s,t=Aa(h),u=Aa(i);if(null!=b)p=b,q=c,r=d,s=e;else if(r=s=-(p=q=1/0),l=[],m=[],o=a.length,g)for(n=0;o>n;++n)k=a[n],k.x<p&&(p=k.x),k.y<q&&(q=k.y),k.x>r&&(r=k.x),k.y>s&&(s=k.y),l.push(k.x),m.push(k.y);else for(n=0;o>n;++n){var v=+t(k=a[n],n),w=+u(k,n);p>v&&(p=v),q>w&&(q=w),v>r&&(r=v),w>s&&(s=w),l.push(v),m.push(w)}var x=r-p,y=s-q;x>y?s=q+x:r=p+y;var z=kd();if(z.add=function(a){f(z,a,+t(a,++n),+u(a,n),p,q,r,s)},z.visit=function(a){ld(a,z,p,q,r,s)},z.find=function(a){return md(z,a[0],a[1],p,q,r,s)},n=-1,null==b){for(;++n<o;)f(z,a[n],l[n],m[n],p,q,r,s);--n}else a.forEach(z.add);return l=m=a=k=null,z}var g,h=Bc,i=Cc;return(g=arguments.length)?(h=id,i=jd,3===g&&(e=c,d=b,c=b=0),f(a)):(f.x=function(a){return arguments.length?(h=a,f):h},f.y=function(a){return arguments.length?(i=a,f):i},f.extent=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]),f):null==b?null:[[b,c],[d,e]]},f.size=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]),f):null==b?null:[d-b,e-c]},f)},bg.interpolateRgb=nd,bg.interpolateObject=od,bg.interpolateNumber=pd,bg.interpolateString=qd;var fi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gi=new RegExp(fi.source,"g");bg.interpolate=rd,bg.interpolators=[function(a,b){var c=typeof b;return("string"===c?Zg.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?nd:qd:b instanceof ga?nd:Array.isArray(b)?sd:"object"===c&&isNaN(b)?od:pd)(a,b)}],bg.interpolateArray=sd;var hi=function(){return s},ii=bg.map({linear:hi,poly:zd,quad:function(){return wd},cubic:function(){return xd},sin:function(){return Ad},exp:function(){return Bd},circle:function(){return Cd},elastic:Dd,back:Ed,bounce:function(){return Fd}}),ji=bg.map({"in":s,out:ud,"in-out":vd,"out-in":function(a){return vd(ud(a))}});bg.ease=function(a){var b=a.indexOf("-"),c=b>=0?a.slice(0,b):a,d=b>=0?a.slice(b+1):"in";return c=ii.get(c)||hi,d=ji.get(d)||s,td(d(c.apply(null,cg.call(arguments,1))))},bg.interpolateHcl=Gd,bg.interpolateHsl=Hd,bg.interpolateLab=Id,bg.interpolateRound=Jd,bg.transform=function(a){var b=eg.createElementNS(bg.ns.prefix.svg,"g");return(bg.transform=function(a){if(null!=a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new Kd(c?c.matrix:ki)})(a)},Kd.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ki={a:1,b:0,c:0,d:1,e:0,f:0};bg.interpolateTransform=Od,bg.layout={},bg.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(Rd(a[c]));return b}},bg.layout.chord=function(){function a(){var a,j,l,m,n,o={},p=[],q=bg.range(f),r=[];for(c=[],d=[],a=0,m=-1;++m<f;){for(j=0,n=-1;++n<f;)j+=e[m][n];p.push(j),r.push(bg.range(f)),a+=j}for(g&&q.sort(function(a,b){return g(p[a],p[b])}),h&&r.forEach(function(a,b){a.sort(function(a,c){return h(e[b][a],e[b][c])})}),a=(Gg-k*f)/a,j=0,m=-1;++m<f;){for(l=j,n=-1;++n<f;){var s=q[m],t=r[s][n],u=e[s][t],v=j,w=j+=u*a;o[s+"-"+t]={index:s,subindex:t,startAngle:v,endAngle:w,value:u}}d[s]={index:s,startAngle:l,endAngle:j,value:(j-l)/a},j+=k}for(m=-1;++m<f;)for(n=m-1;++n<f;){var x=o[m+"-"+n],y=o[n+"-"+m];(x.value||y.value)&&c.push(x.value<y.value?{source:y,target:x}:{source:x,target:y})}i&&b()}function b(){c.sort(function(a,b){return i((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c,d,e,f,g,h,i,j={},k=0;return j.matrix=function(a){return arguments.length?(f=(e=a)&&e.length,c=d=null,j):e},j.padding=function(a){return arguments.length?(k=a,c=d=null,j):k},j.sortGroups=function(a){return arguments.length?(g=a,c=d=null,j):g},j.sortSubgroups=function(a){return arguments.length?(h=a,c=null,j):h},j.sortChords=function(a){return arguments.length?(i=a,c&&b(),j):i},j.chords=function(){return c||a(),c},j.groups=function(){return d||a(),d},j},bg.layout.force=function(){function a(a){return function(b,c,d,e){if(b.point!==a){var f=b.cx-a.x,g=b.cy-a.y,h=e-c,i=f*f+g*g;if(i>h*h/q){if(o>i){var j=b.charge/i;a.px-=f*j,a.py-=g*j}return!0}if(b.point&&i&&o>i){var j=b.pointCharge/i;a.px-=f*j,a.py-=g*j}}return!b.charge}}function b(a){a.px=bg.event.x,a.py=bg.event.y,h.resume()}var c,d,e,f,g,h={},i=bg.dispatch("start","tick","end"),j=[1,1],k=.9,l=li,m=mi,n=-30,o=ni,p=.1,q=.64,r=[],t=[];return h.tick=function(){if((d*=.99)<.005)return i.end({type:"end",alpha:d=0}),!0;var b,c,h,l,m,o,q,s,u,v=r.length,w=t.length;for(c=0;w>c;++c)h=t[c],l=h.source,m=h.target,s=m.x-l.x,u=m.y-l.y,(o=s*s+u*u)&&(o=d*f[c]*((o=Math.sqrt(o))-e[c])/o,s*=o,u*=o,m.x-=s*(q=l.weight/(m.weight+l.weight)),m.y-=u*q,l.x+=s*(q=1-q),l.y+=u*q);if((q=d*p)&&(s=j[0]/2,u=j[1]/2,c=-1,q))for(;++c<v;)h=r[c],h.x+=(s-h.x)*q,h.y+=(u-h.y)*q;if(n)for(Yd(b=bg.geom.quadtree(r),d,g),c=-1;++c<v;)(h=r[c]).fixed||b.visit(a(h));for(c=-1;++c<v;)h=r[c],h.fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*k,h.y-=(h.py-(h.py=h.y))*k);i.tick({type:"tick",alpha:d})},h.nodes=function(a){return arguments.length?(r=a,h):r},h.links=function(a){return arguments.length?(t=a,h):t},h.size=function(a){return arguments.length?(j=a,h):j},h.linkDistance=function(a){return arguments.length?(l="function"==typeof a?a:+a,h):l},h.distance=h.linkDistance,h.linkStrength=function(a){return arguments.length?(m="function"==typeof a?a:+a,h):m},h.friction=function(a){return arguments.length?(k=+a,h):k},h.charge=function(a){return arguments.length?(n="function"==typeof a?a:+a,h):n},h.chargeDistance=function(a){return arguments.length?(o=a*a,h):Math.sqrt(o)},h.gravity=function(a){return arguments.length?(p=+a,h):p},h.theta=function(a){return arguments.length?(q=a*a,h):Math.sqrt(q)},h.alpha=function(a){return arguments.length?(a=+a,d?d=a>0?a:0:a>0&&(i.start({type:"start",alpha:d=a}),bg.timer(h.tick)),h):d},h.start=function(){function a(a,d){if(!c){for(c=new Array(i),h=0;i>h;++h)c[h]=[];for(h=0;k>h;++h){var e=t[h];c[e.source.index].push(e.target),c[e.target.index].push(e.source)}}for(var f,g=c[b],h=-1,j=g.length;++h<j;)if(!isNaN(f=g[h][a]))return f;return Math.random()*d}var b,c,d,i=r.length,k=t.length,o=j[0],p=j[1];for(b=0;i>b;++b)(d=r[b]).index=b,d.weight=0;for(b=0;k>b;++b)d=t[b],"number"==typeof d.source&&(d.source=r[d.source]),"number"==typeof d.target&&(d.target=r[d.target]),++d.source.weight,++d.target.weight;for(b=0;i>b;++b)d=r[b],isNaN(d.x)&&(d.x=a("x",o)),isNaN(d.y)&&(d.y=a("y",p)),isNaN(d.px)&&(d.px=d.x),isNaN(d.py)&&(d.py=d.y);if(e=[],"function"==typeof l)for(b=0;k>b;++b)e[b]=+l.call(this,t[b],b);else for(b=0;k>b;++b)e[b]=l;if(f=[],"function"==typeof m)for(b=0;k>b;++b)f[b]=+m.call(this,t[b],b);else for(b=0;k>b;++b)f[b]=m;if(g=[],"function"==typeof n)for(b=0;i>b;++b)g[b]=+n.call(this,r[b],b);else for(b=0;i>b;++b)g[b]=n;return h.resume()},h.resume=function(){return h.alpha(.1)},h.stop=function(){return h.alpha(0)},h.drag=function(){return c||(c=bg.behavior.drag().origin(s).on("dragstart.force",Ud).on("drag.force",b).on("dragend.force",Vd)),arguments.length?void this.on("mouseover.force",Wd).on("mouseout.force",Xd).call(c):c},bg.rebind(h,i,"on")};var li=20,mi=1,ni=1/0;bg.layout.hierarchy=function(){function a(e){var f,g=[e],h=[];for(e.depth=0;null!=(f=g.pop());)if(h.push(f),(j=c.call(a,f,f.depth))&&(i=j.length)){for(var i,j,k;--i>=0;)g.push(k=j[i]),k.parent=f,k.depth=f.depth+1;d&&(f.value=0),f.children=j}else d&&(f.value=+d.call(a,f,f.depth)||0),delete f.children;return _d(e,function(a){
var c,e;b&&(c=a.children)&&c.sort(b),d&&(e=a.parent)&&(e.value+=a.value)}),h}var b=ce,c=ae,d=be;return a.sort=function(c){return arguments.length?(b=c,a):b},a.children=function(b){return arguments.length?(c=b,a):c},a.value=function(b){return arguments.length?(d=b,a):d},a.revalue=function(b){return d&&($d(b,function(a){a.children&&(a.value=0)}),_d(b,function(b){var c;b.children||(b.value=+d.call(a,b,b.depth)||0),(c=b.parent)&&(c.value+=b.value)})),b},a},bg.layout.partition=function(){function a(b,c,d,e){var f=b.children;if(b.x=c,b.y=b.depth*e,b.dx=d,b.dy=e,f&&(g=f.length)){var g,h,i,j=-1;for(d=b.value?d/b.value:0;++j<g;)a(h=f[j],c,i=h.value*d,e),c+=i}}function b(a){var c=a.children,d=0;if(c&&(e=c.length))for(var e,f=-1;++f<e;)d=Math.max(d,b(c[f]));return 1+d}function c(c,f){var g=d.call(this,c,f);return a(g[0],0,e[0],e[1]/b(g[0])),g}var d=bg.layout.hierarchy(),e=[1,1];return c.size=function(a){return arguments.length?(e=a,c):e},Zd(c,d)},bg.layout.pie=function(){function a(g){var h,i=g.length,j=g.map(function(c,d){return+b.call(a,c,d)}),k=+("function"==typeof d?d.apply(this,arguments):d),l=("function"==typeof e?e.apply(this,arguments):e)-k,m=Math.min(Math.abs(l)/i,+("function"==typeof f?f.apply(this,arguments):f)),n=m*(0>l?-1:1),o=(l-i*n)/bg.sum(j),p=bg.range(i),q=[];return null!=c&&p.sort(c===oi?function(a,b){return j[b]-j[a]}:function(a,b){return c(g[a],g[b])}),p.forEach(function(a){q[a]={data:g[a],value:h=j[a],startAngle:k,endAngle:k+=h*o+n,padAngle:m}}),q}var b=Number,c=oi,d=0,e=Gg,f=0;return a.value=function(c){return arguments.length?(b=c,a):b},a.sort=function(b){return arguments.length?(c=b,a):c},a.startAngle=function(b){return arguments.length?(d=b,a):d},a.endAngle=function(b){return arguments.length?(e=b,a):e},a.padAngle=function(b){return arguments.length?(f=b,a):f},a};var oi={};bg.layout.stack=function(){function a(h,i){if(!(m=h.length))return h;var j=h.map(function(c,d){return b.call(a,c,d)}),k=j.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),g.call(a,b,c)]})}),l=c.call(a,k,i);j=bg.permute(j,l),k=bg.permute(k,l);var m,n,o,p,q=d.call(a,k,i),r=j[0].length;for(o=0;r>o;++o)for(e.call(a,j[0][o],p=q[o],k[0][o][1]),n=1;m>n;++n)e.call(a,j[n][o],p+=k[n-1][o][1],k[n][o][1]);return h}var b=s,c=he,d=ie,e=ge,f=ee,g=fe;return a.values=function(c){return arguments.length?(b=c,a):b},a.order=function(b){return arguments.length?(c="function"==typeof b?b:pi.get(b)||he,a):c},a.offset=function(b){return arguments.length?(d="function"==typeof b?b:qi.get(b)||ie,a):d},a.x=function(b){return arguments.length?(f=b,a):f},a.y=function(b){return arguments.length?(g=b,a):g},a.out=function(b){return arguments.length?(e=b,a):e},a};var pi=bg.map({"inside-out":function(a){var b,c,d=a.length,e=a.map(je),f=a.map(ke),g=bg.range(d).sort(function(a,b){return e[a]-e[b]}),h=0,i=0,j=[],k=[];for(b=0;d>b;++b)c=g[b],i>h?(h+=f[c],j.push(c)):(i+=f[c],k.push(c));return k.reverse().concat(j)},reverse:function(a){return bg.range(a.length).reverse()},"default":he}),qi=bg.map({silhouette:function(a){var b,c,d,e=a.length,f=a[0].length,g=[],h=0,i=[];for(c=0;f>c;++c){for(b=0,d=0;e>b;b++)d+=a[b][c][1];d>h&&(h=d),g.push(d)}for(c=0;f>c;++c)i[c]=(h-g[c])/2;return i},wiggle:function(a){var b,c,d,e,f,g,h,i,j,k=a.length,l=a[0],m=l.length,n=[];for(n[0]=i=j=0,c=1;m>c;++c){for(b=0,e=0;k>b;++b)e+=a[b][c][1];for(b=0,f=0,h=l[c][0]-l[c-1][0];k>b;++b){for(d=0,g=(a[b][c][1]-a[b][c-1][1])/(2*h);b>d;++d)g+=(a[d][c][1]-a[d][c-1][1])/h;f+=g*a[b][c][1]}n[c]=i-=e?f/e*h:0,j>i&&(j=i)}for(c=0;m>c;++c)n[c]-=j;return n},expand:function(a){var b,c,d,e=a.length,f=a[0].length,g=1/e,h=[];for(c=0;f>c;++c){for(b=0,d=0;e>b;b++)d+=a[b][c][1];if(d)for(b=0;e>b;b++)a[b][c][1]/=d;else for(b=0;e>b;b++)a[b][c][1]=g}for(c=0;f>c;++c)h[c]=0;return h},zero:ie});bg.layout.histogram=function(){function a(a,f){for(var g,h,i=[],j=a.map(c,this),k=d.call(this,j,f),l=e.call(this,k,j,f),f=-1,m=j.length,n=l.length-1,o=b?1:1/m;++f<n;)g=i[f]=[],g.dx=l[f+1]-(g.x=l[f]),g.y=0;if(n>0)for(f=-1;++f<m;)h=j[f],h>=k[0]&&h<=k[1]&&(g=i[bg.bisect(l,h,1,n)-1],g.y+=o,g.push(a[f]));return i}var b=!0,c=Number,d=oe,e=me;return a.value=function(b){return arguments.length?(c=b,a):c},a.range=function(b){return arguments.length?(d=Aa(b),a):d},a.bins=function(b){return arguments.length?(e="number"==typeof b?function(a){return ne(a,b)}:Aa(b),a):e},a.frequency=function(c){return arguments.length?(b=!!c,a):b},a},bg.layout.pack=function(){function a(a,f){var g=c.call(this,a,f),h=g[0],i=e[0],j=e[1],k=null==b?Math.sqrt:"function"==typeof b?b:function(){return b};if(h.x=h.y=0,_d(h,function(a){a.r=+k(a.value)}),_d(h,te),d){var l=d*(b?1:Math.max(2*h.r/i,2*h.r/j))/2;_d(h,function(a){a.r+=l}),_d(h,te),_d(h,function(a){a.r-=l})}return we(h,i/2,j/2,b?1:1/Math.max(2*h.r/i,2*h.r/j)),g}var b,c=bg.layout.hierarchy().sort(pe),d=0,e=[1,1];return a.size=function(b){return arguments.length?(e=b,a):e},a.radius=function(c){return arguments.length?(b=null==c||"function"==typeof c?c:+c,a):b},a.padding=function(b){return arguments.length?(d=+b,a):d},Zd(a,c)},bg.layout.tree=function(){function a(a,e){var k=g.call(this,a,e),l=k[0],m=b(l);if(_d(m,c),m.parent.m=-m.z,$d(m,d),j)$d(l,f);else{var n=l,o=l,p=l;$d(l,function(a){a.x<n.x&&(n=a),a.x>o.x&&(o=a),a.depth>p.depth&&(p=a)});var q=h(n,o)/2-n.x,r=i[0]/(o.x+h(o,n)/2+q),s=i[1]/(p.depth||1);$d(l,function(a){a.x=(a.x+q)*r,a.y=a.depth*s})}return k}function b(a){for(var b,c={A:null,children:[a]},d=[c];null!=(b=d.pop());)for(var e,f=b.children,g=0,h=f.length;h>g;++g)d.push((f[g]=e={_:f[g],parent:b,children:(e=f[g].children)&&e.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=e);return c.children[0]}function c(a){var b=a.children,c=a.parent.children,d=a.i?c[a.i-1]:null;if(b.length){Ce(a);var f=(b[0].z+b[b.length-1].z)/2;d?(a.z=d.z+h(a._,d._),a.m=a.z-f):a.z=f}else d&&(a.z=d.z+h(a._,d._));a.parent.A=e(a,d,a.parent.A||c[0])}function d(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function e(a,b,c){if(b){for(var d,e=a,f=a,g=b,i=e.parent.children[0],j=e.m,k=f.m,l=g.m,m=i.m;g=Ae(g),e=ze(e),g&&e;)i=ze(i),f=Ae(f),f.a=a,d=g.z+l-e.z-j+h(g._,e._),d>0&&(Be(De(g,a,c),a,d),j+=d,k+=d),l+=g.m,j+=e.m,m+=i.m,k+=f.m;g&&!Ae(f)&&(f.t=g,f.m+=l-k),e&&!ze(i)&&(i.t=e,i.m+=j-m,c=a)}return c}function f(a){a.x*=i[0],a.y=a.depth*i[1]}var g=bg.layout.hierarchy().sort(null).value(null),h=ye,i=[1,1],j=null;return a.separation=function(b){return arguments.length?(h=b,a):h},a.size=function(b){return arguments.length?(j=null==(i=b)?f:null,a):j?null:i},a.nodeSize=function(b){return arguments.length?(j=null==(i=b)?null:f,a):j?i:null},Zd(a,g)},bg.layout.cluster=function(){function a(a,f){var g,h=b.call(this,a,f),i=h[0],j=0;_d(i,function(a){var b=a.children;b&&b.length?(a.x=Fe(b),a.y=Ee(b)):(a.x=g?j+=c(a,g):0,a.y=0,g=a)});var k=Ge(i),l=He(i),m=k.x-c(k,l)/2,n=l.x+c(l,k)/2;return _d(i,e?function(a){a.x=(a.x-i.x)*d[0],a.y=(i.y-a.y)*d[1]}:function(a){a.x=(a.x-m)/(n-m)*d[0],a.y=(1-(i.y?a.y/i.y:1))*d[1]}),h}var b=bg.layout.hierarchy().sort(null).value(null),c=ye,d=[1,1],e=!1;return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(e=null==(d=b),a):e?null:d},a.nodeSize=function(b){return arguments.length?(e=null!=(d=b),a):e?d:null},Zd(a,b)},bg.layout.treemap=function(){function a(a,b){for(var c,d,e=-1,f=a.length;++e<f;)d=(c=a[e]).value*(0>b?0:b),c.area=isNaN(d)||0>=d?0:d}function b(c){var f=c.children;if(f&&f.length){var g,h,i,j=l(c),k=[],m=f.slice(),o=1/0,p="slice"===n?j.dx:"dice"===n?j.dy:"slice-dice"===n?1&c.depth?j.dy:j.dx:Math.min(j.dx,j.dy);for(a(m,j.dx*j.dy/c.value),k.area=0;(i=m.length)>0;)k.push(g=m[i-1]),k.area+=g.area,"squarify"!==n||(h=d(k,p))<=o?(m.pop(),o=h):(k.area-=k.pop().area,e(k,p,j,!1),p=Math.min(j.dx,j.dy),k.length=k.area=0,o=1/0);k.length&&(e(k,p,j,!0),k.length=k.area=0),f.forEach(b)}}function c(b){var d=b.children;if(d&&d.length){var f,g=l(b),h=d.slice(),i=[];for(a(h,g.dx*g.dy/b.value),i.area=0;f=h.pop();)i.push(f),i.area+=f.area,null!=f.z&&(e(i,f.z?g.dx:g.dy,g,!h.length),i.length=i.area=0);d.forEach(c)}}function d(a,b){for(var c,d=a.area,e=0,f=1/0,g=-1,h=a.length;++g<h;)(c=a[g].area)&&(f>c&&(f=c),c>e&&(e=c));return d*=d,b*=b,d?Math.max(b*e*o/d,d/(b*f*o)):1/0}function e(a,b,c,d){var e,f=-1,g=a.length,h=c.x,j=c.y,k=b?i(a.area/b):0;if(b==c.dx){for((d||k>c.dy)&&(k=c.dy);++f<g;)e=a[f],e.x=h,e.y=j,e.dy=k,h+=e.dx=Math.min(c.x+c.dx-h,k?i(e.area/k):0);e.z=!0,e.dx+=c.x+c.dx-h,c.y+=k,c.dy-=k}else{for((d||k>c.dx)&&(k=c.dx);++f<g;)e=a[f],e.x=h,e.y=j,e.dx=k,j+=e.dy=Math.min(c.y+c.dy-j,k?i(e.area/k):0);e.z=!1,e.dy+=c.y+c.dy-j,c.x+=k,c.dx-=k}}function f(d){var e=g||h(d),f=e[0];return f.x=0,f.y=0,f.dx=j[0],f.dy=j[1],g&&h.revalue(f),a([f],f.dx*f.dy/f.value),(g?c:b)(f),m&&(g=e),e}var g,h=bg.layout.hierarchy(),i=Math.round,j=[1,1],k=null,l=Ie,m=!1,n="squarify",o=.5*(1+Math.sqrt(5));return f.size=function(a){return arguments.length?(j=a,f):j},f.padding=function(a){function b(b){var c=a.call(f,b,b.depth);return null==c?Ie(b):Je(b,"number"==typeof c?[c,c,c,c]:c)}function c(b){return Je(b,a)}if(!arguments.length)return k;var d;return l=null==(k=a)?Ie:"function"==(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c,f},f.round=function(a){return arguments.length?(i=a?Math.round:Number,f):i!=Number},f.sticky=function(a){return arguments.length?(m=a,g=null,f):m},f.ratio=function(a){return arguments.length?(o=a,f):o},f.mode=function(a){return arguments.length?(n=a+"",f):n},Zd(f,h)},bg.random={normal:function(a,b){var c=arguments.length;return 2>c&&(b=1),1>c&&(a=0),function(){var c,d,e;do c=2*Math.random()-1,d=2*Math.random()-1,e=c*c+d*d;while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var a=bg.random.normal.apply(bg,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=bg.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;a>c;c++)b+=Math.random();return b}}},bg.scale={};var ri={floor:s,ceil:s};bg.scale.linear=function(){return Qe([0,1],[0,1],rd,!1)};var si={s:1,g:1,p:1,r:1,e:1};bg.scale.log=function(){return Ye(bg.scale.linear().domain([0,1]),10,!0,[1,10])};var ti=bg.format(".0e"),ui={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};bg.scale.pow=function(){return Ze(bg.scale.linear(),1,[0,1])},bg.scale.sqrt=function(){return bg.scale.pow().exponent(.5)},bg.scale.ordinal=function(){return _e([],{t:"range",a:[[]]})},bg.scale.category10=function(){return bg.scale.ordinal().range(vi)},bg.scale.category20=function(){return bg.scale.ordinal().range(wi)},bg.scale.category20b=function(){return bg.scale.ordinal().range(xi)},bg.scale.category20c=function(){return bg.scale.ordinal().range(yi)};var vi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ta),wi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ta),xi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ta),yi=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ta);bg.scale.quantile=function(){return af([],[])},bg.scale.quantize=function(){return bf(0,1,[0,1])},bg.scale.threshold=function(){return cf([.5],[0,1])},bg.scale.identity=function(){return df([0,1])},bg.svg={},bg.svg.arc=function(){function a(){var a=Math.max(0,+c.apply(this,arguments)),j=Math.max(0,+d.apply(this,arguments)),k=g.apply(this,arguments)-Ig,l=h.apply(this,arguments)-Ig,m=Math.abs(l-k),n=k>l?0:1;if(a>j&&(o=j,j=a,a=o),m>=Hg)return b(j,n)+(a?b(a,1-n):"")+"Z";var o,p,q,r,s,t,u,v,w,x,y,z,A=0,B=0,C=[];if((r=(+i.apply(this,arguments)||0)/2)&&(q=f===zi?Math.sqrt(a*a+j*j):+f.apply(this,arguments),n||(B*=-1),j&&(B=ba(q/j*Math.sin(r))),a&&(A=ba(q/a*Math.sin(r)))),j){s=j*Math.cos(k+B),t=j*Math.sin(k+B),u=j*Math.cos(l-B),v=j*Math.sin(l-B);var D=Math.abs(l-k-2*B)<=Fg?0:1;if(B&&lf(s,t,u,v)===n^D){var E=(k+l)/2;s=j*Math.cos(E),t=j*Math.sin(E),u=v=null}}else s=t=0;if(a){w=a*Math.cos(l-A),x=a*Math.sin(l-A),y=a*Math.cos(k+A),z=a*Math.sin(k+A);var F=Math.abs(k-l+2*A)<=Fg?0:1;if(A&&lf(w,x,y,z)===1-n^F){var G=(k+l)/2;w=a*Math.cos(G),x=a*Math.sin(G),y=z=null}}else w=x=0;if((o=Math.min(Math.abs(j-a)/2,+e.apply(this,arguments)))>.001){p=j>a^n?0:1;var H=null==y?[w,x]:null==u?[s,t]:Gc([s,t],[y,z],[u,v],[w,x]),I=s-H[0],J=t-H[1],K=u-H[0],L=v-H[1],M=1/Math.sin(Math.acos((I*K+J*L)/(Math.sqrt(I*I+J*J)*Math.sqrt(K*K+L*L)))/2),N=Math.sqrt(H[0]*H[0]+H[1]*H[1]);if(null!=u){var O=Math.min(o,(j-N)/(M+1)),P=mf(null==y?[w,x]:[y,z],[s,t],j,O,n),Q=mf([u,v],[w,x],j,O,n);o===O?C.push("M",P[0],"A",O,",",O," 0 0,",p," ",P[1],"A",j,",",j," 0 ",1-n^lf(P[1][0],P[1][1],Q[1][0],Q[1][1]),",",n," ",Q[1],"A",O,",",O," 0 0,",p," ",Q[0]):C.push("M",P[0],"A",O,",",O," 0 1,",p," ",Q[0])}else C.push("M",s,",",t);if(null!=y){var R=Math.min(o,(a-N)/(M-1)),S=mf([s,t],[y,z],a,-R,n),T=mf([w,x],null==u?[s,t]:[u,v],a,-R,n);o===R?C.push("L",T[0],"A",R,",",R," 0 0,",p," ",T[1],"A",a,",",a," 0 ",n^lf(T[1][0],T[1][1],S[1][0],S[1][1]),",",1-n," ",S[1],"A",R,",",R," 0 0,",p," ",S[0]):C.push("L",T[0],"A",R,",",R," 0 0,",p," ",S[0])}else C.push("L",w,",",x)}else C.push("M",s,",",t),null!=u&&C.push("A",j,",",j," 0 ",D,",",n," ",u,",",v),C.push("L",w,",",x),null!=y&&C.push("A",a,",",a," 0 ",F,",",1-n," ",y,",",z);return C.push("Z"),C.join("")}function b(a,b){return"M0,"+a+"A"+a+","+a+" 0 1,"+b+" 0,"+-a+"A"+a+","+a+" 0 1,"+b+" 0,"+a}var c=ff,d=gf,e=ef,f=zi,g=hf,h=jf,i=kf;return a.innerRadius=function(b){return arguments.length?(c=Aa(b),a):c},a.outerRadius=function(b){return arguments.length?(d=Aa(b),a):d},a.cornerRadius=function(b){return arguments.length?(e=Aa(b),a):e},a.padRadius=function(b){return arguments.length?(f=b==zi?zi:Aa(b),a):f},a.startAngle=function(b){return arguments.length?(g=Aa(b),a):g},a.endAngle=function(b){return arguments.length?(h=Aa(b),a):h},a.padAngle=function(b){return arguments.length?(i=Aa(b),a):i},a.centroid=function(){var a=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2,b=(+g.apply(this,arguments)+ +h.apply(this,arguments))/2-Ig;return[Math.cos(b)*a,Math.sin(b)*a]},a};var zi="auto";bg.svg.line=function(){return nf(s)};var Ai=bg.map({linear:of,"linear-closed":pf,step:qf,"step-before":rf,"step-after":sf,basis:yf,"basis-open":zf,"basis-closed":Af,bundle:Bf,cardinal:vf,"cardinal-open":tf,"cardinal-closed":uf,monotone:Hf});Ai.forEach(function(a,b){b.key=a,b.closed=/-closed$/.test(a)});var Bi=[0,2/3,1/3,0],Ci=[0,1/3,2/3,0],Di=[0,1/6,2/3,1/6];bg.svg.line.radial=function(){var a=nf(If);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},rf.reverse=sf,sf.reverse=rf,bg.svg.area=function(){return Jf(s)},bg.svg.area.radial=function(){var a=Jf(If);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},bg.svg.chord=function(){function a(a,h){var i=b(this,f,a,h),j=b(this,g,a,h);return"M"+i.p0+d(i.r,i.p1,i.a1-i.a0)+(c(i,j)?e(i.r,i.p1,i.r,i.p0):e(i.r,i.p1,j.r,j.p0)+d(j.r,j.p1,j.a1-j.a0)+e(j.r,j.p1,i.r,i.p0))+"Z"}function b(a,b,c,d){var e=b.call(a,c,d),f=h.call(a,e,d),g=i.call(a,e,d)-Ig,k=j.call(a,e,d)-Ig;return{r:f,a0:g,a1:k,p0:[f*Math.cos(g),f*Math.sin(g)],p1:[f*Math.cos(k),f*Math.sin(k)]}}function c(a,b){return a.a0==b.a0&&a.a1==b.a1}function d(a,b,c){return"A"+a+","+a+" 0 "+ +(c>Fg)+",1 "+b}function e(a,b,c,d){return"Q 0,0 "+d}var f=rc,g=sc,h=Kf,i=hf,j=jf;return a.radius=function(b){return arguments.length?(h=Aa(b),a):h},a.source=function(b){return arguments.length?(f=Aa(b),a):f},a.target=function(b){return arguments.length?(g=Aa(b),a):g},a.startAngle=function(b){return arguments.length?(i=Aa(b),a):i},a.endAngle=function(b){return arguments.length?(j=Aa(b),a):j},a},bg.svg.diagonal=function(){function a(a,e){var f=b.call(this,a,e),g=c.call(this,a,e),h=(f.y+g.y)/2,i=[f,{x:f.x,y:h},{x:g.x,y:h},g];return i=i.map(d),"M"+i[0]+"C"+i[1]+" "+i[2]+" "+i[3]}var b=rc,c=sc,d=Lf;return a.source=function(c){return arguments.length?(b=Aa(c),a):b},a.target=function(b){return arguments.length?(c=Aa(b),a):c},a.projection=function(b){return arguments.length?(d=b,a):d},a},bg.svg.diagonal.radial=function(){var a=bg.svg.diagonal(),b=Lf,c=a.projection;return a.projection=function(a){return arguments.length?c(Mf(b=a)):b},a},bg.svg.symbol=function(){function a(a,d){return(Ei.get(b.call(this,a,d))||Pf)(c.call(this,a,d))}var b=Of,c=Nf;return a.type=function(c){return arguments.length?(b=Aa(c),a):b},a.size=function(b){return arguments.length?(c=Aa(b),a):c},a};var Ei=bg.map({circle:Pf,cross:function(a){var b=Math.sqrt(a/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(a){var b=Math.sqrt(a/(2*Gi)),c=b*Gi;return"M0,"+-b+"L"+c+",0 0,"+b+" "+-c+",0Z"},square:function(a){var b=Math.sqrt(a)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(a){var b=Math.sqrt(a/Fi),c=b*Fi/2;return"M0,"+c+"L"+b+","+-c+" "+-b+","+-c+"Z"},"triangle-up":function(a){var b=Math.sqrt(a/Fi),c=b*Fi/2;return"M0,"+-c+"L"+b+","+c+" "+-b+","+c+"Z"}});bg.svg.symbolTypes=Ei.keys();var Fi=Math.sqrt(3),Gi=Math.tan(30*Jg);wg.transition=function(a){for(var b,c,d=Hi||++Li,e=Uf(a),f=[],g=Ii||{time:Date.now(),ease:yd,delay:0,duration:250},h=-1,i=this.length;++h<i;){f.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(c=j[k])&&Vf(c,k,e,d,g),b.push(c)}return Rf(f,e,d)},wg.interrupt=function(a){return this.each(null==a?Ji:Qf(Uf(a)))};var Hi,Ii,Ji=Qf(Uf()),Ki=[],Li=0;Ki.call=wg.call,Ki.empty=wg.empty,Ki.node=wg.node,Ki.size=wg.size,bg.transition=function(a,b){return a&&a.transition?Hi?a.transition(b):a:bg.selection().transition(a)},bg.transition.prototype=Ki,Ki.select=function(a){var b,c,d,e=this.id,f=this.namespace,g=[];a=C(a);for(var h=-1,i=this.length;++h<i;){g.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(d=j[k])&&(c=a.call(d,d.__data__,k,h))?("__data__"in d&&(c.__data__=d.__data__),Vf(c,k,f,e,d[f][e]),b.push(c)):b.push(null)}return Rf(g,f,e)},Ki.selectAll=function(a){var b,c,d,e,f,g=this.id,h=this.namespace,i=[];a=D(a);for(var j=-1,k=this.length;++j<k;)for(var l=this[j],m=-1,n=l.length;++m<n;)if(d=l[m]){f=d[h][g],c=a.call(d,d.__data__,m,j),i.push(b=[]);for(var o=-1,p=c.length;++o<p;)(e=c[o])&&Vf(e,o,h,g,f),b.push(e)}return Rf(i,h,g)},Ki.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=P(a));for(var f=0,g=this.length;g>f;f++){e.push(b=[]);for(var c=this[f],h=0,i=c.length;i>h;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return Rf(e,this.namespace,this.id)},Ki.tween=function(a,b){var c=this.id,d=this.namespace;return arguments.length<2?this.node()[d][c].tween.get(a):R(this,null==b?function(b){b[d][c].tween.remove(a)}:function(e){e[d][c].tween.set(a,b)})},Ki.attr=function(a,b){function c(){this.removeAttribute(h)}function d(){this.removeAttributeNS(h.space,h.local)}function e(a){return null==a?c:(a+="",function(){var b,c=this.getAttribute(h);return c!==a&&(b=g(c,a),function(a){this.setAttribute(h,b(a))})})}function f(a){return null==a?d:(a+="",function(){var b,c=this.getAttributeNS(h.space,h.local);return c!==a&&(b=g(c,a),function(a){this.setAttributeNS(h.space,h.local,b(a))})})}if(arguments.length<2){for(b in a)this.attr(b,a[b]);return this}var g="transform"==a?Od:rd,h=bg.ns.qualify(a);return Sf(this,"attr."+a,b,h.local?f:e)},Ki.attrTween=function(a,b){function c(a,c){var d=b.call(this,a,c,this.getAttribute(e));return d&&function(a){this.setAttribute(e,d(a))}}function d(a,c){var d=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return d&&function(a){this.setAttributeNS(e.space,e.local,d(a))}}var e=bg.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)},Ki.style=function(a,c,d){function e(){this.style.removeProperty(a)}function f(c){return null==c?e:(c+="",function(){var e,f=b(this).getComputedStyle(this,null).getPropertyValue(a);return f!==c&&(e=rd(f,c),function(b){this.style.setProperty(a,e(b),d)})})}var g=arguments.length;if(3>g){if("string"!=typeof a){2>g&&(c="");for(d in a)this.style(d,a[d],c);return this}d=""}return Sf(this,"style."+a,c,f)},Ki.styleTween=function(a,c,d){function e(e,f){var g=c.call(this,e,f,b(this).getComputedStyle(this,null).getPropertyValue(a));return g&&function(b){this.style.setProperty(a,g(b),d)}}return arguments.length<3&&(d=""),this.tween("style."+a,e)},Ki.text=function(a){return Sf(this,"text",a,Tf)},Ki.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;this[a].count<2&&(b=this.parentNode)&&b.removeChild(this)})},Ki.ease=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].ease:("function"!=typeof a&&(a=bg.ease.apply(bg,arguments)),R(this,function(d){d[c][b].ease=a}))},Ki.delay=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].delay:R(this,"function"==typeof a?function(d,e,f){d[c][b].delay=+a.call(d,d.__data__,e,f)}:(a=+a,function(d){d[c][b].delay=a}))},Ki.duration=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].duration:R(this,"function"==typeof a?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))},Ki.each=function(a,b){var c=this.id,d=this.namespace;if(arguments.length<2){var e=Ii,f=Hi;try{Hi=c,R(this,function(b,e,f){Ii=b[d][c],a.call(b,b.__data__,e,f)})}finally{Ii=e,Hi=f}}else R(this,function(e){var f=e[d][c];(f.event||(f.event=bg.dispatch("start","end","interrupt"))).on(a,b)});return this},Ki.transition=function(){for(var a,b,c,d,e=this.id,f=++Li,g=this.namespace,h=[],i=0,j=this.length;j>i;i++){h.push(a=[]);for(var b=this[i],k=0,l=b.length;l>k;k++)(c=b[k])&&(d=c[g][e],Vf(c,k,g,f,{time:d.time,ease:d.ease,delay:d.delay+d.duration,duration:d.duration})),a.push(c)}return Rf(h,g,f)},bg.svg.axis=function(){function a(a){a.each(function(){var a,j=bg.select(this),k=this.__chart__||c,l=this.__chart__=c.copy(),m=null==i?l.ticks?l.ticks.apply(l,h):l.domain():i,n=null==b?l.tickFormat?l.tickFormat.apply(l,h):s:b,o=j.selectAll(".tick").data(m,l),p=o.enter().insert("g",".domain").attr("class","tick").style("opacity",Dg),q=bg.transition(o.exit()).style("opacity",Dg).remove(),r=bg.transition(o.order()).style("opacity",1),t=Math.max(e,0)+g,u=Le(l),v=j.selectAll(".domain").data([0]),w=(v.enter().append("path").attr("class","domain"),bg.transition(v));p.append("line"),p.append("text");var x,y,z,A,B=p.select("line"),C=r.select("line"),D=o.select("text").text(n),E=p.select("text"),F=r.select("text"),G="top"===d||"left"===d?-1:1;if("bottom"===d||"top"===d?(a=Wf,x="x",z="y",y="x2",A="y2",D.attr("dy",0>G?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+u[0]+","+G*f+"V0H"+u[1]+"V"+G*f)):(a=Xf,x="y",z="x",y="y2",A="x2",D.attr("dy",".32em").style("text-anchor",0>G?"end":"start"),w.attr("d","M"+G*f+","+u[0]+"H0V"+u[1]+"H"+G*f)),B.attr(A,G*e),E.attr(z,G*t),C.attr(y,0).attr(A,G*e),F.attr(x,0).attr(z,G*t),l.rangeBand){var H=l,I=H.rangeBand()/2;k=l=function(a){return H(a)+I}}else k.rangeBand?k=l:q.call(a,l,k);p.call(a,k,l),r.call(a,l,l)})}var b,c=bg.scale.linear(),d=Mi,e=6,f=6,g=3,h=[10],i=null;return a.scale=function(b){return arguments.length?(c=b,a):c},a.orient=function(b){return arguments.length?(d=b in Ni?b+"":Mi,a):d},a.ticks=function(){return arguments.length?(h=arguments,a):h},a.tickValues=function(b){return arguments.length?(i=b,a):i},a.tickFormat=function(c){return arguments.length?(b=c,a):b},a.tickSize=function(b){var c=arguments.length;return c?(e=+b,f=+arguments[c-1],a):e},a.innerTickSize=function(b){return arguments.length?(e=+b,a):e},a.outerTickSize=function(b){return arguments.length?(f=+b,a):f},a.tickPadding=function(b){return arguments.length?(g=+b,a):g},a.tickSubdivide=function(){return arguments.length&&a},a};var Mi="bottom",Ni={top:1,right:1,bottom:1,left:1};bg.svg.brush=function(){function a(b){b.each(function(){var b=bg.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",f).on("touchstart.brush",f),g=b.selectAll(".background").data([0]);g.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),b.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var h=b.selectAll(".resize").data(p,s);h.exit().remove(),h.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Oi[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),h.style("display",a.empty()?"none":null);var i,l=bg.transition(b),m=bg.transition(g);j&&(i=Le(j),m.attr("x",i[0]).attr("width",i[1]-i[0]),d(l)),k&&(i=Le(k),m.attr("y",i[0]).attr("height",i[1]-i[0]),e(l)),c(l)})}function c(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+l[+/e$/.test(a)]+","+m[+/^s/.test(a)]+")"})}function d(a){a.select(".extent").attr("x",l[0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function e(a){a.select(".extent").attr("y",m[0]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",m[1]-m[0])}function f(){function f(){32==bg.event.keyCode&&(D||(t=null,F[0]-=l[1],F[1]-=m[1],D=2),y())}function p(){32==bg.event.keyCode&&2==D&&(F[0]+=l[1],F[1]+=m[1],D=0,y())}function q(){var a=bg.mouse(v),b=!1;u&&(a[0]+=u[0],a[1]+=u[1]),D||(bg.event.altKey?(t||(t=[(l[0]+l[1])/2,(m[0]+m[1])/2]),F[0]=l[+(a[0]<t[0])],F[1]=m[+(a[1]<t[1])]):t=null),B&&r(a,j,0)&&(d(z),b=!0),C&&r(a,k,1)&&(e(z),b=!0),b&&(c(z),x({type:"brush",mode:D?"move":"resize"}))}function r(a,b,c){var d,e,f=Le(b),i=f[0],j=f[1],k=F[c],p=c?m:l,q=p[1]-p[0];return D&&(i-=k,j-=q+k),d=(c?o:n)?Math.max(i,Math.min(j,a[c])):a[c],D?e=(d+=k)+q:(t&&(k=Math.max(i,Math.min(j,2*t[c]-d))),d>k?(e=d,d=k):e=k),p[0]!=d||p[1]!=e?(c?h=null:g=null,p[0]=d,p[1]=e,!0):void 0}function s(){q(),z.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null),bg.select("body").style("cursor",null),G.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),x({type:"brushend"})}var t,u,v=this,w=bg.select(bg.event.target),x=i.of(v,arguments),z=bg.select(v),A=w.datum(),B=!/^(n|s)$/.test(A)&&j,C=!/^(e|w)$/.test(A)&&k,D=w.classed("extent"),E=X(v),F=bg.mouse(v),G=bg.select(b(v)).on("keydown.brush",f).on("keyup.brush",p);if(bg.event.changedTouches?G.on("touchmove.brush",q).on("touchend.brush",s):G.on("mousemove.brush",q).on("mouseup.brush",s),z.interrupt().selectAll("*").interrupt(),D)F[0]=l[0]-F[0],F[1]=m[0]-F[1];else if(A){var H=+/w$/.test(A),I=+/^n/.test(A);u=[l[1-H]-F[0],m[1-I]-F[1]],F[0]=l[H],F[1]=m[I]}else bg.event.altKey&&(t=F.slice());z.style("pointer-events","none").selectAll(".resize").style("display",null),bg.select("body").style("cursor",w.style("cursor")),x({type:"brushstart"}),q()}var g,h,i=A(a,"brushstart","brush","brushend"),j=null,k=null,l=[0,0],m=[0,0],n=!0,o=!0,p=Pi[0];return a.event=function(a){a.each(function(){var a=i.of(this,arguments),b={x:l,y:m,i:g,j:h},c=this.__chart__||b;this.__chart__=b,Hi?bg.select(this).transition().each("start.brush",function(){g=c.i,h=c.j,l=c.x,m=c.y,a({type:"brushstart"})}).tween("brush:brush",function(){var c=sd(l,b.x),d=sd(m,b.y);return g=h=null,function(e){l=b.x=c(e),m=b.y=d(e),a({type:"brush",mode:"resize"})}}).each("end.brush",function(){g=b.i,h=b.j,a({type:"brush",mode:"resize"}),a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},a.x=function(b){return arguments.length?(j=b,p=Pi[!j<<1|!k],a):j},a.y=function(b){return arguments.length?(k=b,p=Pi[!j<<1|!k],a):k},a.clamp=function(b){return arguments.length?(j&&k?(n=!!b[0],o=!!b[1]):j?n=!!b:k&&(o=!!b),a):j&&k?[n,o]:j?n:k?o:null},a.extent=function(b){var c,d,e,f,i;return arguments.length?(j&&(c=b[0],d=b[1],k&&(c=c[0],d=d[0]),g=[c,d],j.invert&&(c=j(c),d=j(d)),c>d&&(i=c,c=d,d=i),(c!=l[0]||d!=l[1])&&(l=[c,d])),k&&(e=b[0],f=b[1],j&&(e=e[1],f=f[1]),h=[e,f],k.invert&&(e=k(e),f=k(f)),e>f&&(i=e,e=f,f=i),(e!=m[0]||f!=m[1])&&(m=[e,f])),a):(j&&(g?(c=g[0],d=g[1]):(c=l[0],d=l[1],j.invert&&(c=j.invert(c),d=j.invert(d)),c>d&&(i=c,c=d,d=i))),k&&(h?(e=h[0],f=h[1]):(e=m[0],f=m[1],k.invert&&(e=k.invert(e),f=k.invert(f)),e>f&&(i=e,e=f,f=i))),j&&k?[[c,e],[d,f]]:j?[c,d]:k&&[e,f])},a.clear=function(){return a.empty()||(l=[0,0],m=[0,0],g=h=null),a},a.empty=function(){return!!j&&l[0]==l[1]||!!k&&m[0]==m[1]},bg.rebind(a,i,"on")};var Oi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Pi=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Qi=hh.format=nh.timeFormat,Ri=Qi.utc,Si=Ri("%Y-%m-%dT%H:%M:%S.%LZ");Qi.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Yf:Si,Yf.parse=function(a){var b=new Date(a);return isNaN(b)?null:b},Yf.toString=Si.toString,hh.second=Na(function(a){return new ih(1e3*Math.floor(a/1e3))},function(a,b){a.setTime(a.getTime()+1e3*Math.floor(b))},function(a){return a.getSeconds()}),hh.seconds=hh.second.range,hh.seconds.utc=hh.second.utc.range,hh.minute=Na(function(a){return new ih(6e4*Math.floor(a/6e4))},function(a,b){a.setTime(a.getTime()+6e4*Math.floor(b))},function(a){return a.getMinutes()}),hh.minutes=hh.minute.range,hh.minutes.utc=hh.minute.utc.range,hh.hour=Na(function(a){var b=a.getTimezoneOffset()/60;return new ih(36e5*(Math.floor(a/36e5-b)+b))},function(a,b){a.setTime(a.getTime()+36e5*Math.floor(b))},function(a){return a.getHours()}),hh.hours=hh.hour.range,hh.hours.utc=hh.hour.utc.range,hh.month=Na(function(a){return a=hh.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()}),hh.months=hh.month.range,hh.months.utc=hh.month.utc.range;var Ti=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ui=[[hh.second,1],[hh.second,5],[hh.second,15],[hh.second,30],[hh.minute,1],[hh.minute,5],[hh.minute,15],[hh.minute,30],[hh.hour,1],[hh.hour,3],[hh.hour,6],[hh.hour,12],[hh.day,1],[hh.day,2],[hh.week,1],[hh.month,1],[hh.month,3],[hh.year,1]],Vi=Qi.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",Cb]]),Wi={range:function(a,b,c){return bg.range(Math.ceil(a/c)*c,+b,c).map($f)},floor:s,ceil:s};Ui.year=hh.year,hh.scale=function(){return Zf(bg.scale.linear(),Ui,Vi)};var Xi=Ui.map(function(a){return[a[0].utc,a[1]]}),Yi=Ri.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",Cb]]);Xi.year=hh.year.utc,hh.scale.utc=function(){return Zf(bg.scale.linear(),Xi,Yi)},bg.text=Ba(function(a){return a.responseText}),bg.json=function(a,b){return Ca(a,"application/json",_f,b)},bg.html=function(a,b){return Ca(a,"text/html",ag,b)},bg.xml=Ba(function(a){return a.responseXML}),"function"==typeof define&&define.amd?define(bg):"object"==typeof module&&module.exports&&(module.exports=bg),this.d3=bg}(),function(a,b){"function"==typeof define&&define.amd?define(["d3"],function(c){return a.Rickshaw=b(c)}):"object"==typeof exports?module.exports=b(require("d3")):a.Rickshaw=b(d3)}(this,function(a){var b={namespace:function(a,c){for(var d=a.split("."),e=b,f=1,g=d.length;g>f;f++){var h=d[f];
e[h]=e[h]||{},e=e[h]}return e},keys:function(a){var b=[];for(var c in a)b.push(c);return b},extend:function(a,b){for(var c in b)a[c]=b[c];return a},clone:function(a){return JSON.parse(JSON.stringify(a))}};return function(a){function b(a){return l.call(a)===s}function c(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function d(a){if(e(a)!==r)throw new TypeError;var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}function e(a){switch(a){case null:return m;case void 0:return n}var b=typeof a;switch(b){case"boolean":return o;case"number":return p;case"string":return q}return r}function f(a){return"undefined"==typeof a}function g(a){var b=a.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=b.length||b[0]?b:[]}function h(a,b){var c=a;return function(){var a=i([k(c,this)],arguments);return b.apply(this,a)}}function i(a,b){for(var c=a.length,d=b.length;d--;)a[c+d]=b[d];return a}function j(a,b){return a=t.call(a,0),i(a,b)}function k(a,b){if(arguments.length<2&&f(arguments[0]))return this;var c=a,d=t.call(arguments,2);return function(){var a=j(d,arguments);return c.apply(b,a)}}var l=Object.prototype.toString,m="Null",n="Undefined",o="Boolean",p="Number",q="String",r="Object",s="[object Function]",t=Array.prototype.slice,u=function(){},v=function(){function a(){}function e(){function d(){this.initialize.apply(this,arguments)}var e=null,f=[].slice.apply(arguments);if(b(f[0])&&(e=f.shift()),c(d,v.Methods),d.superclass=e,d.subclasses=[],e){a.prototype=e.prototype,d.prototype=new a;try{e.subclasses.push(d)}catch(g){}}for(var h=0,i=f.length;i>h;h++)d.addMethods(f[h]);return d.prototype.initialize||(d.prototype.initialize=u),d.prototype.constructor=d,d}function f(a){var c=this.superclass&&this.superclass.prototype,e=d(a);i&&(a.toString!=Object.prototype.toString&&e.push("toString"),a.valueOf!=Object.prototype.valueOf&&e.push("valueOf"));for(var f=0,j=e.length;j>f;f++){var l=e[f],m=a[l];if(c&&b(m)&&"$super"==g(m)[0]){var n=m;m=h(function(a){return function(){return c[a].apply(this,arguments)}}(l),n),m.valueOf=k(n.valueOf,n),m.toString=k(n.toString,n)}this.prototype[l]=m}return this}var i=function(){for(var a in{toString:1})if("toString"===a)return!1;return!0}();return{create:e,Methods:{addMethods:f}}}();a.exports?a.exports.Class=v:a.Class=v}(b),b.namespace("Rickshaw.Compat.ClassList"),b.Compat.ClassList=function(){"undefined"==typeof document||"classList"in document.createElement("a")||!function(a){"use strict";var b="classList",c="prototype",d=(a.HTMLElement||a.Element)[c],e=Object,f=String[c].trim||function(){return this.replace(/^\s+|\s+$/g,"")},g=Array[c].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},h=function(a,b){this.name=a,this.code=DOMException[a],this.message=b},i=function(a,b){if(""===b)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return g.call(a,b)},j=function(a){for(var b=f.call(a.className),c=b?b.split(/\s+/):[],d=0,e=c.length;e>d;d++)this.push(c[d]);this._updateClassName=function(){a.className=this.toString()}},k=j[c]=[],l=function(){return new j(this)};if(h[c]=Error[c],k.item=function(a){return this[a]||null},k.contains=function(a){return a+="",-1!==i(this,a)},k.add=function(a){a+="",-1===i(this,a)&&(this.push(a),this._updateClassName())},k.remove=function(a){a+="";var b=i(this,a);-1!==b&&(this.splice(b,1),this._updateClassName())},k.toggle=function(a){a+="",-1===i(this,a)?this.add(a):this.remove(a)},k.toString=function(){return this.join(" ")},e.defineProperty){var m={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(d,b,m)}catch(n){-2146823252===n.number&&(m.enumerable=!1,e.defineProperty(d,b,m))}}else e[c].__defineGetter__&&d.__defineGetter__(b,l)}(window)},("undefined"!=typeof RICKSHAW_NO_COMPAT&&!RICKSHAW_NO_COMPAT||"undefined"==typeof RICKSHAW_NO_COMPAT)&&new b.Compat.ClassList,b.namespace("Rickshaw.Graph"),b.Graph=function(c){var d=this;this.initialize=function(b){if(!b.element)throw"Rickshaw.Graph needs a reference to an element";if(1!==b.element.nodeType)throw"Rickshaw.Graph element was defined but not an HTML element";this.element=b.element,this.series=b.series,this.window={},this.updateCallbacks=[],this.configureCallbacks=[],this.defaults={interpolation:"cardinal",offset:"zero",min:void 0,max:void 0,preserve:!1,xScale:void 0,yScale:void 0,stack:!0},this._loadRenderers(),this.configure(b),this.validateSeries(b.series),this.series.active=function(){return d.series.filter(function(a){return!a.disabled})},this.setSize({width:b.width,height:b.height}),this.element.classList.add("rickshaw_graph"),this.vis=a.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height),this.discoverRange()},this._loadRenderers=function(){for(var a in b.Graph.Renderer)if(a&&b.Graph.Renderer.hasOwnProperty(a)){var c=b.Graph.Renderer[a];c&&c.prototype&&c.prototype.render&&d.registerRenderer(new c({graph:d}))}},this.validateSeries=function(a){if(!(Array.isArray(a)||a instanceof b.Series)){var c=Object.prototype.toString.apply(a);throw"series is not an array: "+c}a.forEach(function(a){if(!(a instanceof Object))throw"series element is not an object: "+a;if(!a.data)throw"series has no data: "+JSON.stringify(a);if(!Array.isArray(a.data))throw"series data is not an array: "+JSON.stringify(a.data);if(a.data.length>0){var b=a.data[0].x,c=a.data[0].y;if("number"!=typeof b||"number"!=typeof c&&null!==c)throw"x and y properties of points should be numbers instead of "+typeof b+" and "+typeof c}if(a.data.length>=3&&(a.data[2].x<a.data[1].x||a.data[1].x<a.data[0].x||a.data[a.data.length-1].x<a.data[0].x))throw"series data needs to be sorted on x values for series name: "+a.name},this)},this.dataDomain=function(){var b=this.series.map(function(a){return a.data}),c=a.min(b.map(function(a){return a[0].x})),d=a.max(b.map(function(a){return a[a.length-1].x}));return[c,d]},this.discoverRange=function(){var b=this.renderer.domain();this.x=(this.xScale||a.scale.linear()).copy().domain(b.x).range([0,this.width]),this.y=(this.yScale||a.scale.linear()).copy().domain(b.y).range([this.height,0]),this.x.magnitude=a.scale.linear().domain([b.x[0]-b.x[0],b.x[1]-b.x[0]]).range([0,this.width]),this.y.magnitude=a.scale.linear().domain([b.y[0]-b.y[0],b.y[1]-b.y[0]]).range([0,this.height])},this.render=function(){this.stackData();this.discoverRange(),this.renderer.render(),this.updateCallbacks.forEach(function(a){a()})},this.update=this.render,this.stackData=function(){var c=this.series.active().map(function(a){return a.data}).map(function(a){return a.filter(function(a){return this._slice(a)},this)},this),e=this.preserve;e||this.series.forEach(function(a){a.scale&&(e=!0)}),c=e?b.clone(c):c,this.series.active().forEach(function(a,b){if(a.scale){var d=c[b];d&&d.forEach(function(b){b.y=a.scale(b.y)})}}),this.stackData.hooks.data.forEach(function(a){c=a.f.apply(d,[c])});var f;if(!this.renderer.unstack){this._validateStackable();var g=a.layout.stack();g.offset(d.offset),f=g(c)}f=f||c,this.renderer.unstack&&f.forEach(function(a){a.forEach(function(a){a.y0=void 0===a.y0?0:a.y0})}),this.stackData.hooks.after.forEach(function(a){f=a.f.apply(d,[c])});var h=0;return this.series.forEach(function(a){a.disabled||(a.stack=f[h++])}),this.stackedData=f,f},this._validateStackable=function(){var a,b=this.series;b.forEach(function(b){if(a=a||b.data.length,a&&b.data.length!=a)throw"stacked series cannot have differing numbers of points: "+a+" vs "+b.data.length+"; see Rickshaw.Series.fill()"},this)},this.stackData.hooks={data:[],after:[]},this._slice=function(a){if(this.window.xMin||this.window.xMax){var b=!0;return this.window.xMin&&a.x<this.window.xMin&&(b=!1),this.window.xMax&&a.x>this.window.xMax&&(b=!1),b}return!0},this.onUpdate=function(a){this.updateCallbacks.push(a)},this.onConfigure=function(a){this.configureCallbacks.push(a)},this.registerRenderer=function(a){this._renderers=this._renderers||{},this._renderers[a.name]=a},this.configure=function(a){this.config=this.config||{},(a.width||a.height)&&this.setSize(a),b.keys(this.defaults).forEach(function(b){this.config[b]=b in a?a[b]:b in this?this[b]:this.defaults[b]},this),b.keys(this.config).forEach(function(a){this[a]=this.config[a]},this),"stack"in a&&(a.unstack=!a.stack);var c=a.renderer||this.renderer&&this.renderer.name||"stack";this.setRenderer(c,a),this.configureCallbacks.forEach(function(b){b(a)})},this.setRenderer=function(a,b){if("function"==typeof a)this.renderer=new a({graph:d}),this.registerRenderer(this.renderer);else{if(!this._renderers[a])throw"couldn't find renderer "+a;this.renderer=this._renderers[a]}"object"==typeof b&&this.renderer.configure(b)},this.setSize=function(a){if(a=a||{},void 0!==typeof window)var b=window.getComputedStyle(this.element,null),c=parseInt(b.getPropertyValue("width"),10),d=parseInt(b.getPropertyValue("height"),10);this.width=a.width||c||400,this.height=a.height||d||250,this.vis&&this.vis.attr("width",this.width).attr("height",this.height)},this.initialize(c)},b.namespace("Rickshaw.Fixtures.Color"),b.Fixtures.Color=function(){this.schemes={},this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse(),this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"],this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"],this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse(),this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"},this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse(),this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"],this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]},b.namespace("Rickshaw.Fixtures.RandomData"),b.Fixtures.RandomData=function(a){a=a||1;var b=200,c=Math.floor((new Date).getTime()/1e3);this.addData=function(d){var e=100*Math.random()+15+b,f=d[0].length,g=1;d.forEach(function(b){var d=20*Math.random(),h=e/25+g++ +15*(Math.cos(f*g*11/960)+2)+7*(Math.cos(f/7)+2)+1*(Math.cos(f/17)+2);b.push({x:f*a+c,y:h+d})}),b=.85*e},this.removeData=function(b){b.forEach(function(a){a.shift()}),c+=a}},b.namespace("Rickshaw.Fixtures.Time"),b.Fixtures.Time=function(){var b=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(a){return 10*parseInt(a.getUTCFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(a){return a.getUTCFullYear()}},{name:"month",seconds:2635200,formatter:function(a){return b.months[a.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(a){return b.formatDate(a)}},{name:"day",seconds:86400,formatter:function(a){return a.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(a){return b.formatTime(a)}},{name:"hour",seconds:3600,formatter:function(a){return b.formatTime(a)}},{name:"15 minute",seconds:900,formatter:function(a){return b.formatTime(a)}},{name:"minute",seconds:60,formatter:function(a){return a.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(a){return a.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(a){return a.getUTCSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(a){return a.getUTCMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(a){return a.getUTCMilliseconds()+"ms"}}],this.unit=function(a){return this.units.filter(function(b){return a==b.name}).shift()},this.formatDate=function(b){return a.time.format("%b %e")(b)},this.formatTime=function(a){return a.toUTCString().match(/(\d+:\d+):/)[1]},this.ceil=function(a,b){var c,d,e;if("month"==b.name){if(c=new Date(1e3*a),d=Date.UTC(c.getUTCFullYear(),c.getUTCMonth())/1e3,d==a)return a;e=c.getUTCFullYear();var f=c.getUTCMonth();return 11==f?(f=0,e+=1):f+=1,Date.UTC(e,f)/1e3}return"year"==b.name?(c=new Date(1e3*a),d=Date.UTC(c.getUTCFullYear(),0)/1e3,d==a?a:(e=c.getUTCFullYear()+1,Date.UTC(e,0)/1e3)):Math.ceil(a/b.seconds)*b.seconds}},b.namespace("Rickshaw.Fixtures.Time.Local"),b.Fixtures.Time.Local=function(){var b=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(a){return 10*parseInt(a.getFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(a){return a.getFullYear()}},{name:"month",seconds:2635200,formatter:function(a){return b.months[a.getMonth()]}},{name:"week",seconds:604800,formatter:function(a){return b.formatDate(a)}},{name:"day",seconds:86400,formatter:function(a){return a.getDate()}},{name:"6 hour",seconds:21600,formatter:function(a){return b.formatTime(a)}},{name:"hour",seconds:3600,formatter:function(a){return b.formatTime(a)}},{name:"15 minute",seconds:900,formatter:function(a){return b.formatTime(a)}},{name:"minute",seconds:60,formatter:function(a){return a.getMinutes()}},{name:"15 second",seconds:15,formatter:function(a){return a.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(a){return a.getSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(a){return a.getMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(a){return a.getMilliseconds()+"ms"}}],this.unit=function(a){return this.units.filter(function(b){return a==b.name}).shift()},this.formatDate=function(b){return a.time.format("%b %e")(b)},this.formatTime=function(a){return a.toString().match(/(\d+:\d+):/)[1]},this.ceil=function(a,b){var c,d,e;if("day"==b.name){var f=new Date(1e3*(a+b.seconds-1)),g=new Date(0);return g.setMilliseconds(0),g.setSeconds(0),g.setMinutes(0),g.setHours(0),g.setDate(f.getDate()),g.setMonth(f.getMonth()),g.setFullYear(f.getFullYear()),g.getTime()/1e3}if("month"==b.name){if(c=new Date(1e3*a),d=new Date(c.getFullYear(),c.getMonth()).getTime()/1e3,d==a)return a;e=c.getFullYear();var h=c.getMonth();return 11==h?(h=0,e+=1):h+=1,new Date(e,h).getTime()/1e3}return"year"==b.name?(c=new Date(1e3*a),d=new Date(c.getUTCFullYear(),0).getTime()/1e3,d==a?a:(e=c.getFullYear()+1,new Date(e,0).getTime()/1e3)):Math.ceil(a/b.seconds)*b.seconds}},b.namespace("Rickshaw.Fixtures.Number"),b.Fixtures.Number.formatKMBT=function(a){var b=Math.abs(a);return b>=1e12?a/1e12+"T":b>=1e9?a/1e9+"B":b>=1e6?a/1e6+"M":b>=1e3?a/1e3+"K":1>b&&a>0?a.toFixed(2):0===b?"":a},b.Fixtures.Number.formatBase1024KMGTP=function(a){var b=Math.abs(a);return b>=0x4000000000000?a/0x4000000000000+"P":b>=1099511627776?a/1099511627776+"T":b>=1073741824?a/1073741824+"G":b>=1048576?a/1048576+"M":b>=1024?a/1024+"K":1>b&&a>0?a.toFixed(2):0===b?"":a},b.namespace("Rickshaw.Color.Palette"),b.Color.Palette=function(c){var d=new b.Fixtures.Color;if(c=c||{},this.schemes={},this.scheme=d.schemes[c.scheme]||c.scheme||d.schemes.colorwheel,this.runningIndex=0,this.generatorIndex=0,c.interpolatedStopCount){var e,f,g=this.scheme.length-1,h=[];for(e=0;g>e;e++){h.push(this.scheme[e]);var i=a.interpolateHsl(this.scheme[e],this.scheme[e+1]);for(f=1;f<c.interpolatedStopCount;f++)h.push(i(1/c.interpolatedStopCount*f))}h.push(this.scheme[this.scheme.length-1]),this.scheme=h}this.rotateCount=this.scheme.length,this.color=function(a){return this.scheme[a]||this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"},this.interpolateColor=function(){if(Array.isArray(this.scheme)){var b;return this.generatorIndex==2*this.rotateCount-1?(b=a.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(.5),this.generatorIndex=0,this.rotateCount*=2):(b=a.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(.5),this.generatorIndex++),this.scheme.push(b),b}}},b.namespace("Rickshaw.Graph.Ajax"),b.Graph.Ajax=b.Class.create({initialize:function(a){this.dataURL=a.dataURL,this.onData=a.onData||function(a){return a},this.onComplete=a.onComplete||function(){},this.onError=a.onError||function(){},this.args=a,this.request()},request:function(){jQuery.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL),this.onError(this)},success:function(a,c){a=this.onData(a),this.args.series=this._splice({data:a,series:this.args.series}),this.graph=this.graph||new b.Graph(this.args),this.graph.render(),this.onComplete(this)},_splice:function(a){var b=a.data,c=a.series;return a.series?(c.forEach(function(a){var c=a.key||a.name;if(!c)throw"series needs a key or a name";b.forEach(function(b){var d=b.key||b.name;if(!d)throw"data needs a key or a name";if(c==d){var e=["color","name","data"];e.forEach(function(c){b[c]&&(a[c]=b[c])})}})}),c):b}}),b.namespace("Rickshaw.Graph.Annotate"),b.Graph.Annotate=function(a){this.graph=a.graph;this.elements={timeline:a.element};var c=this;this.data={},this.elements.timeline.classList.add("rickshaw_annotation_timeline"),this.add=function(a,b,d){c.data[a]=c.data[a]||{boxes:[]},c.data[a].boxes.push({content:b,end:d})},this.update=function(){b.keys(c.data).forEach(function(a){var b=c.data[a],d=c.graph.x(a);if(0>d||d>c.graph.x.range()[1])return b.element&&(b.line.classList.add("offscreen"),b.element.style.display="none"),void b.boxes.forEach(function(a){a.rangeElement&&a.rangeElement.classList.add("offscreen")});if(!b.element){var e=b.element=document.createElement("div");e.classList.add("annotation"),this.elements.timeline.appendChild(e),e.addEventListener("click",function(a){e.classList.toggle("active"),b.line.classList.toggle("active"),b.boxes.forEach(function(a){a.rangeElement&&a.rangeElement.classList.toggle("active")})},!1)}b.element.style.left=d+"px",b.element.style.display="block",b.boxes.forEach(function(a){var e=a.element;if(e||(e=a.element=document.createElement("div"),e.classList.add("content"),e.innerHTML=a.content,b.element.appendChild(e),b.line=document.createElement("div"),b.line.classList.add("annotation_line"),c.graph.element.appendChild(b.line),a.end&&(a.rangeElement=document.createElement("div"),a.rangeElement.classList.add("annotation_range"),c.graph.element.appendChild(a.rangeElement))),a.end){var f=d,g=Math.min(c.graph.x(a.end),c.graph.x.range()[1]);f>g&&(g=d,f=Math.max(c.graph.x(a.end),c.graph.x.range()[0]));var h=g-f;a.rangeElement.style.left=f+"px",a.rangeElement.style.width=h+"px",a.rangeElement.classList.remove("offscreen")}b.line.classList.remove("offscreen"),b.line.style.left=d+"px"})},this)},this.graph.onUpdate(function(){c.update()})},b.namespace("Rickshaw.Graph.Axis.Time"),b.Graph.Axis.Time=function(a){var c=this;this.graph=a.graph,this.elements=[],this.ticksTreatment=a.ticksTreatment||"plain",this.fixedTimeUnit=a.timeUnit;var d=a.timeFixture||new b.Fixtures.Time;this.appropriateTimeUnit=function(){var a,b=d.units,c=this.graph.x.domain(),e=c[1]-c[0];return b.forEach(function(b){Math.floor(e/b.seconds)>=2&&(a=a||b)}),a||d.units[d.units.length-1]},this.tickOffsets=function(){for(var a=this.graph.x.domain(),b=this.fixedTimeUnit||this.appropriateTimeUnit(),c=Math.ceil((a[1]-a[0])/b.seconds),e=a[0],f=[],g=0;c>g;g++){var h=d.ceil(e,b);e=h+b.seconds/2,f.push({value:h,unit:b})}return f},this.render=function(){this.elements.forEach(function(a){a.parentNode.removeChild(a)}),this.elements=[];var a=this.tickOffsets();a.forEach(function(a){if(!(c.graph.x(a.value)>c.graph.x.range()[1])){var b=document.createElement("div");b.style.left=c.graph.x(a.value)+"px",b.classList.add("x_tick"),b.classList.add(c.ticksTreatment);var d=document.createElement("div");d.classList.add("title"),d.innerHTML=a.unit.formatter(new Date(1e3*a.value)),b.appendChild(d),c.graph.element.appendChild(b),c.elements.push(b)}})},this.graph.onUpdate(function(){c.render()})},b.namespace("Rickshaw.Graph.Axis.X"),b.Graph.Axis.X=function(b){var c=this,d=.1;this.initialize=function(b){this.graph=b.graph,this.orientation=b.orientation||"top",this.pixelsPerTick=b.pixelsPerTick||75,b.ticks&&(this.staticTicks=b.ticks),b.tickValues&&(this.tickValues=b.tickValues),this.tickSize=b.tickSize||4,this.ticksTreatment=b.ticksTreatment||"plain",b.element?(this.element=b.element,this._discoverSize(b.element,b),this.vis=a.select(b.element).append("svg:svg").attr("height",this.height).attr("width",this.width).attr("class","rickshaw_graph x_axis_d3"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:b.width,height:b.height})):this.vis=this.graph.vis,this.graph.onUpdate(function(){c.render()})},this.setSize=function(a){if(a=a||{},this.element){this._discoverSize(this.element.parentNode,a),this.vis.attr("height",this.height).attr("width",this.width*(1+d));var b=Math.floor(this.width*d/2);this.element.style.left=-1*b+"px"}},this.render=function(){void 0!==this._renderWidth&&this.graph.width!==this._renderWidth&&this.setSize({auto:!0});var c=a.svg.axis().scale(this.graph.x).orient(this.orientation);c.tickFormat(b.tickFormat||function(a){return a}),this.tickValues&&c.tickValues(this.tickValues),this.ticks=this.staticTicks||Math.floor(this.graph.width/this.pixelsPerTick);var e,f=Math.floor(this.width*d/2)||0;if("top"==this.orientation){var g=this.height||this.graph.height;e="translate("+f+","+g+")"}else e="translate("+f+", 0)";this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["x_ticks_d3",this.ticksTreatment].join(" ")).attr("transform",e).call(c.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));var h=("bottom"==this.orientation?1:-1)*this.graph.height;this.graph.vis.append("svg:g").attr("class","x_grid_d3").call(c.ticks(this.ticks).tickSubdivide(0).tickSize(h)).selectAll("text").each(function(){this.parentNode.setAttribute("data-x-value",this.textContent)}),this._renderHeight=this.graph.height},this._discoverSize=function(a,b){if("undefined"!=typeof window){var c=window.getComputedStyle(a,null),e=parseInt(c.getPropertyValue("height"),10);if(!b.auto)var f=parseInt(c.getPropertyValue("width"),10)}this.width=(b.width||f||this.graph.width)*(1+d),this.height=b.height||e||40},this.initialize(b)},b.namespace("Rickshaw.Graph.Axis.Y"),b.Graph.Axis.Y=b.Class.create({initialize:function(b){this.graph=b.graph,this.orientation=b.orientation||"right",this.pixelsPerTick=b.pixelsPerTick||75,b.ticks&&(this.staticTicks=b.ticks),b.tickValues&&(this.tickValues=b.tickValues),this.tickSize=b.tickSize||4,this.ticksTreatment=b.ticksTreatment||"plain",this.tickFormat=b.tickFormat||function(a){return a},this.berthRate=.1,b.element?(this.element=b.element,this.vis=a.select(b.element).append("svg:svg").attr("class","rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:b.width,height:b.height})):this.vis=this.graph.vis;var c=this;this.graph.onUpdate(function(){c.render()})},setSize:function(a){if(a=a||{},this.element){if("undefined"!=typeof window){var b=window.getComputedStyle(this.element.parentNode,null),c=parseInt(b.getPropertyValue("width"),10);if(!a.auto)var d=parseInt(b.getPropertyValue("height"),10)}this.width=a.width||c||this.graph.width*this.berthRate,this.height=a.height||d||this.graph.height,this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));var e=this.height*this.berthRate;"left"==this.orientation&&(this.element.style.top=-1*e+"px")}},render:function(){void 0!==this._renderHeight&&this.graph.height!==this._renderHeight&&this.setSize({auto:!0}),this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var a=this._drawAxis(this.graph.y);this._drawGrid(a),this._renderHeight=this.graph.height},_drawAxis:function(b){var c=a.svg.axis().scale(b).orient(this.orientation);if(c.tickFormat(this.tickFormat),this.tickValues&&c.tickValues(this.tickValues),"left"==this.orientation)var d=this.height*this.berthRate,e="translate("+this.width+", "+d+")";return this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",e).call(c.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize)),c},_drawGrid:function(a){var b=("right"==this.orientation?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(a.ticks(this.ticks).tickSubdivide(0).tickSize(b)).selectAll("text").each(function(){this.parentNode.setAttribute("data-y-value",this.textContent)})}}),b.namespace("Rickshaw.Graph.Axis.Y.Scaled"),b.Graph.Axis.Y.Scaled=b.Class.create(b.Graph.Axis.Y,{initialize:function($super,a){if("undefined"==typeof a.scale)throw new Error("Scaled requires scale");this.scale=a.scale,"undefined"==typeof a.grid?this.grid=!0:this.grid=a.grid,$super(a)},_drawAxis:function($super,b){var c=this.scale.domain(),d=this.graph.renderer.domain().y,e=[Math.min.apply(Math,c),Math.max.apply(Math,c)],f=a.scale.linear().domain([0,1]).range(e),g=[f(d[0]),f(d[1])],h=a.scale.linear().domain(e).range(g),i=this.scale.copy().domain(c.map(h)).range(b.range());return $super(i)},_drawGrid:function($super,a){this.grid&&$super(a)}}),b.namespace("Rickshaw.Graph.Behavior.Series.Highlight"),b.Graph.Behavior.Series.Highlight=function(b){this.graph=b.graph,this.legend=b.legend;var c=this,d={},e=null,f=b.disabledColor||function(b){return a.interpolateRgb(b,a.rgb("#d8d8d8"))(.8).toString()};this.addHighlightEvents=function(a){a.element.addEventListener("mouseover",function(b){e||(e=a,c.legend.lines.forEach(function(b){if(a!==b)d[b.series.name]=d[b.series.name]||b.series.color,b.series.color=f(b.series.color);else if(c.graph.renderer.unstack&&(b.series.renderer?b.series.renderer.unstack:!0)){var e=c.graph.series.indexOf(b.series);b.originalIndex=e;var g=c.graph.series.splice(e,1)[0];c.graph.series.push(g)}}),c.graph.update())},!1),a.element.addEventListener("mouseout",function(b){e&&(e=null,c.legend.lines.forEach(function(b){if(a===b&&b.hasOwnProperty("originalIndex")){var e=c.graph.series.pop();c.graph.series.splice(b.originalIndex,0,e),delete b.originalIndex}d[b.series.name]&&(b.series.color=d[b.series.name])}),c.graph.update())},!1)},this.legend&&this.legend.lines.forEach(function(a){c.addHighlightEvents(a)})},b.namespace("Rickshaw.Graph.Behavior.Series.Order"),b.Graph.Behavior.Series.Order=function(a){this.graph=a.graph,this.legend=a.legend;var b=this;if("undefined"==typeof window.jQuery)throw"couldn't find jQuery at window.jQuery";if("undefined"==typeof window.jQuery.ui)throw"couldn't find jQuery UI at window.jQuery.ui";jQuery(function(){jQuery(b.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(a,c){var d=[];jQuery(b.legend.list).find("li").each(function(a,b){b.series&&d.push(b.series)});for(var e=b.graph.series.length-1;e>=0;e--)b.graph.series[e]=d.shift();b.graph.update()}}),jQuery(b.legend.list).disableSelection()}),this.graph.onUpdate(function(){var a=window.getComputedStyle(b.legend.element).height;b.legend.element.style.height=a})},b.namespace("Rickshaw.Graph.Behavior.Series.Toggle"),b.Graph.Behavior.Series.Toggle=function(a){this.graph=a.graph,this.legend=a.legend;var b=this;if(this.addAnchor=function(a){var c=document.createElement("a");c.innerHTML="&#10004;",c.classList.add("action"),a.element.insertBefore(c,a.element.firstChild),c.onclick=function(c){if(a.series.disabled)a.series.enable(),a.element.classList.remove("disabled");else{if(this.graph.series.filter(function(a){return!a.disabled}).length<=1)return;a.series.disable(),a.element.classList.add("disabled")}b.graph.update()}.bind(this);var d=a.element.getElementsByTagName("span")[0];d.onclick=function(c){var d=a.series.disabled;if(!d)for(var e=0;e<b.legend.lines.length;e++){var f=b.legend.lines[e];if(a.series===f.series);else if(!f.series.disabled){d=!0;break}}d?(a.series.enable(),a.element.classList.remove("disabled"),b.legend.lines.forEach(function(b){a.series===b.series||(b.series.disable(),b.element.classList.add("disabled"))})):b.legend.lines.forEach(function(a){a.series.enable(),a.element.classList.remove("disabled")}),b.graph.update()}},this.legend){var c=jQuery;"undefined"!=typeof c&&c(this.legend.list).sortable&&c(this.legend.list).sortable({start:function(a,b){b.item.bind("no.onclick",function(a){a.preventDefault()})},stop:function(a,b){setTimeout(function(){b.item.unbind("no.onclick")},250)}}),this.legend.lines.forEach(function(a){b.addAnchor(a)})}this._addBehavior=function(){this.graph.series.forEach(function(a){a.disable=function(){if(b.graph.series.length<=1)throw"only one series left";a.disabled=!0},a.enable=function(){a.disabled=!1}})},this._addBehavior(),this.updateBehaviour=function(){this._addBehavior()}},b.namespace("Rickshaw.Graph.HoverDetail"),b.Graph.HoverDetail=b.Class.create({initialize:function(a){var b=this.graph=a.graph;this.xFormatter=a.xFormatter||function(a){return new Date(1e3*a).toUTCString()},this.yFormatter=a.yFormatter||function(a){return null===a?a:a.toFixed(2)};var c=this.element=document.createElement("div");c.className="detail",this.visible=!0,b.element.appendChild(c),this.lastEvent=null,this._addListeners(),this.onShow=a.onShow,this.onHide=a.onHide,this.onRender=a.onRender,this.formatter=a.formatter||this.formatter},formatter:function(a,b,c,d,e,f){return a.name+":&nbsp;"+e},update:function(b){if(b=b||this.lastEvent,b&&(this.lastEvent=b,b.target.nodeName.match(/^(path|svg|rect|circle)$/))){var c,d=this.graph,e=b.offsetX||b.layerX,f=b.offsetY||b.layerY,g=0,h=[];if(this.graph.series.active().forEach(function(b){var i=this.graph.stackedData[g++];if(i.length){var j=d.x.invert(e),k=a.scale.linear().domain([i[0].x,i.slice(-1)[0].x]).range([0,i.length-1]),l=Math.round(k(j));l==i.length-1&&l--;for(var m=Math.min(l||0,i.length-1),n=l;n<i.length-1&&(i[n]&&i[n+1]);){if(i[n].x<=j&&i[n+1].x>j){m=Math.abs(j-i[n].x)<Math.abs(j-i[n+1].x)?n:n+1;break}i[n+1].x<=j?n++:n--}0>m&&(m=0);var o=i[m],p=Math.sqrt(Math.pow(Math.abs(d.x(o.x)-e),2)+Math.pow(Math.abs(d.y(o.y+o.y0)-f),2)),q=b.xFormatter||this.xFormatter,r=b.yFormatter||this.yFormatter,s={formattedXValue:q(o.x),formattedYValue:r(b.scale?b.scale.invert(o.y):o.y),series:b,value:o,distance:p,order:g,name:b.name};(!c||p<c.distance)&&(c=s),h.push(s)}},this),c){c.active=!0;var i=c.value.x,j=c.formattedXValue;this.element.innerHTML="",this.element.style.left=d.x(i)+"px",this.visible&&this.render({points:h,detail:h,mouseX:e,mouseY:f,formattedXValue:j,domainX:i})}}},hide:function(){this.visible=!1,this.element.classList.add("inactive"),"function"==typeof this.onHide&&this.onHide()},show:function(){this.visible=!0,this.element.classList.remove("inactive"),"function"==typeof this.onShow&&this.onShow()},render:function(a){var b=this.graph,c=a.points,d=c.filter(function(a){return a.active}).shift();if(null!==d.value.y){var e=d.formattedXValue,f=d.formattedYValue;this.element.innerHTML="",this.element.style.left=b.x(d.value.x)+"px";var g=document.createElement("div");g.className="x_label",g.innerHTML=e,this.element.appendChild(g);var h=document.createElement("div");h.className="item";var i=d.series,j=i.scale?i.scale.invert(d.value.y):d.value.y;h.innerHTML=this.formatter(i,d.value.x,j,e,f,d),
h.style.top=this.graph.y(d.value.y0+d.value.y)+"px",this.element.appendChild(h);var k=document.createElement("div");k.className="dot",k.style.top=h.style.top,k.style.borderColor=i.color,this.element.appendChild(k),d.active&&(h.classList.add("active"),k.classList.add("active"));var l=[g,h];l.forEach(function(a){a.classList.add("left")}),this.show();var m=this._calcLayoutError(l);if(m>0){l.forEach(function(a){a.classList.remove("left"),a.classList.add("right")});var n=this._calcLayoutError(l);n>m&&l.forEach(function(a){a.classList.remove("right"),a.classList.add("left")})}"function"==typeof this.onRender&&this.onRender(a)}},_calcLayoutError:function(a){var b=this.element.parentNode.getBoundingClientRect(),c=0;a.forEach(function(a){var d=a.getBoundingClientRect();d.width&&(d.right>b.right&&(c+=d.right-b.right),d.left<b.left&&(c+=b.left-d.left))});return c},_addListeners:function(){this.graph.element.addEventListener("mousemove",function(a){this.visible=!0,this.update(a)}.bind(this),!1),this.graph.onUpdate(function(){this.update()}.bind(this)),this.graph.element.addEventListener("mouseout",function(a){!a.relatedTarget||a.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS||this.hide()}.bind(this),!1)}}),b.namespace("Rickshaw.Graph.JSONP"),b.Graph.JSONP=b.Class.create(b.Graph.Ajax,{request:function(){jQuery.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}}),b.namespace("Rickshaw.Graph.Legend"),b.Graph.Legend=b.Class.create({className:"rickshaw_legend",initialize:function(a){this.element=a.element,this.graph=a.graph,this.naturalOrder=a.naturalOrder,this.element.classList.add(this.className),this.list=document.createElement("ul"),this.element.appendChild(this.list),this.render(),this.graph.onUpdate(function(){})},render:function(){for(var a=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.lines=[];var b=this.graph.series.map(function(a){return a});this.naturalOrder||(b=b.reverse()),b.forEach(function(b){a.addLine(b)})},addLine:function(b){var c=document.createElement("li");c.className="line",b.disabled&&(c.className+=" disabled"),b.className&&a.select(c).classed(b.className,!0);var d=document.createElement("div");d.className="swatch",d.style.backgroundColor=b.color,c.appendChild(d);var e=document.createElement("span");e.className="label",e.innerHTML=b.name,c.appendChild(e),this.list.appendChild(c),c.series=b,b.noLegend&&(c.style.display="none");var f={element:c,series:b};return this.shelving&&(this.shelving.addAnchor(f),this.shelving.updateBehaviour()),this.highlighter&&this.highlighter.addHighlightEvents(f),this.lines.push(f),c}}),b.namespace("Rickshaw.Graph.RangeSlider"),b.Graph.RangeSlider=b.Class.create({initialize:function(a){var b=(this.element=a.element,this.graph=a.graph);this.slideCallbacks=[],this.build(),b.onUpdate(function(){this.update()}.bind(this))},build:function(){var a=this.element,b=this.graph,c=jQuery,d=b.dataDomain(),e=this;c(function(){c(a).slider({range:!0,min:d[0],max:d[1],values:[d[0],d[1]],slide:function(a,c){if(!(c.values[1]<=c.values[0])){b.window.xMin=c.values[0],b.window.xMax=c.values[1],b.update();var d=b.dataDomain();d[0]==c.values[0]&&(b.window.xMin=void 0),d[1]==c.values[1]&&(b.window.xMax=void 0),e.slideCallbacks.forEach(function(a){a(b,b.window.xMin,b.window.xMax)})}}})}),c(a)[0].style.width=b.width+"px"},update:function(){var a=this.element,b=this.graph,c=jQuery,d=c(a).slider("option","values"),e=b.dataDomain();c(a).slider("option","min",e[0]),c(a).slider("option","max",e[1]),null==b.window.xMin&&(d[0]=e[0]),null==b.window.xMax&&(d[1]=e[1]),c(a).slider("option","values",d)},onSlide:function(a){this.slideCallbacks.push(a)}}),b.namespace("Rickshaw.Graph.RangeSlider.Preview"),b.Graph.RangeSlider.Preview=b.Class.create({initialize:function(b){if(!b.element)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an element";if(!b.graph&&!b.graphs)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs";this.element=b.element,this.element.style.position="relative",this.graphs=b.graph?[b.graph]:b.graphs,this.defaults={height:75,width:400,gripperColor:void 0,frameTopThickness:3,frameHandleThickness:10,frameColor:"#d4d4d4",frameOpacity:1,minimumFrameWidth:0,heightRatio:.2},this.heightRatio=b.heightRatio||this.defaults.heightRatio,this.defaults.gripperColor=a.rgb(this.defaults.frameColor).darker().toString(),this.configureCallbacks=[],this.slideCallbacks=[],this.previews=[],b.width||(this.widthFromGraph=!0),b.height||(this.heightFromGraph=!0),(this.widthFromGraph||this.heightFromGraph)&&this.graphs[0].onConfigure(function(){this.configure(b),this.render()}.bind(this)),b.width=b.width||this.graphs[0].width||this.defaults.width,b.height=b.height||this.graphs[0].height*this.heightRatio||this.defaults.height,this.configure(b),this.render()},onSlide:function(a){this.slideCallbacks.push(a)},onConfigure:function(a){this.configureCallbacks.push(a)},configure:function(a){this.config=this.config||{},this.configureCallbacks.forEach(function(b){b(a)}),b.keys(this.defaults).forEach(function(b){this.config[b]=b in a?a[b]:b in this.config?this.config[b]:this.defaults[b]},this),("width"in a||"height"in a)&&(this.widthFromGraph&&(this.config.width=this.graphs[0].width),this.heightFromGraph&&(this.config.height=this.graphs[0].height*this.heightRatio,this.previewHeight=this.config.height),this.previews.forEach(function(a){var b=this.previewHeight/this.graphs.length-2*this.config.frameTopThickness,c=this.config.width-2*this.config.frameHandleThickness;if(a.setSize({width:c,height:b}),this.svg){var d=b+2*this.config.frameHandleThickness,e=c+2*this.config.frameHandleThickness;this.svg.style("width",e+"px"),this.svg.style("height",d+"px")}},this))},render:function(){var c=this;this.svg=a.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]),this.previewHeight=this.config.height-2*this.config.frameTopThickness,this.previewWidth=this.config.width-2*this.config.frameHandleThickness,this.currentFrame=[0,this.previewWidth];var d=function(a,d){var e=b.extend({},a.config),f=c.previewHeight/c.graphs.length,g=a.renderer.name;b.extend(e,{element:this.appendChild(document.createElement("div")),height:f,width:c.previewWidth,series:a.series,renderer:g});var h=new b.Graph(e);c.previews.push(h),a.onUpdate(function(){h.render(),c.render()}),a.onConfigure(function(a){delete a.height,a.width=a.width-2*c.config.frameHandleThickness,h.configure(a),h.render()}),h.render()},e=a.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs),f="translate("+this.config.frameHandleThickness+"px, "+this.config.frameTopThickness+"px)";e.enter().append("div").classed("rickshaw_range_slider_preview_container",!0).style("-webkit-transform",f).style("-moz-transform",f).style("-ms-transform",f).style("transform",f).each(d),e.exit().remove();var g=this.graphs[0],h=a.scale.linear().domain([0,this.previewWidth]).range(g.dataDomain()),i=[g.window.xMin,g.window.xMax];this.currentFrame[0]=void 0===i[0]?0:Math.round(h.invert(i[0])),this.currentFrame[0]<0&&(this.currentFrame[0]=0),this.currentFrame[1]=void 0===i[1]?this.previewWidth:h.invert(i[1]),this.currentFrame[1]-this.currentFrame[0]<c.config.minimumFrameWidth&&(this.currentFrame[1]=(this.currentFrame[0]||0)+c.config.minimumFrameWidth),this.svg.enter().append("svg").classed("rickshaw_range_slider_preview",!0).style("height",this.config.height+"px").style("width",this.config.width+"px").style("position","absolute").style("top",0),this._renderDimming(),this._renderFrame(),this._renderGrippers(),this._renderHandles(),this._renderMiddle(),this._registerMouseEvents()},_renderDimming:function(){var a=this.svg.selectAll("path.dimming").data([null]);a.enter().append("path").attr("fill","white").attr("fill-opacity","0.7").attr("fill-rule","evenodd").classed("dimming",!0);var b="";b+=" M "+this.config.frameHandleThickness+" "+this.config.frameTopThickness,b+=" h "+this.previewWidth,b+=" v "+this.previewHeight,b+=" h "+-this.previewWidth,b+=" z ",b+=" M "+Math.max(this.currentFrame[0],this.config.frameHandleThickness)+" "+this.config.frameTopThickness,b+=" H "+Math.min(this.currentFrame[1]+2*this.config.frameHandleThickness,this.previewWidth+this.config.frameHandleThickness),b+=" v "+this.previewHeight,b+=" H "+Math.max(this.currentFrame[0],this.config.frameHandleThickness),b+=" z",a.attr("d",b)},_renderFrame:function(){var a=this.svg.selectAll("path.frame").data([null]);a.enter().append("path").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").attr("fill",this.config.frameColor).attr("fill-opacity",this.config.frameOpacity).attr("fill-rule","evenodd").classed("frame",!0);var b="";b+=" M "+this.currentFrame[0]+" 0",b+=" H "+(this.currentFrame[1]+2*this.config.frameHandleThickness),b+=" V "+this.config.height,b+=" H "+this.currentFrame[0],b+=" z",b+=" M "+(this.currentFrame[0]+this.config.frameHandleThickness)+" "+this.config.frameTopThickness,b+=" H "+(this.currentFrame[1]+this.config.frameHandleThickness),b+=" v "+this.previewHeight,b+=" H "+(this.currentFrame[0]+this.config.frameHandleThickness),b+=" z",a.attr("d",b)},_renderGrippers:function(){var a=this.svg.selectAll("path.gripper").data([null]);a.enter().append("path").attr("stroke",this.config.gripperColor).classed("gripper",!0);var b="";[.4,.6].forEach(function(a){b+=" M "+Math.round(this.currentFrame[0]+this.config.frameHandleThickness*a)+" "+Math.round(.3*this.config.height),b+=" V "+Math.round(.7*this.config.height),b+=" M "+Math.round(this.currentFrame[1]+this.config.frameHandleThickness*(1+a))+" "+Math.round(.3*this.config.height),b+=" V "+Math.round(.7*this.config.height)}.bind(this)),a.attr("d",b)},_renderHandles:function(){var a=this.svg.selectAll("rect.left_handle").data([null]);a.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("left_handle",!0),a.attr("x",this.currentFrame[0]).attr("height",this.config.height);var b=this.svg.selectAll("rect.right_handle").data([null]);b.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("right_handle",!0),b.attr("x",this.currentFrame[1]+this.config.frameHandleThickness).attr("height",this.config.height)},_renderMiddle:function(){var a=this.svg.selectAll("rect.middle_handle").data([null]);a.enter().append("rect").style("cursor","move").style("fill-opacity","0").classed("middle_handle",!0),a.attr("width",Math.max(0,this.currentFrame[1]-this.currentFrame[0])).attr("x",this.currentFrame[0]+this.config.frameHandleThickness).attr("height",this.config.height)},_registerMouseEvents:function(){function b(b,c){i.stop=j._getClientXFromEvent(a.event,i);var d=i.stop-i.start,e=j.frameBeforeDrag.slice(0),f=j.config.minimumFrameWidth;i.rigid&&(f=j.frameBeforeDrag[1]-j.frameBeforeDrag[0]),i.left&&(e[0]=Math.max(e[0]+d,0)),i.right&&(e[1]=Math.min(e[1]+d,j.previewWidth));var g=e[1]-e[0];f>=g&&(i.left&&(e[0]=e[1]-f),i.right&&(e[1]=e[0]+f),e[0]<=0&&(e[1]-=e[0],e[0]=0),e[1]>=j.previewWidth&&(e[0]-=e[1]-j.previewWidth,e[1]=j.previewWidth)),j.graphs.forEach(function(b){var c=a.scale.linear().interpolate(a.interpolateNumber).domain([0,j.previewWidth]).range(b.dataDomain()),d=[c(e[0]),c(e[1])];j.slideCallbacks.forEach(function(a){a(b,d[0],d[1])}),0===e[0]&&(d[0]=void 0),e[1]===j.previewWidth&&(d[1]=void 0),b.window.xMin=d[0],b.window.xMax=d[1],b.update()})}function c(){i.target=a.event.target,i.start=j._getClientXFromEvent(a.event,i),j.frameBeforeDrag=j.currentFrame.slice(),a.event.preventDefault?a.event.preventDefault():a.event.returnValue=!1,a.select(document).on("mousemove.rickshaw_range_slider_preview",b),a.select(document).on("mouseup.rickshaw_range_slider_preview",g),a.select(document).on("touchmove.rickshaw_range_slider_preview",b),a.select(document).on("touchend.rickshaw_range_slider_preview",g),a.select(document).on("touchcancel.rickshaw_range_slider_preview",g)}function d(a,b){i.left=!0,c()}function e(a,b){i.right=!0,c()}function f(a,b){i.left=!0,i.right=!0,i.rigid=!0,c()}function g(b,c){a.select(document).on("mousemove.rickshaw_range_slider_preview",null),a.select(document).on("mouseup.rickshaw_range_slider_preview",null),a.select(document).on("touchmove.rickshaw_range_slider_preview",null),a.select(document).on("touchend.rickshaw_range_slider_preview",null),a.select(document).on("touchcancel.rickshaw_range_slider_preview",null),delete j.frameBeforeDrag,i.left=!1,i.right=!1,i.rigid=!1}var h=a.select(this.element),i={target:null,start:null,stop:null,left:!1,right:!1,rigid:!1},j=this;h.select("rect.left_handle").on("mousedown",d),h.select("rect.right_handle").on("mousedown",e),h.select("rect.middle_handle").on("mousedown",f),h.select("rect.left_handle").on("touchstart",d),h.select("rect.right_handle").on("touchstart",e),h.select("rect.middle_handle").on("touchstart",f)},_getClientXFromEvent:function(a,b){switch(a.type){case"touchstart":case"touchmove":for(var c=a.changedTouches,d=null,e=0;e<c.length;e++)if(c[e].target===b.target){d=c[e];break}return null!==d?d.clientX:void 0;default:return a.clientX}}}),b.namespace("Rickshaw.Graph.Renderer"),b.Graph.Renderer=b.Class.create({initialize:function(a){this.graph=a.graph,this.tension=a.tension||this.tension,this.configure(a)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:.8,strokeWidth:2,unstack:!0,padding:{top:.01,right:0,bottom:.01,left:0},stroke:!1,fill:!1}},domain:function(a){var b=a||this.graph.stackedData||this.graph.stackData(),c=+(1/0),d=-(1/0),e=+(1/0),f=-(1/0);return b.forEach(function(a){a.forEach(function(a){if(null!=a.y){var b=a.y+a.y0;e>b&&(e=b),b>f&&(f=b)}}),a.length&&(a[0].x<c&&(c=a[0].x),a[a.length-1].x>d&&(d=a[a.length-1].x))}),c-=(d-c)*this.padding.left,d+=(d-c)*this.padding.right,e="auto"===this.graph.min?e:this.graph.min||0,f=void 0===this.graph.max?f:this.graph.max,("auto"===this.graph.min||0>e)&&(e-=(f-e)*this.padding.bottom),void 0===this.graph.max&&(f+=(f-e)*this.padding.top),{x:[c,d],y:[e,f]}},render:function(a){a=a||{};var b=this.graph,c=a.series||b.series,d=a.vis||b.vis;d.selectAll("*").remove();var e=c.filter(function(a){return!a.disabled}).map(function(a){return a.stack}),f=d.selectAll("path.path").data(e).enter().append("svg:path").classed("path",!0).attr("d",this.seriesPathFactory());if(this.stroke)var g=d.selectAll("path.stroke").data(e).enter().append("svg:path").classed("stroke",!0).attr("d",this.seriesStrokeFactory());var h=0;c.forEach(function(a){a.disabled||(a.path=f[0][h],this.stroke&&(a.stroke=g[0][h]),this._styleSeries(a),h++)},this)},_styleSeries:function(b){var c=this.fill?b.color:"none",d=this.stroke?b.color:"none";b.path.setAttribute("fill",c),b.path.setAttribute("stroke",d),b.path.setAttribute("stroke-width",this.strokeWidth),b.className&&a.select(b.path).classed(b.className,!0),b.className&&this.stroke&&a.select(b.stroke).classed(b.className,!0)},configure:function(a){a=a||{},b.keys(this.defaults()).forEach(function(c){return a.hasOwnProperty(c)?void("object"==typeof this.defaults()[c]?b.keys(this.defaults()[c]).forEach(function(b){this[c][b]=void 0!==a[c][b]?a[c][b]:void 0!==this[c][b]?this[c][b]:this.defaults()[c][b]},this):this[c]=void 0!==a[c]?a[c]:void 0!==this[c]?this[c]:void 0!==this.graph[c]?this.graph[c]:this.defaults()[c]):void(this[c]=this[c]||this.graph[c]||this.defaults()[c])},this)},setStrokeWidth:function(a){void 0!==a&&(this.strokeWidth=a)},setTension:function(a){void 0!==a&&(this.tension=a)}}),b.namespace("Rickshaw.Graph.Renderer.Line"),b.Graph.Renderer.Line=b.Class.create(b.Graph.Renderer,{name:"line",defaults:function($super){return b.extend($super(),{unstack:!0,fill:!1,stroke:!0})},seriesPathFactory:function(){var b=this.graph,c=a.svg.line().x(function(a){return b.x(a.x)}).y(function(a){return b.y(a.y)}).interpolate(this.graph.interpolation).tension(this.tension);return c.defined&&c.defined(function(a){return null!==a.y}),c}}),b.namespace("Rickshaw.Graph.Renderer.Stack"),b.Graph.Renderer.Stack=b.Class.create(b.Graph.Renderer,{name:"stack",defaults:function($super){return b.extend($super(),{fill:!0,stroke:!1,unstack:!1})},seriesPathFactory:function(){var b=this.graph,c=a.svg.area().x(function(a){return b.x(a.x)}).y0(function(a){return b.y(a.y0)}).y1(function(a){return b.y(a.y+a.y0)}).interpolate(this.graph.interpolation).tension(this.tension);return c.defined&&c.defined(function(a){return null!==a.y}),c}}),b.namespace("Rickshaw.Graph.Renderer.Bar"),b.Graph.Renderer.Bar=b.Class.create(b.Graph.Renderer,{name:"bar",defaults:function($super){var a=b.extend($super(),{gapSize:.05,unstack:!1});return delete a.tension,a},initialize:function($super,a){a=a||{},this.gapSize=a.gapSize||this.gapSize,$super(a)},domain:function($super){var a=$super(),b=this._frequentInterval(this.graph.stackedData.slice(-1).shift());return a.x[1]+=Number(b.magnitude),a},barWidth:function(a){var b=this._frequentInterval(a.stack),c=this.graph.x.magnitude(b.magnitude)*(1-this.gapSize);return c},render:function(a){a=a||{};var b=this.graph,c=a.series||b.series,d=a.vis||b.vis;d.selectAll("*").remove();var e=this.barWidth(c.active()[0]),f=0,g=c.filter(function(a){return!a.disabled}).length,h=this.unstack?e/g:e,i=function(a){var c=[1,0,0,a.y<0?-1:1,0,a.y<0?2*b.y.magnitude(Math.abs(a.y)):0];return"matrix("+c.join(",")+")"};c.forEach(function(a){if(!a.disabled){var c=(this.barWidth(a),d.selectAll("path").data(a.stack.filter(function(a){return null!==a.y})).enter().append("svg:rect").attr("x",function(a){return b.x(a.x)+f}).attr("y",function(a){return b.y(a.y0+Math.abs(a.y))*(a.y<0?-1:1)}).attr("width",h).attr("height",function(a){return b.y.magnitude(Math.abs(a.y))}).attr("transform",i));Array.prototype.forEach.call(c[0],function(b){b.setAttribute("fill",a.color)}),this.unstack&&(f+=h)}},this)},_frequentInterval:function(a){for(var c={},d=0;d<a.length-1;d++){var e=a[d+1].x-a[d].x;c[e]=c[e]||0,c[e]++}var f={count:0,magnitude:1};return b.keys(c).forEach(function(a){f.count<c[a]&&(f={count:c[a],magnitude:a})}),f}}),b.namespace("Rickshaw.Graph.Renderer.Area"),b.Graph.Renderer.Area=b.Class.create(b.Graph.Renderer,{name:"area",defaults:function($super){return b.extend($super(),{unstack:!1,fill:!1,stroke:!1})},seriesPathFactory:function(){var b=this.graph,c=a.svg.area().x(function(a){return b.x(a.x)}).y0(function(a){return b.y(a.y0)}).y1(function(a){return b.y(a.y+a.y0)}).interpolate(b.interpolation).tension(this.tension);return c.defined&&c.defined(function(a){return null!==a.y}),c},seriesStrokeFactory:function(){var b=this.graph,c=a.svg.line().x(function(a){return b.x(a.x)}).y(function(a){return b.y(a.y+a.y0)}).interpolate(b.interpolation).tension(this.tension);return c.defined&&c.defined(function(a){return null!==a.y}),c},render:function(a){a=a||{};var b=this.graph,c=a.series||b.series,d=a.vis||b.vis;d.selectAll("*").remove();var e=this.unstack?"append":"insert",f=c.filter(function(a){return!a.disabled}).map(function(a){return a.stack}),g=d.selectAll("path").data(f).enter()[e]("svg:g","g");g.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area"),this.stroke&&g.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line");var h=0;c.forEach(function(a){a.disabled||(a.path=g[0][h++],this._styleSeries(a))},this)},_styleSeries:function(b){b.path&&(a.select(b.path).select(".area").attr("fill",b.color),this.stroke&&a.select(b.path).select(".line").attr("fill","none").attr("stroke",b.stroke||a.interpolateRgb(b.color,"black")(.125)).attr("stroke-width",this.strokeWidth),b.className&&b.path.setAttribute("class",b.className))}}),b.namespace("Rickshaw.Graph.Renderer.ScatterPlot"),b.Graph.Renderer.ScatterPlot=b.Class.create(b.Graph.Renderer,{name:"scatterplot",defaults:function($super){return b.extend($super(),{unstack:!0,fill:!0,stroke:!1,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:4})},initialize:function($super,a){$super(a)},render:function(a){a=a||{};var b=this.graph,c=a.series||b.series,d=a.vis||b.vis,e=this.dotSize;d.selectAll("*").remove(),c.forEach(function(a){if(!a.disabled){var c=d.selectAll("path").data(a.stack.filter(function(a){return null!==a.y})).enter().append("svg:circle").attr("cx",function(a){return b.x(a.x)}).attr("cy",function(a){return b.y(a.y)}).attr("r",function(a){return"r"in a?a.r:e});a.className&&c.classed(a.className,!0),Array.prototype.forEach.call(c[0],function(b){b.setAttribute("fill",a.color)})}},this)}}),b.namespace("Rickshaw.Graph.Renderer.Multi"),b.Graph.Renderer.Multi=b.Class.create(b.Graph.Renderer,{name:"multi",initialize:function($super,a){$super(a)},defaults:function($super){return b.extend($super(),{unstack:!0,fill:!1,stroke:!0})},configure:function($super,a){a=a||{},this.config=a,$super(a)},domain:function($super){this.graph.stackData();var b=[],c=this._groups();this._stack(c),c.forEach(function(a){var c=a.series.filter(function(a){return!a.disabled}).map(function(a){return a.stack});if(c.length){var d=null;d=a.renderer&&a.renderer.domain?a.renderer.domain(c):$super(c),b.push(d)}});var d=a.min(b.map(function(a){return a.x[0]})),e=a.max(b.map(function(a){return a.x[1]})),f=a.min(b.map(function(a){return a.y[0]})),g=a.max(b.map(function(a){return a.y[1]}));return{x:[d,e],y:[f,g]}},_groups:function(){var c=this.graph,d={};c.series.forEach(function(e){if(!e.disabled){if(!d[e.renderer]){var f="http://www.w3.org/2000/svg",g=document.createElementNS(f,"g");c.vis[0][0].appendChild(g);var h=c._renderers[e.renderer],i={},j=[this.defaults(),h.defaults(),this.config,this.graph];j.forEach(function(a){b.extend(i,a)}),h.configure(i),d[e.renderer]={renderer:h,series:[],vis:a.select(g)}}d[e.renderer].series.push(e)}},this);var e=[];return Object.keys(d).forEach(function(a){var b=d[a];e.push(b)}),e},_stack:function(c){return c.forEach(function(c){var d=c.series.filter(function(a){return!a.disabled}),e=d.map(function(a){return a.stack});if(!c.renderer.unstack){var f=a.layout.stack(),g=b.clone(f(e));d.forEach(function(a,c){a._stack=b.clone(g[c])})}},this),c},render:function(){this.graph.series.forEach(function(a){if(!a.renderer)throw new Error("Each series needs a renderer for graph 'multi' renderer")}),this.graph.vis.selectAll("*").remove();var a=this._groups();a=this._stack(a),a.forEach(function(a){var b=a.series.filter(function(a){return!a.disabled});b.active=function(){return b},a.renderer.render({series:b,vis:a.vis}),b.forEach(function(a){a.stack=a._stack||a.stack||a.data})})}}),b.namespace("Rickshaw.Graph.Renderer.LinePlot"),b.Graph.Renderer.LinePlot=b.Class.create(b.Graph.Renderer,{name:"lineplot",defaults:function($super){return b.extend($super(),{unstack:!0,fill:!1,stroke:!0,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:3,strokeWidth:2})},seriesPathFactory:function(){var b=this.graph,c=a.svg.line().x(function(a){return b.x(a.x)}).y(function(a){return b.y(a.y)}).interpolate(this.graph.interpolation).tension(this.tension);return c.defined&&c.defined(function(a){return null!==a.y}),c},render:function(a){a=a||{};var b=this.graph,c=a.series||b.series,d=a.vis||b.vis,e=this.dotSize;d.selectAll("*").remove();var f=c.filter(function(a){return!a.disabled}).map(function(a){return a.stack}),g=d.selectAll("path").data(f).enter().append("svg:path").attr("d",this.seriesPathFactory()),h=0;c.forEach(function(a){a.disabled||(a.path=g[0][h++],this._styleSeries(a))},this),c.forEach(function(a){if(!a.disabled){var c=d.selectAll("x").data(a.stack.filter(function(a){return null!==a.y})).enter().append("svg:circle").attr("cx",function(a){return b.x(a.x)}).attr("cy",function(a){return b.y(a.y)}).attr("r",function(a){return"r"in a?a.r:e});Array.prototype.forEach.call(c[0],function(b){b&&(b.setAttribute("data-color",a.color),b.setAttribute("fill","white"),b.setAttribute("stroke",a.color),b.setAttribute("stroke-width",this.strokeWidth))}.bind(this))}},this)}}),b.namespace("Rickshaw.Graph.Smoother"),b.Graph.Smoother=b.Class.create({initialize:function(a){this.graph=a.graph,this.element=a.element,this.aggregationScale=1,this.build(),this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var a=this,b=jQuery;this.element&&b(function(){b(a.element).slider({min:1,max:100,slide:function(b,c){a.setScale(c.value)}})})},setScale:function(a){if(1>a)throw"scale out of range: "+a;this.aggregationScale=a,this.graph.update()},transformer:function(a){if(1==this.aggregationScale)return a;var b=[];return a.forEach(function(a){for(var c=[];a.length;){var d=0,e=0,f=a.splice(0,this.aggregationScale);f.forEach(function(a){d+=a.x/f.length,e+=a.y/f.length}),c.push({x:d,y:e})}b.push(c)}.bind(this)),b}}),b.namespace("Rickshaw.Graph.Socketio"),b.Graph.Socketio=b.Class.create(b.Graph.Ajax,{request:function(){var a=io.connect(this.dataURL),b=this;a.on("rickshaw",function(a){b.success(a)})}}),b.namespace("Rickshaw.Series"),b.Series=b.Class.create(Array,{initialize:function(a,c,d){d=d||{},this.palette=new b.Color.Palette(c),this.timeBase="undefined"==typeof d.timeBase?Math.floor((new Date).getTime()/1e3):d.timeBase;var e="undefined"==typeof d.timeInterval?1e3:d.timeInterval;this.setTimeInterval(e),a&&"object"==typeof a&&Array.isArray(a)&&a.forEach(function(a){this.addItem(a)},this)},addItem:function(a){if("undefined"==typeof a.name)throw"addItem() needs a name";a.color=a.color||this.palette.color(a.name),a.data=a.data||[],0===a.data.length&&this.length&&this.getIndex()>0?this[0].data.forEach(function(b){a.data.push({x:b.x,y:0})}):0===a.data.length&&a.data.push({x:this.timeBase-(this.timeInterval||0),y:0}),this.push(a),this.legend&&this.legend.addLine(this.itemByName(a.name))},addData:function(a,c){var d=this.getIndex();b.keys(a).forEach(function(a){this.itemByName(a)||this.addItem({name:a})},this),this.forEach(function(b){b.data.push({x:c||(d*this.timeInterval||1)+this.timeBase,y:a[b.name]||0})},this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(a){for(var b=0;b<this.length;b++)if(this[b].name==a)return this[b]},setTimeInterval:function(a){this.timeInterval=a/1e3},setTimeBase:function(a){this.timeBase=a},dump:function(){var a={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};return this.forEach(function(b){var c={color:b.color,name:b.name,data:[]};b.data.forEach(function(a){c.data.push({x:a.x,y:a.y})}),a.items.push(c)}),a},load:function(a){a.timeInterval&&(this.timeInterval=a.timeInterval),a.timeBase&&(this.timeBase=a.timeBase),a.items&&a.items.forEach(function(a){this.push(a),this.legend&&this.legend.addLine(this.itemByName(a.name))},this)}}),b.Series.zeroFill=function(a){b.Series.fill(a,0)},b.Series.fill=function(a,b){for(var c,d=0,e=a.map(function(a){return a.data});d<Math.max.apply(null,e.map(function(a){return a.length}));)c=Math.min.apply(null,e.filter(function(a){return a[d]}).map(function(a){return a[d].x})),e.forEach(function(a){a[d]&&a[d].x==c||a.splice(d,0,{x:c,y:b})}),d++},b.namespace("Rickshaw.Series.FixedDuration"),b.Series.FixedDuration=b.Class.create(b.Series,{initialize:function(a,c,d){if(d=d||{},"undefined"==typeof d.timeInterval)throw new Error("FixedDuration series requires timeInterval");if("undefined"==typeof d.maxDataPoints)throw new Error("FixedDuration series requires maxDataPoints");if(this.palette=new b.Color.Palette(c),this.timeBase="undefined"==typeof d.timeBase?Math.floor((new Date).getTime()/1e3):d.timeBase,this.setTimeInterval(d.timeInterval),this[0]&&this[0].data&&this[0].data.length?(this.currentSize=this[0].data.length,this.currentIndex=this[0].data.length):(this.currentSize=0,this.currentIndex=0),this.maxDataPoints=d.maxDataPoints,a&&"object"==typeof a&&Array.isArray(a)&&(a.forEach(function(a){this.addItem(a)},this),this.currentSize+=1,this.currentIndex+=1),this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval,"undefined"!=typeof this.maxDataPoints&&this.currentSize<this.maxDataPoints)for(var e=this.maxDataPoints-this.currentSize-1;e>1;e--)this.currentSize+=1,this.currentIndex+=1,this.forEach(function(a){a.data.unshift({x:((e-1)*this.timeInterval||1)+this.timeBase,y:0,i:e})},this)},addData:function($super,a,b){if($super(a,b),this.currentSize+=1,this.currentIndex+=1,void 0!==this.maxDataPoints)for(;this.currentSize>this.maxDataPoints;)this.dropData()},dropData:function(){this.forEach(function(a){a.data.splice(0,1)}),this.currentSize-=1},getIndex:function(){return this.currentIndex}}),b}),function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=b():"function"==typeof c.define&&c.define.amd?define(b):c[a]=b()}("li",function(){return{parse:function(a){for(var b={},c=a.split(","),d=/\brel=(?:"([^"]+)"|([^";,]+)(?:[;,]|$))/,e=/([^\s]+)/g,f=/^<(.*)>/,g=0;g<c.length;g++){var h=c[g].trim(),i=f.exec(h),j=d.exec(h);if(i&&j){var k,l=i[1],m=j[1]||j[2],n=m.match(e),o=n.length;for(k=0;o>k;k+=1)b[n[k]]=l}}return b},stringify:function(a,b){var c="";for(var d in a)c+="<"+a[d]+'>; rel="'+d+'", ';return c=c.substring(0,c.length-2)}}},this),function(){"use strict";var a={};a.parse=function(a){return"string"!=typeof a?{}:(a=a.trim().replace(/^(\?|#)/,""),a?a.trim().split("&").reduce(function(a,b){var c=b.replace(/\+/g," ").split("="),d=c[0],e=c[1];return d=decodeURIComponent(d),e=void 0===e?null:decodeURIComponent(e),a.hasOwnProperty(d)?Array.isArray(a[d])?a[d].push(e):a[d]=[a[d],e]:a[d]=e,a},{}):{})},a.stringify=function(a){return a?Object.keys(a).map(function(b){var c=a[b];return Array.isArray(c)?c.map(function(a){return encodeURIComponent(b)+"="+encodeURIComponent(a)}).join("&"):encodeURIComponent(b)+"="+encodeURIComponent(c)}).join("&"):""},"function"==typeof define&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:self.queryString=a}(),function(){"use strict";angular.module("app",["angular-filters","angular-loading-bar","angular-locker","angular-intercom","angular-rickshaw","angular-stripe","cfp.hotkeys","checklist-model","debounce","ngAnimate","restangular","satellizer","ui.bootstrap","ui.gravatar","ui.router","xeditable","dialogs.main","dialogs.default-translations","exceptionless","exceptionless.auth","exceptionless.auto-active","exceptionless.billing","exceptionless.date-filter","exceptionless.event","exceptionless.events","exceptionless.filter","exceptionless.intercom","exceptionless.loading-bar","exceptionless.notification","exceptionless.organization","exceptionless.organization-notifications","exceptionless.project","exceptionless.project-filter","exceptionless.rate-limit","exceptionless.refresh","exceptionless.release-notification","exceptionless.search-filter","exceptionless.signalr","exceptionless.stack","exceptionless.stacks","exceptionless.stat","exceptionless.state","exceptionless.ui-nav","exceptionless.ui-scroll","exceptionless.ui-shift","exceptionless.ui-toggle-class","exceptionless.user","app.account","app.admin","app.auth","app.config","app.event","app.organization","app.payment","app.project","app.stack","app.status"]).config(["$locationProvider","$stateProvider","$uiViewScrollProvider","$urlRouterProvider","dialogsProvider","gravatarServiceProvider","RestangularProvider","BASE_URL","EXCEPTIONLESS_API_KEY","$ExceptionlessClient","stripeProvider","STRIPE_PUBLISHABLE_KEY","USE_HTML5_MODE",function(a,b,c,d,e,f,g,h,i,j,k,l,m){j.config.apiKey=i,j.config.serverUrl=h,j.config.defaultTags.push("UI"),a.html5Mode({enabled:"boolean"==typeof m&&m||"true"===m,requireBase:!1}),c.useAnchorScroll(),e.setSize("md"),f.defaults={"default":"mm"},g.setBaseUrl(h+"/api/v2"),g.setFullResponse(!0),l&&k.setPublishableKey(l),b.state("app",{"abstract":!0,templateUrl:"app/app.tpl.html",controller:"App",controllerAs:"appVm",data:{requireAuthentication:!0}}),b.state("app.dashboard",{url:"/dashboard",controller:"app.Dashboard",controllerAs:"vm",templateUrl:"app/dashboard.tpl.html",onEnter:["filterService",function(a){
a.setOrganizationId(null,!0),a.setProjectId(null,!0)}]}),b.state("app.project-dashboard",{url:"/project/{projectId:[0-9a-fA-F]{24}}/dashboard",controller:"app.Dashboard",controllerAs:"vm",templateUrl:"app/dashboard.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setProjectId(a.projectId,!0)}],resolve:{project:["$stateParams","projectService",function(a,b){return b.getById(a.projectId,!0)}]}}),b.state("app.project-type-dashboard",{url:"/project/{projectId:[0-9a-fA-F]{24}}/:type/dashboard",controller:"app.Dashboard",controllerAs:"vm",templateUrl:"app/dashboard.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setProjectId(a.projectId,!0),b.setEventType(a.type,!0)}],onExit:["filterService",function(a){a.setEventType(null,!0)}],resolve:{project:["$stateParams","projectService",function(a,b){return b.getById(a.projectId,!0)}]}}),b.state("app.organization-dashboard",{url:"/organization/{organizationId:[0-9a-fA-F]{24}}/dashboard",controller:"app.Dashboard",controllerAs:"vm",templateUrl:"app/dashboard.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setOrganizationId(a.organizationId,!0),b.setEventType(null,!0)}],resolve:{project:["$stateParams","organizationService",function(a,b){return b.getById(a.organizationId,!0)}]}}),b.state("app.organization-type-dashboard",{url:"/organization/{organizationId:[0-9a-fA-F]{24}}/:type/dashboard",controller:"app.Dashboard",controllerAs:"vm",templateUrl:"app/dashboard.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setOrganizationId(a.organizationId,!0),b.setEventType(a.type,!0)}],onExit:["filterService",function(a){a.setEventType(null,!0)}],resolve:{project:["$stateParams","organizationService",function(a,b){return b.getById(a.organizationId,!0)}]}}),b.state("app.type-dashboard",{url:"/type/:type/dashboard",controller:"app.Dashboard",controllerAs:"vm",templateUrl:"app/dashboard.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setOrganizationId(null,!0),b.setProjectId(null,!0),b.setEventType(a.type,!0)}],onExit:["filterService",function(a){a.setEventType(null,!0)}]}),b.state("app.frequent",{url:"/frequent",controller:"app.Frequent",controllerAs:"vm",templateUrl:"app/frequent.tpl.html",onEnter:["filterService",function(a){a.setOrganizationId(null,!0),a.setProjectId(null,!0)}]}),b.state("app.project-frequent",{url:"/project/{projectId:[0-9a-fA-F]{24}}/frequent",controller:"app.Frequent",controllerAs:"vm",templateUrl:"app/frequent.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setProjectId(a.projectId,!0)}],resolve:{project:["$stateParams","projectService",function(a,b){return b.getById(a.projectId,!0)}]}}),b.state("app.project-type-frequent",{url:"/project/{projectId:[0-9a-fA-F]{24}}/:type/frequent",controller:"app.Frequent",controllerAs:"vm",templateUrl:"app/frequent.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setProjectId(a.projectId,!0),b.setEventType(a.type,!0)}],onExit:["filterService",function(a){a.setEventType(null,!0)}],resolve:{project:["$stateParams","projectService",function(a,b){return b.getById(a.projectId,!0)}]}}),b.state("app.organization-frequent",{url:"/organization/{organizationId:[0-9a-fA-F]{24}}/frequent",controller:"app.Frequent",controllerAs:"vm",templateUrl:"app/frequent.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setOrganizationId(a.organizationId,!0)}],resolve:{project:["$stateParams","organizationService",function(a,b){return b.getById(a.organizationId,!0)}]}}),b.state("app.organization-type-frequent",{url:"/organization/{organizationId:[0-9a-fA-F]{24}}/:type/frequent",controller:"app.Frequent",controllerAs:"vm",templateUrl:"app/frequent.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setOrganizationId(a.organizationId,!0),b.setEventType(a.type,!0)}],onExit:["filterService",function(a){a.setEventType(null,!0)}],resolve:{project:["$stateParams","organizationService",function(a,b){return b.getById(a.organizationId,!0)}]}}),b.state("app.type-frequent",{url:"/type/:type/frequent",controller:"app.Frequent",controllerAs:"vm",templateUrl:"app/frequent.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setOrganizationId(null,!0),b.setProjectId(null,!0),b.setEventType(a.type,!0)}],onExit:["filterService",function(a){a.setEventType(null,!0)}]}),b.state("app.new",{url:"/new",controller:"app.New",controllerAs:"vm",templateUrl:"app/new.tpl.html",onEnter:["filterService",function(a){a.setOrganizationId(null,!0),a.setProjectId(null,!0)}]}),b.state("app.project-new",{url:"/project/{projectId:[0-9a-fA-F]{24}}/new",controller:"app.New",controllerAs:"vm",templateUrl:"app/new.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setProjectId(a.projectId,!0)}],resolve:{project:["$stateParams","projectService",function(a,b){return b.getById(a.projectId,!0)}]}}),b.state("app.project-type-new",{url:"/project/{projectId:[0-9a-fA-F]{24}}/:type/new",controller:"app.New",controllerAs:"vm",templateUrl:"app/new.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setProjectId(a.projectId,!0),b.setEventType(a.type,!0)}],onExit:["filterService",function(a){a.setEventType(null,!0)}],resolve:{project:["$stateParams","projectService",function(a,b){return b.getById(a.projectId,!0)}]}}),b.state("app.organization-new",{url:"/organization/{organizationId:[0-9a-fA-F]{24}}/new",controller:"app.New",controllerAs:"vm",templateUrl:"app/new.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setOrganizationId(a.organizationId,!0)}],resolve:{project:["$stateParams","organizationService",function(a,b){return b.getById(a.organizationId,!0)}]}}),b.state("app.organization-type-new",{url:"/organization/{organizationId:[0-9a-fA-F]{24}}/:type/new",controller:"app.New",controllerAs:"vm",templateUrl:"app/new.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setOrganizationId(a.organizationId,!0),b.setEventType(a.type,!0)}],onExit:["filterService",function(a){a.setEventType(null,!0)}],resolve:{project:["$stateParams","organizationService",function(a,b){return b.getById(a.organizationId,!0)}]}}),b.state("app.type-new",{url:"/type/:type/new",controller:"app.New",controllerAs:"vm",templateUrl:"app/new.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setOrganizationId(null,!0),b.setProjectId(null,!0),b.setEventType(a.type,!0)}],onExit:["filterService",function(a){a.setEventType(null,!0)}]}),b.state("app.recent",{url:"/recent",controller:"app.Recent",controllerAs:"vm",templateUrl:"app/recent.tpl.html",onEnter:["filterService",function(a){a.setOrganizationId(null,!0),a.setProjectId(null,!0)}]}),b.state("app.project-recent",{url:"/project/{projectId:[0-9a-fA-F]{24}}/recent",controller:"app.Recent",controllerAs:"vm",templateUrl:"app/recent.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setProjectId(a.projectId,!0)}],resolve:{project:["$stateParams","projectService",function(a,b){return b.getById(a.projectId,!0)}]}}),b.state("app.project-type-recent",{url:"/project/{projectId:[0-9a-fA-F]{24}}/:type/recent",controller:"app.Recent",controllerAs:"vm",templateUrl:"app/recent.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setProjectId(a.projectId,!0),b.setEventType(a.type,!0)}],onExit:["filterService",function(a){a.setEventType(null,!0)}],resolve:{project:["$stateParams","projectService",function(a,b){return b.getById(a.projectId,!0)}]}}),b.state("app.organization-recent",{url:"/organization/{organizationId:[0-9a-fA-F]{24}}/recent",controller:"app.Recent",controllerAs:"vm",templateUrl:"app/recent.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setOrganizationId(a.organizationId,!0)}],resolve:{project:["$stateParams","organizationService",function(a,b){return b.getById(a.organizationId,!0)}]}}),b.state("app.organization-type-recent",{url:"/organization/{organizationId:[0-9a-fA-F]{24}}/:type/recent",controller:"app.Recent",controllerAs:"vm",templateUrl:"app/recent.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setOrganizationId(a.organizationId,!0),b.setEventType(a.type,!0)}],onExit:["filterService",function(a){a.setEventType(null,!0)}],resolve:{project:["$stateParams","organizationService",function(a,b){return b.getById(a.organizationId,!0)}]}}),b.state("app.type-recent",{url:"/type/:type/recent",controller:"app.Recent",controllerAs:"vm",templateUrl:"app/recent.tpl.html",onEnter:["$stateParams","filterService",function(a,b){b.setOrganizationId(null,!0),b.setProjectId(null,!0),b.setEventType(a.type,!0)}],onExit:["filterService",function(a){a.setEventType(null,!0)}]});var n=["authService","$location","$state","$timeout",function(a,b,c,d){return b.search().code?void 0:d(function(){a.isAuthenticated()?c.transitionTo("app.type-dashboard",{type:"error"}):c.transitionTo("auth.login")})}];b.state("loading",{url:"",template:null,onEnter:n}),b.state("loading-slash",{url:"/",template:null,onEnter:n}),b.state("otherwise",{url:"*path",templateUrl:"app/not-found.tpl.html",onEnter:["$stateParams",function(a){j.createNotFound(a.path).setProperty("$stateParams",a).submit()}]})}]).run(["$http","$rootScope","$state","authService","editableOptions","$location","rateLimitService","Restangular","stateService","USE_SSL","$window",function(a,b,c,d,e,f,g,h,i,j,k){("boolean"==typeof j&&j||"true"===j)&&"https"!==f.protocol()&&(k.location.href=f.absUrl().replace("http","https")),e.theme="bs3",h.setErrorInterceptor(function(b,d,e){function f(a){return"status"===c.current.name||0!==a.status&&503!==a.status?401===a.status?(i.save(["auth."]),c.go("auth.login"),!0):409===a.status?!0:!1:(i.save(["auth.","status"]),c.go("status",{redirect:!0}),!0)}return g.updateFromResponseHeader(b),"status"===c.current.name||0!==b.status&&503!==b.status?!f(b):(a(b.config).then(e,function(a){f(a)||d.reject(a)}),!1)}),b.$on("$stateChangeStart",function(a,b){b&&b.data&&b.data.requireAuthentication&&(d.isAuthenticated()||(a.preventDefault(),i.save(["auth."]),c.transitionTo("auth.login")))})}])}(),function(){"use strict";angular.module("exceptionless.admin",["restangular"]).factory("adminService",["Restangular",function(a){function b(b){return a.one("admin").customPOST(null,"change-plan",b)}var c={changePlan:b};return c}])}(),function(){"use strict";angular.module("exceptionless.auth",["restangular","satellizer","ui.router","exceptionless","exceptionless.state"]).factory("authService",["$auth","$ExceptionlessClient","$rootScope","$state","stateService","Restangular",function(a,b,c,d,e,f){function g(b,d){function e(){c.$emit("auth:login",{})}return a.authenticate(b,d||{}).then(e)}function h(a){return f.one("auth","cancel-reset-password").one(a).post()}function i(a){return f.one("auth","change-password").customPOST(a)}function j(a){return f.one("auth","forgot-password").one(a).get()}function k(){return a.getToken()}function l(){return a.isAuthenticated()}function m(a){return f.one("auth","check-email-address").one(a).get()}function n(d){function e(){b.config.setUserIdentity({identity:d.email,data:{InviteToken:d.invite_token}}),c.$emit("auth:login",{})}return a.login(d).then(e)}function o(f,g){function h(){return b.config.setUserIdentity(),c.$emit("auth:logout",{}),f?(e.save(["auth."]),d.go("auth.login",g)):void 0}return e.clear(),a.logout().then(h)}function p(a){return f.one("auth","reset-password").customPOST(a)}function q(b){function c(b){return a.setToken(b),b}return a.signup(b).then(c)}function r(a,b){return f.one("auth","unlink").one(a).customPOST(b)}var s={authenticate:g,cancelResetPassword:h,changePassword:i,forgotPassword:j,getToken:k,isAuthenticated:l,isEmailAddressAvailable:m,login:n,logout:o,resetPassword:p,signup:q,unlink:r};return s}])}(),function(){"use strict";angular.module("exceptionless.auto-active",[]).directive("autoActive",["$location","$timeout",function(a,b){return{restrict:"A",scope:!1,link:function(c,d,e){function f(){function b(b){var c=b+"(?=\\?|$)";return a.absUrl().match(c)}a.path()&&(angular.forEach(d.find("li"),function(a){var c=a.querySelector("a");c&&c.href&&(b(c.href)?angular.element(a).addClass("active"):angular.element(a).removeClass("active"))}),e&&e.href&&(b(e.href)?d.addClass("active"):d.removeClass("active")))}function g(){var a=b(f,100);c.$on("$destroy",function(){b.cancel(a)})}g();var h=c.$on("$locationChangeSuccess",g);c.$on("$destroy",function(){h()})}}}])}(),function(){"use strict";angular.module("exceptionless.autofocus",[]).directive("autofocus",["$timeout",function(a){return{restrict:"A",scope:!1,link:function(b,c,d){var e=a(function(){c[0].focus()});b.$on("$destroy",function(){a.cancel(e)})}}}])}(),function(){"use strict";angular.module("exceptionless.billing",["angularPayments","angular-stripe","ui.bootstrap","dialogs.main","dialogs.default-translations","app.config","exceptionless","exceptionless.admin","exceptionless.autofocus","exceptionless.dialog","exceptionless.notification","exceptionless.organization","exceptionless.promise-button","exceptionless.user","exceptionless.refresh"])}(),function(){"use strict";angular.module("exceptionless.billing").factory("billingService",["$ExceptionlessClient","dialogs","dialogService","$q",function(a,b,c,d){function e(a){return b.create("components/billing/change-plan-dialog.tpl.html","ChangePlanDialog as vm",a).result}function f(b,f){function h(){return e(f)}function i(){return a.createFeatureUsage(g+".confirmUpgradePlan.cancel").setMessage(b).setProperty("OrganizationId",f).submit(),d.reject("cancelled")}return a.createFeatureUsage(g+".confirmUpgradePlan").setMessage(b).setProperty("OrganizationId",f).submit(),c.confirm(b,"Upgrade Plan").then(h,i)}var g="exceptionless.billing.billingService",h={changePlan:e,confirmUpgradePlan:f};return h}])}(),function(){"use strict";angular.module("exceptionless.billing").controller("ChangePlanDialog",["$modalInstance","adminService","Common","$ExceptionlessClient","notificationService","organizationService","stripe","STRIPE_PUBLISHABLE_KEY","userService","data",function(a,b,c,d,e,f,g,h,i,j){function k(){d.createFeatureUsage(x+".cancel").setProperty("CurrentPlan",z.currentPlan).setProperty("CouponId",z.coupon).setProperty("IsNewCard",v()).submit(),a.dismiss("cancel")}function l(){var a=c.parseExpiry(z.card.expiry),b={number:z.card.number,cvc:z.card.cvc,exp_month:a.month,exp_year:a.year,name:z.card.name};return g.card.createToken(b)}function m(b){function c(a){return o(!1,{stripeToken:a.id,last4:a.card.last4,couponId:z.coupon}).then(f,g)}function f(b){return b.data.success?(d.createFeatureUsage(x+".save").markAsCritical().setMessage(b.data.message).setProperty("CurrentPlan",z.currentPlan).setProperty("CouponId",z.coupon).setProperty("IsNewCard",v()).submit(),a.close(z.currentPlan),void e.success("Thanks! Your billing plan has been successfully changed.")):(z.paymentMessage="An error occurred while changing plans. Message: "+b.data.message,void d.createException(new Error(b.data.message)).markAsCritical().setSource(x+".save.error").setProperty("CurrentPlan",z.currentPlan).setProperty("CouponId",z.coupon).setProperty("IsNewCard",v()).submit())}function g(a){a.error&&a.error.message?z.paymentMessage=a.error.message:z.paymentMessage="An error occurred while changing plans.",d.createException(new Error(z.paymentMessage)).markAsCritical().setSource(x+".save.error").setProperty("CurrentPlan",z.currentPlan).setProperty("CouponId",z.coupon).setProperty("IsNewCard",v()).submit()}if(b&&z.currentPlan){if(z.paymentMessage=null,"EX_FREE"===z.currentOrganization.plan_id&&"EX_FREE"===z.currentPlan.id)return void k();if(s()||"EX_FREE"===z.currentPlan.id)return o(s()).then(f,g);if(z.currentPlan.price>0&&v())try{return l().then(c,g)}catch(h){return z.paymentMessage="An error occurred while changing plans.",d.createException(h).markAsCritical().setSource(x+".save.error").setProperty("CurrentPlan",z.currentPlan).setProperty("CouponId",z.coupon).setProperty("IsNewCard",v()).submit(),null}return o(!1,{couponId:z.coupon}).then(f,g)}}function n(){return z.card.mode=t()?"existing":"new",q()}function o(a,c){return a?b.changePlan({organizationId:z.currentOrganization.id,planId:z.currentPlan.id}):f.changePlan(z.currentOrganization.id,angular.extend({},{planId:z.currentPlan.id},c))}function p(){function a(){function a(a){return z.organizations.push(a.data.plain()),z.organizations}if(j&&!z.organizations.filter(function(a){return a.id===j})[0])return f.getById(j,!1).then(a)}function b(){function a(a){return angular.forEach(a.data.plain(),function(a,b){z.organizations.push(a)}),z.organizations}return f.getAll().then(a)}function c(){z.currentOrganization=z.organizations.filter(function(a){return a.id===(z.currentOrganization.id||j)})[0],z.currentOrganization||(z.currentOrganization=z.organizations.length>0?z.organizations[0]:{}),z.card.mode=t()?"existing":"new"}function g(a){e.error("An error occurred while loading your organizations. "+y),d.createFeatureUsage(x+".getOrganizations.error").markAsCritical().setMessage(a&&a.data&&a.data.message).submit(),k()}return z.organizations=[],b().then(a).then(c,g)}function q(){function a(a){z.plans=a.data.plain();var b=z.plans.filter(function(a){return a.id===z.currentOrganization.plan_id})[0]||z.plans[0],c=z.plans.indexOf(b);return z.currentPlan=z.plans.length>c+1?z.plans[c+1]:b,z.plans}function b(a){e.error("An error occurred while loading available billing plans. "+y),d.createFeatureUsage(x+".getPlans.error").markAsCritical().setMessage(a&&a.data&&a.data.message).submit(),k()}return f.getPlans(z.currentOrganization.id).then(a,b)}function r(){function a(a){return z.user=a.data.plain(),z.card.name||(z.card.name=z.user.full_name),z.user}function b(a){e.error("An error occurred while loading your user account. "+y),d.createFeatureUsage(x+".getUser.error").markAsCritical().setMessage(a&&a.data&&a.data.message).submit(),k()}return i.getCurrentUser().then(a,b)}function s(){return i.hasAdminRole(z.user)}function t(){return!!z.currentOrganization.card_last4}function u(){return!!h}function v(){return z.card&&"new"===z.card.mode}function w(){return z.currentPlan&&0!==z.currentPlan.price}var x="exceptionless.billing.ChangePlanDialog",y="Please contact support for more information.",z=this;z.cancel=k,z.card={},z.changeOrganization=n,z.coupon=null,z.currentOrganization={},z.currentPlan={},z.getPlans=q,z.hasAdminRole=s,z.hasExistingCard=t,z.isBillingEnabled=u,z.isNewCard=v,z.isPaidPlan=w,z.organizations=[],z.paymentMessage=u()?null:"Billing is currently disabled.",z.plans=[],z.save=m,z.stripe={},d.submitFeatureUsage(x),p().then(q).then(r)}])}(),function(){"use strict";angular.module("exceptionless.date-filter",["ui.bootstrap","dialogs.main","dialogs.default-translations","exceptionless","exceptionless.date-range-parser","exceptionless.date-range-picker","exceptionless.refresh"])}(),function(){"use strict";angular.module("exceptionless.date-filter").controller("CustomDateRangeDialog",["$ExceptionlessClient","$modalInstance","data",function(a,b,c){function d(){a.submitFeatureUsage(f+".cancel"),b.dismiss("cancel")}function e(){g.range.start&&g.range.end&&(angular.isObject(g.range.start)||(g.range.start=moment(g.range.start)),angular.isObject(g.range.end)||(g.range.end=moment(g.range.end)),(0===g.range.start.diff(g.range.end,"seconds")||0===g.maxDate.diff(g.range.end,"seconds"))&&(g.range.end=g.range.end.endOf("day")),a.createFeatureUsage(f+".save").setProperty("Range",g.range).submit(),b.close(g.range))}var f="exceptionless.date-filter.CustomDateRangeDialog",g=this;g.cancel=d,g.maxDate=moment(),g.minDate=moment(new Date(2012,1,1)),g.range={start:c.start,end:c.end},g.save=e,a.submitFeatureUsage(f)}])}(),function(){"use strict";angular.module("exceptionless.date-filter").directive("dateFilter",["$interval","dateRangeParserService",function(a,b){return{restrict:"E",replace:!0,scope:!0,templateUrl:"components/date-filter/date-filter-directive.tpl.html",controller:["$interval","$scope","dialogs","filterService",function(a,c,d,e){function f(){var a=e.getTime();if("last hour"===a)return moment().subtract(1,"hours").twix(moment()).format();if("last 24 hours"===a)return moment().subtract(24,"hours").twix(moment()).format();if("last week"===a)return moment().subtract(7,"days").startOf("day").twix(moment()).format();if("last 30 days"===a)return moment().subtract(30,"days").startOf("day").twix(moment()).format();if("all"===a)return"All Time";var c=b.parse(a);return c&&c.start&&c.end?moment(c.start).twix(moment(c.end)).format():(j("last week"),moment().subtract(7,"days").startOf("day").twix(moment()).format())}function g(a){var c=e.getTime();if(c&&"Custom"===a){var d=b.parse(c);return d&&d.start&&d.end}return a===c}function h(){return"all"!==e.getTime()}function i(){function a(a){return j(a.start.format("YYYY-MM-DDTHH:mm:ss")+"-"+a.end.format("YYYY-MM-DDTHH:mm:ss")),a}var c=moment().subtract(7,"days").startOf("day"),f=moment(),g=e.getTime();if("last hour"===g)c=moment().subtract(1,"hours");else if("last 24 hours"===g)c=moment().subtract(24,"hours");else if("last week"===g||"all"===g)c=moment().subtract(7,"days").startOf("day");else if("last 30 days"===g)c=moment().subtract(30,"days").startOf("day");else{var h=b.parse(g);h&&h.start&&h.end&&(c=moment(h.start),f=moment(h.end))}return d.create("components/date-filter/custom-date-range-dialog.tpl.html","CustomDateRangeDialog as vm",{start:c,end:f}).result.then(a)}function j(a){e.setTime(a)}function k(){l.filterName=f()}var l=this,m=a(k,6e4);c.$on("$destroy",function(){a.cancel(m)}),l.hasFilter=h,l.isActive=g,l.filterName=f(),l.isDropDownOpen=!1,l.setCustomFilter=i,l.setFilter=j,l.updateFilterName=k}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.date-range-parser",[]).factory("dateRangeParserService",[function(){function a(a){if(!a)return null;for(var c,d=[];c=b.exec(a);)d.push(c[0]);return 2===d.length?{start:d[0],end:d[1]}:null}var b=/(\d{4}-\d{2}-\d{2}(?:T(?:\d{2}:\d{2}:\d{2}|\d{2}:\d{2}|\d{2}))?)/g,c={parse:a};return c}])}(),function(){"use strict";angular.module("exceptionless.date-range-picker",["exceptionless.autofocus"]).directive("dateRangePicker",["$compile","$parse",function(a){return{restrict:"E",scope:{format:"=",maxDate:"=",minDate:"=",range:"=",showDropdowns:"=",timePicker:"=",timePickerSeconds:"=",timePicker12Hour:"="},templateUrl:"components/date-range-picker/date-range-picker-directive.tpl.html",link:function(a,b){var c=a,d={endDate:c.range.end,format:c.format||"YYYY-MM-DD",maxDate:c.maxDate,minDate:c.minDate,showDropdowns:!!c.showDropdowns,startDate:c.range.start,timePicker:!!c.timePicker,timePicker12Hour:!!c.timePicker12Hour,timePickerSeconds:!!c.timePickerSeconds,timePickerIncrement:c.timePickerIncrement||1},e=a.$watch(c.range,function(a){a&&(b.data("daterangepicker").setStartDate(a.start),b.data("daterangepicker").setEndDate(a.end))});a.$on("$destroy",function(){e()}),b.daterangepicker(d,function(b,d){a.$apply(function(){c.range={start:b,end:d}})}),b.data("daterangepicker").setStartDate(c.range.start),b.data("daterangepicker").setEndDate(c.range.end)}}}])}(),function(){"use strict";angular.module("exceptionless.dialog",["ui.bootstrap","dialogs.main","dialogs.default-translations","exceptionless.autofocus"])}(),function(){"use strict";angular.module("exceptionless.dialog").factory("dialogService",["dialogs",function(a){function b(b,c){return a.create("components/dialog/confirm-dialog.tpl.html","confirmDialog as vm",{message:b,confirmButtonText:c}).result}function c(b,c){return a.create("components/dialog/confirm-dialog.tpl.html","confirmDialog as vm",{message:b,confirmButtonText:c,danger:!0}).result}var d={confirm:b,confirmDanger:c};return d}])}(),function(){"use strict";angular.module("exceptionless.dialog").controller("confirmDialog",["$modalInstance","$translate","data",function(a,b,c){function d(){a.dismiss("cancel")}function e(){a.close("confirm")}var f=this;f.confirmButtonText=angular.isDefined(c.confirmButtonText)?c.confirmButtonText:b.instant("DIALOGS_YES"),f.danger=angular.isDefined(c.danger)&&c.danger===!0,f.header=angular.isDefined(c.header)?c.header:b.instant("DIALOGS_CONFIRMATION"),f.message=angular.isDefined(c.message)?c.message:b.instant("DIALOGS_CONFIRMATION_MSG"),f.cancel=d,f.confirm=e}])}(),function(){"use strict";angular.module("exceptionless.error",[]).factory("errorService",[function(){function a(a){for(var b=[],c=a;c;)b.push(c),c=c.inner;return b}function b(a){return a&&a.data?a.data["@target"]:null}function c(a){var c=b(a);return c&&c.ExceptionType?c.ExceptionType:null}function d(a){var c=b(a);return c&&c.Method?c.Method:null}function e(a){var c=b(a);return c&&c.Message?c.Message:null}var f={getExceptions:a,getTargetInfoExceptionType:c,getTargetInfoMethod:d,getTargetInfoMessage:e};return f}])}(),function(){"use strict";angular.module("exceptionless.event",["restangular","exceptionless.filter"]).factory("eventService",["filterService","Restangular",function(a,b){function c(c){return b.all("events").getList(a.apply(c))}function d(c,d,e){return e=angular.isFunction(e)?e:function(a){return a},b.one("events",c).get(e(a.apply(d)))}function e(c,d){return b.one("stacks",c).all("events").getList(a.apply(d))}function f(a){return b.one("events",a).one("mark-critical").post()}function g(a){return b.one("events",a).one("mark-critical").remove()}function h(a){return b.one("events",a).remove()}var i={getAll:c,getById:d,getByStackId:e,markCritical:f,markNotCritical:g,remove:h};return i}])}(),function(){"use strict";angular.module("exceptionless.events",["checklist-model","ui.bootstrap","dialogs.main","dialogs.default-translations","exceptionless","exceptionless.filter","exceptionless.link","exceptionless.notification","exceptionless.pagination","exceptionless.refresh","exceptionless.summary","exceptionless.timeago"])}(),function(){"use strict";angular.module("exceptionless.events").factory("eventsActionsService",["$ExceptionlessClient","dialogService","eventService","notificationService","$q",function(a,b,c,d,e){function f(){return[h]}var g="exceptionless.events.eventsActionsService",h={name:"Delete",run:function(f){return a.createFeatureUsage(g+".delete").setProperty("count",f.length).submit(),b.confirmDanger("Are you sure you want to delete these events?","DELETE EVENTS").then(function(){function b(){d.success("Successfully deleted the events.")}function h(){a.createFeatureUsage(g+".delete.error").setProperty("count",f.length).submit(),d.error("An error occurred while deleting the events.")}var i=e.defer(),j=_.chunk(f,10).reduce(function(a,b){return a.then(c.remove(b.join(",")))},i.promise).then(b,h);return i.resolve(),j})}},i={getActions:f};return i}])}(),function(){"use strict";angular.module("exceptionless.events").directive("events",["linkService",function(a){return{bindToController:!0,restrict:"E",replace:!0,scope:{settings:"="},templateUrl:"components/events/events-directive.tpl.html",controller:["$ExceptionlessClient","$window","$state","$stateParams","eventsActionsService","linkService","filterService","notificationService","paginationService",function(a,b,c,d,e,f,g,h,i){function j(a){return a&&"PersistentEvent"===a.type?a.deleted?a.id&&s.events?s.events.filter(function(b){return b.id===a.id}).length>0:g.includedInProjectOrOrganizationFilter({organizationId:a.organization_id,projectId:a.project_id}):!1:a&&"Stack"===a.type?g.includedInProjectOrOrganizationFilter({organizationId:a.organization_id,projectId:a.project_id}):!0}function k(a){function b(a){s.events=a.data.plain();var b=f.getLinksQueryParameters(a.headers("link"));return s.previous=b.previous,s.next=b.next,s.pageSummary=i.getCurrentPageSummary(a.data,s.currentOptions.page,s.currentOptions.limit),0===s.events.length&&s.currentOptions.page&&s.currentOptions.page>1?k():s.events}return s.currentOptions=a||s.settings.options,s.settings.get(s.currentOptions).then(b)}function l(){return s.events&&s.events.length>0}function m(){return s.selectedIds.length>0}function n(d,e){a.createFeatureUsage(t+".open").setProperty("id",d).setProperty("_blank",e.ctrlKey||2===e.which).submit(),e.ctrlKey||2===e.which?b.open(c.href("app.event",{id:d},{absolute:!0}),"_blank"):c.go("app.event",{id:d}),e.preventDefault()}function o(){return a.createFeatureUsage(t+".nextPage").setProperty("next",s.next).submit(),k(s.next)}function p(){return a.createFeatureUsage(t+".previousPage").setProperty("previous",s.previous).submit(),k(s.previous)}function q(a){function b(){s.selectedIds=[]}m()?a.run(s.selectedIds).then(b):h.info(null,"Please select one or more events")}function r(){l()&&(m()?s.selectedIds=[]:s.selectedIds=s.events.map(function(a){return a.id}))}var s=this,t=s.settings.source+".events";s.actions=e.getActions(),s.canRefresh=j,s.get=k,s.hasEvents=l,s.hasSelection=m,s.open=n,s.nextPage=o,s.previousPage=p,s.save=q,s.selectedIds=[],s.showType=s.settings.summary?s.settings.showType:!g.getEventType(),s.updateSelection=r,k()}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.feature",[]).factory("featureService",[function(){function a(){return c}function b(a){c=a===!0}var c=!0,d={hasPremium:a,setPremium:b};return d}])}(),function(){"use strict";angular.module("exceptionless.filter",["angular-locker","exceptionless.objectid"])}(),function(){"use strict";angular.module("exceptionless.filter").factory("filterService",["$rootScope","filterStoreService","objectIDService",function(a,b,c){function d(a){return angular.extend({},i(),a)}function e(){var a=[];return E||a.push("fixed:false"),F||a.push("hidden:false"),A&&a.push("organization:"+A),B&&a.push("project:"+B),z&&a.push("type:"+z),C&&a.push(C),a.join(" ")}function f(){(C||E||F)&&(y(null,!1),t(null,!1),u(null,!1),h())}function g(){(A||B)&&(A=B=null,h())}function h(){var b={organization_id:A,project_id:B,type:z};a.$emit("filterChanged",angular.extend(b,i()))}function i(){var a={offset:q()},b=e();return b&&angular.extend(a,{filter:b}),G&&"all"!==G&&angular.extend(a,{time:G}),a}function j(){return C}function k(){return E===!0}function l(){return F===!0}function m(){return B}function n(){return A}function o(){return z}function p(){return G||D}function q(){return-1*(new Date).getTimezoneOffset()}function r(a){return a.organizationId||a.projectId?A||B?A===a.organizationId||B===a.projectId:!0:!1}function s(a,b){angular.equals(a,z)||(z=a,b||h())}function t(a,c){angular.equals(a,E)||(E=a===!0,b.setIncludeFixed(E),c||h())}function u(a,c){angular.equals(a,F)||(F=a===!0,b.setIncludeHidden(F),c||h())}function v(a,b){angular.equals(a,A)||a&&!c.isValid(a)||(A=a,B=null,b||h())}function w(a,b){angular.equals(a,B)||a&&!c.isValid(a)||(B=a,A=null,b||h())}function x(a,c){angular.equals(a,G)||(G=a||D,b.setTimeFilter(G),c||h())}function y(a,b){angular.equals(a,C)||(C=a,b||h())}var z,A,B,C,D="last week",E=b.getIncludeFixed(),F=b.getIncludeHidden(),G=b.getTimeFilter()||D;a.$on("OrganizationChanged",function(a,b){b.id===n()&&b.deleted&&v()}),a.$on("ProjectChanged",function(a,b){b.id===m()&&b.deleted&&w()});var H={apply:d,clearFilterAndIncludeFixedAndIncludeHidden:f,clearOrganizationAndProjectFilter:g,getEventType:o,getFilter:j,getIncludeFixed:k,getIncludeHidden:l,getProjectId:m,getOrganizationId:n,getTime:p,includedInProjectOrOrganizationFilter:r,setEventType:s,setFilter:y,setIncludeFixed:t,setIncludeHidden:u,setOrganizationId:v,setProjectId:w,setTime:x};return H}])}(),function(){"use strict";angular.module("exceptionless.filter").factory("filterStoreService",["$window","locker",function(a,b){function c(){return i.get("fixed")}function d(){return i.get("hidden")}function e(){return i.get("time")}function f(a){i.put("fixed",a)}function g(a){i.put("hidden",a)}function h(a){i.put("time",a)}var i=b.driver("local").namespace("filter"),j={getIncludeFixed:c,getIncludeHidden:d,getTimeFilter:e,setIncludeFixed:f,setIncludeHidden:g,setTimeFilter:h};return j}])}(),function(){"use strict";angular.module("exceptionless.intercom",["angular-intercom","app.config","exceptionless.objectid"]).config(["$intercomProvider","INTERCOM_APPID",function(a,b){b&&(a.appID(b),
a.asyncLoading(!0))}])}(),function(){"use strict";angular.module("exceptionless.intercom").directive("intercom",[function(){return{bindToController:!0,restrict:"E",replace:!0,templateUrl:"components/intercom/intercom-directive.tpl.html",controller:["$interval","$scope","authService","filterService","INTERCOM_APPID","$intercom","objectIDService","organizationService","projectService","userService",function(a,b,c,d,e,f,g,h,i,j){function k(){return p().then(n).then(o)}function l(){function a(){if(!u.projects||!d.getProjectId())return null;var a=u.projects.filter(function(a){return a.id===d.getProjectId()})[0];return a?u.organizations.filter(function(b){return b.id===a.organization_id})[0]:null}if(!u.organizations||0===u.organizations.length)return null;var b;return d.getOrganizationId()?b=u.organizations.filter(function(a){return a.id===d.getOrganizationId()})[0]:d.getProjectId()&&(b=a()),b?b:u.organizations[0]}function m(){if(u.user){var a={user_id:u.user.id,user_hash:u.user.hash,name:u.user.full_name,email:u.user.email_address,remote_created_at:g.create(u.user.id).timestamp},b="2.1.532".split(".");3===b.length&&(a.app_build=parseInt(b[2]));var c=l();return c&&(a.company={company_id:c.id,name:c.name,remote_created_at:g.create(c.id).timestamp,plan:c.plan_id,monthly_spend:c.billing_price,total_errors:c.total_event_count},c.subscribe_date&&(a.company.subscribe_at=moment(c.subscribe_date).unix())),a}}function n(a){function b(b){return u.organizations=b.data.plain(),a===!0&&t(),u.organizations}return h.getAll().then(b)}function o(a){function b(b){return u.projects=b.data.plain(),a===!0&&t(),u.projects}return i.getAll().then(b)}function p(a){function b(b){return u.user=b.data.plain(),a===!0&&t(),u.user}return j.getCurrentUser().then(b)}function q(){f.hide()}function r(){return f.boot(m())}function s(){return f.shutdown()}function t(a){return a===!0&&q(),f.update(m())}if(c.isAuthenticated()){var u=this,v=a(t,9e4);b.$on("$destroy",function(){a.cancel(v)}),u.getOrganizations=n,u.getProjects=o,u.getUser=p,u.hide=q,u.IntercomAppId=e,u.shutdown=s,u.updateIntercom=t,k().then(r)}}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.link",[]).factory("linkService",[function(){function a(a){return null==a?{}:li.parse(a||{})}function b(b){var c=a(b),d={};for(var e in c){var f=c[e];d[e]=queryString.parse(f.slice(f.indexOf("?")))}return d}var c={getLinks:a,getLinksQueryParameters:b};return c}])}(),function(){"use strict";angular.module("exceptionless.loading-bar",["cfp.loadingBarInterceptor"]).directive("loadingBar",["$rootScope",function(a){return{bindToController:!0,restrict:"A",link:function(b,c,d){var e=!1;a.$on("cfpLoadingBar:completed",function(){e&&(e=!1,c.addClass("loading-bar-disabled"))}),a.$on("$stateChangeStart",function(){c.removeClass("loading-bar-disabled"),e=!0})}}}])}(),function(){"use strict";angular.module("exceptionless.notification",["toaster"]).factory("notificationService",["toaster",function(a){function b(b,c){a.pop("error",b,c,5e3)}function c(b,c){a.pop("note",b,c,3e3)}function d(b,c){a.pop("success",b,c,3e3)}function e(b,c){a.pop("wait",b,c,3e3)}function f(b,c){a.pop("warning",b,c,3e3)}var g={error:b,info:c,success:d,wait:e,warning:f};return g}])}(),function(){"use strict";angular.module("exceptionless.object-dump",[])}(),function(){"use strict";angular.module("exceptionless.object-dump").directive("objectDump",["handlebarsService",function(a){return{restrict:"E",scope:{content:"=content",templateKey:"=templateKey"},link:function(b,c){if("undefined"!=typeof b.content)try{var d=b.content;("string"==typeof d||d instanceof String)&&(d=JSON.parse(b.content));var e=a.getTemplate(b.templateKey);c.html(e(d))}catch(f){c.text(b.content)}}}}])}(),function(){"use strict";angular.module("exceptionless.object-dump").factory("handlebarsService",[function(){function a(a){if(h||(d(),h=!0),a&&i.hasOwnProperty(a)||(a="__default"),j.hasOwnProperty(a))return j[a];var b=i[a],c=Handlebars.compile(b);return j[a]=c,j[a]}function b(a){return null===a?!0:"object"==typeof a||a instanceof Object?Object.keys(a).length>0?!1:!0:"[object Array]"===Object.prototype.toString.call(a)||a instanceof Array?a.length>0?!1:!0:!1}function c(a){return{value:a,type:typeof a,isString:"string"==typeof a||a instanceof String,isNumber:"number"==typeof a||a instanceof Number,isBoolean:"boolean"==typeof a||a instanceof Boolean,isArray:"[object Array]"===Object.prototype.toString.call(a)||a instanceof Array,isObject:("object"==typeof a||a instanceof Object)&&null!==a,isNull:null===a,isEmptyValue:b(a),isSimpleType:!("[object Array]"===Object.prototype.toString.call(a)||a instanceof Array||"object"==typeof a||a instanceof Object)}}function d(){f(),e()}function e(){Handlebars.registerHelper("reflect",function(a,b){return b.fn(c(a))}),Handlebars.registerHelper("properties",function(a,b){var d,e=b.fn,f="";if(b.data&&(d=Handlebars.createFrame(b.data)),a)for(var g in a){var h=c(a[g]);h.name=g,f+=e(h,{data:d})}return f}),Handlebars.registerHelper("toSpaceWords",function(a){return a?(a.match(/\d+|__/g)||(a=a.replace(/([a-z])([A-Z])/g,"$1 $2"),a=a.length>1?a.charAt(0).toUpperCase()+a.slice(1):a),new Handlebars.SafeString(Handlebars.Utils.escapeExpression(a))):""}),Handlebars.registerHelper("ifHasData",function(a,c){return b(a)?c.inverse(this):c.fn(this)})}function f(){Handlebars.registerPartial("objectDump",'{{#ifHasData this}}<table class="table table-striped table-bordered table-fixed table-key-value b-t object-dump">\r\n{{#properties this}}  <tr>\r\n    <th>{{toSpaceWords name}}</th>\r\n    <td>\r\n      {{#with value}}{{> valueDump}}{{/with}}    </td>\r\n  </tr>\r\n{{/properties}}</table>\r\n{{/ifHasData}}'),Handlebars.registerPartial("arrayDump","{{#ifHasData this}}<ul>\r\n{{#each this}}  <li>{{> valueDump}}</li>\r\n{{/each}}</ul>\r\n{{/ifHasData}}"),Handlebars.registerPartial("valueDump","{{#reflect this}}{{#if isArray}}{{#with value}}{{> arrayDump}}{{/with}}{{else}}{{#if isObject}} {{#with value}}{{> objectDump}}{{/with}}{{else}}{{#if isBoolean}}{{#if value}}True\r\n{{else}}False\r\n{{/if}}{{else}}{{#if isNull}}(Null)\r\n{{else}}{{value}}\r\n{{/if}}{{/if}}{{/if}}{{/if}}{{/reflect}}")}function g(a,b){i[a]=b}var h=!1,i={__default:"{{> valueDump}}"},j={},k={getTemplate:a,isEmpty:b,reflect:c,registerDefaults:d,registerHelpers:e,registerPartials:f,registerTemplate:g};return k}])}(),function(){"use strict";angular.module("exceptionless.objectid",[]).factory("objectIDService",[function(){function a(a){return new ObjectId(a)}function b(a){return a&&("number"==typeof a||a instanceof Number||12===a.length||24===a.length)?("string"==typeof a||a instanceof String)&&24===a.length?/^[0-9a-fA-F]{24}$/i.test(a):!0:!1}var c={create:a,isValid:b};return c}])}(),function(){"use strict";angular.module("exceptionless.organization",["restangular"]).factory("organizationService",["$cacheFactory","$rootScope","Restangular",function(a,b,c){function d(a,b){return c.one("organizations",a).one("users",b).post()}function e(a){return c.all("organizations").post({name:a})}function f(a,b){return c.one("organizations",a).customPOST(null,"change-plan",b)}function g(a,b){return void 0===b||b?q.all("organizations").getList(angular.extend({},{limit:100},a)):c.all("organizations").getList(angular.extend({},{limit:100},a))}function h(a,b){return void 0===b||b?q.one("organizations",a).get():c.one("organizations",a).get()}function i(a){return c.one("organizations","invoice").one(a).get()}function j(a,b){return c.one("organizations",a).all("invoices").getList(b||{})}function k(a){return q.one("organizations",a).all("plans").getList()}function l(a){return c.one("organizations","check-name").one(a).get()}function m(a){return c.one("organizations",a).remove()}function n(a,b){return c.one("organizations",a).one("users",b).remove()}function o(a,b){return c.one("organizations",a).patch(b)}var p=a("http:organization");b.$on("cache:clear",p.removeAll),b.$on("cache:clear-organization",p.removeAll),b.$on("auth:logout",p.removeAll),b.$on("OrganizationChanged",p.removeAll),b.$on("ProjectChanged",p.removeAll),b.$on("StackChanged",function(a,b){b.added&&p.removeAll()});var q=c.withConfig(function(a){a.setDefaultHttpFields({cache:p})}),r={addUser:d,create:e,changePlan:f,getAll:g,getById:h,getInvoice:i,getInvoices:j,getPlans:k,isNameAvailable:l,remove:m,removeUser:n,update:o};return r}])}(),function(){"use strict";angular.module("exceptionless.organization-notifications",["angular-intercom","app.config","exceptionless.billing","exceptionless.filter","exceptionless.notification","exceptionless.organization","exceptionless.project","exceptionless.refresh","exceptionless.search"]).directive("organizationNotifications",[function(){return{restrict:"E",replace:!0,scope:{organizationId:"=",ignoreFree:"=",ignoreConfigureProjects:"="},templateUrl:"components/organization-notifications/organization-notifications-directive.tpl.html",controller:["$scope","billingService","filterService","INTERCOM_APPID","$intercom","notificationService","organizationService","projectService","searchService","STRIPE_PUBLISHABLE_KEY",function(a,b,c,d,e,f,g,h,i,j){function k(){return p().then(q).then(n).then(o)}function l(){function b(){if(!G.projects||!c.getProjectId())return null;var a=G.projects.filter(function(a){return a.id===c.getProjectId()})[0];return a?a.organization_id:null}return a.organizationId||c.getOrganizationId()||b()}function m(){var b=a.organizationId||c.getOrganizationId();return b?G.projects.filter(function(a){return a.organization_id===b}):c.getProjectId()?G.projects.filter(function(a){return a.id===c.getProjectId()}):G.projects}function n(){function a(a){return G.filterUsesPremiumFeatures=a.data.uses_premium_features===!0,G.filterUsesPremiumFeatures}return G.filterUsesPremiumFeatures=!1,i.validate(c.getFilter()).then(a)}function o(){G.exceededRequestLimitOrganizations=[],G.freeOrganizations=[],G.hourlyOverageOrganizations=[],G.monthlyOverageOrganizations=[],G.projectsRequiringConfiguration=[],G.organizationsSearchingWithoutPremiumFeatures=[],G.organizationsWithNoProjects=[],G.suspendedForBillingOrganizations=[],G.suspendedForAbuseOrOverageOrNotActiveOrganizations=[],G.suspendedOrganizations=[];var b=l(),c=m();angular.forEach(G.organizations,function(d){if(!b||d.id===b){if(d.is_suspended===!0)return G.suspendedOrganizations.push(d),void("Billing"===d.suspension_code?G.suspendedForBillingOrganizations.push(d):(1!==d.billing_status||"Abuse"===d.suspension_code||"Overage"===d.suspension_code)&&G.suspendedForAbuseOrOverageOrNotActiveOrganizations.push(d));var e=c.filter(function(a){return 0===a.event_count}).length===c.length,f=G.filterUsesPremiumFeatures&&!d.has_premium_features;if(f&&!e&&G.organizationsSearchingWithoutPremiumFeatures.push(d),d.is_over_monthly_limit===!0)return void G.monthlyOverageOrganizations.push(d);if(d.is_over_hourly_limit===!0)return void G.hourlyOverageOrganizations.push(d);if(d.is_over_request_limit===!0)return void G.exceededRequestLimitOrganizations.push(d);if(0===c.length)return void G.organizationsWithNoProjects.push(d);if(!a.ignoreConfigureProjects&&e){var g=!1;if(angular.forEach(c,function(a){a.organization_id===d.id&&0===a.event_count&&(G.projectsRequiringConfiguration.push(a),g=!0)}),g)return}f||a.ignoreFree||"EX_FREE"!==d.plan_id||G.freeOrganizations.push(d)}}),G.hasNotifications=!0}function p(){function a(){function a(a){return G.organizations.push(a.data.plain()),G.organizations}var b=l();if(b&&!G.organizations.filter(function(a){return a.id===b})[0])return g.getById(b,!0).then(a)}function b(){function a(a){return G.organizations=a.data.plain(),G.organizations}return g.getAll().then(a)}return b().then(a)}function q(){function a(a){return G.projects=a.data.plain(),G.projects}return h.getAll().then(a)}function r(){return G.exceededRequestLimitOrganizations&&G.exceededRequestLimitOrganizations.length>0}function s(){return G.freeOrganizations&&G.freeOrganizations.length>0}function t(){return G.hourlyOverageOrganizations&&G.hourlyOverageOrganizations.length>0}function u(){return G.monthlyOverageOrganizations&&G.monthlyOverageOrganizations.length>0}function v(){return G.projectsRequiringConfiguration&&G.projectsRequiringConfiguration.length>0}function w(){return G.organizations&&G.organizations.length>0}function x(){return G.organizationsSearchingWithoutPremiumFeatures&&G.organizationsSearchingWithoutPremiumFeatures.length>0}function y(){return G.organizationsWithNoProjects&&G.organizationsWithNoProjects.length>0}function z(){return G.suspendedForBillingOrganizations&&G.suspendedForBillingOrganizations.length>0}function A(){return G.suspendedForAbuseOrOverageOrNotActiveOrganizations&&G.suspendedForAbuseOrOverageOrNotActiveOrganizations.length>0}function B(){return G.suspendedOrganizations&&G.suspendedOrganizations.length>0}function C(){return d}function D(){return n().then(o)}function E(a){return j?(a=a||l(),!a&&B()&&(a=G.suspendedOrganizations[0].id),!a&&u()&&(a=G.monthlyOverageOrganizations[0].id),!a&&t()&&(a=G.hourlyOverageOrganizations[0].id),!a&&s()&&(a=G.freeOrganizations[0].id),b.changePlan(a)):void f.error("Billing is currently disabled.")}function F(){e.showNewMessage()}var G=this;G.exceededRequestLimitOrganizations=[],G.freeOrganizations=[],G.get=k,G.getOrganizationNotifications=o,G.hasExceededRequestLimitOrganizations=r,G.hasFreeOrganizations=s,G.hasHourlyOverageOrganizations=t,G.hasMonthlyOverageOrganizations=u,G.hasNotifications=!1,G.hasProjectsRequiringConfiguration=v,G.hasOrganizations=w,G.hasOrganizationsSearchingWithoutPremiumFeatures=x,G.hasOrganizationsWithNoProjects=y,G.hasSuspendedForBillingOrganizations=z,G.hasSuspendedForAbuseOrOverageOrNotActiveOrganizations=A,G.hasSuspendedOrganizations=B,G.isIntercomEnabled=C,G.onFilterChanged=D,G.organizations=[],G.organizationsSearchingWithoutPremiumFeatures=[],G.organizationsWithNoProjects=[],G.hourlyOverageOrganizations=[],G.monthlyOverageOrganizations=[],G.projects=[],G.projectsRequiringConfiguration=[],G.showChangePlanDialog=E,G.showIntercom=F,G.suspendedForBillingOrganizations=[],G.suspendedForAbuseOrOverageOrNotActiveOrganizations=[],G.suspendedOrganizations=[],k()}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.pagination",[]).factory("paginationService",[function(){function a(a,b,c){b=b?parseInt(b):1,c=c?parseInt(c):100;var d=(b-1)*c+1,e=a&&a.length>0?d+a.length-1:d;return d+"-"+e}var b={getCurrentPageSummary:a};return b}])}(),function(){"use strict";angular.module("exceptionless.project",["restangular"]).factory("projectService",["$cacheFactory","$rootScope","Restangular",function(a,b,c){function d(a,b){return c.all("projects").post({organization_id:a,name:b,delete_bot_data_enabled:!0})}function e(a,b){return c.one("projects",a).one("promotedtabs",b).remove()}function f(a,b){return void 0===b||b?u.all("projects").getList(angular.extend({},{limit:100},a)):c.all("projects").getList(angular.extend({},{limit:100},a))}function g(a,b){return void 0===b||b?u.one("projects",a).get():c.one("projects",a).get()}function h(a,b,d){return void 0===d||d?u.one("organizations",a).all("projects").getList(b||{}):c.one("organizations",a).all("projects").getList(b||{})}function i(a){return u.one("projects",a).one("config").get()}function j(a,b){return u.one("users",b).one("projects",a).one("notifications").get()}function k(a){return c.one("projects","check-name").one(a).get()}function l(a,b){return c.one("projects",a).one("promotedtabs",b).post()}function m(a){return c.one("projects",a).remove()}function n(a,b){return c.one("projects",a).one("config",b).remove()}function o(a,b){return c.one("users",b).one("projects",a).one("notifications").remove()}function p(a){return c.one("projects",a).one("reset-data").get()}function q(a,b){return c.one("projects",a).patch(b)}function r(a,b,d){return c.one("projects",a).one("config",b).customPOST(d)}function s(a,b,d){return c.one("users",b).one("projects",a).one("notifications").customPOST(d)}var t=a("http:project");b.$on("cache:clear",t.removeAll),b.$on("cache:clear-project",t.removeAll),b.$on("auth:logout",t.removeAll),b.$on("OrganizationChanged",t.removeAll),b.$on("ProjectChanged",t.removeAll),b.$on("StackChanged",function(a,b){b.added&&t.removeAll()});var u=c.withConfig(function(a){a.setDefaultHttpFields({cache:t})}),v={create:d,demoteTab:e,getAll:f,getById:g,getByOrganizationId:h,getConfig:i,getNotificationSettings:j,isNameAvailable:k,promoteTab:l,remove:m,removeConfig:n,removeNotificationSettings:o,resetData:p,setConfig:r,setNotificationSettings:s,update:q};return v}])}(),function(){"use strict";angular.module("exceptionless.project-filter",["angular.filter","exceptionless.auto-active","exceptionless.organization","exceptionless.project","exceptionless.refresh","exceptionless.show-on-hover-parent"]).directive("projectFilter",[function(){return{restrict:"E",replace:!0,scope:!0,templateUrl:"components/project-filter/project-filter-directive.tpl.html",controller:["$scope","$state","$stateParams","$window","debounce","filterService","notificationService","organizationService","projectService","urlService",function(a,b,c,d,e,f,g,h,i,j){function k(){return n().then(p)}function l(){return j.buildFilterUrl({route:s(),type:c.type})}function m(){var a=f.getOrganizationId();if(a){var b=w.organizations.filter(function(b){return b.id===a})[0];if(b)return b.name}var c=f.getProjectId();if(c){var d=w.projects.filter(function(a){return a.id===c})[0];if(d)return d.name}return"All Projects"}function n(){function a(a){w.organizations=a.data.plain(),f.getOrganizationId()&&!w.organizations.filter(function(a){return a.id===f.getOrganizationId()})&&f.setOrganizationId(),w.filterName=m()}function b(){g.error("An error occurred while loading your organizations.")}return h.getAll().then(a,b)}function o(a){return j.buildFilterUrl({route:s(),organizationId:a.id,type:c.type})}function p(){function a(a){w.projects=a.data.plain(),f.getProjectId()&&!w.projects.filter(function(a){return a.id===f.getProjectId()})&&f.setProjectId(),w.filterName=m()}function b(){g.error("An error occurred while loading your projects.")}return i.getAll().then(a,b)}function q(a){return w.projects.filter(function(b){return b.organization_id===a})}function r(a){return j.buildFilterUrl({route:s(),projectId:a.id,type:c.type})}function s(){return b.current.name.endsWith("frequent")?"frequent":b.current.name.endsWith("new")?"new":b.current.name.endsWith("recent")?"recent":"dashboard"}var t=e(function(){w.filterDropDownMaxHeight=angular.element(d).height()-52},150),u=angular.element(d);u.bind("resize",t);var v=a.$watch(function(){return w.getFilterName()},function(a){w.filterName=a});a.$on("$destroy",function(a){v(),u.unbind("resize",t)});var w=this;w.filterName="Loading",w.get=k,w.getAllProjectsUrl=l,w.getFilterName=m,w.getOrganizationUrl=o,w.getProjectUrl=r,w.getProjectsByOrganizationId=q,w.organizations=[],w.projects=[],t(),k()}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.projects",["exceptionless","exceptionless.dialog","exceptionless.link","exceptionless.notification","exceptionless.pagination","exceptionless.project","exceptionless.refresh"]).directive("projects",function(){return{bindToController:!0,restrict:"E",replace:!0,scope:{settings:"="},templateUrl:"components/projects/projects-directive.tpl.html",controller:["$ExceptionlessClient","$window","$state","dialogService","linkService","notificationService","paginationService","projectService",function(a,b,c,d,e,f,g,h){function i(a,b){function c(a){p.projects=a.data.plain();var c=e.getLinksQueryParameters(a.headers("link"));return p.previous=c.previous,p.next=c.next,p.pageSummary=g.getCurrentPageSummary(a.data,p.currentOptions.page,p.currentOptions.limit),0===p.projects.length&&p.currentOptions.page&&p.currentOptions.page>1?i(null,b):p.projects}return p.currentOptions=a||p.settings.options,p.settings.get(p.currentOptions,b).then(c)}function j(){return p.projects&&p.projects.length>0}function k(d,e){a.createFeatureUsage(o+".open").setProperty("id",d).setProperty("_blank",e.ctrlKey||2===e.which).submit(),e.ctrlKey||2===e.which?b.open(c.href("app.project.manage",{id:d},{absolute:!0}),"_blank"):c.go("app.project.manage",{id:d}),e.preventDefault()}function l(){return a.createFeatureUsage(o+".nextPage").setProperty("next",p.next).submit(),i(p.next)}function m(){return a.createFeatureUsage(o+".previousPage").setProperty("previous",p.previous).submit(),i(p.previous)}function n(b){return a.createFeatureUsage(o+".remove").setProperty("project",b).submit(),d.confirmDanger("Are you sure you want to delete this project?","DELETE PROJECT").then(function(){function c(){a.createFeatureUsage(o+".remove.success").setProperty("project",b).submit(),p.projects.splice(p.projects.indexOf(b),1)}function d(){a.createFeatureUsage(o+".remove.error").setProperty("project",b).submit(),f.error("An error occurred while trying to remove the project.")}return h.remove(b.id).then(c,d)})}var o="exceptionless.projects",p=this;p.currentOptions={},p.get=i,p.hasProjects=j,p.includeOrganizationName=!p.settings.hideOrganizationName,p.nextPage=l,p.open=k,p.previousPage=m,p.projects=[],p.remove=n,a.submitFeatureUsage(o),i()}],controllerAs:"vm"}})}(),function(){"use strict";angular.module("exceptionless.promise-button",[]).directive("promiseButton",["$compile",function(a){return{restrict:"A",scope:{promiseButton:"&",promiseButtonBusyText:"@",promiseButtonBusySpinnerClass:"@"},templateUrl:"components/promise-button/promise-button-directive.tpl.html",transclude:!0,link:function(b,c,d){function e(){b.running=!1}c.attr("ng-click","start()"),c.removeAttr("promise-button"),c.find("[ng-transclude]").removeAttr("ng-transclude"),b.running=!1,b.start=function(){if(!b.running){var a=b.promiseButton();a&&a["finally"]&&(b.running=!0,a["finally"](e))}},a(c)(b)}}}])}(),function(){"use strict";angular.module("exceptionless.rate-limit",["restangular"]).run(["rateLimitService","Restangular",function(a,b){b.addResponseInterceptor(function(b,c,d,e,f,g){return a.updateFromResponseHeader(f),b})}])}(),function(){"use strict";angular.module("exceptionless.rate-limit").directive("rateLimit",[function(){return{restrict:"E",replace:!0,scope:{organizationId:"=",ignoreFree:"=",ignoreConfigureProjects:"="},templateUrl:"components/rate-limit/rate-limit-directive.tpl.html",controller:["rateLimitService",function(a){function b(){return a.rateLimitExceeded()}var c=this;c.rateLimitExceeded=b}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.rate-limit").factory("rateLimitService",[function(a){function b(){return e}function c(a){var b=parseInt(a.headers("X-RateLimit-Limit"));d=isNaN(b)?-1:b;var c=parseInt(a.headers("X-RateLimit-Remaining"));f=isNaN(c)?-1:c,e=d>0?0>=f:!1}var d=-1,e=!1,f=-1,g={rateLimitExceeded:b,updateFromResponseHeader:c};return g}])}(),function(){"use strict";angular.module("exceptionless.refresh",["debounce"]).directive("refreshOn",["$parse","$rootScope","debounce",function(a,b,c){return{restrict:"AE",link:function(d,e,f){function g(c,e,g){var h=b.$on(c,function(a,b){(!g||d.$eval(g,{data:b}))&&e(d,{data:b})});d.$on("$destroy",function(){if(h(),f.refreshStopping){var b=a(f.refreshStopping);b(d)}})}if(f.refreshAction){var h=a(f.refreshAction);f.refreshDebounce?h=c(h,f.refreshDebounce||1e3,!0):f.refreshThrottle&&(h=_.throttle(h,f.refreshThrottle||1e3)),f.refreshOn&&angular.forEach(f.refreshOn.split(" "),function(a){g(a,h,f.refreshIf)}),f.refreshAlways&&angular.forEach(f.refreshAlways.split(" "),function(a){g(a,h)})}}}}])}(),function(){"use strict";angular.module("exceptionless.release-notification",["exceptionless.refresh"]).directive("releaseNotification",[function(){return{restrict:"E",templateUrl:"components/release-notification/release-notification-directive.tpl.html",controller:["$window",function(a){function b(b){b&&b.critical&&a.location.reload()}var c=this;c.processNotification=b}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("angular-rickshaw",["debounce"]).directive("rickshaw",["$compile","$window","debounce",function(a,b,c){return{restrict:"E",scope:{options:"=options",features:"=features"},link:function(d,e){function f(a){var b=angular.copy(d.options);return b.element=a,b}var g,h=c(function(){if(d.options&&d.options.series&&d.options.series[0].data){var b=angular.element(e);b.empty();var c=a('<div class="chart-holder-small"></div>')(d);b.append(c);var h=f(c[0]);if(g=new Rickshaw.Graph(h),d.features&&d.features.hover){var i={graph:g,xFormatter:d.features.hover.xFormatter,yFormatter:d.features.hover.yFormatter,formatter:d.features.hover.formatter,onRender:d.features.hover.onRender},j=d.features.hover.render?Rickshaw.Class.create(Rickshaw.Graph.HoverDetail,{render:d.features.hover.render}):Rickshaw.Graph.HoverDetail;new j(i)}if(d.features&&d.features.palette)for(var k=new Rickshaw.Color.Palette({scheme:d.features.palette}),l=0;l<h.series.length;l++)h.series[l].color=k.color();if(d.features&&d.features.range){new Rickshaw.Graph.RangeSelector({graph:g,selectionCallback:d.features.range.onSelection})}if(g.render(),d.features&&d.features.xAxis){var m={graph:g};if(d.features.xAxis.timeUnit){var n=new Rickshaw.Fixtures.Time;m.timeUnit=n.unit(d.features.xAxis.timeUnit)}d.features.xAxis.ticksTreatment&&(m.ticksTreatment=d.features.xAxis.ticksTreatment);var o=new Rickshaw.Graph.Axis.Time(m);o.render()}if(d.features&&d.features.yAxis){var p={graph:g};d.features.yAxis.ticks&&(p.ticks=d.features.yAxis.ticks),d.features.yAxis.tickFormat&&(p.tickFormat=Rickshaw.Fixtures.Number[d.features.yAxis.tickFormat]),d.features.yAxis.ticksTreatment&&(p.ticksTreatment=d.features.yAxis.ticksTreatment);var q=new Rickshaw.Graph.Axis.Y(p);q.render()}if(d.features&&d.features.legend){var r=a("<div></div>")(d);b.append(r);var s=new Rickshaw.Graph.Legend({graph:g,element:r[0]});if(d.features.legend.toggle){new Rickshaw.Graph.Behavior.Series.Toggle({graph:g,legend:s})}if(d.features.legend.highlight){new Rickshaw.Graph.Behavior.Series.Highlight({graph:g,legend:s})}}}},150),i=d.$watch(function(){return d.options.series[0].data},function(a,b){angular.equals(a,b)||h()}),j=angular.element(b);j.bind("resize",h),d.$on("$destroy",function(a){i(),j.unbind("resize",h)})}}}])}(),function(){"use strict";Rickshaw.namespace("Rickshaw.Graph.RangeSelector"),Rickshaw.Graph.RangeSelector=Rickshaw.Class.create({initialize:function(a){var b=(this.element=a.element,this.graph=a.graph);b._selectionCallback=a.selectionCallback;var c=(this.position={},this.selectionBox=$('<div class="rickshaw_range_selector"></div>')),d=$('<div class="rickshaw_range_selector_loader"></div>');c.insertBefore(b.element.firstChild),d.insertBefore(b.element.firstChild),this._addListeners(),b.onUpdate(function(){this.update()}.bind(this))},_addListeners:function(){var a=this.graph,b=this.position,c=this.selectionBox,d=!1,e=function(e){a.element.addEventListener("mousemove",function(a){if(d!==!0)return!1;a.stopPropagation();var f;b.x=a.layerX,f=Math.max(b.x,e)-Math.min(b.x,e),b.minX=Math.min(b.x,e),b.maxX=b.minX+f,c.css({transition:"none",opacity:"1",width:f,height:"100%",left:b.minX,top:"0"})},!1)};a.element.addEventListener("mousedown",function(a){a.stopPropagation();var b=this.startPointX=a.layerX;c.css({left:a.layerX,height:"100%",width:0}),d=!0,e(b)},!0),document.body.addEventListener("keyup",function(a){d&&d!==!1&&(a.stopPropagation(),27===a.keyCode&&(d=!1,c.css({transition:"opacity 0.2s ease-out",opacity:"0",width:0,height:0})))},!0),document.body.addEventListener("mouseup",function(e){d&&d!==!1&&(d=!1,b.coordMinX=Math.round(a.x.invert(b.minX)),b.coordMaxX=Math.round(a.x.invert(b.maxX)),c.css({transition:"opacity 0.2s ease-out",width:0,height:0,opacity:"0"}),!a._selectionCallback||isNaN(b.coordMinX)||isNaN(b.coordMaxX)||this.startPointX===e.layerX||b.coordMinX===b.coordMaxX||0!==e.button||a._selectionCallback(b),this.startPointX=0)},!1)},update:function(){var a=this.graph,b=this.position;null===a.window.xMin&&(b.coordMinX=a.dataDomain()[0]),null===a.window.xMax&&(b.coordMaxX=a.dataDomain()[1])}})}(),function(){"use strict";angular.module("exceptionless.search",["restangular"]).factory("searchService",["$cacheFactory","Restangular",function(a,b){function c(a){return e.one("search","validate").get({query:a||""})}var d=a("http:search"),e=b.withConfig(function(a){a.setDefaultHttpFields({cache:d})}),f={validate:c};return f}])}(),function(){"use strict";angular.module("exceptionless.search-filter",["ngMessages","exceptionless.autofocus","exceptionless.refresh","exceptionless.validators"]).directive("searchFilter",function(){return{restrict:"E",replace:!0,scope:!0,templateUrl:"components/search-filter/search-filter-directive.tpl.html",controller:["filterService",function(a){function b(){a.clearFilterAndIncludeFixedAndIncludeHidden(),h.isDropDownOpen=!h.isDropDownOpen}function c(){return a.getFilter()||a.getIncludeFixed()||a.getIncludeHidden()}function d(b){a.setFilter(b)}function e(b){a.setIncludeFixed(b)}function f(b){a.setIncludeHidden(b)}function g(){h.filter=a.getFilter(),h.includeFixed=a.getIncludeFixed(),h.includeHidden=a.getIncludeHidden()}var h=this;h.clearFilter=b,h.filter=a.getFilter(),h.hasFilter=c,h.isDropDownOpen=!1,h.includeFixed=a.getIncludeFixed(),h.includeHidden=a.getIncludeHidden(),h.searchFilterForm={},h.setFilter=d,h.setIncludeFixed=e,h.setIncludeHidden=f,h.updateFilter=g}],controllerAs:"vm"}})}(),function(){"use strict";angular.module("exceptionless.show-on-hover-parent",[]).directive("showOnHoverParent",[function(){return{restrict:"A",link:function(a,b){b.parent().bind("mouseenter",function(){b.show()}),b.parent().bind("mouseleave",function(){b.hide()}),b.hide()}}}])}(),function(){"use strict";angular.module("exceptionless.signalr",["SignalR","app.config","exceptionless","exceptionless.auth"]).factory("signalRService",["$ExceptionlessClient","$rootScope","$timeout","authService","BASE_URL","Hub",function(a,b,c,d,e,f){function g(){h(1)}function h(a){(j||k)&&i(),k=c(function(){j=new f("messages",{rootPath:e+"/api/v2/push",listeners:{releaseNotification:function(a){b.$emit("notification:release",a)},systemNotification:function(a){b.$emit("notification:system",a)},entityChanged:function(a){a.added=0===a.change_type,a.updated=1===a.change_type,a.deleted=2===a.change_type,b.$emit(a.type+"Changed",a)},planOverage:function(a){b.$emit("planOverage",a)},planChanged:function(a){b.$emit("planChanged",a)},userMembershipChanged:function(a){a&&a.organization_id&&(b.$emit("OrganizationChanged",a),b.$emit("ProjectChanged",a))}},queryParams:{access_token:d.getToken()},stateChanged:function(a){a.newState===$.signalR.connectionState.disconnected&&d.isAuthenticated()&&(i(),g())}})},a||1e3)}function i(){j&&(j.disconnect(),j=null),k&&(c.cancel(k),k=null)}var j,k,l={start:g,startDelayed:h,stop:i};return l}])}(),function(){"use strict";angular.module("exceptionless.simple-error",[]).factory("simpleErrorService",[function(){function a(a){for(var b=[],c=a;c;)b.push(c),c=c.inner;return b}var b={getExceptions:a};return b}])}(),function(){"use strict";angular.module("exceptionless.simple-stack-trace",["ngSanitize","exceptionless","exceptionless.simple-error"]).directive("simpleStackTrace",["$ExceptionlessClient","$sanitize","simpleErrorService",function(a,b,c){function d(a){for(var b="",c=0;c<a.length;c++){var d=a[c].stack_trace;d&&(b+='<div class="stack-frame">'+g(d.replace(" ","")),c<a.length-1&&(b+="<div>--- End of inner exception stack trace ---</div>"),b+="</div>")}return b}function e(a){return f(a)+d(a.reverse())}function f(a){for(var b="",c=0;c<a.length;c++){b+='<span class="ex-header">',c>0&&(b+=" ---> ");var d=!!a[c].type;d&&(b+='<span class="ex-type">'+g(a[c].type)+"</span>: "),a[c].message&&(b+='<span class="ex-message">'+g(a[c].message)+"</span>"),d&&(b+="</span>")}return b}function g(c){try{return b(c.replace("<","&lt;"))}catch(d){a.createException(d).addTags("sanitize").submit()}return c}return{bindToController:!0,restrict:"E",replace:!0,scope:{exception:"="},template:'<pre class="stack-trace" bind-html-unsafe="vm.stackTrace"></pre>',
controller:[function(){var a=this;a.stackTrace=e(c.getExceptions(a.exception))}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.stack",["restangular","exceptionless.filter"]).factory("stackService",["filterService","Restangular",function(a,b){function c(a,c){return b.one("stacks",a).one("add-link").customPOST(c)}function d(a){return b.one("stacks",a).one("notifications").remove()}function e(a){return b.one("stacks",a).one("notifications").post()}function f(c){return b.all("stacks").getList(a.apply(c))}function g(a){return b.one("stacks",a).get()}function h(c){return b.one("stacks").all("frequent").getList(a.apply(c))}function i(c){return b.one("stacks").all("new").getList(a.apply(c))}function j(a){return b.one("stacks",a).one("mark-critical").post()}function k(a){return b.one("stacks",a).one("mark-critical").remove()}function l(a){return b.one("stacks",a).one("mark-fixed").post()}function m(a){return b.one("stacks",a).one("mark-fixed").remove()}function n(a){return b.one("stacks",a).one("mark-hidden").post()}function o(a){return b.one("stacks",a).one("mark-hidden").remove()}function p(a){return b.one("stacks",a).one("promote").post()}function q(a){return b.one("stacks",a).remove()}function r(a,c){return b.one("stacks",a).one("remove-link").customPOST(c)}var s={addLink:c,disableNotifications:d,enableNotifications:e,getAll:f,getById:g,getFrequent:h,getNew:i,markCritical:j,markNotCritical:k,markFixed:l,markNotFixed:m,markHidden:n,markNotHidden:o,promote:p,remove:q,removeLink:r};return s}])}(),function(){"use strict";angular.module("exceptionless.stack-trace",["ngSanitize","exceptionless","exceptionless.error"]).directive("stackTrace",["$ExceptionlessClient","$sanitize","errorService",function(a,b,c){function d(a){var b="",c=[];return a.type_namespace&&c.push(a.type_namespace),a.type&&c.push(a.type),b+=c.join(".").replace("+","."),a.generic_arguments&&a.generic_arguments.length>0&&(b+="["+a.generic_arguments.join(",")+"]"),a.name&&(b+=" "+a.name),b}function e(a){for(var b="(",c=0;c<(a||[]).length;c++)c>0&&(b+=", "),b+=d(a[c]);return b+")"}function f(a){if(!a)return"<null>\r\n";var b=[];a.declaring_namespace&&b.push(a.declaring_namespace),a.declaring_type&&b.push(a.declaring_type),b.push(a.name||"<anonymous>");var c="at "+b.join(".").replace("+",".");return a.generic_arguments&&a.generic_arguments.length>0&&(c+="["+a.generic_arguments.join(",")+"]"),c+=e(a.parameters),a.data&&(a.data.ILOffset>0||a.data.NativeOffset>0)&&(c+=" at offset "+a.data.ILOffset||a.data.NativeOffset),a.file_name&&(c+=" in "+a.file_name,a.line_number>0&&(c+=":line "+a.line_number),a.column>0&&(c+=":col "+a.column)),j(c+"\r\n")}function g(a){for(var b="",c=0;c<a.length;c++){var d=a[c].stack_trace;if(d){b+='<div class="stack-frame">';for(var e=0;e<d.length;e++)b+=j(f(d[e]));c<a.length-1&&(b+="<div>--- End of inner exception stack trace ---</div>"),b+="</div>"}}return b}function h(a){return a?i(a)+g(a.reverse()):null}function i(a){for(var b="",c=0;c<a.length;c++){b+='<span class="ex-header">',c>0&&(b+=" ---> ");var d=!!a[c].type;d&&(b+='<span class="ex-type">'+j(a[c].type)+"</span>: "),a[c].message&&(b+='<span class="ex-message">'+j(a[c].message)+"</span>"),d&&(b+="</span>")}return b}function j(c){try{return b(c.replace("<","&lt;"))}catch(d){a.createException(d).addTags("sanitize").submit()}return c}return{bindToController:!0,restrict:"E",replace:!0,scope:{exception:"="},template:'<pre class="stack-trace" bind-html-unsafe="vm.stackTrace"></pre>',controller:[function(){var a=this;a.stackTrace=h(c.getExceptions(a.exception))}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.stacks",["checklist-model","ui.bootstrap","dialogs.main","dialogs.default-translations","exceptionless","exceptionless.filter","exceptionless.link","exceptionless.notification","exceptionless.pagination","exceptionless.refresh","exceptionless.summary","exceptionless.timeago"])}(),function(){"use strict";angular.module("exceptionless.stacks").factory("stacksActionsService",["$ExceptionlessClient","dialogService","stackService","notificationService","$q",function(a,b,c,d,e){function f(a,b,c,d){var f=e.defer(),g=_.chunk(a,10).reduce(function(a,c){return a.then(b(c.join(",")))},f.promise).then(c,d);return f.resolve(),g}function g(){return[j,k,l,m,i]}var h="exceptionless.stacks.stacksActionsService",i={name:"Delete",run:function(e){return a.createFeatureUsage(h+".delete").setProperty("count",e.length).submit(),b.confirmDanger("Are you sure you want to delete these stacks?","DELETE STACKS").then(function(){function b(){d.success("Successfully deleted the stacks.")}function g(){a.createFeatureUsage(h+".delete.error").setProperty("count",e.length).submit(),d.error("An error occurred while deleting the stacks.")}return f(e,c.remove,b,g)})}},j={name:"Mark Fixed",run:function(b){function e(){d.success("Successfully marked stacks as fixed.")}function g(){a.createFeatureUsage(h+".mark-fixed.error").setProperty("count",b.length).submit(),d.error("An error occurred while marking stacks as fixed.")}return a.createFeatureUsage(h+".mark-fixed").setProperty("count",b.length).submit(),f(b,c.markFixed,e,g)}},k={name:"Mark Not Fixed",run:function(b){function e(){d.success("Successfully marked stacks as not fixed.")}function g(){a.createFeatureUsage(h+".mark-not-fixed.error").setProperty("count",b.length).submit(),d.error("An error occurred while marking stacks as not fixed.")}return a.createFeatureUsage(h+".mark-not-fixed").setProperty("count",b.length).submit(),f(b,c.markNotFixed,e,g)}},l={name:"Mark Hidden",run:function(b){function e(){d.success("Successfully marked stacks as hidden.")}function g(){a.createFeatureUsage(h+".mark-hidden.error").setProperty("count",b.length).submit(),d.error("An error occurred while marking stacks as hidden.")}return a.createFeatureUsage(h+".mark-hidden").setProperty("count",b.length).submit(),f(b,c.markHidden,e,g)}},m={name:"Mark Not Hidden",run:function(b){function e(){d.success("Successfully marked stacks as not hidden.")}function g(){a.createFeatureUsage(h+".mark-not-hidden.error").setProperty("count",b.length).submit(),d.error("An error occurred while marking stacks as not hidden.")}return a.createFeatureUsage(h+".mark-not-hidden").setProperty("count",b.length).submit(),f(b,c.markNotHidden,e,g)}},n={getActions:g};return n}])}(),function(){"use strict";angular.module("exceptionless.stacks").directive("stacks",function(){return{bindToController:!0,restrict:"E",replace:!0,scope:{settings:"="},templateUrl:"components/stacks/stacks-directive.tpl.html",controller:["$ExceptionlessClient","$window","$state","$stateParams","linkService","filterService","notificationService","paginationService","stacksActionsService",function(a,b,c,d,e,f,g,h,i){function j(a){return a&&"Stack"===a.type?f.includedInProjectOrOrganizationFilter({organizationId:a.organization_id,projectId:a.project_id}):!0}function k(a){function b(a){s.selectedIds=[],s.stacks=a.data.plain();var b=e.getLinksQueryParameters(a.headers("link"));return s.previous=b.previous,s.next=b.next,s.pageSummary=h.getCurrentPageSummary(a.data,s.currentOptions.page,s.currentOptions.limit),0===s.stacks.length&&s.currentOptions.page&&s.currentOptions.page>1?k():s.stacks}return s.currentOptions=a||s.settings.options,s.settings.get(s.currentOptions).then(b)}function l(){return s.stacks&&s.stacks.length>0}function m(){return s.selectedIds.length>0}function n(d,e){a.createFeatureUsage(t+".open").setProperty("id",d).setProperty("_blank",e.ctrlKey||2===e.which).submit(),e.ctrlKey||2===e.which?b.open(c.href("app.stack",{id:d},{absolute:!0}),"_blank"):c.go("app.stack",{id:d}),e.preventDefault()}function o(){return a.createFeatureUsage(t+".nextPage").setProperty("next",s.next).submit(),k(s.next)}function p(){return a.createFeatureUsage(t+".previousPage").setProperty("previous",s.previous).submit(),k(s.previous)}function q(a){function b(){s.selectedIds=[]}m()?a.run(s.selectedIds).then(b):g.info(null,"Please select one or more stacks")}function r(){l()&&(m()?s.selectedIds=[]:s.selectedIds=s.stacks.map(function(a){return a.id}))}var s=this,t=s.settings.source+".stacks";s.actions=i.getActions(),s.canRefresh=j,s.get=k,s.hasStacks=l,s.hasSelection=m,s.nextPage=o,s.open=n,s.previousPage=p,s.save=q,s.selectedIds=[],s.showType=s.settings.summary?s.settings.showType:!f.getEventType(),s.updateSelection=r,k()}],controllerAs:"vm"}})}(),function(){"use strict";angular.module("exceptionless.stat",["restangular","exceptionless.filter"]).factory("statService",["filterService","Restangular",function(a,b){function c(c){return b.one("stats").get(a.apply(c))}function d(c,d){return b.one("stacks",c).one("stats").get(a.apply(d))}var e={get:c,getByStackId:d};return e}])}(),function(){"use strict";angular.module("exceptionless.state",["angular-locker","ui.router"]).factory("stateService",["$location","$state","locker",function(a,b,c){function d(){g.forget(["name","params"])}function e(c,d){var e=g.pull("name"),f=g.pull("params")||{};return e?b.go(e,f):c?b.go(c,d||{}):a.path("/")}function f(a){a&&a.filter(function(a){return b.current.name.startsWith(a)})[0]||g.has("name")||(g.put("name",b.current.name),g.put("params",b.params))}var g=c.driver("session").namespace("state"),h={clear:d,restore:e,save:f};return h}])}(),function(){"use strict";angular.module("exceptionless.status",["restangular"]).factory("statusService",["Restangular",function(a){function b(){return a.one("status").get()}var c={get:b};return c}])}(),function(){"use strict";angular.module("exceptionless.summary",["exceptionless.truncate"]).directive("summary",[function(){return{restrict:"E",scope:{source:"=",showType:"="},template:'<ng-include src="templateUrl" />',link:function(a,b,c){var d=a.source&&a.source.data.level?a.source.data.level.toLowerCase():null;a.isLevelSuccess="trace"===d||"debug"===d,a.isLevelInfo="info"===d,a.isLevelWarning="warn"===d,a.isLevelError="error"===d,a.templateUrl="components/summary/templates/"+a.source.template_key+".tpl.html"}}}])}(),function(){"use strict";angular.module("exceptionless.timeago",[]).directive("timeago",["$interval",function(a){return{restrict:"AE",scope:{date:"="},link:function(b,c){function d(){var a=moment(b.date);c.text(b.date&&a.isValid()&&a.year()>1?a.fromNow():"never")}d(),b.$watch("date",function(a){d()});var e=a(d,6e4);b.$on("$destroy",function(){a.cancel(e)})}}}])}(),function(){"use strict";angular.module("exceptionless.token",["restangular"]).factory("tokenService",["Restangular",function(a){function b(b){var c={organization_id:b.organization_id,project_id:b.project_id,scopes:["client"]};return a.all("tokens").post(c)}function c(b){return a.one("tokens",b).get()}function d(b,c){return a.one("organizations",b).all("tokens").getList(c||{})}function e(b,c){return a.one("projects",b).all("tokens").getList(c||{})}function f(b){return a.one("projects",b).one("tokens","default").get()}function g(b){return a.one("tokens",b).remove()}var h={create:b,getById:c,getByOrganizationId:d,getByProjectId:e,getProjectDefault:f,remove:g};return h}])}(),function(){"use strict";angular.module("exceptionless.truncate",["debounce"]).directive("truncate",["$window","$timeout","debounce",function(a,b,c){return{restrict:"A",link:function(d,e,f){var g=c(function(){angular.element(e).trunk8({lines:f.lines||1})},150),h=b(g,150),i=angular.element(a);i.bind("resize",g),d.$on("$destroy",function(a){b.cancel(h),i.unbind("resize",g)})}}}])}(),function(){"use strict";angular.module("exceptionless.user",["restangular"]).factory("userService",["$cacheFactory","$rootScope","Restangular",function(a,b,c){function d(a){return c.one("users",a).one("admin-role").post()}function e(a){return void 0===a||a?p.one("users","me").get():c.one("users","me").get()}function f(a){return c.one("users",a).get()}function g(a,b){return c.one("organizations",a).all("users").getList(b||{})}function h(a){return i(a,"global")}function i(a,b){return!!a&&!!a.roles&&-1!==a.roles.indexOf(b)}function j(a){return c.one("users",a).one("admin-role").remove()}function k(a){return c.one("users",a).one("resend-verification-email").get()}function l(a,b){return c.one("users",a).patch(b)}function m(a,b){return c.one("users",a).one("email-address",b).post()}function n(a){return c.one("users","verify-email-address").one(a).get()}var o=a("http:user");b.$on("cache:clear",o.removeAll),b.$on("cache:clear-user",o.removeAll),b.$on("auth:logout",o.removeAll),b.$on("UserChanged",o.removeAll);var p=c.withConfig(function(a){a.setDefaultHttpFields({cache:o})}),q={addAdminRole:d,getCurrentUser:e,getById:f,getByOrganizationId:g,hasAdminRole:h,hasRole:i,removeAdminRole:j,resendVerificationEmail:k,update:l,updateEmailAddress:m,verifyEmailAddress:n};return q}])}(),function(){"use strict";angular.module("exceptionless.users",["exceptionless","exceptionless.dialog","exceptionless.link","exceptionless.notification","exceptionless.organization","exceptionless.pagination","exceptionless.refresh","exceptionless.user"]).directive("users",function(){return{bindToController:!0,restrict:"E",replace:!0,scope:{settings:"="},templateUrl:"components/users/users-directive.tpl.html",controller:["$ExceptionlessClient","$window","$state","dialogService","linkService","notificationService","organizationService","paginationService","userService",function(a,b,c,d,e,f,g,h,i){function j(a,b){function c(a){s.users=a.data.plain();var c=e.getLinksQueryParameters(a.headers("link"));return s.previous=c.previous,s.next=c.next,s.pageSummary=h.getCurrentPageSummary(a.data,s.currentOptions.page,s.currentOptions.limit),0===s.users.length&&s.currentOptions.page&&s.currentOptions.page>1?j(null,b):s.users}return s.currentOptions=a||s.settings.options,s.settings.get(s.currentOptions,b).then(c)}function k(a){return i.hasAdminRole(a)}function l(){return s.users&&s.users.length>0}function m(){return a.createFeatureUsage(r+".nextPage").setProperty("next",s.next).submit(),j(s.next)}function n(){return a.createFeatureUsage(r+".previousPage").setProperty("previous",s.previous).submit(),j(s.previous)}function o(b){return a.createFeatureUsage(r+".remove").setProperty("user",b).submit(),d.confirmDanger("Are you sure you want to remove this user from your organization?","REMOVE USER").then(function(){function c(){a.createFeatureUsage(r+".remove.success").setProperty("user",b).submit()}function d(){a.createFeatureUsage(r+".remove.error").setProperty("user",b).submit(),f.error("An error occurred while trying to remove the user.")}return g.removeUser(s.settings.organizationId,b.email_address).then(c,d)})}function p(a){function b(){f.error("An error occurred while trying to resend the notification.")}return g.addUser(s.settings.organizationId,a.email_address)["catch"](b)}function q(b){a.createFeatureUsage(r+".updateAdminRole").setProperty("user",b).submit();var c="Are you sure you want to "+(i.hasAdminRole(b)?"remove":"add")+" the admin role for this user?";return d.confirmDanger(c,i.hasAdminRole(b)?"REMOVE":"ADD").then(function(){function c(){a.createFeatureUsage(r+".updateAdminRole.success").setProperty("user",b).submit()}function d(){a.createFeatureUsage(r+".updateAdminRole.error").setProperty("user",b).submit(),f.error("An error occurred while "+(i.hasAdminRole(b)?"remove":"add")+" the admin role.")}return i.hasAdminRole(b)?i.removeAdminRole(b.id).then(c,d):i.addAdminRole(b.id).then(c,d)})}var r="exceptionless.users",s=this;s.currentOptions={},s.get=j,s.hasAdminRole=k,s.hasUsers=l,s.nextPage=m,s.open=open,s.previousPage=n,s.remove=o,s.resendNotification=p,s.updateAdminRole=q,s.users=[],a.submitFeatureUsage(r),j()}],controllerAs:"vm"}})}(),function(){"use strict";angular.module("exceptionless.url",[]).factory("urlService",["$state",function(a){function b(b){var c=[],d={};return b.organizationId?(c.push("organization"),d.organizationId=b.organizationId):b.projectId&&(c.push("project"),d.projectId=b.projectId),b.type&&(c.push("type"),d.type=b.type),c.push(b.route),a.href("app."+c.join("-"),d,{absolute:!0})}function c(a,b,c,d,e){var f=(a?"https://":"http://")+b;if(80!==c&&443!==c&&(f+=":"+c),d&&(d&&0!==d.indexOf("/")&&(f+="/"),f+=d),e&&Object.keys(e).length>0){var g=!0;for(var h in e)g?(f+="?",g=!1):f+="&",f+=h+"="+e[h]}return f}var d={buildFilterUrl:b,buildUrl:c};return d}])}(),function(){"use strict";angular.module("exceptionless.ui-nav",[]).directive("uiNav",[function(){return{restrict:"AC",link:function(a,b){var c,d=$(window),e=768,f=$(".app-aside"),g=".dropdown-backdrop";b.on("click","a",function(a){c&&c.trigger("mouseleave.nav");var b=$(this);b.parent().siblings(".active").toggleClass("active"),b.next().is("ul")&&b.parent().toggleClass("active")&&a&&a.preventDefault&&a.preventDefault(),b.next().is("ul")||d.width()<e&&$(".app-aside").removeClass("show off-screen")}),b.on("mouseenter","a",function(a){if(c&&c.trigger("mouseleave.nav"),$(".app-aside-fixed.app-aside-folded").length&&!(d.width()<e)){var b,h=$(a.target),i=$(window).height(),j=50,k=150;h.is("a")||(h=h.closest("a")),h.next().is("ul")&&(c=h.next(),h.parent().addClass("active"),b=h.parent().position().top+j,c.css("top",b),b+c.height()>i&&c.css("bottom",0),b+k>i&&c.css("bottom",i-b-j).css("top","auto"),c.appendTo(f),c.on("mouseleave.nav",function(a){$(g).remove(),c.appendTo(h.parent()),c.off("mouseleave.nav").css("top","auto").css("bottom","auto"),h.parent().removeClass("active")}),$(".smart").length&&$('<div class="dropdown-backdrop"/>').insertAfter(".app-aside").on("click",function(a){a&&a.trigger("mouseleave.nav")}))}}),f.on("mouseleave",function(a){c&&c.trigger("mouseleave.nav")})}}}])}(),function(){"use strict";angular.module("exceptionless.ui-scroll",[]).directive("uiScroll",["$location","$anchorScroll",function(a,b){return{restrict:"AC",link:function(c,d,e){d.on("click",function(c){a.hash(e.uiScroll),b()})}}}])}(),function(){"use strict";angular.module("exceptionless.ui-shift",[]).directive("uiShift",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){function e(){a(function(){var a=d.uiShift,b=d.target;h.hasClass("in")||h[a](b).addClass("in")})}function f(){g&&g.prepend(c),g||h.insertAfter(j),h.removeClass("in")}var g,h=$(c),i=$(window),j=h.prev(),k=i.width();j.length||(g=h.parent()),768>k?e():f(),i.resize(function(){k!==i.width()&&a(function(){i.width()<768?e():f(),k=i.width()})})}}}])}(),function(){"use strict";angular.module("exceptionless.ui-toggle-class",[]).directive("uiToggleClass",["$timeout","$document",function(a,b){return{restrict:"AC",link:function(a,b,c){b.on("click",function(a){function d(a,b){for(var c=new RegExp("\\s"+a.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g"),d=" "+$(b)[0].className+" ";c.test(d);)d=d.replace(c," ");$(b)[0].className=$.trim(d)}a&&a.preventDefault&&a.preventDefault();var e=c.uiToggleClass.split(","),f=c.target&&c.target.split(",")||new Array(b),g=0;angular.forEach(e,function(a){var b=f[f.length&&g];-1!==a.indexOf("*")&&d(a,b),$(b).toggleClass(a),g++}),$(b).toggleClass("active")})}}}])}(),function(){"use strict";angular.module("exceptionless.validators",["exceptionless.auth","exceptionless.organization","exceptionless.project","exceptionless.search"])}(),function(){"use strict";angular.module("exceptionless.validators").directive("emailAddressAvailableValidator",["$timeout","$q","authService",function(a,b,c){return{restrict:"A",require:"ngModel",link:function(d,e,f,g){g.$asyncValidators.unique=function(d){var e=b.defer();return g.$pristine?a(function(){e.resolve(!0)},0):c.isEmailAddressAvailable(d).then(function(a){201===a.status?e.reject(""):e.resolve(!0)},function(){e.reject("An error occurred while validating the email address.")}),e.promise}}}}])}(),function(){"use strict";angular.module("exceptionless.validators").directive("organizationNameAvailableValidator",["$timeout","$q","organizationService",function(a,b,c){return{restrict:"A",require:"ngModel",link:function(d,e,f,g){g.$asyncValidators.unique=function(d){var e=b.defer();return g.$pristine?a(function(){e.resolve(!0)},0):c.isNameAvailable(d).then(function(a){201===a.status?e.reject(""):e.resolve(!0)},function(){e.reject("An error occurred while validating the organization name.")}),e.promise}}}}])}(),function(){"use strict";angular.module("exceptionless.validators").directive("projectNameAvailableValidator",["$timeout","$q","projectService",function(a,b,c){return{restrict:"A",require:"ngModel",link:function(d,e,f,g){g.$asyncValidators.unique=function(d){var e=b.defer();return g.$pristine?a(function(){e.resolve(!0)},0):c.isNameAvailable(d).then(function(a){201===a.status?e.reject(""):e.resolve(!0)},function(){e.reject("An error occurred while validating the project name.")}),e.promise}}}}])}(),function(){"use strict";angular.module("exceptionless.validators").directive("searchFilterValidator",["$timeout","$q","searchService",function(a,b,c){return{restrict:"A",require:"ngModel",link:function(d,e,f,g){g.$asyncValidators.valid=function(d){var e=b.defer();return g.$pristine?a(function(){e.resolve(!0)},0):c.validate(d).then(function(a){a.data.is_valid||e.reject(a.data.message),e.resolve(!0)},function(){e.reject("An error occurred while validating the search filter.")}),e.promise}}}}])}(),function(){"use strict";angular.module("exceptionless.web-hook",["checklist-model","ngMessages","restangular","ui.bootstrap","dialogs.main","dialogs.default-translations","exceptionless","exceptionless.autofocus"])}(),function(){"use strict";angular.module("exceptionless.web-hook").controller("AddWebHookDialog",["$ExceptionlessClient","$modalInstance",function(a,b){function c(){a.submitFeatureUsage(g+".cancel"),b.dismiss("cancel")}function d(){return[{key:"NewError",name:"New Error",description:"Occurs when a new error that has never been seen before is reported to your project."},{key:"CriticalError",name:"Critical Error",description:"Occurs when an error that has been marked as critical is reported to your project."},{key:"StackRegression",name:"Regression",description:"Occurs when an event that has been marked as fixed has reoccurred in your project."},{key:"NewEvent",name:"New Event",description:"Occurs when a new event that has never been seen before is reported to your project."},{key:"CriticalEvent",name:"Critical Event",description:"Occurs when an event that has been marked as critical is reported to your project."},{key:"StackPromoted",name:"Promoted",description:"Used to promote event stacks to external systems."}]}function e(){return h.data.event_types&&h.data.event_types.length>0}function f(c){c&&(a.createFeatureUsage(g+".save").setProperty("WebHook",h.data).submit(),b.close(h.data))}var g="exceptionless.web-hook.AddWebHookDialog",h=this;h.addWebHookForm={},h.cancel=c,h.data={},h.eventTypes=d(),h.hasEventTypeSelection=e,h.save=f,a.submitFeatureUsage(g)}])}(),function(){"use strict";angular.module("exceptionless.web-hook").factory("webHookService",["Restangular",function(a){function b(b){return a.all("webhooks").post(b)}function c(b){return a.all("webhooks").getList(b||{})}function d(b){return a.one("webhooks",b).get()}function e(b,c){return a.one("organizations",b).all("webhooks").getList(c||{})}function f(b,c){return a.one("projects",b).all("webhooks").getList(c||{})}function g(b){return a.one("webhooks",b).remove()}var h={create:b,getAll:c,getById:d,getByOrganizationId:e,getByProjectId:f,remove:g};return h}])}(),function(){"use strict";angular.module("app").controller("App",["$scope","$state","$stateParams","$window","authService","billingService","$ExceptionlessClient","filterService","hotkeys","INTERCOM_APPID","$intercom","locker","notificationService","organizationService","projectService","signalRService","stateService","STRIPE_PUBLISHABLE_KEY","SYSTEM_NOTIFICATION_MESSAGE","urlService","userService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){function v(){return!!r&&Q.organizations&&Q.organizations.length>0}function w(a){return f.changePlan(a)}function x(a){return t.buildFilterUrl({route:"dashboard",projectId:h.getProjectId(),organizationId:h.getOrganizationId(),type:a})}function y(a){return t.buildFilterUrl({route:"recent",projectId:h.getProjectId(),organizationId:h.getOrganizationId(),type:a})}function z(a){return t.buildFilterUrl({route:"frequent",projectId:h.getProjectId(),organizationId:h.getOrganizationId(),type:a})}function A(a){return t.buildFilterUrl({route:"new",projectId:h.getProjectId(),organizationId:h.getOrganizationId(),type:a})}function B(){function a(a){return Q.organizations=a.data.plain(),a}return n.getAll().then(a)}function C(a){function b(a){return Q.user=a.data.plain(),g.config.setUserIdentity({identity:Q.user.email_address,name:Q.user.full_name,data:{user:Q.user}}),a}return a&&"User"===a.type&&a.deleted&&a.id===Q.user.id?(m.error("Your user account was deleted. Please create a new account."),e.logout(!0)):u.getCurrentUser().then(b)}function D(){return s}function E(){return u.hasAdminRole(Q.user)}function F(){return!!s}function G(){return b.includes("app.dashboard",c)||b.includes("app.project-dashboard",c)||b.includes("app.organization-dashboard",c)||b.includes("app.frequent",c)||b.includes("app.project-frequent",c)||b.includes("app.organization-frequent",c)||b.includes("app.new",c)||b.includes("app.project-new",c)||b.includes("app.organization-new",c)||b.includes("app.recent",c)||b.includes("app.project-recent",c)||b.includes("app.organization-recent",c)}function H(){return b.includes("app.project.list",c)||b.includes("app.organization.list",c)||b.includes("app.account.manage",c)||b.includes("app.admin.dashboard",c)}function I(){return e.isAuthenticated()&&j}function J(a){var b=a.navigator.userAgent||a.navigator.vendor||a.opera;return/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(b)}function K(a){var d=angular.extend({},c,{type:a});return b.includes("app.type-dashboard",d)||b.includes("app.project-type-dashboard",d)||b.includes("app.organization-type-dashboard",d)||b.includes("app.type-frequent",d)||b.includes("app.project-type-frequent",d)||b.includes("app.organization-type-frequent",d)||b.includes("app.type-new",d)||b.includes("app.project-type-new",d)||b.includes("app.organization-type-new",d)||b.includes("app.type-recent",d)||b.includes("app.project-type-recent",d)||b.includes("app.organization-type-recent",d)}function L(){return p.startDelayed(1e3)}function M(){g.submitFeatureUsage(O+".showIntercom"),k.showNewMessage()}function N(){Q.isSideNavCollapsed=!Q.isSideNavCollapsed,P.put("sideNavCollapsed",Q.isSideNavCollapsed)}var O="app.App",P=l.driver("local").namespace("app"),Q=this;navigator.userAgent.match(/MSIE/i)&&angular.element(d.document.body).addClass("ie"),J(d)&&angular.element(d.document.body).addClass("smart"),i.bindTo(a).add({combo:"f1",description:"Documentation",callback:function(){g.createFeatureUsage(O+".hotkeys.Documentation").addTags("hotkeys").submit(),d.open("https://github.com/exceptionless/Exceptionless/wiki","_blank")}}),a.$on("$destroy",p.stop),Q.canChangePlan=v,Q.changePlan=w,Q.getDashboardUrl=x,Q.getRecentUrl=y,Q.getFrequentUrl=z,Q.getNewUrl=A,Q.getOrganizations=B,Q.getUser=C,Q.getSystemNotificationMessage=D,Q.hasAdminRole=E,Q.hasSystemNotificationMessage=F,Q.isAllMenuActive=G,Q.isAdminMenuActive=H,Q.isIntercomEnabled=I,Q.isSideNavCollapsed=P.get("sideNavCollapsed")===!0,Q.isTypeMenuActive=K,Q.organizations=[],Q.showIntercom=M,Q.toggleSideNavCollapsed=N,Q.user={},C().then(B).then(L)}])}(),function(){"use strict";angular.module("app").controller("app.Dashboard",["$ExceptionlessClient","$filter","$stateParams","eventService","filterService","notificationService","stackService","statService",function(a,b,c,d,e,f,g,h){function i(a){return a&&"PersistentEvent"===a.type?e.includedInProjectOrOrganizationFilter({organizationId:a.organization_id,projectId:a.project_id}):!0}function j(){function a(a){l.stats=a.data.plain(),l.stats.timeline||(l.stats.timeline=[]),l.chart.options.series[1].data=l.stats.timeline.map(function(a){return{x:moment.utc(a.date).unix(),y:a.total,data:a}}),l.chart.options.series[0].data=l.stats.timeline.map(function(a){return{x:moment.utc(a.date).unix(),y:a.unique,data:a}})}function b(){f.error("An error occurred while loading the stats.")}var c={};return h.get(c).then(a,b)}var k="app.Dashboard",l=this;l.canRefresh=i,l.chart={options:{renderer:"stack",stroke:!0,padding:{top:.085},series:[{name:"Unique",color:"rgba(60, 116, 0, .9)",stroke:"rgba(0, 0, 0, 0.15)"},{name:"Total",color:"rgba(124, 194, 49, .9)",stroke:"rgba(0, 0, 0, 0.15)"}]},features:{hover:{render:function(a){var c=moment.unix(a.domainX).utc(),d=0===c.hours()?b("date")(c.toDate(),"mediumDate"):b("date")(c.toDate(),"medium"),e='<div class="date">'+d+"</div>";a.detail.sort(function(a,b){return a.order-b.order}).forEach(function(a){var c='<span class="detail-swatch" style="background-color: '+a.series.color.replace("0.5","1")+'"></span>';e+=c+b("number")("Total"===a.name?a.value.data.total:a.value.data.unique)+" "+a.series.name+" <br />"},this);var f=document.createElement("div");f.className="x_label",f.innerHTML=e,this.element.appendChild(f);var g=this._calcLayoutError([f]);if(g>0){f.classList.remove("left"),f.classList.add("right");var h=this._calcLayoutError([f]);h>g&&(f.classList.remove("right"),f.classList.add("left"))}this.show()}},range:{onSelection:function(b){var c=moment.unix(b.coordMinX).utc(),d=moment.unix(b.coordMaxX).utc();return e.setTime(c.format("YYYY-MM-DDTHH:mm:ss")+"-"+d.format("YYYY-MM-DDTHH:mm:ss")),a.createFeatureUsage(k+".chart.range.onSelection").setProperty("start",c).setProperty("end",d).submit(),!1}},yAxis:{ticks:5,tickFormat:"formatKMBT",ticksTreatment:"glow"}}},l.get=j,l.mostFrequent={get:g.getFrequent,options:{limit:10,mode:"summary"},source:k+".Frequent"},l.mostRecent={header:"Most Recent",get:d.getAll,options:{limit:10,mode:"summary"},source:k+".Recent"},l.stats={},l.type=c.type,j()}])}(),function(){"use strict";angular.module("app").controller("app.Frequent",["stackService",function(a){var b=this;b.mostFrequent={get:a.getFrequent,options:{limit:20,mode:"summary"},source:"app.Frequent"}}])}(),function(){"use strict";angular.module("app").controller("app.New",["stackService",function(a){var b=this;b.newest={get:a.getNew,options:{limit:20,mode:"summary"}}}])}(),function(){"use strict";angular.module("app").controller("app.Recent",["eventService",function(a){var b=this;b.mostRecent={get:a.getAll,options:{limit:20,mode:"summary"},source:"app.Recent"}}])}(),function(){"use strict";angular.module("app.auth",["directives.inputMatch","ngMessages","satellizer","ui.router","app.config","exceptionless","exceptionless.auth","exceptionless.autofocus","exceptionless.notification","exceptionless.project","exceptionless.rate-limit","exceptionless.user","exceptionless.validators"]).config(["$authProvider","$stateProvider","BASE_URL","FACEBOOK_APPID","GOOGLE_APPID","GITHUB_APPID","LIVE_APPID",function(a,b,c,d,e,f,g){a.baseUrl=c+"/api/v2",a.facebook({clientId:d}),a.google({clientId:e}),a.github({clientId:f}),a.live({clientId:g,scope:["wl.emails"]}),b.state("auth",{"abstract":!0,template:'<ui-view autoscroll="true" />'}),b.state("auth.forgot-password",{url:"/forgot-password",controller:"auth.ForgotPassword",controllerAs:"vm",templateUrl:"app/auth/forgot-password.tpl.html"}),b.state("auth.login",{url:"/login?token",controller:"auth.Login",controllerAs:"vm",templateUrl:"app/auth/login.tpl.html"}),b.state("auth.logout",{url:"/logout",template:null,controller:"auth.Logout"}),b.state("auth.reset-password",{url:"/reset-password/:token?cancel",controller:"auth.ResetPassword",controllerAs:"vm",templateUrl:"app/auth/reset-password.tpl.html"}),b.state("auth.signup",{url:"/signup?token",controller:"auth.Signup",controllerAs:"vm",templateUrl:"app/auth/signup.tpl.html"})}])}(),function(){"use strict";angular.module("app.auth").controller("auth.ForgotPassword",["$ExceptionlessClient","$state","authService","notificationService",function(a,b,c,d){function e(e){function h(){return a.createFeatureUsage(f+".resetPassword.success").setUserIdentity(g.email).submit(),
d.info("An email was sent that contains instructions to change your password."),b.go("auth.login")}function i(b){a.createFeatureUsage(f+".resetPassword.error").setUserIdentity(g.email).setProperty("response",b).submit();var c="An error occurred while trying to reset your password.";b.data&&b.data.message&&(c+=" Message: "+b.data.message),d.error(c)}if(e)return a.createFeatureUsage(f+".resetPassword").setUserIdentity(g.email).submit(),c.forgotPassword(g.email).then(h,i)}var f="app.auth.ForgotPassword",g=this;g.email=null,g.resetPassword=e}])}(),function(){"use strict";angular.module("app.auth").controller("auth.Login",["$ExceptionlessClient","$state","$stateParams","authService","FACEBOOK_APPID","GOOGLE_APPID","GITHUB_APPID","LIVE_APPID","notificationService","projectService","stateService",function(a,b,c,d,e,f,g,h,i,j,k){function l(a){var b="An error occurred while logging in. Please contact support for more information.";return a.data&&a.data.message&&(b+=" Message: "+a.data.message),b}function m(b){function c(){a.createFeatureUsage(q+".authenticate.success").setProperty("InviteToken",r.token).submit()}function e(b){a.createFeatureUsage(q+".authenticate.error").setProperty("InviteToken",r.token).setProperty("response",b).submit(),i.error(l(b))}return a.createFeatureUsage(q+".authenticate").setProperty("InviteToken",r.token).submit(),d.authenticate(b,{InviteToken:r.token}).then(c,e).then(p)}function n(a){if(!a)return!!(e||g||f||h);switch(a){case"facebook":return!!e;case"github":return!!g;case"google":return!!f;case"live":return!!h;default:return!1}}function o(b){function c(){a.createFeatureUsage(q+".login.success").setUserIdentity(r.loginForm.email).submit()}function e(b){a.createFeatureUsage(q+".login.error").setUserIdentity(r.loginForm.email).submit(),i.error(l(b))}if(b)return a.createFeatureUsage(q+".login").setUserIdentity(r.loginForm.email).submit(),d.login(r.user).then(c,e).then(p)}function p(){function a(a){return a.data&&a.data.length>0?k.restore():(k.clear(),b.go("app.project.add"))}function c(){return k.restore("app.project.add")}return j.getAll().then(a,c)}var q="app.auth.Login",r=this;d.isAuthenticated()&&d.logout(),r.authenticate=m,r.isExternalLoginEnabled=n,r.login=o,r.loginForm={},r.token=c.token,r.user={invite_token:r.token}}])}(),function(){"use strict";angular.module("app.auth").controller("auth.Logout",["$state","authService",function(a,b){b.isAuthenticated()&&b.logout(),a.go("auth.login")}])}(),function(){"use strict";angular.module("app.auth").controller("auth.ResetPassword",["$ExceptionlessClient","$state","$stateParams","authService","notificationService",function(a,b,c,d,e){function f(c){function f(){return a.createFeatureUsage(h+".changePassword.success").setProperty("ResetToken",j).submit(),e.info("You have successfully changed your password."),b.go("auth.login")}function g(b){a.createFeatureUsage(h+".changePassword.error").setProperty("ResetToken",j).setProperty("response",b).submit();var c="An error occurred while trying to change your password.";b.data&&b.data.message&&(c+=" Message: "+b.data.message),e.error(c)}if(c)return a.createFeatureUsage(h+".changePassword").setProperty("ResetToken",j).submit(),d.resetPassword(k.data).then(f,g)}function g(){function c(){return b.go("auth.login")}function e(){a.createFeatureUsage(h+".cancelResetPassword.success").setProperty("ResetToken",j).submit()}function f(b){a.createFeatureUsage(h+".cancelResetPassword.error").setProperty("ResetToken",j).setProperty("response",b).submit()}return a.createFeatureUsage(h+".cancelResetPassword").setProperty("ResetToken",j).submit(),d.cancelResetPassword(j).then(e,f).then(c,c)}var h="app.auth.ResetPassword",i="true"===c.cancel,j=c.token,k=this;k.changePassword=f,k.data={password_reset_token:j},i&&g()}])}(),function(){"use strict";angular.module("app.auth").controller("auth.Signup",["$ExceptionlessClient","$state","$stateParams","$timeout","authService","FACEBOOK_APPID","GOOGLE_APPID","GITHUB_APPID","LIVE_APPID","notificationService","projectService","stateService",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){var b="An error occurred while signing up.  Please contact support for more information.";return a.data&&a.data.message&&(b+=" Message: "+a.data.message),b}function n(b){function c(){a.createFeatureUsage(r+".authenticate.success").setProperty("InviteToken",t.token).submit()}function d(b){a.createFeatureUsage(r+".authenticate.error").setProperty("InviteToken",t.token).setProperty("response",b).submit(),j.error(m(b))}return a.createFeatureUsage(r+".authenticate").setProperty("InviteToken",t.token).submit(),e.authenticate(b,{InviteToken:t.token}).then(c,d).then(p)}function o(a){if(!a)return!!(f||h||g||i);switch(a){case"facebook":return!!f;case"github":return!!h;case"google":return!!g;case"live":return!!i;default:return!1}}function p(){function a(a){return a.data&&a.data.length>0?l.restore():(l.clear(),b.go("app.project.add"))}function c(){return l.restore("app.project.add")}return k.getAll().then(a,c)}function q(b){function c(){s=!0}function f(a){var b=d(function(){d.cancel(b),q(!0)},a||100)}function g(){a.createFeatureUsage(r+".signup.success").setUserIdentity(t.user.email).submit()}function h(b){a.createFeatureUsage(r+".signup.error").setUserIdentity(t.user.email).submit(),j.error(m(b))}if(!t.signupForm||t.signupForm.$invalid)return c(),!b&&f(1e3);if(!t.user.email||t.signupForm.$pending)return f();if(s)return s=!1,a.createFeatureUsage(r+".signup").setUserIdentity(t.user.email).submit(),e.signup(t.user).then(g,h).then(p).then(c,c)}var r="app.auth.Signup",s=!0,t=this;e.isAuthenticated()&&e.logout(!0,c),t.authenticate=n,t.isExternalLoginEnabled=o,t.signup=q,t.signupForm={},t.token=c.token,t.user={invite_token:t.token}}])}(),function(){"use strict";angular.module("app.account",["directives.inputMatch","ngMessages","ui.router","exceptionless","exceptionless.auth","exceptionless.autofocus","exceptionless.billing","exceptionless.dialog","exceptionless.project","exceptionless.promise-button","exceptionless.user","exceptionless.validators"]).config(["$stateProvider",function(a){a.state("app.account",{"abstract":!0,url:"/account",template:'<ui-view autoscroll="true" />'}),a.state("app.account.manage",{url:"/manage?projectId&tab",controller:"account.Manage",controllerAs:"vm",templateUrl:"app/account/manage.tpl.html"}),a.state("app.account.verify",{url:"/verify?token",template:null,controller:"account.Verify"})}])}(),function(){"use strict";angular.module("app.account").controller("account.Manage",["$stateParams","$timeout","authService","billingService","FACEBOOK_APPID","featureService","GOOGLE_APPID","GITHUB_APPID","LIVE_APPID","notificationService","projectService","userService",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){J.tabExternalActive="external"===a,J.tabNotificationsActive="notifications"===a,J.tabPasswordActive="password"===a}function n(a){function b(a){var b="An error occurred while adding external login.";a.data&&a.data.message&&(b+=" Message: "+a.data.message),j.error(b)}return c.authenticate(a)["catch"](b)}function o(){return v()||J.user.o_auth_accounts&&J.user.o_auth_accounts.length>1}function p(a){function b(){j.info("You have successfully changed your password."),J.password={},J.passwordForm.$setUntouched(!0),J.passwordForm.$setPristine(!0)}function d(a){var b="An error occurred while trying to change your password.";a.data&&a.data.message&&(b+=" Message: "+a.data.message),j.error(b)}if(a)return c.changePassword(J.password).then(b,d)}function q(a){return a&&"User"===a.type&&a.deleted&&a.id===J.user.id?(j.error("Your user account was deleted. Please create a new account."),c.logout(!0)):t().then(s).then(r)}function r(){function a(a){return J.emailNotificationSettings=a.data.plain(),J.emailNotificationSettings}function b(){j.error("An error occurred while loading the notification settings.")}return J.emailNotificationSettings=null,J.currentProject.id?k.getNotificationSettings(J.currentProject.id,J.user.id).then(a,b):void 0}function s(){function b(b){J.projects=b.data.plain();var c=J.currentProject.id?J.currentProject.id:a.projectId;return J.currentProject=J.projects.filter(function(a){return a.id===c})[0],J.currentProject||(J.currentProject=J.projects.length>0?J.projects[0]:{}),J.projects}function c(){j.error("An error occurred while loading the projects.")}return k.getAll().then(b,c)}function t(){function a(a){return J.user=a.data.plain(),J.user.o_auth_accounts=J.user.o_auth_accounts||[],J.user}function b(a){var b="An error occurred while loading your user profile.";a.data&&a.data.message&&(b+=" Message: "+a.data.message),j.error(b)}return l.getCurrentUser().then(a,b)}function u(){return J.user.email_notifications_enabled&&J.emailNotificationSettings}function v(){return J.user.has_local_account===!0}function w(){return J.user&&J.user.o_auth_accounts&&J.user.o_auth_accounts.length>0}function x(){return f.hasPremium()}function y(){return J.projects.length>0}function z(){return u()&&x()}function A(a){if(!a)return!!(e||h||g||i);switch(a){case"facebook":return!!e;case"github":return!!h;case"google":return!!g;case"live":return!!i;default:return!1}}function B(){function a(a){var b="An error occurred while sending your verification email.";a.data&&a.data.message&&(b+=" Message: "+a.data.message),j.error(b)}return l.resendVerificationEmail(J.user.id)["catch"](a)}function C(a){function c(){I=!0}function d(a){var c=b(function(){b.cancel(c),C(!0)},a||100)}function e(a){J.user.is_email_address_verified=a.data.is_verified}function f(a){var b="An error occurred while saving your email address.";a.data&&a.data.message&&(b+=" Message: "+a.data.message),j.error(b)}if(!J.emailAddressForm||J.emailAddressForm.$invalid)return c(),!a&&d(1e3);if(!J.user.email_address||J.emailAddressForm.$pending)return d();if(I)return I=!1,l.updateEmailAddress(J.user.id,J.user.email_address).then(e,f).then(c,c)}function D(){function a(a){var b="An error occurred while saving your notification settings.";a.data&&a.data.message&&(b+=" Message: "+a.data.message),j.error(b)}return k.setNotificationSettings(J.currentProject.id,J.user.id,J.emailNotificationSettings)["catch"](a)}function E(){function a(a){var b="An error occurred while saving your email notification preferences.";a.data&&a.data.message&&(b+=" Message: "+a.data.message),j.error(b)}return l.update(J.user.id,{email_notifications_enabled:J.user.email_notifications_enabled})["catch"](a)}function F(a){function b(a){var b="An error occurred while saving your full name.";a.data&&a.data.message&&(b+=" Message: "+a.data.message),j.error(b)}if(a)return l.update(J.user.id,J.user)["catch"](b)}function G(){return d.changePlan(J.currentProject?J.currentProject.organization_id:null)}function H(a){function b(){J.user.o_auth_accounts.splice(J.user.o_auth_accounts.indexOf(a),1)}function d(a){var b="An error occurred while removing the external login.";a.data&&a.data.message&&(b+=" Message: "+a.data.message),j.error(b)}return c.unlink(a.provider,a.provider_user_id).then(b,d)}var I=!0,J=this;J.authenticate=n,J.canRemoveOAuthAccount=o,J.changePassword=p,J.currentProject={},J.emailAddressForm={},J.emailNotificationSettings=null,J.getEmailNotificationSettings=r,J.hasEmailNotifications=u,J.hasLocalAccount=v,J.get=q,J.hasOAuthAccounts=w,J.hasPremiumEmailNotifications=z,J.hasPremiumFeatures=x,J.hasProjects=y,J.isExternalLoginEnabled=A,J.password={},J.passwordForm={},J.projects=[],J.resendVerificationEmail=B,J.saveEmailAddress=C,J.saveEmailNotificationSettings=D,J.saveEnableEmailNotification=E,J.saveUser=F,J.showChangePlanDialog=G,J.tabExternalActive=!1,J.tabNotificationsActive=!1,J.tabPasswordActive=!1,J.unlink=H,J.user={},m(a.tab),q()}])}(),function(){"use strict";angular.module("app.account").controller("account.Verify",["$ExceptionlessClient","$rootScope","$state","$stateParams","notificationService","userService",function(a,b,c,d,e,f){function g(){return c.go("app.account.manage")}function h(){function c(){a.createFeatureUsage(i+".verify.success").setProperty("Token",j).submit(),b.$emit("UserChanged"),e.info("Successfully verified your account.")}function d(b){a.createFeatureUsage(i+".verify.error").setProperty("Token",j).setProperty("response",b).submit();var c="An error occurred while verifying your account.";b&&b.data&&b.data.message&&(c+=" Message: "+b.data.message),e.error(c)}return a.createFeatureUsage(i+".verify").setProperty("Token",j).submit(),f.verifyEmailAddress(j).then(c,d)}var i="app.account.Verify",j=d.token;h()["finally"](g)}])}(),function(){"use strict";angular.module("app.admin",["ui.router"]).config(["$stateProvider",function(a){a.state("app.admin",{"abstract":!0,url:"/admin",template:'<ui-view autoscroll="true"/>'}),a.state("app.admin.dashboard",{url:"/dashboard",controller:"admin.Dashboard",controllerAs:"vm",templateUrl:"app/admin/dashboard.tpl.html"})}])}(),function(){"use strict";angular.module("app.admin").controller("admin.Dashboard",[function(){}])}(),function(){"use strict";angular.module("app.event",["angular-filters","cfp.hotkeys","ngClipboard","ui.router","exceptionless","exceptionless.error","exceptionless.event","exceptionless.organization-notifications","exceptionless.link","exceptionless.notification","exceptionless.object-dump","exceptionless.simple-error","exceptionless.simple-stack-trace","exceptionless.stack-trace","exceptionless.timeago","exceptionless.url"]).config(["$stateProvider",function(a){a.state("app.event",{url:"/event/{id:[0-9a-fA-F]{24}}?tab",controller:"Event",controllerAs:"vm",templateUrl:"app/event/event.tpl.html"})}])}(),function(){"use strict";angular.module("app.event").controller("Event",["$ExceptionlessClient","$scope","$state","$stateParams","errorService","eventService","hotkeys","linkService","notificationService","projectService","urlService",function(a,b,c,d,e,f,g,h,i,j,k){function l(){g.add({combo:"ctrl+up",description:"Go To Stack",callback:function(){a.createFeatureUsage(O+".hotkeys.GoToStack").addTags("hotkeys").setProperty("id",P).submit(),c.go("app.stack",{id:R.event.stack_id})}}),R.previous&&g.add({combo:"ctrl+left",description:"Previous Occurrence",callback:function(){a.createFeatureUsage(O+".hotkeys.PreviousOccurrence").addTags("hotkeys").setProperty("id",P).submit(),c.go("app.event",{id:R.previous,tab:R.getCurrentTab()})}}),R.next&&g.add({combo:"ctrl+right",description:"Next Occurrence",callback:function(){a.createFeatureUsage(O+".hotkeys.NextOccurrence").addTags("hotkeys").setProperty("id",P).submit(),c.go("app.event",{id:R.next,tab:R.getCurrentTab()})}})}function m(a){var b=[{title:"Overview",template_key:"overview"}];G()&&(R.event.data["@error"]?b.push({title:"Exception",template_key:"error"}):R.event.data["@simple_error"]&&b.push({title:"Exception",template_key:"simple-error"})),B()&&b.push({title:"Request",template_key:"request"}),w()&&b.push({title:"Environment",template_key:"environment"});var c=[];angular.forEach(R.event.data,function(a,d){"@trace"===d&&(d="Trace Log"),d.startsWith("@")||(L(d)?b.push({title:d,template_key:"promoted",data:a}):Q.indexOf(d)<0&&c.push({title:d,data:a}))},b),c.length>0&&b.push({title:"Extended Data",template_key:"extended-data",data:c});for(var d=0;d<b.length;d++)if(b[d].title===a){b[d].active=!0;break}R.tabs=b}function n(b){function c(){a.createFeatureUsage(O+".promoteTab.success").setProperty("id",P).setProperty("TabName",b).submit(),R.project.promoted_tabs.splice(e,1),m("Extended Data")}function d(c){a.createFeatureUsage(O+".promoteTab.error").setProperty("id",P).setProperty("response",c).setProperty("TabName",b).submit(),i.error("An error occurred promoting tab.")}var e=R.project.promoted_tabs.indexOf(b);if(!(0>e))return a.createFeatureUsage(O+".demoteTab").setProperty("id",P).setProperty("TabName",b).submit(),j.demoteTab(R.project.id,b).then(c,d)}function o(){var a=R.tabs.filter(function(a){return a.active})[0];return a?a.title:null}function p(){if(R.event.data["@error"]){var a=e.getTargetInfoExceptionType(R.event.data["@error"]);if(a)return a}return R.event.data["@simple_error"]?R.event.data["@simple_error"].type:"Unknown"}function q(){function a(a){return a.filter?a.filter+=" stack:current":a.filter="stack:current",a}function b(a){R.event=a.data.plain();var b=h.getLinks(a.headers("link"));return R.previous=b.previous?b.previous.split("/").pop():null,R.next=b.next?b.next.split("/").pop():null,l(),R.event}function e(){c.go("app.dashboard"),i.error('The event "'+d.id+'" could not be found.')}return N(),P||e(),f.getById(P,{},a).then(b,e)}function r(){if(R.event&&R.event.data&&R.event.data["@error"]){var a=e.getTargetInfoMessage(R.event.data["@error"]);if(a)return a}return R.event.message}function s(){function a(a){return R.project=a.data.plain(),R.project.promoted_tabs=R.project.promoted_tabs||[],R.project}function b(){c.go("app.dashboard")}return R.event&&R.event.project_id||b(),j.getById(R.event.project_id,!0).then(a,b)}function t(){var a=R.event.data["@request"];return k.buildUrl(a.is_secure,a.host,a.port,a.path,a.query_string)}function u(){return R.event.data["@version"]}function v(){return!!R.event.data["@request"].cookies&&Object.keys(R.event.data["@request"].cookies).length>0}function w(){return R.event.data&&R.event.data["@environment"]}function x(){return R.event.data&&R.event.data["@user"]&&R.event.data["@user"].identity}function y(){return R.event.data&&R.event.data["@user"]&&R.event.data["@user"].name}function z(){return R.event.data&&R.event.data["@level"]}function A(){return R.event.data&&R.event.data["@request"]&&R.event.data["@request"].referrer}function B(){return R.event.data&&R.event.data["@request"]}function C(){return R.event.data&&R.event.data["@user_description"]&&R.event.data["@user_description"].email_address}function D(){return R.event.data&&R.event.data["@user_description"]&&R.event.data["@user_description"].description}function E(){return R.event.tags&&R.event.tags.length>0}function F(){return R.event.data&&R.event.data["@version"]}function G(){return"error"===R.event.type}function H(){var a=z()?R.event.data["@level"].toLowerCase():null;return"trace"===a||"debug"===a}function I(){return z()&&"info"===R.event.data["@level"].toLowerCase()}function J(){return z()&&"warn"===R.event.data["@level"].toLowerCase()}function K(){return z()&&"error"===R.event.data["@level"].toLowerCase()}function L(a){return R.project&&R.project.promoted_tabs?R.project.promoted_tabs.filter(function(b){return b===a}).length>0:!1}function M(b){function c(){a.createFeatureUsage(O+".promoteTab.success").setProperty("id",P).setProperty("TabName",b).submit(),R.project.promoted_tabs.push(b),m(b)}function d(c){a.createFeatureUsage(O+".promoteTab.error").setProperty("id",P).setProperty("response",c).setProperty("TabName",b).submit(),i.error("An error occurred promoting tab.")}return a.createFeatureUsage(O+".promoteTab").setProperty("id",P).setProperty("TabName",b).submit(),j.promoteTab(R.project.id,b).then(c,d)}function N(){g.del("ctrl+up"),g.del("ctrl+left"),g.del("ctrl+right")}var O="app.event.Event",P=d.id,Q=["error","simple_error","request","environment","user","user_description","version"],R=this;b.$on("$destroy",N),R.demoteTab=n,R.event={},R.getCurrentTab=o,R.getErrorType=p,R.getMessage=r,R.getRequestUrl=t,R.getVersion=u,R.hasCookies=v,R.hasIdentity=x,R.hasUserName=y,R.hasLevel=z,R.hasReferrer=A,R.hasRequestInfo=B,R.hasTags=E,R.hasUserDescription=D,R.hasUserEmail=C,R.hasVersion=F,R.isError=G,R.isLevelSuccess=H,R.isLevelInfo=I,R.isLevelWarning=J,R.isLevelError=K,R.isPromoted=L,R.project={},R.promoteTab=M,R.tabs=[],q().then(s).then(function(){m(d.tab)})}])}(),function(){"use strict";angular.module("exceptionless.event").directive("extendedDataItem",[function(){return{restrict:"E",scope:{canPromote:"=",data:"=",demoteTab:"&",excludedKeys:"=",isPromoted:"=",promoteTab:"&",title:"="},templateUrl:"app/event/extended-data-item-directive.tpl.html",controller:["$scope","notificationService",function(a,b){function c(){b.success("Copied!")}function d(){return a.demoteTab({tabName:i.title})}function e(a,b){if(!b||0===b.length)return a;var c={};return angular.forEach(a,function(a,d){b.indexOf(d)<0&&(c[d]=a)},c),c}function f(){return angular.toJson(i.data)}function g(){return"undefined"!=typeof i.data&&!angular.equals({},i.data)}function h(){return a.promoteTab({tabName:i.title})}var i=this;i.copied=c,i.canPromote=a.canPromote!==!1,i.data=e(a.data,a.excludedKeys),i.demoteTab=d,i.getDataAsJson=f,i.hasData=g,i.isPromoted=a.isPromoted===!0,i.promoteTab=h,i.showRaw=!1,i.title=a.title}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("app.organization",["ngMessages","ui.bootstrap","ui.router","dialogs.main","dialogs.default-translations","app.config","exceptionless","exceptionless.autofocus","exceptionless.billing","exceptionless.dialog","exceptionless.organization","exceptionless.pagination","exceptionless.project","exceptionless.projects","exceptionless.refresh","exceptionless.token","exceptionless.user","exceptionless.users","exceptionless.validators","exceptionless.web-hook"]).config(["$stateProvider",function(a){a.state("app.organization",{"abstract":!0,url:"/organization",template:'<ui-view autoscroll="true" />'}),a.state("app.organization.list",{url:"/list",controller:"organization.List",controllerAs:"vm",templateUrl:"app/organization/list/list.tpl.html"}),a.state("app.organization.manage",{url:"/{id:[0-9a-fA-F]{24}}/manage?tab",controller:"organization.Manage",controllerAs:"vm",templateUrl:"app/organization/manage/manage.tpl.html"})}])}(),function(){"use strict";angular.module("app.organization").controller("AddOrganizationDialog",["$ExceptionlessClient","$modalInstance","$timeout",function(a,b,c){function d(){a.submitFeatureUsage(f+".cancel"),b.dismiss("cancel")}function e(d){function i(a){var b=c(function(){c.cancel(b),e(!0)},a||100)}return!h.addOrganizationForm||h.addOrganizationForm.$invalid?(g=!0,!d&&i(1e3)):!h.data.name||h.addOrganizationForm.$pending?i():void(g&&(g=!1,a.createFeatureUsage(f+".save").setProperty("name",h.data.name).submit(),b.close(h.data.name)))}var f="app.organization.AddOrganizationDialog",g=!0,h=this;h.addOrganizationForm={},h.cancel=d,h.data={},h.save=e,a.submitFeatureUsage(f)}])}(),function(){"use strict";angular.module("app.organization").controller("organization.List",["$ExceptionlessClient","$rootScope","$scope","$window","$state","billingService","dialogs","dialogService","linkService","notificationService","organizationService","paginationService",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(){return g.create("app/organization/list/add-organization-dialog.tpl.html","AddOrganizationDialog as vm").result.then(n)}function n(a){function b(a){w.organizations.push(a.data.plain())}function c(b){if(426===b.status)return f.confirmUpgradePlan(b.data.message).then(function(){return n(a)});var c="An error occurred while creating the organization.";b.data&&b.data.message&&(c+=" Message: "+b.data.message),j.error(c)}return k.create(a).then(b,c)}function o(a,b){function c(a){w.organizations=a.data.plain();var c=i.getLinksQueryParameters(a.headers("link"));return w.previous=c.previous,w.next=c.next,w.pageSummary=l.getCurrentPageSummary(a.data,w.currentOptions.page,w.currentOptions.limit),0===w.organizations.length&&w.currentOptions.page&&w.currentOptions.page>1?o(null,b):w.organizations}return w.currentOptions=a||v,k.getAll(w.currentOptions,b).then(c)}function p(a,b){return h.confirmDanger("Are you sure you want to leave this organization?","LEAVE ORGANIZATION").then(function(){function c(){w.organizations.splice(w.organizations.indexOf(a),1)}function d(a){var b="An error occurred while trying to leave the organization.";400===a.status&&(b+=" Message: "+a.data.message),j.error(b)}return k.removeUser(a.id,b.email_address).then(c,d)})}function q(b,c){a.createFeatureUsage(u+".open").setProperty("id",b).setProperty("_blank",c.ctrlKey||2===c.which).submit(),c.ctrlKey||2===c.which?d.open(e.href("app.organization.manage",{id:b},{absolute:!0}),"_blank"):e.go("app.organization.manage",{id:b}),c.preventDefault()}function r(){return a.createFeatureUsage(u+".nextPage").setProperty("next",w.next).submit(),o(w.next)}function s(){return a.createFeatureUsage(u+".previousPage").setProperty("previous",w.previous).submit(),o(w.previous)}function t(b){return a.createFeatureUsage(u+".remove").setProperty("organization",b).submit(),h.confirmDanger("Are you sure you want to delete this organization?","DELETE ORGANIZATION").then(function(){function c(){a.createFeatureUsage(u+".remove.success").setProperty("organization",b).submit(),w.organizations.splice(w.organizations.indexOf(b),1)}function d(c){var d="An error occurred while trying to delete the organization.";400===c.status&&(d+=" Message: "+c.data.message),a.createFeatureUsage(u+".remove.error").setProperty("organization",b).submit(),j.error(d)}return k.remove(b.id).then(c,d)})}var u="exceptionless.organization.List",v={limit:10,mode:"summary"},w=this;w.add=m,w.get=o,w.leave=p,w.nextPage=r,w.open=q,w.organizations=[],w.previousPage=s,w.remove=t,a.submitFeatureUsage(u),o()}])}(),function(){"use strict";angular.module("app.organization").controller("AddUserDialog",["$ExceptionlessClient","$modalInstance",function(a,b){function c(){a.submitFeatureUsage(e+".cancel"),b.dismiss("cancel")}function d(c){c&&(a.createFeatureUsage(e+".save").setProperty("email",f.data.email).submit(),b.close(f.data.email))}var e="app.organization.AddUserDialog",f=this;f.cancel=c,f.save=d,a.submitFeatureUsage(e)}])}(),function(){"use strict";angular.module("app.organization").directive("invoices",function(){return{bindToController:!0,restrict:"E",replace:!0,scope:{settings:"="},templateUrl:"app/organization/manage/invoices-directive.tpl.html",controller:["$ExceptionlessClient","$window","$state","dialogService","linkService","notificationService","paginationService","userService",function(a,b,c,d,e,f,g,h){function i(a,b){function c(a){p.invoices=a.data.plain();var c=e.getLinksQueryParameters(a.headers("link"));return p.previous=c.previous,p.next=c.next,p.pageSummary=g.getCurrentPageSummary(a.data,p.currentOptions.page,p.currentOptions.limit),0===p.invoices.length&&p.currentOptions.page&&p.currentOptions.page>1?i(null,b):p.invoices}return p.currentOptions=a||p.settings.options,p.settings.get(p.currentOptions,b).then(c)}function j(a){return h.hasAdminRole(a)}function k(){return p.invoices&&p.invoices.length>0}function l(d){a.createFeatureUsage(o+".open").setProperty("id",d).submit(),b.open(c.href("payment",{id:d},{absolute:!0}),"_blank")}function m(){return a.createFeatureUsage(o+".nextPage").setProperty("next",p.next).submit(),i(p.next)}function n(){return a.createFeatureUsage(o+".previousPage").setProperty("previous",p.previous).submit(),i(p.previous)}var o="exceptionless.organization.invoices",p=this;p.currentOptions={},p.get=i,p.hasAdminRole=j,p.hasInvoices=k,p.nextPage=m,p.open=l,p.previousPage=n,p.invoices=[],a.submitFeatureUsage(o),i()}],controllerAs:"vm"}})}(),function(){"use strict";angular.module("app.organization").controller("organization.Manage",["$state","$stateParams","$window","billingService","dialogService","organizationService","projectService","userService","notificationService","featureService","dialogs","STRIPE_PUBLISHABLE_KEY",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){A.tabBillingActive="billing"===a,A.tabProjectsActive="projects"===a,A.tabUsersActive="users"===a}function n(){return k.create("app/organization/manage/add-user-dialog.tpl.html","AddUserDialog as vm").result.then(q)}function o(){return l&&A.organization}function p(){return d.changePlan(A.organization.id)}function q(a){function b(b){if(426===b.status)return d.confirmUpgradePlan(b.data.message).then(function(){return q(a)});var c="An error occurred while inviting the user.";b.data&&b.data.message&&(c+=" Message: "+b.data.message),i.error(c)}return f.addUser(z,a)["catch"](b)}function r(b){return y?void 0:b&&"Organization"===b.type&&b.deleted&&b.id===z?(a.go("app.dashboard"),void i.error('The organization "'+z+'" was deleted.')):s()}function s(){function b(a){A.organization=a.data.plain()}function c(){a.go("app.dashboard"),i.error('The organization "'+z+'" could not be found.')}return f.getById(z,!1).then(b,c)}function t(a){return h.hasAdminRole(a)}function u(){return j.hasPremium()}function v(b){return e.confirmDanger("Are you sure you want to leave this organization?","LEAVE ORGANIZATION").then(function(){function c(){a.go("app.organization.list")}function d(a){var b="An error occurred while trying to leave the organization.";400===a.status&&(b+=" Message: "+a.data.message),i.error(b),y=!1}return y=!0,f.removeUser(z,b.email_address).then(c,d)})}function w(){return e.confirmDanger("Are you sure you want to delete this organization?","DELETE ORGANIZATION").then(function(){function b(){a.go("app.organization.list")}function c(a){var b="An error occurred while trying to delete the organization.";400===a.status&&(b+=" Message: "+a.data.message),i.error(b),y=!1}return y=!0,f.remove(z).then(b,c)})}function x(a){function b(){i.error("An error occurred while saving the organization.")}if(a)return f.update(z,A.organization)["catch"](b)}var y=!1,z=b.id,A=this;A.addUser=n,A.canChangePlan=o,A.changePlan=p,A.get=r,A.hasAdminRole=t,A.hasPremiumFeatures=u,A.invoices={get:function(a,b){return f.getInvoices(z,a,b)},options:{limit:12},organizationId:z},A.leaveOrganization=v,A.organization={},A.organizationForm={},A.projects={get:function(a,b){return g.getByOrganizationId(z,a,b)},hideOrganizationName:!0,options:{limit:10,mode:"summary"}},A.removeOrganization=w,A.save=x,A.tabBillingActive=!1,A.tabProjectsActive=!1,A.tabUsersActive=!1,A.users={get:function(a,b){return h.getByOrganizationId(z,a,b)},options:{limit:10},organizationId:z},m(b.tab),r()}])}(),function(){"use strict";angular.module("app.payment",["ui.router","exceptionless.organization","exceptionless.rate-limit"]).config(["$stateProvider",function(a){a.state("payment",{url:"/payment/:id",controller:"Payment",controllerAs:"vm",parent:null,templateUrl:"app/payment/payment.tpl.html"})}])}(),function(){"use strict";angular.module("app.payment").controller("Payment",["$state","$stateParams","notificationService","organizationService",function(a,b,c,d){function e(){function b(a){return h.invoice=a.data.plain(),h.invoice}function e(){a.go("app.dashboard"),c.error('The invoice "'+g+'" could not be found.')}return d.getInvoice(g).then(b,e)}function f(){return h.invoice&&h.invoice.paid}var g=b.id,h=this;h.isPaid=f,h.invoice={},e()}])}(),function(){"use strict";angular.module("app.project",["ngMessages","ui.bootstrap","ui.router","dialogs.main","dialogs.default-translations","xeditable","exceptionless","exceptionless.autofocus","exceptionless.billing","exceptionless.dialog","exceptionless.organization-notifications","exceptionless.project","exceptionless.organization","exceptionless.notification","exceptionless.refresh","exceptionless.token","exceptionless.validators"]).config(["$stateProvider","$urlRouterProvider",function(a){a.state("app.project",{"abstract":!0,url:"/project",template:'<ui-view autoscroll="true" />'}),a.state("app.project.add",{url:"/add?{organizationId:[0-9a-fA-F]{24}}",controller:"project.Add",controllerAs:"vm",templateUrl:"app/project/add.tpl.html"}),a.state("app.project.configure",{url:"/:id/configure?redirect",controller:"project.Configure",controllerAs:"vm",templateUrl:"app/project/configure.tpl.html"}),a.state("app.project.list",{url:"/list",controller:"project.List",controllerAs:"vm",templateUrl:"app/project/list.tpl.html"}),a.state("app.project.manage",{url:"/{id:[0-9a-fA-F]{24}}/manage",controller:"project.Manage",controllerAs:"vm",templateUrl:"app/project/manage/manage.tpl.html"})}])}(),function(){"use strict";angular.module("app.project").controller("project.Add",["$state","$stateParams","$timeout","billingService","organizationService","projectService","notificationService",function(a,b,c,d,e,f,g){function h(a){function b(){n=!0}function d(a){var b=c(function(){c.cancel(b),h(!0)},a||100);
}if(!p.addForm||p.addForm.$invalid)return b(),!a&&d(1e3);if(i()&&!p.organization_name||!p.project_name||p.addForm.$pending)return d();if(n)return n=!1,i()?j(p.organization_name).then(k).then(b,b):k(p.currentOrganization).then(b,b)}function i(){return p.currentOrganization.id===o||!m()}function j(a){function b(a){return p.organizations.push(a.data),p.currentOrganization=a.data,a.data}function c(b){if(426===b.status)return d.confirmUpgradePlan(b.data.message).then(function(){return j(a)});var c="An error occurred while creating the organization.";b.data&&b.data.message&&(c+=" Message: "+b.data.message),g.error(c)}return e.create(a).then(b,c)}function k(b){function c(b){a.go("app.project.configure",{id:b.data.id,redirect:!0})}function e(a){if(426===a.status)return d.confirmUpgradePlan(a.data.message).then(function(){return k(b)});var c="An error occurred while creating the project.";a.data&&a.data.message&&(c+=" Message: "+a.data.message),g.error(c)}return b?f.create(b.id,p.project_name).then(c,e):void(n=!0)}function l(){function a(a){p.organizations=a.data,p.organizations.push({id:o,name:"<New Organization>"});var c=p.currentOrganization.id?p.currentOrganization.id:b.organizationId;p.currentOrganization=p.organizations.filter(function(a){return a.id===c})[0],p.currentOrganization||(p.currentOrganization=p.organizations.length>0?p.organizations[0]:{})}e.getAll().then(a)}function m(){return p.organizations.filter(function(a){return a.id!==o}).length>0}var n=!0,o="__newOrganization",p=this;p.add=h,p.addForm={},p.canCreateOrganization=i,p.currentOrganization={},p.getOrganizations=l,p.hasOrganizations=m,p.organizations=[],l()}])}(),function(){"use strict";angular.module("app.project").controller("AddConfigurationDialog",["$ExceptionlessClient","$modalInstance",function(a,b,c){function d(){a.submitFeatureUsage(f+".cancel"),b.dismiss("cancel")}function e(c){c&&(a.createFeatureUsage(f+".save").setProperty("configuration",g.data).submit(),b.close(g.data))}var f="app.project.AddConfigurationDialog",g=this;g.cancel=d,g.configuration=c,g.data={},g.save=e,a.submitFeatureUsage(f)}])}(),function(){"use strict";angular.module("app.project").controller("project.Manage",["$state","$stateParams","billingService","projectService","tokenService","webHookService","notificationService","featureService","dialogs","dialogService",function(a,b,c,d,e,f,g,h,i,j){function k(){return i.create("app/project/manage/add-configuration-dialog.tpl.html","AddConfigurationDialog as vm",L.config).result.then(E)}function l(){function a(){g.error("An error occurred while creating a new API key for your project.")}var b={organization_id:L.project.organization_id,project_id:K};return e.create(b)["catch"](a)}function m(){return i.create("components/web-hook/add-web-hook-dialog.tpl.html","AddWebHookDialog as vm").result.then(function(a){return a.project_id=K,n(a)})}function n(a){function b(b){return 426===b.status?c.confirmUpgradePlan(b.data.message).then(function(){return n(a)}):void g.error("An error occurred while saving the configuration setting.")}return f.create(a)["catch"](b)}function o(){g.success("Copied!")}function p(b){return J?void 0:b&&"Project"===b.type&&b.deleted&&b.id===K?(a.go("app.project.list"),void g.error('The project "'+K+'" was deleted.')):q().then(r).then(s).then(t)}function q(){function b(a){return L.project=a.data.plain(),L.project}function c(){a.go("app.project.list"),g.error('The project "'+K+'" could not be found.')}return d.getById(K).then(b,c)}function r(){function a(a){return L.tokens=a.data.plain(),L.tokens}function b(){g.error("An error occurred loading the api keys.")}return e.getByProjectId(K).then(a,b)}function s(){function a(a){return L.config=[],L.data_exclusions=null,angular.forEach(a.data.settings,function(a,b){"@@DataExclusions"===b?L.data_exclusions=a:L.config.push({key:b,value:a})}),L.config}function b(){g.error("An error occurred loading the notification settings.")}return d.getConfig(K).then(a,b)}function t(){function a(a){return L.webHooks=a.data.plain(),L.webHooks}function b(){g.error("An error occurred loading the notification settings.")}return f.getByProjectId(K).then(a,b)}function u(){return L.config.length>0}function v(){return h.hasPremium()}function w(){return L.tokens.length>0}function x(){return L.webHooks.length>0}function y(a){return j.confirmDanger("Are you sure you want to delete this configuration setting?","DELETE CONFIGURATION SETTING").then(function(){function b(){g.error("An error occurred while trying to delete the configuration setting.")}return d.removeConfig(K,a.key)["catch"](b)})}function z(){return j.confirmDanger("Are you sure you want to delete this project?","DELETE PROJECT").then(function(){function b(){a.go("app.project.list")}function c(){g.error("An error occurred while trying to delete the project."),J=!1}return J=!0,d.remove(K).then(b,c)})}function A(a){return j.confirmDanger("Are you sure you want to delete this API key?","DELETE API KEY").then(function(){function b(){g.error("An error occurred while trying to delete the API Key.")}return e.remove(a.id)["catch"](b)})}function B(a){return j.confirmDanger("Are you sure you want to delete this web hook?","DELETE WEB HOOK").then(function(){function b(){g.error("An error occurred while trying to delete the web hook.")}return f.remove(a.id)["catch"](b)})}function C(){return j.confirmDanger("Are you sure you want to reset the data for this project?","RESET PROJECT DATA").then(function(){function a(){g.error("An error occurred while resetting project data.")}return d.resetData(K)["catch"](a)})}function D(a){function b(){g.error("An error occurred while saving the project.")}if(a)return d.update(K,L.project)["catch"](b)}function E(a){function b(){g.error("An error occurred while saving the configuration setting.")}return d.setConfig(K,a.key,a.value)["catch"](b)}function F(){function a(){g.error("An error occurred while saving the the data exclusion.")}return L.data_exclusions?d.setConfig(K,"@@DataExclusions",L.data_exclusions)["catch"](a):d.removeConfig(K,"@@DataExclusions")["catch"](a)}function G(){function a(){g.error("An error occurred while saving the project.")}return d.update(K,{delete_bot_data_enabled:L.project.delete_bot_data_enabled})["catch"](a)}function H(){return c.changePlan(L.project.organization_id)}function I(a,b){return a===b?!1:b?null:"Please enter a valid value."}var J=!1,K=b.id,L=this;L.addToken=l,L.addConfiguration=k,L.addWebHook=m,L.config=[],L.copied=o,L.data_exclusions=null,L.get=p,L.getTokens=r,L.getWebHooks=t,L.hasConfiguration=u,L.hasPremiumFeatures=v,L.hasTokens=w,L.hasWebHook=x,L.project={},L.projectForm={},L.removeConfig=y,L.removeProject=z,L.removeToken=A,L.removeWebHook=B,L.resetData=C,L.save=D,L.saveClientConfiguration=E,L.saveDataExclusion=F,L.saveDeleteBotDataEnabled=G,L.showChangePlanDialog=H,L.tokens=[],L.validateClientConfiguration=I,L.webHooks=[],p()}])}(),function(){"use strict";angular.module("app.project").controller("project.Configure",["$rootScope","$state","$stateParams","notificationService","projectService","tokenService",function(a,b,c,d,e,f){function g(a){return n&&!!a&&a.project_id===m}function h(){d.success("Copied!")}function i(){function a(a){return o.apiKey=a.data.id,o.apiKey}function b(){d.error("An error occurred while getting the API key for your project.")}return f.getProjectDefault(m).then(a,b)}function j(){function a(a){return o.project=a.data.plain(),o.project}function c(){b.go("app.dashboard"),d.error('The project "'+m+'" could not be found.')}return e.getById(m,!0).then(a,c)}function k(){return[{key:"Exceptionless",name:"Console and Service applications",config:"app.config"},{key:"Exceptionless.Portable",name:"Portable Class Library"},{key:"Exceptionless.Mvc",name:"ASP.NET MVC",config:"web.config"},{key:"Exceptionless.WebApi",name:"ASP.NET Web API",config:"web.config"},{key:"Exceptionless.Web",name:"ASP.NET Web Forms",config:"web.config"},{key:"Exceptionless.Windows",name:"Windows Forms",config:"app.config"},{key:"Exceptionless.Wpf",name:"Windows Presentation Foundation (WPF)",config:"app.config"},{key:"Exceptionless.Nancy",name:"Nancy",config:"app.config"}]}function l(){b.go("app.project-dashboard",{projectId:m})}var m=c.id,n="true"===c.redirect,o=this;o.apiKey=null,o.canRedirect=g,o.copied=h,o.currentProjectType={},o.navigateToDashboard=l,o.project={},o.projectTypes=k(),i().then(j)}])}(),function(){"use strict";angular.module("app.project").controller("project.List",["projectService",function(a){var b=this;b.projects={get:a.getAll,options:{limit:10,mode:"summary"}}}])}(),function(){"use strict";angular.module("app.stack",["ngMessages","ui.bootstrap","ui.router","dialogs.main","dialogs.default-translations","exceptionless","exceptionless.autofocus","exceptionless.dialog","exceptionless.event","exceptionless.events","exceptionless.feature","exceptionless.filter","exceptionless.organization-notifications","exceptionless.promise-button","exceptionless.notification","exceptionless.rate-limit","exceptionless.refresh","exceptionless.stack","exceptionless.stack-trace","exceptionless.stat"]).config(["$stateProvider",function(a){a.state("app.stack",{url:"/stack/{id:[0-9a-fA-F]{24}}",controller:"Stack",controllerAs:"vm",templateUrl:"app/stack/stack.tpl.html"}),a.state("app.stack-action",{url:"/stack/{id:[0-9a-fA-F]{24}}/:action",controller:"Stack",controllerAs:"vm",templateUrl:"app/stack/stack.tpl.html"})}])}(),function(){"use strict";angular.module("app.stack").controller("Stack",["$ExceptionlessClient","$filter","$state","$stateParams","billingService","dialogs","dialogService","eventService","featureService","filterService","notificationService","projectService","stackService","statService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){return a.submitFeatureUsage(K+".addReferenceLink"),f.create("app/stack/add-reference-dialog.tpl.html","AddReferenceDialog as vm").result.then(function(b){function c(){a.createFeatureUsage(K+".addReferenceLink.success").setProperty("url",b).submit(),M.stack.references.push(b)}function d(){a.createFeatureUsage(K+".addReferenceLink.error").setProperty("url",b).submit(),k.error("An error occurred while adding the reference link.")}return M.stack.references.indexOf(b)<0?m.addLink(L,b).then(c,d):void 0})}function p(){var a=d.action;return"mark-fixed"!==a||y()?"stop-notifications"!==a||C()?void 0:J(!0):H(!0)}function q(a){if(!a||"Stack"!==a.type||a.id===L){if(a&&"Stack"===a.type&&a.deleted)return c.go("app.dashboard"),void k.error('The stack "'+L+'" was deleted.');if(a&&"PersistentEvent"===a.type){if(!a.deleted||a.project_id!==M.stack.project_id)return;return t()}return s().then(t).then(r)}}function r(){function a(a){return M.project=a.data.plain(),M.project}return l.getById(M.stack.project_id,!0).then(a)}function s(){function a(a){M.stack=a.data.plain(),M.stack.references=M.stack.references||[]}function b(a){c.go("app.dashboard"),404===a.status?k.error('The stack "'+L+'" could not be found.'):k.error('An error occurred while loading the stack "'+L+'".')}return m.getById(L).then(a,b)}function t(){function a(a){M.stats=a.data.plain(),M.stats.timeline||(M.stats.timeline=[]),M.chart.options.series[0].data=M.stats.timeline.map(function(a){return{x:moment.utc(a.date).unix(),y:a.total,data:a}})}var b={};return n.getByStackId(L,b).then(a)}function u(){return M.stack.tags&&M.stack.tags.length>0}function v(){return M.stack.references&&M.stack.references.length>0}function w(){return M.stack.references&&M.stack.references.length>1}function x(){return M.stack.occurrences_are_critical===!0}function y(){return!!M.stack.date_fixed}function z(){return M.stack.is_hidden===!0}function A(){return M.stack.is_regressed===!0}function B(a){var b=moment(a);return!!a&&b.isValid()&&b.year()>1}function C(){return M.stack.disable_notifications===!0}function D(){function b(){a.createFeatureUsage(K+".promoteToExternal.success").setProperty("id",L).submit(),k.success("Successfully promoted stack!")}function d(b){return a.createFeatureUsage(K+".promoteToExternal.error").setProperty("id",L).setProperty("response",b).submit(),426===b.status?e.confirmUpgradePlan(b.data.message,M.stack.organization_id).then(function(){return D()}):501===b.status?g.confirm(b.data.message,"Manage Integrations").then(function(){c.go("app.project.manage",{id:M.stack.project_id})}):void k.error("An error occurred while promoting this stack.")}if(a.createFeatureUsage(K+".promoteToExternal").setProperty("id",L).submit(),!i.hasPremium()){var f="Promote to External is a premium feature used to promote an error stack to an external system. Please upgrade your plan to enable this feature.";return e.confirmUpgradePlan(f,M.stack.organization_id).then(function(){return D()})}return m.promote(L).then(b,d)}function E(b){return a.createFeatureUsage(K+".removeReferenceLink").setProperty("id",L).submit(),g.confirmDanger("Are you sure you want to delete this reference link?","DELETE REFERENCE LINK").then(function(){function c(){a.createFeatureUsage(K+".removeReferenceLink.success").setProperty("id",L).submit()}function d(b){a.createFeatureUsage(K+".removeReferenceLink.error").setProperty("id",L).setProperty("response",b).submit(),k.info("An error occurred while deleting the external reference link.")}return m.removeLink(L,b).then(c,d)})}function F(){a.createFeatureUsage(K+".remove").setProperty("id",L).submit();var b="Are you sure you want to delete this stack?";return g.confirmDanger(b,"DELETE STACK").then(function(){function b(){a.createFeatureUsage(K+".remove.success").setProperty("id",L).submit(),c.go("app.project-dashboard",{projectId:M.stack.project_id})}function d(b){a.createFeatureUsage(K+".remove.error").setProperty("id",L).setProperty("response",b).submit(),k.error("An error occurred while deleting this stack.")}return m.remove(L).then(b,d)})}function G(){function b(){a.createFeatureUsage(K+".updateIsCritical.success").setProperty("id",L).submit()}function c(b){a.createFeatureUsage(K+".updateIsCritical.error").setProperty("id",L).setProperty("response",b).submit(),k.error("not critical.")}return a.createFeatureUsage(K+".updateIsCritical").setProperty("id",L).submit(),x()?m.markNotCritical(L).then(b,c):m.markCritical(L)["catch"](b,c)}function H(b){function c(){if(a.createFeatureUsage(K+".updateIsFixed.success").setProperty("id",L).submit(),b){var c=y()?" not":"";k.info("Successfully marked this stack as"+c+" fixed.")}}function d(b){a.createFeatureUsage(K+".updateIsFixed.error").setProperty("id",L).setProperty("response",b).submit();var c=y()?" not":"";k.error("An error occurred while marking this stack as"+c+" fixed.")}return a.createFeatureUsage(K+".updateIsFixed").setProperty("id",L).submit(),y()?m.markNotFixed(L).then(c,d):m.markFixed(L).then(c,d)}function I(){function b(){a.createFeatureUsage(K+".updateIsHidden.success").setProperty("id",L).submit()}function c(b){a.createFeatureUsage(K+".updateIsHidden.error").setProperty("id",L).setProperty("response",b).submit(),k.error("shown.")}return a.createFeatureUsage(K+".updateIsHidden").setProperty("id",L).submit(),z()?m.markNotHidden(L).then(b,c):m.markHidden(L).then(b,c)}function J(b){function c(){if(a.createFeatureUsage(K+".updateNotifications.success").setProperty("id",L).submit(),b){var c=C()?"enabled":"disabled";k.info("Successfully "+c+" stack notifications.")}}function d(b){a.createFeatureUsage(K+".updateNotifications.error").setProperty("id",L).setProperty("response",b).submit();var c=C()?"enabling":"disabling";k.error("An error occurred while "+c+" stack notifications.")}return a.createFeatureUsage(K+".updateNotifications").setProperty("id",L).submit(),C()?m.enableNotifications(L).then(c,d):m.disableNotifications(L).then(c,d)}var K="app.stack.Stack",L=d.id,M=this;M.addReferenceLink=o,M.chart={options:{renderer:"stack",stroke:!0,padding:{top:.085},series:[{name:"Occurrences",color:"rgba(124, 194, 49, .9)",stroke:"rgba(0, 0, 0, 0.15)"}]},features:{hover:{render:function(a){var c=moment.unix(a.domainX).utc(),d=0===c.hours()?b("date")(c.toDate(),"mediumDate"):b("date")(c.toDate(),"medium"),e='<div class="date">'+d+"</div>";a.detail.sort(function(a,b){return a.order-b.order}).forEach(function(a){var c='<span class="detail-swatch" style="background-color: '+a.series.color.replace("0.5","1")+'"></span>';e+=c+b("number")(a.value.data.total)+" "+a.series.name+" <br />"},this);var f=document.createElement("div");f.className="x_label",f.innerHTML=e,this.element.appendChild(f);var g=this._calcLayoutError([f]);if(g>0){f.classList.remove("left"),f.classList.add("right");var h=this._calcLayoutError([f]);h>g&&(f.classList.remove("right"),f.classList.add("left"))}this.show()}},range:{onSelection:function(b){var c=moment.unix(b.coordMinX).utc(),d=moment.unix(b.coordMaxX).utc();return j.setTime(c.format("YYYY-MM-DDTHH:mm:ss")+"-"+d.format("YYYY-MM-DDTHH:mm:ss")),a.createFeatureUsage(K+".chart.range.onSelection").setProperty("id",L).setProperty("start",c).setProperty("end",d).submit(),!1}},yAxis:{ticks:5,tickFormat:"formatKMBT",ticksTreatment:"glow"}}},M.get=q,M.hasTags=u,M.hasReference=v,M.hasReferences=w,M.isCritical=x,M.isFixed=y,M.isHidden=z,M.isRegressed=A,M.isValidDate=B,M.notificationsDisabled=C,M.promoteToExternal=D,M.project={},M.remove=F,M.removeReferenceLink=E,M.recentOccurrences={get:function(a){return h.getByStackId(L,a)},summary:{showType:!1},options:{limit:10,mode:"summary"},source:K+".Recent"},M.stack={},M.stats={},M.updateIsCritical=G,M.updateIsFixed=H,M.updateIsHidden=I,M.updateNotifications=J,q().then(p)}])}(),function(){"use strict";angular.module("app.stack").controller("AddReferenceDialog",["$ExceptionlessClient","$modalInstance",function(a,b){function c(){a.submitFeatureUsage(e+".cancel"),b.dismiss("cancel")}function d(c){c&&(a.createFeatureUsage(e+".save").setProperty("url",f.data.url).submit(),b.close(f.data.url))}var e="app.stack.AddReferenceDialog",f=this;f.cancel=c,f.save=d,a.submitFeatureUsage(e)}])}(),function(){"use strict";angular.module("app.status",["ui.router","exceptionless.auth","exceptionless.state","exceptionless.status"]).config(["$stateProvider",function(a){a.state("status",{url:"/status?redirect",controller:"Status",controllerAs:"vm",templateUrl:"app/status/status.tpl.html"})}])}(),function(){"use strict";angular.module("app.status").controller("Status",["$interval","$scope","$state","$stateParams","authService","stateService","statusService","Restangular",function(a,b,c,d,e,f,g,h){function i(){return m?"We're sorry but the website is currently undergoing maintenance. You’ll be automatically redirected when the the maintenance is completed. Please contact support for more information.":l?l:"We're sorry but the website is currently undergoing maintenance. Please contact support for more information."}function j(){function a(a){a&&a.data&&a.data.message?(l=a.data.message,200!==a.status&&(l+=" Please contact support for more information.")):l=null}function b(b){return m&&moment().diff(k,"seconds")>30?e.isAuthenticated()?f.restore():c.go("auth.login"):a(b)}return g.get().then(b,a)}var k=moment(),l=null,m=!!d.redirect,n=this,o=a(j,3e4);b.$on("$destroy",function(){a.cancel(o)}),n.getMessage=i,j()}])}(),angular.module("app").run(["$templateCache",function(a){"use strict";a.put("app/account/manage.tpl.html",'<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col" refresh-on="UserChanged ProjectChanged" refresh-action="vm.get(data)" refresh-debounce="1000"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-user"></i> My Account</div> <div class="panel-body m-b-n"> <tabset class="tab-container"> <tab heading="General"> <form name="fullNameForm" role="form" class="form-validation" autocomplete="on"> <div class="form-group"> <img gravatar-src="vm.user.email_address" gravatar-size="100" alt="{{vm.user.full_name}}" class="avatar"> <div> <small> Your avatar is generated by requesting a <a href="https://gravatar.com" target="_blank">Gravatar image</a> with the email address below. </small> </div> </div> <div class="form-group"> <label for="name">Full Name</label> <input id="name" name="name" type="text" class="form-control" x-autocompletetype="full-name" autocapitalize="words" autocorrect="off" spellcheck placeholder="Your first and last name" ng-model="vm.user.full_name" ng-model-options="{ debounce: 500 }" ng-change="vm.saveUser(fullNameForm.$valid)" ng-required="true" autofocus> <div class="error" ng-messages="fullNameForm.name.$error" ng-if="fullNameForm.$submitted || fullNameForm.name.$touched"> <small ng-message="required">Full Name is required.</small> </div> </div> </form> <form name="vm.emailAddressForm" role="form" class="form-validation" autocomplete="on"> <div class="form-group"> <label for="email">Email Address</label> <div ng-class="{\'input-group\': vm.emailAddressForm.$pending }"> <input id="email" name="email" type="email" class="form-control" x-autocompletetype="email" autocorrect="off" spellcheck placeholder="Email Address" ng-model="vm.user.email_address" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailAddress()" email-address-available-validator required> <span class="input-group-addon" ng-if="vm.emailAddressForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.emailAddressForm.email.$error" ng-if="vm.emailAddressForm.$submitted || vm.emailAddressForm.email.$touched"> <small ng-message="required">Email Address is required.</small> <small ng-message="email">Email Address is required.</small> <small ng-message="unique">A user already exists with this email address.</small> </div> <p ng-if="!vm.user.is_email_address_verified" class="help-block"> Email not verified. <a ng-click="vm.resendVerificationEmail()">Resend</a> verification email. </p> </div> </form> </tab> <tab heading="Notifications" active="vm.tabNotificationsActive"> <form role="form" class="form-validation"> <div class="alert in fade alert-danger" ng-if="!vm.user.is_email_address_verified || !vm.user.email_notifications_enabled"> Email notifications are currently disabled. <span ng-if="!vm.user.is_email_address_verified">To enable email notifications you must first verify your email address. <a ng-click="vm.resendVerificationEmail()">Resend</a> verification email.</span> </div> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="vm.user.email_notifications_enabled" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEnableEmailNotification()"> <i></i> Enable email notifications </label> </div> <div ng-if="vm.hasProjects()"> <hr> <p>Choose how often you want to receive notifications for event occurrences in this project.</p> <select class="form-control" ng-model="vm.currentProject" ng-change="vm.getEmailNotificationSettings()" ng-disabled="!vm.hasEmailNotifications()" ng-options="project.name group by project.organization_name for project in vm.projects | orderBy: \'name\' track by project.id"></select> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="vm.emailNotificationSettings.send_daily_summary" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailNotificationSettings()" ng-disabled="!vm.hasEmailNotifications()"> <i></i> Send daily project summary </label> </div> <hr ng-if="!vm.hasPremiumFeatures()"> <div class="alert in fade alert-success" ng-if="!vm.hasPremiumFeatures()"> <a ng-click="vm.showChangePlanDialog()">Upgrade now</a> to enable occurrence level notifications! </div> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="vm.emailNotificationSettings.report_new_errors" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailNotificationSettings()" ng-disabled="!vm.hasPremiumEmailNotifications()"> <i></i> Notify me on new errors </label> </div> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="vm.emailNotificationSettings.report_critical_errors" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailNotificationSettings()" ng-disabled="!vm.hasPremiumEmailNotifications()"> <i></i> Notify me on critical errors </label> </div> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="vm.emailNotificationSettings.report_event_regressions" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailNotificationSettings()" ng-disabled="!vm.hasPremiumEmailNotifications()"> <i></i> Notify me on error regressions </label> </div> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="vm.emailNotificationSettings.report_new_events" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailNotificationSettings()" ng-disabled="!vm.hasPremiumEmailNotifications()"> <i></i> Notify me on new events </label> </div> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="vm.emailNotificationSettings.report_critical_events" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailNotificationSettings()" ng-disabled="!vm.hasPremiumEmailNotifications()"> <i></i> Notify me on critical events </label> </div> </div> </form> </tab> <tab heading="Password" active="vm.tabPasswordActive"> <form name="vm.passwordForm" role="form" class="form-validation"> <div class="form-group" ng-if="vm.hasLocalAccount()"> <label for="current">Current Password</label> <input id="current" name="current" type="password" class="form-control" ng-model="vm.password.current_password" required> <div class="error" ng-messages="vm.passwordForm.current.$error" ng-if="vm.passwordForm.$submitted || vm.passwordForm.current.$touched"> <small ng-message="required">Current Password is required.</small> </div> </div> <div class="form-group"> <label for="newPassword">New Password</label> <input id="newPassword" name="newPassword" type="password" class="form-control" ng-model="vm.password.password" ng-minlength="6" ng-maxlength="100" required> <div class="error" ng-messages="vm.passwordForm.newPassword.$error" ng-if="vm.passwordForm.$submitted || vm.passwordForm.newPassword.$touched"> <small ng-message="required">New Password is required.</small> <small ng-message="minlength">New Password must be at least 6 characters long.</small> <small ng-message="maxlength">New Password must be less than 101 characters long.</small> </div> </div> <div class="form-group"> <label for="confirmPassword">Confirm password</label> <input id="confirmPassword" name="confirmPassword" type="password" class="form-control" ng-model="vm.password.confirm_password" match="vm.password.password" ng-minlength="6" ng-maxlength="100" ng-required="true"> <div class="error" ng-messages="vm.passwordForm.confirmPassword.$error" ng-if="vm.passwordForm.$submitted || vm.passwordForm.confirmPassword.$touched"> <small ng-message="match">New Password and Confirmation Password fields do not match.</small> <small ng-message="required">Confirm Password is required.</small> <small ng-message="minlength">Confirm Password must be at least 6 characters long.</small> <small ng-message="maxlength">Confirm Password must be less than 101 characters long.</small> </div> </div> <button type="submit" role="button" class="btn btn-primary" promise-button="vm.changePassword(vm.passwordForm.$valid)" promise-button-busy-text="{{vm.hasLocalAccount() ? \'Changing Password\' : \'Setting Password\'}}">{{vm.hasLocalAccount() ? \'Change Password\' : \'Set Password\'}}</button> </form> </tab> <tab heading="External Logins" active="vm.tabExternalActive" ng-if="vm.isExternalLoginEnabled()"> <h4>Add an external login</h4> <div> <button type="button" role="button" ng-click="vm.authenticate(\'live\')" ng-if="vm.isExternalLoginEnabled(\'live\')" class="btn btn-large image-button icon-login-microsoft" title="Log in using your Microsoft account"></button> <button type="button" role="button" ng-click="vm.authenticate(\'google\')" ng-if="vm.isExternalLoginEnabled(\'google\')" class="btn btn-large image-button icon-login-google" title="Log in using your Google account"></button> <button type="button" role="button" ng-click="vm.authenticate(\'facebook\')" ng-if="vm.isExternalLoginEnabled(\'facebook\')" class="btn btn-large image-button icon-login-facebook" title="Log in using your Facebook account"></button> <button type="button" role="button" ng-click="vm.authenticate(\'github\')" ng-if="vm.isExternalLoginEnabled(\'github\')" class="btn btn-large image-button icon-login-github" title="Log in using your GitHub account"></button> </div> <h4>Existing external logins</h4> <div class="table-responsive"> <table class="table table-striped table-bordered table-fixed b-t"> <thead> <tr> <th>Name</th> <th class="action">Actions</th> </tr> </thead> <tbody> <tr ng-repeat="account in vm.user.o_auth_accounts" ng-if="vm.hasOAuthAccounts()"> <td>{{::account.provider}} ({{::account.username || account.provider_user_id}})</td> <td> <button type="button" role="button" class="btn btn-sm" title="Remove" ng-disabled="!vm.canRemoveOAuthAccount()" ng-click="vm.unlink(account)"> <i class="fa fa-times"></i> </button> </td> </tr> <tr ng-if="!vm.hasOAuthAccounts()"> <td colspan="2"> <strong>No external logins were found.</strong> </td> </tr> </tbody> </table> </div> </tab> </tabset> </div> <footer class="panel-footer"> <div class="pull-right"> <div ng-if="!vm.currentProject.id"> <a ui-sref="app.dashboard" class="btn btn-default" role="button">Go To Dashboard</a> </div> <div ng-if="vm.currentProject.id"> <a ui-sref="app.project-dashboard({ projectId: vm.currentProject.id })" class="btn btn-default" role="button">Go To Dashboard</a> </div> </div> <div class="clearfix"></div> </footer> </div> </div> </div> </div>'),a.put("app/admin/dashboard.tpl.html",'<div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="PersistentEventChanged" refresh-action="vm.get()" refresh-throttle="2500"> <div class="col" refresh-on="filterChanged" refresh-action="vm.get()"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-signal"></i> Dashboard</div> </div> </div> </div> </div>'),a.put("app/app.tpl.html",'<div class="app-header-fixed app-aside-fixed" ng-class="{\'app-aside-folded\': appVm.isSideNavCollapsed}"> <div ng-include="\'app/blocks/header.tpl.html\'" class="app-header navbar"></div> <div ng-include="\'app/blocks/sidebar.tpl.html\'" class="app-aside hidden-xs bg-dark"></div> <div class="app-content" refresh-on="UserChanged" refresh-action="appVm.getUser(data)" refresh-debounce="1000"> <div refresh-on="OrganizationChanged" refresh-action="appVm.getOrganizations()" refresh-debounce="1000"></div> <button type="button" role="button" class="off-screen-toggle hide" ui-toggle-class="off-screen" data-target=".app-aside"></button> <div class="alert alert-danger alert-banner m-b-none" ng-if="appVm.hasSystemNotificationMessage()"> <div ng-bind-html="appVm.getSystemNotificationMessage()"></div> </div> <rate-limit></rate-limit> <div class="app-content-body fade-in" ui-view autoscroll="true"></div> </div> <div class="app-footer wrapper b-t bg-light"> <span class="pull-right"> <a href="https://github.com/exceptionless/Exceptionless.UI/releases" target="_blank">2.1.532</a> <a href="javascript:void(0);" ui-scroll="app" class="m-l-sm text-muted"><i class="fa fa-long-arrow-up"></i></a> </span> &copy; 2015 <a href="http://exceptionless.io">Exceptionless</a> </div> <intercom ng-if="appVm.isIntercomEnabled()"></intercom> </div>'),a.put("app/auth/forgot-password.tpl.html",'<div> <rate-limit></rate-limit> <div class="container w-auto-xs"> <div class="text-center m-t"> <a href="http://exceptionless.io"> <img src="/img/exceptionless-350.png" alt="logo"> </a> </div> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><strong>Reset your password</strong></div> <div class="panel-body"> <form name="forgotForm" role="form" class="form-validation form-horizontal" autocomplete="on"> <div class="form-group"> <label for="email" class="col-sm-2 control-label">Email</label> <div class="col-sm-10"> <input id="email" name="email" type="email" class="form-control" placeholder="Email address" x-autocompletetype="email" autocorrect="off" spellcheck ng-model="vm.email" ng-required="true" autofocus> <div class="error" ng-messages="forgotForm.email.$error" ng-if="forgotForm.$submitted || forgotForm.email.$touched"> <small ng-message="required">Email Address is required.</small> <small ng-message="email">Email Address is required.</small> </div> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.resetPassword(forgotForm.$valid)" value="Forgot Password"> </div> </div> </form> </div> </div> </div> </div> </div> </div> </div>'),
a.put("app/auth/login.tpl.html",'<div> <rate-limit></rate-limit> <div class="container w-auto-xs"> <div class="text-center m-t"> <a href="http://exceptionless.io"> <img src="/img/exceptionless-350.png" alt="logo"> </a> </div> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-body"> <form name="vm.loginForm" role="form" class="form-horizontal form-validation" autocomplete="on"> <div class="form-horizontal col-sm-offset-2"> <h4>Login <span ng-if="vm.isExternalLoginEnabled()">with</span></h4> <div class="form-group" style="margin-left:0px" ng-if="vm.isExternalLoginEnabled()"> <button type="button" role="button" ng-click="vm.authenticate(\'live\')" ng-if="vm.isExternalLoginEnabled(\'live\')" class="btn btn-large image-button icon-login-microsoft" title="Log in using your Microsoft account"></button> <button type="button" role="button" ng-click="vm.authenticate(\'google\')" ng-if="vm.isExternalLoginEnabled(\'google\')" class="btn btn-large image-button icon-login-google" title="Log in using your Google account"></button> <button type="button" role="button" ng-click="vm.authenticate(\'facebook\')" ng-if="vm.isExternalLoginEnabled(\'facebook\')" class="btn btn-large image-button icon-login-facebook" title="Log in using your Facebook account"></button> <button type="button" role="button" ng-click="vm.authenticate(\'github\')" ng-if="vm.isExternalLoginEnabled(\'github\')" class="btn btn-large image-button icon-login-github" title="Log in using your GitHub account"></button> </div> <div class="form-group" ng-if="vm.isExternalLoginEnabled()"> <div class="col-sm-10 horizontal-divider"> <p>OR</p> <span></span> </div> </div> </div> <div class="form-group"> <label for="email" class="col-sm-2 control-label">Email</label> <div class="col-sm-10"> <input id="email" name="email" type="email" class="form-control" placeholder="Email address" x-autocompletetype="email" autocorrect="off" spellcheck ng-model="vm.user.email" ng-required="true" autofocus> <div class="error" ng-messages="vm.loginForm.email.$error" ng-if="vm.loginForm.$submitted || vm.loginForm.email.$touched"> <small ng-message="required">Email Address is required.</small> <small ng-message="email">Email Address is required.</small> </div> </div> </div> <div class="form-group"> <label for="password" class="col-sm-2 control-label">Password</label> <div class="col-sm-10"> <input id="password" name="password" type="password" class="form-control" placeholder="Password" ng-model="vm.user.password" ng-minlength="6" ng-maxlength="100" ng-required="true"> <div class="error" ng-messages="vm.loginForm.password.$error" ng-if="vm.loginForm.$submitted || vm.loginForm.password.$touched"> <small ng-message="required">Password is required.</small> <small ng-message="minlength">Password must be at least 6 characters long.</small> <small ng-message="maxlength">Password must be less than 101 characters long.</small> </div> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <input type="submit" role="button" ng-click="vm.login(vm.loginForm.$valid)" class="btn btn-primary" value="Log in"> <a class="btn btn-default" role="button" ui-sref="auth.signup({ token: vm.token })">Signup</a> <p><a ui-sref="auth.forgot-password">Forgot password?</a></p> </div> </div> </form> </div> </div> <div class="text-center"> By signing up, you agree to our <a href="http://exceptionless.io/privacy" target="_blank">Privacy Policy</a> and <a href="http://exceptionless.io/terms" target="_blank">Terms of Service</a>. </div> </div> </div> </div> </div> </div>'),a.put("app/auth/reset-password.tpl.html",'<div> <rate-limit></rate-limit> <div class="container w-auto-xs"> <div class="text-center m-t"> <a href="http://exceptionless.io"> <img src="/img/exceptionless-350.png" alt="logo"> </a> </div> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><strong>Change password</strong></div> <div class="panel-body"> <form name="passwordForm" role="form" class="form-validation form-horizontal"> <div class="form-group"> <label for="password" class="col-sm-2 control-label">New Password</label> <div class="col-sm-10"> <input id="password" name="password" type="password" class="form-control" ng-model="vm.data.password" ng-minlength="6" ng-maxlength="100" ng-required="true" autofocus> <div class="error" ng-messages="passwordForm.password.$error" ng-if="passwordForm.$submitted || passwordForm.password.$touched"> <small ng-message="required">New Password is required.</small> <small ng-message="minlength">New Password must be at least 6 characters long.</small> <small ng-message="maxlength">New Password must be less than 101 characters long.</small> </div> </div> </div> <div class="form-group"> <label for="confirmPassword" class="col-sm-2 control-label">Confirm password</label> <div class="col-sm-10"> <input id="confirmPassword" name="confirmPassword" type="password" class="form-control" ng-model="vm.data.confirm_password" match="vm.data.password" ng-minlength="6" ng-maxlength="100" ng-required="true"> <div class="error" ng-messages="passwordForm.confirmPassword.$error" ng-if="passwordForm.$submitted || passwordForm.confirmPassword.$touched"> <small ng-message="match">New Password and Confirmation Password fields do not match.</small> <small ng-message="required">Confirm Password is required.</small> <small ng-message="minlength">Confirm Password must be at least 6 characters long.</small> <small ng-message="maxlength">Confirm Password must be less than 101 characters long.</small> </div> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.changePassword(passwordForm.$valid)" value="Change Password"> </div> </div> </form> </div> </div> </div> </div> </div> </div> </div>'),a.put("app/auth/signup.tpl.html",'<div> <rate-limit></rate-limit> <div class="container w-auto-xs"> <div class="text-center m-t"> <a href="http://exceptionless.io"> <img src="/img/exceptionless-350.png" alt="logo"> </a> </div> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading text-center"><strong>Signup for a FREE account in seconds</strong></div> <div class="panel-body"> <form name="vm.signupForm" role="form" class="form-horizontal form-validation" autocomplete="on"> <div class="form-horizontal col-sm-offset-2"> <h4 ng-if="vm.isExternalLoginEnabled()">Login with</h4> <div class="form-group" style="margin-left:0px" ng-if="vm.isExternalLoginEnabled()"> <button type="button" role="button" ng-click="vm.authenticate(\'live\')" ng-if="vm.isExternalLoginEnabled(\'live\')" class="btn btn-large image-button icon-login-microsoft" title="Log in using your Microsoft account"></button> <button type="button" role="button" ng-click="vm.authenticate(\'google\')" ng-if="vm.isExternalLoginEnabled(\'google\')" class="btn btn-large image-button icon-login-google" title="Log in using your Google account"></button> <button type="button" role="button" ng-click="vm.authenticate(\'facebook\')" ng-if="vm.isExternalLoginEnabled(\'facebook\')" class="btn btn-large image-button icon-login-facebook" title="Log in using your Facebook account"></button> <button type="button" role="button" ng-click="vm.authenticate(\'github\')" ng-if="vm.isExternalLoginEnabled(\'github\')" class="btn btn-large image-button icon-login-github" title="Log in using your GitHub account"></button> </div> <div class="form-group" ng-if="vm.isExternalLoginEnabled()"> <div class="col-sm-10 horizontal-divider"> <p>OR</p> <span></span> </div> </div> <h4>Create an account</h4> </div> <div class="form-group"> <label for="name" class="col-sm-2 control-label">Name</label> <div class="col-sm-10"> <input id="name" name="name" type="text" class="form-control" placeholder="Your first and last name" x-autocompletetype="full-name" autocapitalize="words" autocorrect="off" spellcheck ng-model="vm.user.name" ng-required="true" autofocus> <div class="error" ng-messages="vm.signupForm.name.$error" ng-if="vm.signupForm.$submitted || vm.signupForm.name.$touched"> <small ng-message="required">Full Name is required.</small> </div> </div> </div> <div class="form-group"> <label for="email" class="col-sm-2 control-label">Email</label> <div class="col-sm-10"> <div ng-class="{\'input-group\': vm.signupForm.$pending }"> <input id="email" name="email" type="email" class="form-control" placeholder="Email address (no spam)" x-autocompletetype="email" autocorrect="off" spellcheck ng-model="vm.user.email" ng-model-options="{ debounce: 500 }" email-address-available-validator ng-required="true"> <span class="input-group-addon" ng-if="vm.signupForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.signupForm.email.$error" ng-if="vm.signupForm.$submitted || vm.signupForm.email.$touched"> <small ng-message="required">Email Address is required.</small> <small ng-message="email">Email Address is required.</small> <small ng-message="unique">A user already exists with this email address.</small> </div> </div> </div> <div class="form-group"> <label for="password" class="col-sm-2 control-label">Password</label> <div class="col-sm-10"> <input id="password" name="password" type="password" class="form-control" placeholder="Password" ng-model="vm.user.password" ng-minlength="6" ng-maxlength="100" ng-required="true"> <div class="error" ng-messages="vm.signupForm.password.$error" ng-if="vm.signupForm.$submitted || vm.signupForm.password.$touched"> <small ng-message="required">Password is required.</small> <small ng-message="minlength">Password must be at least 6 characters long.</small> <small ng-message="maxlength">Password must be less than 101 characters long.</small> </div> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <input type="submit" role="button" ng-click="vm.signup()" class="btn btn-primary btn-lg" value="Create My Account"> <p>Already have an account? <a ui-sref="auth.login({ token: vm.token })">Log In</a></p> </div> </div> </form> </div> </div> <div class="text-center"> By signing up, you agree to our <a href="http://exceptionless.io/privacy" target="_blank">Privacy Policy</a> and <a href="http://exceptionless.io/terms" target="_blank">Terms of Service</a>. </div> </div> </div> </div> </div> </div>'),a.put("app/blocks/header.tpl.html",'<div class="navbar-header bg-black"> <button type="button" role="button" class="pull-right visible-xs dk" ui-toggle-class="show" data-toggle="collapse" data-target=".navbar-collapse"> <i class="fa fa-fw fa-cog"></i> </button> <button type="button" role="button" class="pull-right visible-xs" ui-toggle-class="off-screen" data-target=".app-aside" ui-scroll="app"> <i class="fa fa-fw fa-align-justify"></i> </button> <a ui-sref="app.dashboard" class="navbar-brand text-lt"> <img src="/touch-icon-ipad-114.png" alt="exceptionless" class="icon"> <img src="/img/exceptionless-logo.png" alt="exceptionless" class="hidden-folded"> </a> </div> <div class="collapse navbar-collapse box-shadow bg-black primary-underline"> <div class="nav navbar-nav m-l-sm hidden-xs"> <a class="btn no-shadow navbar-btn" role="button" ng-click="appVm.toggleSideNavCollapsed()"> <i class="fa {{appVm.isSideNavCollapsed ? \'fa-indent\' : \'fa-dedent\'}} fa-fw"></i> </a> </div> <project-filter></project-filter> <date-filter></date-filter> <search-filter></search-filter> <ul class="nav navbar-nav navbar-right"> <li class="dropdown avatar-dd" dropdown> <a class="dropdown-toggle clear" dropdown-toggle> <span class="thumb-sm avatar pull-right m-t-n-sm m-b-n-sm m-l-sm"> <img gravatar-src="appVm.user.email_address" gravatar-size="40" alt="{{appVm.user.full_name}}"> </span> </a> <div class="dropdown-menu w-sm" role="menu"> <div class="panel bg-dark"> <div class="list-group"> <a class="media list-group-item" ui-sref="app.account.manage"><i class="fa fa-user fa-fw"></i> My Account</a> <a class="media list-group-item" ng-click="appVm.changePlan()" ng-if="appVm.canChangePlan()"><i class="fa fa-credit-card fa-fw"></i> Change Plan</a> <a class="media list-group-item" ui-sref="app.account.manage({ tab: \'password\' })"><i class="fa fa-lock fa-fw"></i> Change Password</a> <a class="media list-group-item" href="https://github.com/exceptionless/Exceptionless/wiki" target="_blank"><i class="fa fa-book fa-fw"></i> Documentation</a> <a class="media list-group-item" ng-click="appVm.showIntercom()" ng-if="appVm.isIntercomEnabled()"><i class="fa fa-envelope fa-fw"></i> Support</a> <a class="media list-group-item" ui-sref="auth.logout"><i class="fa fa-power-off fa-fw"></i> Logout</a> </div> </div> </div> </li> </ul> </div>'),a.put("app/blocks/nav.tpl.html",'<ul class="nav"> <li ng-class="{active: appVm.isTypeMenuActive(\'error\')}"> <a href="#" class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-warning fa-fw"></i> <span>Exceptions</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">Exceptions</li> <li> <a ng-href="{{appVm.getDashboardUrl(\'error\')}}"> <i class="fa fa-dashboard fa-fw"></i> <span>Dashboard</span> </a> </li> <li> <a ng-href="{{appVm.getRecentUrl(\'error\')}}"> <i class="fa fa-calendar fa-fw"></i> <span>Most Recent</span> </a> </li> <li> <a ng-href="{{appVm.getFrequentUrl(\'error\')}}"> <i class="fa fa-signal fa-fw"></i> <span>Most Frequent</span> </a> </li> <li> <a ng-href="{{appVm.getNewUrl(\'error\')}}"> <i class="fa fa-asterisk fa-fw"></i> <span>New</span> </a> </li> </ul> </li> <li ng-class="{active: appVm.isTypeMenuActive(\'log\')}"> <a href class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-file-text-o fa-fw"></i> <span>Log Messages</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">Log Messages</li> <li> <a ng-href="{{appVm.getDashboardUrl(\'log\')}}"> <i class="fa fa-dashboard fa-fw"></i> <span>Dashboard</span> </a> </li> <li> <a ng-href="{{appVm.getRecentUrl(\'log\')}}"> <i class="fa fa-calendar fa-fw"></i> <span>Most Recent</span> </a> </li> <li> <a ng-href="{{appVm.getFrequentUrl(\'log\')}}"> <i class="fa fa-signal fa-fw"></i> <span>Most Frequent</span> </a> </li> <li> <a ng-href="{{appVm.getNewUrl(\'log\')}}"> <i class="fa fa-asterisk fa-fw"></i> <span>New</span> </a> </li> </ul> </li> <li ng-class="{active: appVm.isTypeMenuActive(\'404\')}"> <a href class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-unlink fa-fw"></i> <span>Broken Links</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">Broken Links</li> <li> <a ng-href="{{appVm.getDashboardUrl(\'404\')}}"> <i class="fa fa-dashboard fa-fw"></i> <span>Dashboard</span> </a> </li> <li> <a ng-href="{{appVm.getRecentUrl(\'404\')}}"> <i class="fa fa-calendar fa-fw"></i> <span>Most Recent</span> </a> </li> <li> <a ng-href="{{appVm.getFrequentUrl(\'404\')}}"> <i class="fa fa-signal fa-fw"></i> <span>Most Frequent</span> </a> </li> <li> <a ng-href="{{appVm.getNewUrl(\'404\')}}"> <i class="fa fa-asterisk fa-fw"></i> <span>New</span> </a> </li> </ul> </li> <li ng-class="{active: appVm.isTypeMenuActive(\'usage\')}"> <a href class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-check-square-o fa-fw"></i> <span>Feature Usages</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">Feature Usages</li> <li> <a ng-href="{{appVm.getDashboardUrl(\'usage\')}}"> <i class="fa fa-dashboard fa-fw"></i> <span>Dashboard</span> </a> </li> <li> <a ng-href="{{appVm.getRecentUrl(\'usage\')}}"> <i class="fa fa-calendar fa-fw"></i> <span>Most Recent</span> </a> </li> <li> <a ng-href="{{appVm.getFrequentUrl(\'usage\')}}"> <i class="fa fa-signal fa-fw"></i> <span>Most Frequent</span> </a> </li> </ul> </li> <li ng-class="{active: appVm.isAllMenuActive()}"> <a href class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-calendar fa-fw"></i> <span>All Events</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">All Events</li> <li> <a ng-href="{{appVm.getDashboardUrl()}}"> <i class="fa fa-dashboard fa-fw"></i> <span>Dashboard</span> </a> </li> <li> <a ng-href="{{appVm.getRecentUrl()}}"> <i class="fa fa-calendar fa-fw"></i> <span>Most Recent</span> </a> </li> <li> <a ng-href="{{appVm.getFrequentUrl()}}"> <i class="fa fa-signal fa-fw"></i> <span>Most Frequent</span> </a> </li> <li> <a ng-href="{{appVm.getNewUrl()}}"> <i class="fa fa-asterisk fa-fw"></i> <span>New</span> </a> </li> </ul> </li> <li ng-class="{active: appVm.isAdminMenuActive()}"> <a href class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-cog fa-fw"></i> <span>Admin</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">Admin</li> <li> <a ui-sref="app.project.list"> <i class="fa fa-briefcase fa-fw"></i> <span>Projects</span> </a> </li> <li> <a ui-sref="app.organization.list"> <i class="fa fa-group fa-fw"></i> <span>Organizations</span> </a> </li> <li> <a ui-sref="app.account.manage"> <i class="fa fa-user fa-fw"></i> <span>My Account</span> </a> </li> <li ng-if="appVm.hasAdminRole()"> <a ui-sref="app.admin.dashboard"> <i class="fa fa-cogs fa-fw"></i> <span>System</span> </a> </li> </ul> </li> <li> <a href="https://github.com/exceptionless/Exceptionless/wiki" target="_blank" title="Documentation"> <i class="fa fa-book fa-fw"></i> <span>Documentation</span> </a> </li> <li ng-if="appVm.isIntercomEnabled()"> <a ng-click="appVm.showIntercom()" title="Support"> <i class="fa fa-envelope fa-fw"></i> <span>Support</span> </a> </li> </ul>'),a.put("app/blocks/sidebar.tpl.html",'<div class="aside-wrap"> <div class="navi-wrap"> <div class="clearfix hidden-xs text-center hide" id="aside-user"> <div class="dropdown wrapper"> <a ui-sref="app.page.profile"> <span class="thumb-lg w-auto-folded avatar m-t-sm"> <img gravatar-src="appVm.user.email_address" gravatar-size="40" class="img-full" alt="{{appVm.user.full_name}}"> </span> </a> <a href="javascript:void(0);" class="dropdown-toggle hidden-folded"> <span class="clear"> <span class="block m-t-sm"> <strong class="font-bold text-lt">{{appVm.user.full_name}}</strong> <b class="caret"></b> </span> <span class="text-muted text-xs block">{{appVm.user.full_name}}</span> </span> </a> <ul class="dropdown-menu w hidden-folded"> <li> <a ui-sref="app.account.manage"> <i class="fa fa-user fa-fw"></i> My Account </a> </li> <li ng-if="appVm.canChangePlan()"> <a ng-click="appVm.changePlan()"> <i class="fa fa-credit-card fa-fw"></i> Change Plan </a> </li> <li> <a ui-sref="app.account.manage({ tab: \'password\' })"> <i class="fa fa-lock fa-fw"></i> Change Password </a> </li> <li> <a href="https://github.com/exceptionless/Exceptionless/wiki" target="_blank"> <i class="fa fa-book fa-fw"></i> Documentation </a> </li> <li ng-if="appVm.isIntercomEnabled()"> <a ng-click="appVm.showIntercom()"> <i class="fa fa-envelope fa-fw"></i> Support </a> </li> <li class="divider"></li> <li> <a ui-sref="auth.logout"> <i class="fa fa-power-off fa-fw"></i> Logout </a> </li> </ul> </div> <div class="line dk hidden-folded"></div> </div> <nav ui-nav class="navi" ng-include="\'app/blocks/nav.tpl.html\'"></nav> </div> </div>'),a.put("app/dashboard.tpl.html",'<organization-notifications></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="PersistentEventChanged planChanged" refresh-action="vm.get()" refresh-if="vm.canRefresh(data)" refresh-throttle="2500"> <div class="col" refresh-on="filterChanged" refresh-action="vm.get()"> <div class="wrapper-md"> <div class="row"> <div class="col-sm-12"> <div class="row row-sm text-center"> <div class="col-md-3 col-sm-6 col-xs-6"> <a ng-href="{{appVm.getRecentUrl(vm.type)}}" class="dashboard-block"> <div class="rotate"> <i class="fa fa-calendar fa-4x"></i> </div> <div class="details"> <span class="title">Total</span> <span class="sub">{{vm.stats.total || 0 | number : 0}}</span> </div> <i class="fa fa-chevron-right fa-2x more"></i> </a> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <a ng-href="{{appVm.getFrequentUrl(vm.type)}}" class="dashboard-block"> <div class="rotate"> <i class="fa fa-key fa-4x"></i> </div> <div class="details"> <span class="title">Unique</span> <span class="sub">{{vm.stats.unique || 0 | number : 0}}</span> </div> <i class="fa fa-chevron-right fa-2x more"></i> </a> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <a ng-href="{{appVm.getNewUrl(vm.type)}}" class="dashboard-block"> <div class="rotate"> <i class="fa fa-asterisk fa-4x"></i> </div> <div class="details"> <span class="title">New</span> <span class="sub">{{vm.stats.new || 0 | number : 0}}</span> </div> <i class="fa fa-chevron-right fa-2x more"></i> </a> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-line-chart fa-4x"></i> </div> <div class="details"> <span class="title">Per Hour</span> <span class="sub">{{vm.stats.avg_per_hour || 0 | number : 1}}</span> </div> </div> </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-bar-chart-o"></i>History</div> <div class="panel-body"> <rickshaw options="vm.chart.options" features="vm.chart.features"></rickshaw> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-signal"></i>Most Frequent</div> <stacks settings="vm.mostFrequent"></stacks> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-calendar"></i>Most Recent</div> <events settings="vm.mostRecent"></events> </div> </div> </div> </div>'),a.put("app/event/event.tpl.html",'<organization-notifications organization-id="vm.event.organization_id"></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"> <i class="fa fa-calendar"></i> Event Occurrence <div class="pull-right hidden-print"> <a ui-sref="app.stack({ id: vm.event.stack_id })" class="btn btn-default btn-xs fa fa-fw fa-caret-up" role="button" title="Go To Stack"></a> <a ui-sref="app.event({ id: vm.previous, tab: vm.getCurrentTab() })" ng-class="{\'disabled\': !vm.previous}" class="btn btn-default btn-xs fa fa-fw fa-caret-left" role="button" title="Previous Occurrence"></a> <a ui-sref="app.event({ id: vm.next, tab: vm.getCurrentTab() })" ng-class="{\'disabled\': !vm.next}" class="btn btn-default btn-xs fa fa-fw fa-caret-right" role="button" title="Next Occurrence"></a> </div> </div> <div class="panel-body"> <tabset class="tab-container hidden-xs"> <tab ng-repeat="tab in vm.tabs" heading="{{::tab.title | toSpacedWords}}" active="tab.active"> <div ng-include="\'app/event/tabs/\' + tab.template_key + \'.tpl.html\'"></div> </tab> </tabset> <accordion class="visible-xs"> <accordion-group ng-repeat="tab in vm.tabs" heading="{{::tab.title | toSpacedWords}}" is-open="tab.active"> <div ng-include="\'app/event/tabs/\' + tab.template_key + \'.tpl.html\'"></div> </accordion-group> </accordion> </div> <footer class="panel-footer hidden-xs"> <div class="pull-right"> <a ui-sref="app.stack({ id: vm.event.stack_id })" class="btn btn-default" role="button">Go To Stack</a> </div> <a ui-sref="app.event({ id: vm.previous, tab: vm.getCurrentTab() })" ng-class="{\'disabled\': !vm.previous}" class="btn btn-primary" role="button">Previous Occurrence</a> <a ui-sref="app.event({ id: vm.next, tab: vm.getCurrentTab() })" ng-class="{\'disabled\': !vm.next}" class="btn btn-primary" role="button">Next Occurrence</a> </footer> </div> </div> </div>'),a.put("app/event/extended-data-item-directive.tpl.html",'<div ng-if="vm.hasData()"> <div class="pull-right hidden-print"> <button type="button" role="button" class="btn btn-dark btn-xs" title="Copy to Clipboard" clip-copy="vm.getDataAsJson()" clip-click="vm.copied()" clip-hide-on-no-flash> <i class="fa fa-copy"></i> </button> <div class="btn-group btn-group-xs"> <button type="button" role="button" class="btn btn-dark btn-xs" ng-click="vm.showRaw = !vm.showRaw">Toggle View</button>&nbsp; <button type="button" role="button" class="btn btn-dark btn-xs dropdown-toggle" data-toggle="dropdown" ng-if="vm.canPromote"> <span class="caret"></span> </button> <ul class="dropdown-menu pull-right" ng-if="vm.canPromote"> <li ng-if="!vm.isPromoted"><a ng-click="vm.promoteTab()">Promote to Tab</a></li> <li ng-if="vm.isPromoted"><a ng-click="vm.demoteTab()">Demote Tab</a></li> </ul> </div> </div> <h3>{{::vm.title | toSpacedWords}}</h3> <div ng-if="!vm.showRaw"> <object-dump content="vm.data"></object-dump> </div> <pre ng-if="vm.showRaw">{{::vm.data | json }}</pre> </div>'),a.put("app/event/tabs/environment.tpl.html","<h3 class=\"visible-print\">Environment</h3> <table class=\"table table-striped table-bordered table-fixed table-key-value b-t\"> <tr> <th>Occurred On</th> <td>{{::vm.event.date | date: 'medium'}} ( <timeago date=\"vm.event.date\"></timeago> ) </td> </tr> <tr ng-if=\"vm.event.data['@environment'].machine_name\"> <th>Machine Name</th> <td><span truncate>{{::vm.event.data['@environment'].machine_name}}</span></td> </tr> <tr ng-if=\"vm.event.data['@environment'].ip_address\"> <th>IP Address</th> <td>{{::vm.event.data['@environment'].ip_address}}</td> </tr> <tr ng-if=\"vm.event.data['@environment'].processor_count\"> <th>Processor Count</th> <td>{{::vm.event.data['@environment'].processor_count}}</td> </tr> <tr ng-if=\"vm.event.data['@environment'].total_physical_memory\"> <th>Total Memory</th> <td>{{::vm.event.data['@environment'].total_physical_memory | bytes}}</td> </tr> <tr ng-if=\"vm.event.data['@environment'].available_physical_memory\"> <th>Available Memory</th> <td>{{::vm.event.data['@environment'].available_physical_memory | bytes}}</td> </tr> <tr ng-if=\"vm.event.data['@environment'].process_memory_size\"> <th>Process Memory</th> <td>{{::vm.event.data['@environment'].process_memory_size | bytes}}</td> </tr> <tr ng-if=\"vm.event.data['@environment'].o_s_name\"> <th>OS Name</th> <td><span truncate>{{::vm.event.data['@environment'].o_s_name}}</span></td> </tr> <tr ng-if=\"vm.event.data['@environment'].o_s_version\"> <th>OS Version</th> <td>{{::vm.event.data['@environment'].o_s_version}}</td> </tr> <tr ng-if=\"vm.event.data['@environment'].architecture\"> <th>Architecture</th> <td>{{::vm.event.data['@environment'].architecture}}</td> </tr> <tr ng-if=\"vm.event.data['@environment'].runtime_version\"> <th>Runtime Version</th> <td>{{::vm.event.data['@environment'].runtime_version}}</td> </tr> <tr ng-if=\"vm.event.data['@environment'].process_id\"> <th>Process ID</th> <td>{{::vm.event.data['@environment'].process_id}}</td> </tr> <tr ng-if=\"vm.event.data['@environment'].process_name\"> <th>Process Name</th> <td><span truncate>{{::vm.event.data['@environment'].process_name}}</span></td> </tr> <tr ng-if=\"vm.event.data['@environment'].command_line\"> <th>Command Line</th> <td><span truncate lines=\"2\">{{::vm.event.data['@environment'].command_line}}</span></td> </tr> </table>"),a.put("app/event/tabs/error.tpl.html",'<h3 class="visible-print">Exception</h3> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr> <th>Occurred On</th> <td>{{::vm.event.date | date: \'medium\'}} ( <timeago date="vm.event.date"></timeago> ) </td> </tr> <tr> <th>Error Type</th> <td><span truncate>{{::vm.getErrorType()}}</span></td> </tr> <tr> <th>Message</th> <td><span truncate lines="4">{{::vm.getMessage()}}</span></td> </tr> <tr ng-if="vm.event.data[\'@error\'].code"> <th>Code</th> <td><span truncate>{{::vm.event.data[\'@error\'].code}}</span></td> </tr> <tr ng-if="vm.event.data[\'@submission_method\']"> <th>Submission Method</th> <td><span truncate>{{::vm.event.data[\'@submission_method\']}}</span></td> </tr> </table> <h3>Stack Trace</h3> <stack-trace exception="vm.event.data[\'@error\']"></stack-trace> <div ng-if="vm.event.data[\'@error\'].modules.length > 0"> <h4>Loaded Modules</h4> <table class="table table-striped table-bordered table-fixed b-t"> <thead> <tr> <th>Name</th> <th class="version">Version</th> </tr> </thead> <tbody> <tr ng-repeat="module in vm.event.data[\'@error\'].modules track by module.module_id"> <td><span truncate>{{::module.name}}</span></td> <td>{{::module.version}}</td> </tr> </tbody> </table> </div> <extended-data-item can-promote="false" title="\'Additional Data\'" data="vm.event.data[\'@error\'].data[\'@ext\']"></extended-data-item>'),a.put("app/event/tabs/extended-data.tpl.html",'<h3 class="visible-print">Extended Data</h3> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr> <th>Occurred On</th> <td>{{::vm.event.date | date: \'medium\'}} (<timeago date="vm.event.date"></timeago>)</td> </tr> </table> <extended-data-item title="item.title" data="item.data" promote-tab="vm.promoteTab(tabName)" ng-repeat="item in tab.data"></extended-data-item>'),a.put("app/event/tabs/overview.tpl.html",'<table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr> <th>Occurred On</th> <td>{{::vm.event.date | date: \'medium\'}} ( <timeago date="vm.event.date"></timeago> ) </td> </tr> <tr> <th>Project</th> <td><a ui-sref="app.project-dashboard({ projectId: vm.project.id })">{{vm.project.name}}</a></td> </tr> <tr ng-if="vm.event.session_id"> <th>Session</th> <td>{{vm.event.session_id}}</td> </tr> <tr class="hidden-print" ng-if="vm.hasLevel()"> <th>Level</th> <td><span class="label label-default" ng-class="{ \'label-success\': vm.isLevelSuccess(), \'label-info\': vm.isLevelInfo(), \'label-warning\': vm.isLevelWarning(), \'label-danger\': vm.isLevelError() }">{{::vm.event.data[\'@level\']}}</span></td> </tr> <tr class="hidden-print" ng-if="!vm.isError()"> <th>Event Type</th> <td><span truncate>{{::vm.event.type}}</span></td> </tr> <tr class="hidden-print" ng-if="vm.isError()"> <th>Error Type</th> <td><span truncate>{{::vm.getErrorType()}}</span></td> </tr> <tr class="hidden-print" ng-if="vm.event.source"> <th>Source</th> <td><span truncate lines="2">{{::vm.event.source}}</span></td> </tr> <tr class="hidden-print" ng-if="vm.event.message || vm.getMessage()"> <th>Message</th> <td><span truncate lines="4">{{::vm.event.message || vm.getMessage()}}</span></td> </tr> <tr class="hidden-print" ng-if="vm.hasVersion()"> <th>Version</th> <td>{{::vm.getVersion()}}</td> </tr> <tr ng-if="vm.hasTags()"> <th>Tags</th> <td><span class="label label-info" ng-repeat="tag in vm.event.tags track by tag">{{tag}}</span></td> </tr> <tr class="hidden-print" ng-if="vm.event.code"> <th>Code</th> <td><span truncate>{{::vm.event.code}}</span></td> </tr> <tr class="hidden-print" ng-if="vm.hasRequestInfo()"> <th>URL</th> <td><a ng-href="{{::vm.getRequestUrl()}}" target="_blank" truncate>{{::vm.getRequestUrl()}}</a></td> </tr> </table> <div ng-if="vm.hasUserEmail() || vm.hasUserDescription() || vm.hasIdentity() || vm.hasUserName()"> <h4>User Info</h4> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr ng-if="vm.hasUserEmail()"> <th>User Email</th> <td><a ng-href="mailto:{{::vm.event.data[\'@user_description\'].email_address}}" truncate>{{::vm.event.data[\'@user_description\'].email_address}}</a> </td> </tr> <tr ng-if="vm.hasIdentity()"> <th>User Identity</th> <td><span truncate>{{::vm.event.data[\'@user\'].identity}}</span></td> </tr> <tr ng-if="vm.hasUserName()"> <th>User Name</th> <td><span truncate>{{::vm.event.data[\'@user\'].name}}</span></td> </tr> <tr ng-if="vm.hasUserDescription()"> <th>User Description</th> <td><span truncate lines="2">{{::vm.event.data[\'@user_description\'].description}}</span></td> </tr> </table> </div> <div class="hidden-print" ng-if="vm.isError()"> <h4>Stack Trace</h4> <stack-trace class="stack-trace-mini" exception="vm.event.data[\'@error\']" ng-if="vm.event.data[\'@error\']"></stack-trace> <simple-stack-trace class="stack-trace-mini" exception="vm.event.data[\'@simple_error\']" ng-if="vm.event.data[\'@simple_error\']"></simple-stack-trace> </div>'),
a.put("app/event/tabs/promoted.tpl.html",'<h3 class="visible-print">{{::tab.title | toSpacedWords}}</h3> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr> <th>Occurred On</th> <td>{{::vm.event.date | date: \'medium\'}} (<timeago date="vm.event.date"></timeago>)</td> </tr> </table> <extended-data-item title="tab.title" data="tab.data" demote-tab="vm.demoteTab(tabName)" is-promoted="true"></extended-data-item>'),a.put("app/event/tabs/request.tpl.html","<h3 class=\"visible-print\">Request</h3> <table class=\"table table-striped table-bordered table-fixed table-key-value b-t\"> <tr> <th>Occurred On</th> <td>{{::vm.event.date | date: 'medium'}} (<timeago date=\"vm.event.date\"></timeago>)</td> </tr> <tr ng-if=\"vm.event.data['@request'].http_method\"> <th>HTTP Method</th> <td>{{::vm.event.data['@request'].http_method}}</td> </tr> <tr> <th>URL</th> <td><a ng-href=\"{{::vm.getRequestUrl()}}\" target=\"_blank\" truncate>{{::vm.getRequestUrl()}}</a></td> </tr> <tr> <th>Referrer</th> <td> <span ng-if=\"vm.hasReferrer()\"> <a ng-href=\"{{::vm.event.data['@request'].referrer}}\" target=\"_blank\" truncate>{{::vm.event.data['@request'].referrer}}</a> </span> <em ng-if=\"!vm.hasReferrer()\">None</em> </td> </tr> <tr ng-if=\"vm.hasIPAddress()\"> <th>Client IP</th> <td>{{::vm.event.data['@request'].client_ip_address}}</td> </tr> <tr> <th>User Agent</th> <td><span truncate lines=\"2\">{{::vm.event.data['@request'].user_agent}}</span></td> </tr> <tr class=\"hidden-print\" ng-if=\"vm.hasRequestInfo() && vm.event.data['@request'].data['@device']\"> <th>Device</th> <td>{{::vm.event.data['@request'].data['@device']}}</td> </tr> <tr class=\"hidden-print\" ng-if=\"vm.hasRequestInfo() && vm.event.data['@request'].data['@browser']\"> <th>Browser</th> <td>{{::vm.event.data['@request'].data['@browser']}} <abbr ng-if=\"vm.event.data['@request'].data['@browser_major_version']\" title=\"{{::vm.event.data['@request'].data['@browser_version']}}\">{{::vm.event.data['@request'].data['@browser_major_version']}}</abbr></td> </tr> <tr class=\"hidden-print\" ng-if=\"vm.hasRequestInfo() && vm.event.data['@request'].data['@os']\"> <th>Browser OS</th> <td>{{::vm.event.data['@request'].data['@os']}} <abbr ng-if=\"vm.event.data['@request'].data['@os_major_version']\" title=\"{{::vm.event.data['@request'].data['@os_version']}}\">{{::vm.event.data['@request'].data['@os_major_version']}}</abbr></td> </tr> </table> <extended-data-item can-promote=\"false\" title=\"'Post Data'\" data=\"vm.event.data['@request'].post_data\"></extended-data-item> <div ng-if=\"vm.hasCookies()\"> <h4>Cookie Values</h4> <table class=\"table table-striped table-bordered table-fixed table-key-value b-t\"> <thead> <tr> <th>Name</th> <th>Value</th> </tr> </thead> <tbody> <tr ng-repeat=\"(key, value) in vm.event.data['@request'].cookies track by key\"> <td>{{::key}}</td> <td><span truncate lines=\"3\">{{::value}}</span></td> </tr> </tbody> </table> </div>"),a.put("app/event/tabs/simple-error.tpl.html",'<h3 class="visible-print">Exception</h3> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr> <th>Occurred On</th> <td>{{::vm.event.date | date: \'medium\'}} ( <timeago date="vm.event.date"></timeago> ) </td> </tr> <tr> <th>Error Type</th> <td><span truncate>{{::vm.getErrorType()}}</span></td> </tr> <tr> <th>Message</th> <td><span truncate lines="4">{{::vm.getMessage()}}</span></td> </tr> <tr ng-if="vm.event.data[\'@submission_method\']"> <th>Submission Method</th> <td><span truncate>{{::vm.event.data[\'@submission_method\']}}</span></td> </tr> </table> <h3>Stack Trace</h3> <simple-stack-trace exception="vm.event.data[\'@simple_error\']"></simple-stack-trace> <extended-data-item can-promote="false" title="\'Additional Data\'" data="vm.event.data[\'@error\'].data"></extended-data-item>'),a.put("app/frequent.tpl.html",'<organization-notifications></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-signal"></i> Most Frequent</div> <stacks settings="vm.mostFrequent"></stacks> </div> </div> </div> </div>'),a.put("app/new.tpl.html",'<organization-notifications></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-asterisk"></i> Newest</div> <stacks settings="vm.newest"></stacks> </div> </div> </div> </div>'),a.put("app/not-found.tpl.html",'<div class="container w-auto-xs"> <div class="text-center"> <a href="http://exceptionless.io"> <img src="/img/exceptionless-350.png" alt="logo"> </a> </div> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading text-center"><strong>Page Not Found</strong></div> <div class="panel-body"> We\'re sorry but the page was not found on this site. </div> </div> </div> </div> </div> </div>'),a.put("app/organization/list/add-organization-dialog.tpl.html",'<form name="vm.addOrganizationForm" role="form" class="form-validation"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title">New Organization</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="name">Organization Name</label> <div ng-class="{\'input-group\': vm.addOrganizationForm.$pending }"> <input id="name" name="name" type="text" class="form-control input-lg" placeholder="Organization Name" ng-model="vm.data.name" ng-model-options="{ debounce: 500 }" organization-name-available-validator ng-required="true" autofocus> <span class="input-group-addon" ng-if="vm.addOrganizationForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.addOrganizationForm.name.$error" ng-if="vm.addOrganizationForm.$submitted || vm.addOrganizationForm.name.$touched"> <small ng-message="required">Organization Name is required.</small> <small ng-message="unique">A organizations with this name already exists.</small> </div> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()">Cancel</button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save()" value="Save"> </div> </form>'),a.put("app/organization/list/list.tpl.html",'<div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="OrganizationChanged ProjectChanged" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="2500"> <div class="col" refresh-on=" planChanged PersistentEventChanged" refresh-action="vm.get(vm.currentOptions, false)" refresh-throttle="2500"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-group"></i> My Organizations</div> <div class="table-responsive"> <table class="table table-striped table-bordered table-fixed b-t"> <thead> <tr> <th>Name</th> <th>Plan</th> <th class="number hidden-xs">Projects</th> <th class="number hidden-xs">Stacks</th> <th class="number hidden-xs">Events</th> <th class="action">Actions</th> </tr> </thead> <tbody> <tr class="row-clickable" ng-repeat="organization in vm.organizations | orderBy: \'name\' track by organization.id"> <td ng-click="vm.open(organization.id, $event)">{{organization.name}}</td> <td ng-click="vm.open(organization.id, $event)">{{organization.plan_name}}</td> <td ng-click="vm.open(organization.id, $event)" class="number hidden-xs">{{organization.project_count | number:0}}</td> <td ng-click="vm.open(organization.id, $event)" class="number hidden-xs">{{organization.stack_count | number:0}}</td> <td ng-click="vm.open(organization.id, $event)" class="number hidden-xs">{{organization.event_count | number:0}}</td> <td> <div class="btn-group"> <button type="button" role="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-fw fa-edit"></i> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li><a ui-sref="app.organization.manage({ id: organization.id })"><i class="fa fa-fw fa-edit"></i> Edit</a></li> <li><a ng-click="vm.leave(organization, appVm.user)"><i class="fa fa-fw fa-sign-out"></i> Leave Organization</a></li> <li><a ng-click="vm.remove(organization)"><i class="fa fa-fw fa-times"></i> Delete</a></li> </ul> </div> </td> </tr> </tbody> </table> <div class="table-footer" ng-if="vm.previous || vm.next"> <div class="row"> <div class="col-sm-8 col-xs-8 text-center" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"><a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a></li> <li ng-class="{\'disabled\': !vm.previous}"><a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a></li> <li ng-class="{\'disabled\': !vm.next}"><a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a></li> </ul> </div> </div> </div> </div> <footer class="panel-footer"> <div class="pull-right"> <a ui-sref="app.dashboard" class="btn btn-default" role="button">Go To Dashboard</a> </div> <button type="button" role="button" ng-click="vm.add()" class="btn btn-primary">New Organization</button> </footer> </div> </div> </div> </div>'),a.put("app/organization/manage/add-user-dialog.tpl.html",'<form name="addUserForm" role="form" class="form-validation"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title"><i class="fa fa-user-plus fa-fw"></i> Invite User</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="email">Email Address</label> <input id="email" name="email" type="email" class="form-control input-lg" placeholder="Email Address" x-autocompletetype="email" autocorrect="off" spellcheck ng-model="vm.data.email" ng-required="true" autofocus> <div class="error" ng-messages="addUserForm.email.$error" ng-if="addUserForm.$submitted || addUserForm.email.$touched"> <small ng-message="required">Email Address is required.</small> <small ng-message="email">Email Address is required.</small> </div> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()">Cancel</button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save(addUserForm.$valid)" value="Invite User"> </div> </form>'),a.put("app/organization/manage/invoices-directive.tpl.html",'<div class="table-responsive"> <table class="table table-striped table-bordered table-fixed b-t" refresh-on="OrganizationChanged planChanged" refresh-action="vm.get(vm.currentOptions, false)" refresh-throttle="2500"> <thead> <tr> <th>Payment Number</th> <th>Date</th> <th class="number">Status</th> <th class="action">Actions</th> </tr> </thead> <tbody> <tr ng-repeat="invoice in vm.invoices track by invoice.id"> <td class="row-clickable" ng-click="vm.open(invoice.id)">{{invoice.id}}</td> <td class="row-clickable" ng-click="vm.open(invoice.id)">{{invoice.date | date: \'medium\'}}</td> <td class="row-clickable" ng-click="vm.open(invoice.id)">{{invoice.paid ? \'Paid\' : \'Unpaid\'}}</td> <td> <div class="btn-group"> <button type="button" role="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-fw fa-edit"></i> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li><a ng-click="vm.open(invoice.id)"><i class="fa fa-file"></i> View Payment</a></li> <li ng-if="vm.hasAdminRole(appVm.user)"> <a ng-href="https://manage.stripe.com/invoices/in_{{::invoice.id}}" target="_blank"><i class="fa fa-credit-card"></i> View Stripe Invoice</a> </li> </ul> </div> </td> </tr> <tr ng-if="!vm.hasInvoices()"> <td colspan="4"> <strong>No invoices were found.</strong> </td> </tr> </tbody> </table> <div class="table-footer" ng-if="vm.previous || vm.next"> <div class="row"> <div class="col-sm-8 col-xs-8 text-center" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"><a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a></li> <li ng-class="{\'disabled\': !vm.previous}"><a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a></li> <li ng-class="{\'disabled\': !vm.next}"><a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a></li> </ul> </div> </div> </div> </div>'),a.put("app/organization/manage/manage.tpl.html",'<organization-notifications organization-id="vm.organization.id"></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="OrganizationChanged" refresh-action="vm.get(data)" refresh-throttle="2500"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-th-list"></i> Manage {{ vm.organization.name ? \'Organization "\' + vm.organization.name + \'"\' : \'Organization\'}}</div> <div class="panel-body m-b-n"> <tabset class="tab-container"> <tab heading="General"> <form name="vm.organizationForm" role="form" class="form-validation"> <div class="form-group m-b-none"> <label for="name">Organization Name</label> <div ng-class="{\'input-group\': vm.organizationForm.$pending }"> <input id="name" name="name" type="text" class="form-control" placeholder="Organization Name" ng-model="vm.organization.name" ng-model-options="{ debounce: 500 }" ng-change="vm.save(vm.organizationForm.$valid)" organization-name-available-validator ng-required="true" autofocus> <span class="input-group-addon" ng-if="vm.organizationForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.organizationForm.name.$error" ng-if="vm.organizationForm.$submitted || vm.organizationForm.name.$touched"> <small ng-message="required">Organization Name is required.</small> <small ng-message="unique">A organizations with this name already exists.</small> </div> </div> </form> </tab> <tab heading="Projects" active="vm.tabProjectsActive"> <projects settings="vm.projects"></projects> <a ui-sref="app.project.add" class="btn btn-primary" role="button">Add New Project</a> </tab> <tab heading="Users" active="vm.tabUsersActive"> <users settings="vm.users"></users> <button type="button" role="button" ng-click="vm.addUser()" class="btn btn-primary">Invite User</button> </tab> <tab heading="Billing" active="vm.tabBillingActive"> <p>You are currently on the <strong>{{vm.organization.plan_name}}</strong> plan. <a ng-if="vm.canChangePlan()" ng-click="vm.changePlan()">Change your plan or billing information.</a></p> <invoices settings="vm.invoices"></invoices> </tab> </tabset> </div> <footer class="panel-footer"> <div class="pull-right"> <a ui-sref="app.organization-dashboard({ organizationId: vm.organization.id })" class="btn btn-default" role="button">Go To Dashboard</a> </div> <div class="btn-group"> <button type="button" role="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-fw fa-remove"></i> <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu"> <li><a ng-click="vm.leaveOrganization(appVm.user)" role="button">Leave Organization</a></li> <li><a ng-click="vm.removeOrganization()" role="button">Delete Organization</a></li> </ul> </div> </footer> </div> </div> </div> </div>'),a.put("app/payment/payment.tpl.html",'<div> <rate-limit></rate-limit> <div class="container invoice"> <div class="row"> <div class="col-sm-5"> <img src="/img/exceptionless.png" alt="logo"> <address> <strong>Exceptionless</strong><br> 5250 Hwy 78, Suite 750-324<br> Sachse, TX 75048<br> </address> </div> <div class="col-sm-7"> <table class="table table-bordered bg-white"> <tbody> <tr> <th>Organization</th> <td>{{vm.invoice.organization_name}}</td> </tr> <tr> <th>Payment #</th> <td>{{vm.invoice.id}}</td> </tr> <tr> <th>Date</th> <td>{{vm.invoice.date | date}}</td> </tr> <tr> <th>Status</th> <td>{{vm.invoice.paid ? \'Paid\' : \'Unpaid\'}}</td> </tr> </tbody> </table> </div> </div> <div class="row"> <div class="col-xs-12 hbox hbox-auto-xs hbox-auto-sm"> <div class="panel panel-default"> <div class="panel-heading"> <i class="fa fa-file"></i> {{vm.isPaid ? "Receipt" : "Payment"}}</div> <div class="table-responsive"> <table class="table table-striped table-bordered table-fixed b-t invoice"> <thead> <tr> <th>Description</th> <th class="date">Date</th> <th class="amount"><div class="text-right">Amount</div></th> </tr> </thead> <tbody> <tr ng-repeat="line in vm.invoice.items"> <td>{{line.description}}</td> <td>{{line.date}}</td> <td><div class="text-right"><strong>{{line.amount | currency}}</strong></div></td> </tr> <tr> <td>&nbsp;</td> <td><strong>Total</strong></td> <td><div class="text-right"><strong>{{vm.invoice.total | currency}}</strong></div></td> </tr> </tbody> </table> </div> </div> </div> </div> <div class="row"> <div class="col-xs-6"> <strong>Email:</strong> <a href="mailto:team@exceptionless.com">sales@exceptionless.com</a> </div> <div class="col-xs-6"> <strong>Website:</strong> <a href="http://exceptionless.io">http://exceptionless.io</a> </div> </div> </div> </div>'),a.put("app/project/add.tpl.html",'<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col" refresh-on="OrganizationChanged" refresh-action="vm.getOrganizations()" refresh-throttle="2500"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-asterisk"></i> Project Information</div> <div class="panel-body"> <form name="vm.addForm" role="form" class="form-validation"> <div class="form-group" ng-if="vm.hasOrganizations()"> <label for="organization">Organization Name</label> <select id="organization" class="form-control" ng-model="vm.currentOrganization" ng-options="organization.name for organization in vm.organizations track by organization.id"></select> </div> <div class="form-group" ng-if="vm.canCreateOrganization()"> <div ng-class="{\'input-group\': vm.addForm.$pending }"> <input name="organization_name" type="text" class="form-control" placeholder="New Organization Name" ng-model="vm.organization_name" ng-model-options="{ debounce: 500 }" organization-name-available-validator ng-required="vm.canCreateOrganization()" autofocus> <span class="input-group-addon" ng-if="vm.addForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.addForm.organization_name.$error" ng-if="vm.addForm.$submitted || vm.addForm.organization_name.$touched"> <small ng-message="required">Organization Name is required.</small> <small ng-message="unique">A organizations with this name already exists.</small> </div> </div> <div class="form-group"> <label for="project_name">Project Name</label> <div ng-class="{\'input-group\': vm.addForm.$pending }"> <input id="project_name" name="project_name" type="text" class="form-control" placeholder="New Project Name" ng-model="vm.project_name" ng-model-options="{ debounce: 500 }" project-name-available-validator ng-required="true" autofocus> <span class="input-group-addon" ng-if="vm.addForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.addForm.project_name.$error" ng-if="vm.addForm.$submitted || vm.addForm.project_name.$touched"> <small ng-message="required">Project Name is required.</small> <small ng-message="unique">A project with this name already exists.</small> </div> </div> </form> </div> <footer class="panel-footer"> <div class="pull-right"> <a ui-sref="app.dashboard" ng-if="vm.hasOrganizations()" class="btn btn-default" role="button">Go To Dashboard</a> </div> <div class="clearfix"> <input ng-click="vm.add()" type="submit" role="button" class="btn btn-primary" value="Add Project"> </div> </footer> </div> </div> </div> </div>'),a.put("app/project/configure.tpl.html",'<organization-notifications organization-id="vm.project.organization_id" ignore-free="true" ignore-configure-projects="true"></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="PersistentEventChanged" refresh-if="vm.canRedirect(data)" refresh-action="vm.navigateToDashboard()"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-cloud-download"></i> Download & Configure {{ vm.project.name ? \'Project "\' + vm.project.name + \'"\' : \'Project\'}} Client</div> <div class="panel-body m-b-n"> <p>The Exceptionless client can be integrated into your project in just a few easy steps.</p> <ol> <li style="margin-bottom: 30px"> <p>Select your project type:</p> <select class="form-control" ng-init="vm.currentProjectType = vm.projectTypes[0]" ng-model="vm.currentProjectType" ng-options="projectType.name for projectType in vm.projectTypes"></select> </li> <li style="margin-bottom: 30px"> <p>Add the Exceptionless <a href="http://nuget.org" target="_blank">NuGet</a> package to your Visual Studio project by running this command in the <a href="http://docs.nuget.org/docs/start-here/using-the-package-manager-console">Package Manager Console</a>:</p> <pre><a ng-href="http://nuget.org/packages/{{vm.currentProjectType.key}}" target="_blank">Install-Package {{vm.currentProjectType.key}}</a></pre> </li> <li> <div ng-if="vm.currentProjectType.key !== \'Exceptionless.Portable\'"> <p>Update the <code>&lt;exceptionless apiKey="API_KEY_HERE" /&gt;</code> section located in the project\'s {{vm.currentProjectType.config}} with your Exceptionless API key:</p> <div class="input-group"> <input class="form-control" type="text" ng-model="vm.apiKey" autofocus> <a class="input-group-addon" title="Copy to Clipboard" clip-copy="vm.apiKey" clip-click="vm.copied()" clip-hide-on-no-flash><i class="fa fa-copy"></i></a> </div> </div> <div ng-if="vm.currentProjectType.key === \'Exceptionless.Portable\'"> <p>Configure the ExceptionlessClient with your Exceptionless API key:</p> <div class="input-group"> <input class="form-control" type="text" ng-model="vm.apiKey" autofocus> <a class="input-group-addon" title="Copy to Clipboard" clip-copy="vm.apiKey" clip-click="vm.copied()" clip-hide-on-no-flash><i class="fa fa-copy"></i></a> </div> <p style="margin-top: 15px">You can set your Exceptionless API key by calling the following code on startup:</p><p> </p><p><code>ExceptionlessClient.Default.Configuration.ApiKey = "{{vm.apiKey}}"</code></p> <p>You can also configure the client via attributes. To configure the client using attributes please add the following assembly attribute and your own Exceptionless api key to your project (E.G., AssemblyInfo class).</p> <p><code>[assembly: Exceptionless.Configuration.Exceptionless("{{vm.apiKey}}")]</code></p> <p>Next, you must call the following line of code to read your configuration from the attribute.</p> <p><code>Exceptionless.ExceptionlessClient.Default.Configuration.ReadFromAttributes()</code></p> <p>Please note that you will need to pass in the the assembly that contains the attributes if you place place the above attribute outside of the entry assembly or calling assembly.</p> <p><code>Exceptionless.ExceptionlessClient.Default.Configuration.ReadFromAttributes(typeof(Program).Assembly)</code></p> </div> </li> <li style="margin-top: 15px" ng-if="vm.currentProjectType.key === \'Exceptionless.Portable\'"> <p>Wire up to any unhandled exception events specific to your project type to start reporting them! Please see the <a target="_blank" href="https://github.com/exceptionless/Exceptionless.Net/wiki/Configuration#exceptionless-portable-class-library-pcl-configuration">Exceptionless docs</a> for more information.</p> </li> <li style="margin-top: 15px" ng-if="vm.currentProjectType.key === \'Exceptionless.Nancy\'"> <p>Import the <code>Exceptionless</code> namespace and add a call to <code>Exceptionless.ExceptionlessClient.Default.RegisterNancy(pipelines)</code> with an instance of Nancy.Bootstrapper.IPipelines inside of your NancyBootstrapper\'s ApplicationStartup method.</p> </li> <li style="margin-top: 15px" ng-if="vm.currentProjectType.key === \'Exceptionless\' || vm.currentProjectType.key === \'Exceptionless.Windows\' || vm.currentProjectType.key === \'Exceptionless.Wpf\'"> <p>Import the <code>Exceptionless</code> namespace and add a call to <code>ExceptionlessClient.Default.Register()</code> during the startup of your app.</p> </li> <li style="margin-top: 15px" ng-if="vm.currentProjectType.key === \'Exceptionless.WebApi\'"> <p>Import the <code>Exceptionless</code> namespace and add a call to <code>ExceptionlessClient.Default.RegisterWebApi(config)</code> with an instance of HttpConfiguration during the startup of your app.</p> <p>If you are hosting Web API inside of ASP.NET, you would register Exceptionless like: <code>Exceptionless.ExceptionlessClient.Default.RegisterWebApi(GlobalConfiguration.Configuration)</code> </p> </li> </ol> <p><strong>That\'s it!</strong> <span ng-if="vm.currentProjectType.key !== \'Exceptionless.Portable\'">Your project should now automatically be sending all unhandled exceptions to Exceptionless.</span> You can also send handled exceptions to Exceptionless using <code>ex.ToExceptionless().Submit()</code>. </p> <div class="alert alert-success">For more information and troubleshooting tips, view the <a target="_blank" href="https://github.com/exceptionless/Exceptionless.Net/wiki/Troubleshooting">Exceptionless docs</a>.</div> </div> <footer class="panel-footer"> <div class="pull-right"> <a ui-sref="app.project-dashboard({ projectId: vm.project.id })" class="btn btn-default" role="button">Go To Dashboard</a> </div> <a ui-sref="app.account.manage({ tab: \'notifications\', projectId: vm.project.id })" class="btn btn-primary" role="button" title="Manage Notification Settings"> <i class="fa fa-fw fa-envelope"></i> </a> <a ui-sref="app.project.manage({ id: vm.project.id })" class="btn btn-primary" role="button" title="Manage Project"> <i class="fa fa-fw fa-gear"></i> </a> </footer> </div> </div> </div> </div>'),a.put("app/project/list.tpl.html",'<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-briefcase"></i> My Projects</div> <projects settings="vm.projects"></projects> <footer class="panel-footer"> <a ui-sref="app.project.add" class="btn btn-primary" role="button">Add New Project</a> <div class="pull-right"> <a ui-sref="app.dashboard" class="btn btn-default" role="button">Go To Dashboard</a> </div> </footer> </div> </div> </div> </div>'),a.put("app/project/manage/add-configuration-dialog.tpl.html",'<form name="addConfigurationForm" role="form" class="form-validation"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title">Please enter a configuration setting</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="key">Key</label> <input id="key" name="key" type="text" class="form-control" placeholder="Configuration Key" ng-model="vm.data.key" ng-required="true" autofocus> <div class="error" ng-messages="addConfigurationForm.key.$error" ng-if="addConfigurationForm.$submitted || addConfigurationForm.key.$touched"> <small ng-message="required">Please enter a valid key.</small> </div> </div> <div class="form-group"> <label for="value">Value</label> <input id="value" name="value" type="text" class="form-control" placeholder="Configuration Value" ng-model="vm.data.value" ng-required="true"> <div class="error" ng-messages="addConfigurationForm.value.$error" ng-if="addConfigurationForm.$submitted || addConfigurationForm.value.$touched"> <small ng-message="required">Please enter a valid value.</small> </div> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()">Cancel</button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save(addConfigurationForm.$valid)" value="Save"> </div> </form>'),a.put("app/project/manage/manage.tpl.html",'<organization-notifications organization-id="vm.project.organization_id"></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="ProjectChanged" refresh-action="vm.get(data)" refresh-throttle="2500"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-th-list"></i> Manage {{ vm.project.name ? \'Project "\' + vm.project.name + \'"\' : \'Project\'}}</div> <div class="panel-body m-b-n"> <tabset class="tab-container"> <tab heading="General"> <form name="vm.projectForm" role="form" class="form-validation"> <div class="form-group"> <label for="name">Project Name</label> <div ng-class="{\'input-group\': vm.projectForm.$pending }"> <input id="name" name="name" type="text" class="form-control" placeholder="Project Name" ng-model="vm.project.name" ng-model-options="{ debounce: 500 }" ng-change="vm.save(vm.projectForm.$valid)" project-name-available-validator ng-required="true" autofocus> <span class="input-group-addon" ng-if="vm.projectForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.projectForm.name.$error" ng-if="vm.projectForm.$submitted || vm.projectForm.name.$touched"> <small ng-message="required">Project Name is required.</small> <small ng-message="unique">A project with this name already exists.</small> </div> </div> <div class="form-group m-b-none"> <label>Organization Name</label> <input type="text" class="form-control" placeholder="Organization Name" ng-model="vm.project.organization_name" readonly> </div> </form> </tab> <tab heading="API Keys" refresh-on="TokenChanged" refresh-action="vm.getTokens()" refresh-throttle="2500"> <table class="table table-striped table-bordered table-fixed b-t"> <thead> <tr> <th>API Key</th> <th class="action-lg">Actions</th> </tr> </thead> <tbody> <tr ng-repeat="token in vm.tokens track by token.id"> <td>{{::token.id}}</td> <td> <button type="button" role="button" class="btn btn-sm btn-primary" title="Copy to Clipboard" clip-copy="token.id" clip-click="vm.copied()" clip-hide-on-no-flash><i class="fa fa-copy"></i></button> <button type="button" role="button" ng-click="vm.removeToken(token)" class="btn btn-sm btn-default" title="Delete"><i class="fa fa-times"></i></button> </td> </tr> <tr ng-if="!vm.hasTokens()"> <td colspan="2" class="text-warning">This project does not have an API Key.</td> </tr> </tbody> </table> <button type="button" role="button" ng-click="vm.addToken()" class="btn btn-primary">New API Key</button> </tab> <tab heading="Settings"> <p>If the system detects a high volume of events coming from the same client IP address, it will automatically delete the data to reduce system noise.</p> <div class="checkbox"> <label class="i-checks"> <input type="checkbox" ng-model="vm.project.delete_bot_data_enabled" ng-model-options="{ debounce: 500 }" ng-change="vm.saveDeleteBotDataEnabled()"> <i></i> Automatically delete bot data </label> </div> <h4>Data Exclusions</h4> <p> A comma delimited list of field names that should be removed from any error report data (e.g., extended data properties, form fields, cookies and query parameters). You can also specify a <a href="https://github.com/exceptionless/Exceptionless/wiki/Security" target="_blank" title="Data Exclusions documentation">field name with wildcards (<strong>*</strong>)</a> to specify starts with, ends with, or contains just to be extra safe. </p> <input type="text" class="form-control" placeholder="Example: *Password*, CreditCard*, SSN" ng-model="vm.data_exclusions" ng-model-options="{ debounce: 500 }" ng-change="vm.saveDataExclusion()"> <h4>Client Configuration</h4> <p>The configuration values on this page will be automatically sent to the Exceptionless clients for your project and be available in the <code>Exceptionless.ExceptionlessClient.Default.Configuration</code> dictionary.</p>  <table class="table table-striped table-bordered table-fixed b-t"> <thead> <tr> <th>Key</th> <th>Value</th> <th class="action-lg">Actions</th> </tr> </thead> <tbody> <tr ng-repeat="conf in vm.config track by conf.key"> <td> <div class="control-group">{{::conf.key}}</div> </td> <td ng-class="{\'row-clickable\': !rowform.$visible}" ng-click="rowform.$show()"> <div editable-text="conf.value" e-name="value" e-form="rowform" e-required onbeforesave="vm.validateClientConfiguration(conf.value, $data)" onaftersave="vm.saveClientConfiguration(conf)">{{conf.value}}</div> </td> <td> <form name="rowform" editable-form ng-show="rowform.$visible" class="form-buttons form-inline"> <button type="submit" role="button" ng-disabled="rowform.$waiting" class="btn btn-sm btn-primary"> Save </button> <button type="button" role="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-sm btn-default"> Cancel </button> </form> <div class="buttons" ng-show="!rowform.$visible"> <button type="button" role="button" class="btn btn-sm btn-default" ng-click="rowform.$show()">Edit</button> <button type="button" role="button" class="btn btn-sm btn-danger" title="Delete" ng-click="vm.removeConfig(conf)"><i class="fa fa-times"></i></button> </div> </td> </tr> <tr ng-if="!vm.hasConfiguration()"> <td colspan="3">This project does not contain any custom configuration settings.</td> </tr> </tbody> </table> <button ng-click="vm.addConfiguration()" class="btn btn-primary">New Client Configuration</button> </tab> <tab heading="Integrations" refresh-on="WebHookChanged" refresh-action="vm.getWebHooks()" refresh-throttle="2500"> <div class="alert in fade alert-success" ng-if="!vm.hasPremiumFeatures()"> <a ng-click="vm.showChangePlanDialog()">Upgrade now</a> to enable integrations! </div> <p> The following web hooks will be called for this project. We also support <a href="http://zapier.com/" target="_blank">Zapier</a> which allows you to easily integrate Exceptionless with many different services (200+) like JIRA, HipChat, Twilio, Basecamp and more. </p> <table class="table table-striped table-bordered table-fixed b-t"> <thead> <tr> <th>Url</th> <th>Event Types</th> <th class="action">Actions</th> </tr> </thead> <tbody> <tr ng-repeat="hook in vm.webHooks track by hook.id"> <td>{{::hook.url}}</td> <td> <span class="label label-success" ng-repeat="type in hook.event_types track by type">{{::type}}</span> </td> <td> <button type="button" role="button" class="btn btn-sm" title="Delete" ng-click="vm.removeWebHook(hook)"><i class="fa fa-times"></i></button> </td> </tr> <tr ng-if="!vm.hasWebHook()"> <td colspan="3">This project does not contain any integrations.</td> </tr> </tbody> </table> <button type="button" role="button" ng-click="vm.addWebHook()" class="btn btn-primary">Add Web Hook</button> </tab> </tabset> </div> <footer class="panel-footer"> <div class="pull-right"> <a ui-sref="app.project-dashboard({ projectId: vm.project.id })" class="btn btn-default" role="button"> <span class="visible-xs" title="Go To Dashboard"><i class="fa fa-fw fa-dashboard"></i></span> <span class="hidden-xs">Go To Dashboard</span></a> </div> <a ui-sref="app.organization.manage({ id: vm.project.organization_id })" class="btn btn-primary" role="button" title="Manage Organization"> <i class="fa fa-fw fa-group"></i> </a> <a ui-sref="app.account.manage({ tab: \'notifications\', projectId: vm.project.id })" class="btn btn-primary" role="button" title="Manage Notification Settings"> <i class="fa fa-fw fa-envelope"></i> </a> <a ui-sref="app.project.configure({ id: vm.project.id })" class="btn btn-primary" role="button" title="Download & Configure Client"> <i class="fa fa-fw fa-cloud-download"></i> </a> <div class="btn-group"> <button type="button" role="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-fw fa-remove"></i> <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu"> <li><a ng-click="vm.resetData()" role="button">Reset Project Data</a></li> <li><a ng-click="vm.removeProject()" role="button">Delete Project</a></li> </ul> </div> </footer> </div> </div> </div> </div>'),
a.put("app/recent.tpl.html",'<organization-notifications></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-calendar"></i> Most Recent</div> <events settings="vm.mostRecent"></events> </div> </div> </div> </div>'),a.put("app/stack/add-reference-dialog.tpl.html",'<form name="addReferenceForm" role="form" class="form-validation" autocomplete="on"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title"><i class="fa fa-external-link fa-fw"></i> Please enter a Reference Link</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="url">Reference Link</label> <input id="url" name="url" type="url" class="form-control input-lg" placeholder="Please enter a valid URL" ng-model="vm.data.url" ng-required="true" autofocus> <div class="error" ng-messages="addReferenceForm.url.$error" ng-if="addReferenceForm.$submitted || addReferenceForm.url.$touched"> <small ng-message="required">Reference Link is required.</small> <small ng-message="url">Reference Link is required.</small> </div> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()">Cancel</button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save(addReferenceForm.$valid)" value="Save Reference Link"> </div> </form>'),a.put("app/stack/stack.tpl.html",'<organization-notifications organization-id="vm.stack.organization_id"></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="PersistentEventChanged planChanged StackChanged" refresh-action="vm.get(data)" refresh-throttle="2500"> <div class="wrapper-md" refresh-on="filterChanged" refresh-action="vm.get()"> <div class="row"> <div class="col-sm-12"> <div class="row row-sm text-center"> <div class="col-xs-4"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-calendar fa-4x"></i> </div> <div class="details"> <span class="title">Total</span> <span class="sub">{{vm.stats.total || 0 | number : 0}}</span> </div> </div> </div> <div class="col-xs-4"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-arrow-circle-left fa-4x"></i> </div> <div class="details"> <span class="title">First</span> <span class="sub visible-md visible-lg"><timeago date="vm.stats.first_occurrence"></timeago></span> <span class="sub visible-sm"> <span ng-if="vm.isValidDate(vm.stats.first_occurrence)">{{vm.stats.first_occurrence | date:\'shortDate\' }}</span> <span ng-if="!vm.isValidDate(vm.stats.first_occurrence)">never</span> </span> <span class="sub visible-xs"> <span ng-if="vm.isValidDate(vm.stats.first_occurrence)">{{vm.stats.first_occurrence | date:\'M/d\' }}</span> <span ng-if="!vm.isValidDate(vm.stats.first_occurrence)">NA</span> </span> </div> </div> </div> <div class="col-xs-4"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-arrow-circle-right fa-4x"></i> </div> <div class="details"> <span class="title">Last</span> <span class="sub visible-md visible-lg"><timeago date="vm.stats.last_occurrence"></timeago></span> <span class="sub visible-sm"> <span ng-if="vm.isValidDate(vm.stats.last_occurrence)">{{vm.stats.last_occurrence | date:\'shortDate\' }}</span> <span ng-if="!vm.isValidDate(vm.stats.last_occurrence)">never</span> </span> <span class="sub visible-xs"> <span ng-if="vm.isValidDate(vm.stats.last_occurrence)">{{vm.stats.last_occurrence | date:\'M/d\' }}</span> <span ng-if="!vm.isValidDate(vm.stats.last_occurrence)">NA</span> </span> </div> </div> </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading"> Stack <span class="labels"> <span class="label label-success" ng-if="vm.isFixed()"> <span class="hidden-xs">FIXED</span> <span class="visible-xs">F</span> </span> <span class="label label-success" ng-if="vm.isRegressed()"> <span class="hidden-xs">REGRESSED</span> <span class="visible-xs">R</span> </span> <span class="label label-success" ng-if="vm.isHidden()"> <span class="hidden-xs">HIDDEN</span> <span class="visible-xs">H</span> </span> </span> <div class="pull-right btn-toolbar hidden-print"> <div class="btn-group btn-group-sm"> <button type="button" role="button" class="btn btn-default" title="{{vm.isFixed() ? \'Mark this stack as not fixed\' : \'Mark this stack as fixed\'}}" promise-button="vm.updateIsFixed()" promise-button-busy-text="{{vm.isFixed() ? \'Marking Not Fixed\' : \'Marking Fixed\' }}" promise-button-busy-spinner-class="fa-size-sm"> {{vm.isFixed() ? \'Mark Not Fixed\' : \'Mark Fixed\' }} </button> </div> <div class="btn-group"> <button type="button" role="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> <span class="hidden-xs">Options</span> <span class="visible-xs-inline"><i class="fa fa-fw fa-gear"></i></span> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li><a ng-click="vm.updateIsHidden()" title="Hide this stack from reports and mutes occurrence notifications"><i ng-if="vm.isHidden()" class="fa fa-fw fa-check"></i>Hide</a></li> <li><a ng-click="vm.updateIsCritical()" title="All future occurrences will be marked as critical"><i ng-if="vm.isCritical()" class="fa fa-fw fa-check"></i>Future Occurrences Are Critical</a></li> <li><a ng-click="vm.updateNotifications()" title="Stop sending occurrence notifications for this stack"><i ng-if="vm.notificationsDisabled()" class="fa fa-fw fa-check"></i>Disable Notifications</a></li> <li class="divider"></li> <li><a ng-click="vm.promoteToExternal()" title="Used to promote stacks to external systems.">Promote To External</a></li> <li><a ng-click="vm.addReferenceLink()" title="Add a reference link to an external resource.">Add Reference Link</a></li> <li class="divider"></li> <li><a ng-click="vm.remove()" title="Delete this stack">Delete</a></li> </ul> </div> </div> </div> <div class="panel-body"> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tbody> <tr> <th>Title</th> <td><span truncate lines="3">{{vm.stack.title}}</span></td> </tr> <tr> <th>Project</th> <td><a ui-sref="app.project-dashboard({ projectId: vm.project.id })">{{vm.project.name}}</a></td> </tr> <tr ng-if="vm.isFixed()"> <th>Date Fixed</th> <td><span>{{vm.stack.date_fixed | date: \'medium\'}}</span></td> </tr> <tr ng-if="vm.stack.description"> <th>Description</th> <td><span truncate lines="2">{{vm.stack.description}}</span></td> </tr> <tr ng-if="vm.hasTags()"> <th>Tags</th> <td><span class="label label-info" ng-repeat="tag in vm.stack.tags track by tag">{{tag}}</span></td> </tr> <tr ng-if="vm.hasReference()"> <th>{{vm.hasReferences() ? \'Reference Links\' : \'Reference Link\'}}</th> <td> <ul ng-if="vm.hasReferences()"> <li ng-repeat="reference in vm.stack.references track by reference"> <a ng-href="{{::reference}}" target="_blank">{{::reference}}</a> <a class="delete-link" ng-click="vm.removeReferenceLink(reference)"><i class="fa fa-fw fa-times"></i></a> </li> </ul> <div ng-if="!vm.hasReferences()"> <a ng-href="{{::vm.stack.references[0]}}" target="_blank">{{::vm.stack.references[0]}}</a> <a class="delete-link" ng-click="vm.removeReferenceLink(vm.stack.references[0])"><i class="fa fa-fw fa-times"></i></a> </div> </td> </tr> </tbody> </table> <h4>Stacking Information</h4> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tbody> <tr ng-repeat="(key, value) in vm.stack.signature_info track by key"> <th>{{key}}</th> <td>{{value}}</td> </tr> </tbody> </table> <rickshaw options="vm.chart.options" features="vm.chart.features"></rickshaw> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-fw fa-calendar"></i> Recent Occurrences</div> <events settings="vm.recentOccurrences"></events> </div> </div> </div>'),a.put("app/status/status.tpl.html",'<div class="container w-auto-xs"> <div class="text-center"> <a href="http://exceptionless.io"> <img src="/img/exceptionless-350.png" alt="logo"> </a> </div> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading text-center"><strong>Service Status</strong></div> <div class="panel-body"> {{vm.getMessage()}} </div> </div> </div> </div> </div> </div>'),a.put("components/billing/change-plan-dialog.tpl.html",'<form name="vm.changePlanForm" role="form" class="form-validation" autocomplete="on"> <div class="modal-header dialog-header-notify"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title"><i class="fa fa-credit-card fa-fw"></i> Exceptionless Plan</h4> </div> <div class="modal-body"> <div class="alert alert-danger" role="alert" ng-if="vm.paymentMessage"> <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> {{vm.paymentMessage}} </div> <div class="form-group" ng-if="vm.organizations.length > 1"> <label for="organization">Organization to change</label> <select id="organization" class="form-control" ng-change="vm.changeOrganization()" ng-model="vm.currentOrganization" ng-disabled="!vm.isBillingEnabled()" ng-options="organization.name for organization in vm.organizations track by organization.id"></select> </div> <p><strong>{{vm.currentOrganization.name}}</strong> is currently on the <strong>{{vm.currentOrganization.plan_name}}</strong> plan.</p> <div class="form-group"> <label for="plan">Select new plan (<a href="http://exceptionless.io/pricing" target="_blank">view plan information</a>)</label> <select id="plan" class="form-control" ng-init="vm.currentPlan = vm.plans[0]" ng-model="vm.currentPlan" ng-disabled="!vm.isBillingEnabled()" ng-options="plan.description for plan in vm.plans track by plan.id" autofocus></select> </div> <div ng-if="vm.isPaidPlan() && !vm.hasAdminRole()"> <h4>Credit Card</h4> <div class="row" ng-if="vm.hasExistingCard()"> <div class="form-group col-sm-6"> <div class="radio"> <label class="i-checks"> <input type="radio" class="form-control" ng-model="vm.card.mode" ng-disabled="!vm.isBillingEnabled()" value="existing"> <i></i> Use credit card ending in {{vm.currentOrganization.card_last4}} </label> </div> </div> <div class="form-group col-sm-6"> <div class="radio"> <label class="i-checks"> <input type="radio" class="form-control" ng-model="vm.card.mode" ng-disabled="!vm.isBillingEnabled()" value="new"> <i></i> Use a new credit card </label> </div> </div> </div> <div ng-if="vm.isNewCard()"> <div class="row"> <div class="form-group col-xs-8"> <label for="cardNumber">Card number</label> <div class="input-group"> <input id="cardNumber" type="text" class="form-control" placeholder="•••• •••• •••• ••••" x-autocompletetype="cc-number" ng-model="vm.card.number" payments-validate="card" payments-format="card" payments-type-model="vm.card.type" ng-disabled="!vm.isBillingEnabled()" ng-required="true"> <span class="input-group-addon"><img ng-src="/img/cards/{{ vm.card.type ? vm.card.type : \'placeholder\' }}.png" alt="Card Type"></span> </div> </div> <div class="form-group col-xs-4"> <label for="cardExpiry">Expires</label> <input id="cardExpiry" type="text" class="form-control" placeholder="MM / YY" x-autocompletetype="cc-exp" ng-model="vm.card.expiry" ng-disabled="!vm.isBillingEnabled()" payments-validate="expiry" payments-format="expiry" ng-required="true"> </div> </div> <div class="row"> <div class="form-group col-xs-8"> <label for="cardName">Name on card</label> <input id="cardName" type="text" class="form-control" placeholder="Name on card" x-autocompletetype="full-name" autocapitalize="words" autocorrect="off" spellcheck ng-model="vm.card.name" ng-disabled="!vm.isBillingEnabled()" ng-required="true"> </div> <div class="form-group col-xs-4"> <label for="cardCVC">Card code</label> <input id="cardCVC" type="text" class="form-control" placeholder="CVC" x-autocompletetype="cc-csc" autocomplete="off" ng-model="vm.card.cvc" ng-disabled="!vm.isBillingEnabled()" payments-validate="cvc" payments-format="cvc" payments-type-model="vm.card.type" ng-required="true"> </div> </div> </div> </div> <div class="form-group" ng-if="!vm.hasExistingCard()"> <label for="couponId">Coupon code</label> <input id="couponId" type="text" class="form-control" placeholder="Coupon Code" ng-model="vm.coupon" ng-disabled="!vm.isBillingEnabled()"> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()">Cancel</button> <button type="submit" role="button" class="btn btn-primary" promise-button="vm.save(vm.changePlanForm.$valid)" promise-button-busy-text="Changing Plan">Change Plan</button> </div> </form>'),a.put("components/date-filter/custom-date-range-dialog.tpl.html",'<form name="addDateRangeForm" role="form" class="form-validation"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title">Select Date Range</h4> </div> <div class="modal-body"> <date-range-picker range="vm.range" min-date="vm.minDate" max-date="vm.maxDate" time-picker="true" time-picker-seconds="true" time-picker12-hour="true"> </date-range-picker> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()">Cancel</button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save()" value="Apply"> </div> </form>'),a.put("components/date-filter/date-filter-directive.tpl.html",'<ul class="nav navbar-nav"> <li class="dropdown" dropdown is-open="vm.isDropDownOpen"> <a class="dropdown-toggle" dropdown-toggle> <i class="fa fa-fw fa-calendar fa-lg" ng-class="{\'text-success\': vm.hasFilter() }"></i> </a> <div class="dropdown-menu w-md" role="menu"> <div class="panel bg-dark"> <div class="list-group"> <strong class="media list-group-item text-center" ng-show="vm.isActive(\'Custom\')" refresh-on="filterChanged" refresh-action="vm.updateFilterName()">{{vm.filterName}}</strong> <a class="media list-group-item" ng-class="{ active: vm.isActive(\'last hour\')}" ng-click="vm.setFilter(\'last hour\')">Last Hour</a> <a class="media list-group-item" ng-class="{ active: vm.isActive(\'last 24 hours\')}" ng-click="vm.setFilter(\'last 24 hours\')">Last 24 Hours</a> <a class="media list-group-item" ng-class="{ active: vm.isActive(\'last week\')}" ng-click="vm.setFilter(\'last week\')">Last Week</a> <a class="media list-group-item" ng-class="{ active: vm.isActive(\'last 30 days\')}" ng-click="vm.setFilter(\'last 30 days\')">Last 30 Days</a> <a class="media list-group-item" ng-class="{ active: vm.isActive(\'all\')}" ng-click="vm.setFilter(\'all\')">All Time</a> <a class="media list-group-item" ng-class="{ active: vm.isActive(\'Custom\')}" ng-click="vm.setCustomFilter()">Custom</a> </div> </div> </div> </li> </ul>'),a.put("components/date-range-picker/date-range-picker-directive.tpl.html",'<div id="datepicker" class="input-daterange"> <div class="input-group"> <input type="text" class="input-small form-control" name="start" ng-model="range.start" autofocus> <span class="input-group-addon">to</span> <input type="text" class="input-small form-control" name="end" ng-model="range.end"> </div> </div>'),a.put("components/dialog/confirm-dialog.tpl.html",'<div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title"> <span class="glyphicon glyphicon-check"></span> {{::vm.header}} </h4> </div> <div class="modal-body" ng-bind-html="vm.message"></div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()" autofocus>Cancel</button> <button type="button" role="button" class="btn btn-primary" ng-class="{\'btn-danger\': vm.danger}" ng-click="vm.confirm()"> {{vm.confirmButtonText}} </button> </div>'),a.put("components/events/events-directive.tpl.html",'<div class="table-responsive" refresh-on="filterChanged" refresh-action="vm.get()"> <table class="table table-striped table-bordered table-selectable table-fixed b-t table-hover table-clickable" refresh-on="StackChanged planChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="2500"> <thead refresh-on="PersistentEventChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="2500"> <tr> <th class="selection hidden-xs"> <label class="i-checks m-b-none"> <input type="checkbox" ng-click="vm.updateSelection()" ng-checked="vm.hasSelection()" ng-disabled="!vm.hasEvents()"><i></i> </label> </th> <th>Summary</th> <th class="date">Date</th> </tr> </thead> <tbody> <tr class="row-clickable" ng-repeat="event in vm.events track by event.id" ng-if="vm.hasEvents()"> <td class="hidden-xs"><label class="i-checks m-b-none"><input type="checkbox" checklist-model="vm.selectedIds" checklist-value="event.id"><i></i></label></td> <td ng-click="vm.open(event.id, $event)"> <summary source="event" show-type="vm.showType"></summary> </td> <td ng-click="vm.open(event.id, $event)"><abbr title="{{::event.date | date : \'medium\'}}"> <timeago date="event.date"></timeago> </abbr></td> </tr> <tr ng-if="!vm.hasEvents()"> <td class="hidden-xs"><label class="i-checks m-b-none"><input type="checkbox" disabled><i></i></label></td> <td colspan="2"> <strong>No data found.</strong> </td> </tr> </tbody> </table> <div class="table-footer"> <div class="row"> <div class="col-xs-4 hidden-xs"> <div class="dropdown"> <button type="button" role="button" id="bulkActions" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> Bulk Action <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="bulkActions"> <li role="presentation"><a role="menuitem" tabindex="-1" ng-repeat="action in vm.actions" ng-click="vm.save(action)">{{::action.name}}</a></li> </ul> </div> </div> <div class="col-sm-4 text-center" ng-class="vm.previous || vm.next ? \'col-xs-8\': \'col-xs-12\'" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right" ng-if="vm.previous || vm.next"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"><a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a></li> <li ng-class="{\'disabled\': !vm.previous}"><a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a></li> <li ng-class="{\'disabled\': !vm.next}"><a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a></li> </ul> </div> </div> </div> </div>'),a.put("components/intercom/intercom-directive.tpl.html",'<div> <div refresh-on="UserChanged" refresh-action="vm.getUser(true)" refresh-debounce="2500" refresh-stopping="vm.shutdown()"></div> <div refresh-on="OrganizationChanged" refresh-action="vm.getOrganizations(true)" refresh-debounce="2500"></div> <div refresh-on="ProjectChanged" refresh-action="vm.getProjects(true)" refresh-debounce="2500"></div> <div refresh-on="filterChanged" refresh-action="vm.updateIntercom(true)" refresh-debounce="2500"></div> <div refresh-on="$stateChangeSuccess" refresh-action="vm.hide()" refresh-debounce="1000"></div> </div>'),a.put("components/organization-notifications/organization-notifications-directive.tpl.html",'<div> <div ng-if="vm.hasNotifications" refresh-on="filterChanged" refresh-action="vm.onFilterChanged()"> <div refresh-on="OrganizationChanged ProjectChanged PersistentEventChanged planChanged planOverage" refresh-action="vm.get()" refresh-throttle="2500"></div> <div class="alert alert-success alert-banner m-b-none" ng-if="!vm.hasOrganizations()"> <h4>Setup your first project</h4> <p> Please <a ui-sref="app.project.add">add a new project</a> and start becoming exceptionless in less than 60 seconds! </p> </div> <div class="alert alert-success alert-banner m-b-none" ng-if="vm.hasOrganizationsWithNoProjects()"> <h4>Setup your first project</h4> <p> <strong ng-repeat="organization in vm.organizationsWithNoProjects"> <span ng-if="!$first">, </span><a ui-sref="app.project.add({ organizationId: organization.id })">{{organization.name}}</a> </strong> currently has no projects. <a ui-sref="app.project.add({ organizationId: vm.organizationsWithNoProjects[0].id })">Add a new project</a> and start becoming exceptionless in less than 60 seconds! </p> </div> <div class="alert alert-success alert-banner m-b-none" ng-if="vm.hasProjectsRequiringConfiguration()"> <h4>We haven\'t received any data!</h4> <p> Please configure your clients for <strong ng-repeat="project in vm.projectsRequiringConfiguration"> <span ng-if="!$first">, </span><a ui-sref="app.project.configure({ id: project.id, redirect: true })" title="Configure {{project.name}} ({{project.organization_name}})">{{project.name}}</a> </strong> projects and start becoming exceptionless in less than 60 seconds! </p> </div> <div class="alert alert-danger alert-banner m-b-none" ng-if="vm.hasSuspendedOrganizations()"> <h4> <span ng-repeat="organization in vm.suspendedOrganizations"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </span> has been suspended. </h4> <p><em>Please note that while your account is suspended all new client events will be discarded.</em></p> <p ng-if="vm.hasSuspendedForBillingOrganizations()"> To unsuspend <strong ng-repeat="organization in vm.suspendedForBillingOrganizations"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </strong> , please <a ng-click="vm.showChangePlanDialog(vm.suspendedForBillingOrganizations[0].id)">update your billing information</a>. </p> <p ng-if="vm.hasSuspendedForAbuseOrOverageOrNotActiveOrganizations()"> <strong ng-repeat="organization in vm.suspendedForAbuseOrOverageOrNotActiveOrganizations"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </strong> has exceeded the plan limits. To unsuspend your account, please <a ng-click="vm.showChangePlanDialog(vm.suspendedForAbuseOrOverageOrNotActiveOrganizations[0].id)">upgrade your plan</a>. </p> <p ng-if="vm.isIntercomEnabled()"> Please <a ng-click="appVm.showIntercom()">contact us</a> for more information on why your account was suspended. </p> </div> <div class="alert alert-danger alert-banner m-b-none" ng-if="vm.hasExceededRequestLimitOrganizations()"> <h4> API requests are currently being throttled for <span ng-repeat="organization in vm.exceededRequestLimitOrganizations"> <span ng-if="!$first">, </span>{{organization.name}} </span> </h4> <p ng-if="vm.isIntercomEnabled()"> Please <a ng-click="appVm.showIntercom()">contact us</a> for more information. </p> </div> <div class="alert alert-danger alert-banner m-b-none" ng-if="vm.hasHourlyOverageOrganizations()"> <h4> Events are currently being throttled for <span ng-repeat="organization in vm.hourlyOverageOrganizations"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </span> </h4> <p>Events are currently being throttled to prevent using up your plan limit in a small window of time. <a ng-click="vm.showChangePlanDialog(vm.hourlyOverageOrganizations[0].id)">Upgrade now</a> to increase your limits.</p> </div> <div class="alert alert-danger alert-banner m-b-none" ng-if="vm.hasMonthlyOverageOrganizations()"> <h4> <span ng-repeat="organization in vm.monthlyOverageOrganizations"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </span> has reached its monthly plan limit. </h4> <p><a ng-click="vm.showChangePlanDialog(vm.monthlyOverageOrganizations[0].id)">Upgrade now</a> to continue receiving errors.</p> </div> <div class="alert alert-danger alert-banner m-b-none" ng-if="vm.hasOrganizationsSearchingWithoutPremiumFeatures()"> <h4> <span ng-repeat="organization in vm.organizationsSearchingWithoutPremiumFeatures"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </span> is attempting to use a premium feature. </h4> <p><a ng-click="vm.showChangePlanDialog(vm.organizationsSearchingWithoutPremiumFeatures[0].id)">Upgrade now</a> to enable search and other premium!</p> </div> <div class="alert alert-success alert-banner m-b-none" ng-if="vm.hasFreeOrganizations()"> <h4> <span ng-repeat="organization in vm.freeOrganizations"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </span> is currently on a free plan. </h4> <p><a ng-click="vm.showChangePlanDialog(vm.freeOrganizations[0].id)">Upgrade now</a> to enable premium features and extra storage!</p> </div> </div> </div>'),a.put("components/project-filter/project-filter-directive.tpl.html",'<ul class="nav navbar-nav" refresh-on="OrganizationChanged ProjectChanged" refresh-action="vm.get()" refresh-throttle="2500"> <li class="dropdown" dropdown> <a class="dropdown-toggle" dropdown-toggle refresh-on="filterChanged" refresh-action="vm.getFilterName()"> <span>{{vm.filterName}}</span> <b class="caret"></b> </a> <div class="dropdown-menu w-xl project-filter-dropdown-menu" ng-style="{\'max-height\': vm.filterDropDownMaxHeight + \'px\'}"> <div class="panel bg-dark"> <div class="list-group"> <div ng-repeat="organization in vm.organizations | orderBy: \'name\' track by organization.id"> <a class="media list-group-item" ng-if="$first" ng-href="{{vm.getAllProjectsUrl()}}" auto-active>All Projects</a> <a class="media list-group-item" ng-href="{{vm.getOrganizationUrl(organization)}}" auto-active>{{organization.name}} <span class="icon-right" ui-sref="app.organization.manage({ id: organization.id })" show-on-hover-parent><i class="fa fa-gear fa-fw"></i></span> </a> <a class="media list-group-item project-name" ng-href="{{vm.getProjectUrl(project)}}" auto-active ng-repeat="project in vm.getProjectsByOrganizationId(organization.id) | orderBy: \'name\' track by project.id">{{project.name}} <span class="icon-right" ui-sref="app.project.manage({ id: project.id })" show-on-hover-parent><i class="fa fa-gear fa-fw"></i></span> </a> </div> <a class="list-group-footer media list-group-item" ui-sref="app.project.add" auto-active>Add New Project</a> </div> </div> </div> </li> </ul>'),a.put("components/projects/projects-directive.tpl.html",'<div class="table-responsive" refresh-on="OrganizationChanged ProjectChanged" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="2500"> <table class="table table-striped table-bordered table-fixed b-t" refresh-on="PersistentEventChanged planChanged" refresh-action="vm.get(vm.currentOptions, false)" refresh-throttle="2500"> <thead> <tr> <th>Name</th> <th ng-show="vm.includeOrganizationName">Organization</th> <th class="number hidden-xs">Stacks</th> <th class="number hidden-xs">Events</th> <th class="action">Actions</th> </tr> </thead> <tbody> <tr class="row-clickable" ng-repeat="project in vm.projects | orderBy: \'name\' track by project.id" ng-if="vm.hasProjects()"> <td ng-click="vm.open(project.id, $event)">{{project.name}}</td> <td ng-show="vm.includeOrganizationName" ng-click="vm.open(project.id, $event)">{{project.organization_name}}</td> <td ng-click="vm.open(project.id, $event)" class="number hidden-xs">{{project.stack_count | number:0}}</td> <td ng-click="vm.open(project.id, $event)" class="number hidden-xs">{{project.event_count | number:0}}</td> <td> <div class="btn-group"> <button type="button" role="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-fw fa-edit"></i> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li><a ui-sref="app.project-dashboard({ projectId: project.id })"><i class="fa fa-fw fa-dashboard"></i> Dashboard</a></li> <li><a ui-sref="app.project.manage({ id: project.id })"><i class="fa fa-fw fa-edit"></i> Edit</a></li> <li><a ui-sref="app.project.configure({ id: project.id })"><i class="fa fa-fw fa-cloud-download"></i> Download & Configure Client</a></li> <li><a ng-click="vm.remove(project)"><i class="fa fa-fw fa-times"></i> Delete</a></li> </ul> </div> </td> </tr> <tr ng-if="!vm.hasProjects()"> <td class="hidden-xs" colspan="5" ng-if="vm.includeOrganizationName"> <strong>No projects were found.</strong> </td> <td class="visible-xs" colspan="3" ng-if="vm.includeOrganizationName"> <strong>No projects were found.</strong> </td> <td class="hidden-xs" colspan="4" ng-if="!vm.includeOrganizationName"> <strong>No projects were found.</strong> </td> <td class="visible-xs" colspan="2" ng-if="!vm.includeOrganizationName"> <strong>No projects were found.</strong> </td> </tr> </tbody> </table> <div class="table-footer" ng-if="vm.previous || vm.next"> <div class="row"> <div class="col-sm-8 col-xs-8 text-center" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"><a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a></li> <li ng-class="{\'disabled\': !vm.previous}"><a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a></li> <li ng-class="{\'disabled\': !vm.next}"><a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a></li> </ul> </div> </div> </div> </div>'),a.put("components/promise-button/promise-button-directive.tpl.html",'<span> <span ng-if="running"> <span class="fa fa-spinner fa-spin" ng-class="promiseButtonBusySpinnerClass"></span> <span ng-if="promiseButtonBusyText">{{promiseButtonBusyText}}</span> <span ng-if="!promiseButtonBusyText" ng-transclude></span> </span> <span ng-if="!running" ng-transclude></span> </span>'),a.put("components/rate-limit/rate-limit-directive.tpl.html",'<div class="alert alert-danger alert-banner m-b-none" ng-if="vm.rateLimitExceeded()"> <h4>API rate limit exceeded</h4> <p>Your API rate limit has been exceeded. Please try again in 15 minutes.</p> </div>'),a.put("components/release-notification/release-notification-directive.tpl.html",'<div refresh-on="notification:release" refresh-action="vm.processNotification(data)"></div>'),a.put("components/search-filter/search-filter-directive.tpl.html",'<ul class="nav navbar-nav" refresh-on="filterChanged" refresh-action="vm.updateFilter()"> <li class="dropdown" dropdown is-open="vm.isDropDownOpen"> <a class="dropdown-toggle" dropdown-toggle> <i class="fa fa-fw fa-search fa-lg" ng-class="{\'text-success\': vm.hasFilter() }"></i> </a> <div class="dropdown-menu w-xl" role="menu"> <div class="panel search-panel bg-dark"> <form name="vm.searchFilterForm" role="form" class="form-validation"> <div class="form-group"> <label for="search">Filter <a href="https://github.com/exceptionless/Exceptionless/wiki/Filtering-Searching" target="_blank" title="Search Documentation"><i class="fa fa-fw fa-question-circle"></i></a></label> <div ng-class="{\'input-group\': vm.searchFilterForm.$pending }"> <input id="search" name="search" type="search" class="form-control" placeholder="Criteria" ng-model="vm.filter" ng-model-options="{ debounce: 500 }" ng-change="vm.setFilter(vm.filter)" search-filter-validator autofocus> <span class="input-group-addon" ng-if="vm.searchFilterForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.searchFilterForm.search.$error" ng-if="vm.searchFilterForm.$submitted || vm.searchFilterForm.search.$touched"> <small ng-message="valid">An invalid search term was found.</small> </div> </div> <div class="checkbox"> <label class="i-checks"> <input id="includeFixed" type="checkbox" ng-model="vm.includeFixed" ng-change="vm.setIncludeFixed(vm.includeFixed)"><i></i> Include Fixed </label> </div> <div class="checkbox"> <label class="i-checks"> <input id="includeHidden" type="checkbox" ng-model="vm.includeHidden" ng-change="vm.setIncludeHidden(vm.includeHidden)"><i></i> Include Hidden </label> </div> <input type="button" role="button" class="btn btn-primary w-sm" ng-click="vm.clearFilter()" value="Clear"> </form> </div> </div> </li> </ul>'),
a.put("components/stacks/stacks-directive.tpl.html",'<div class="table-responsive" refresh-on="filterChanged" refresh-action="vm.get()"> <table class="table table-striped table-bordered table-selectable table-fixed b-t table-hover table-clickable" refresh-on="StackChanged planChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="2500"> <thead> <tr> <th class="selection hidden-xs"> <label class="i-checks m-b-none"> <input type="checkbox" ng-click="vm.updateSelection()" ng-checked="vm.hasSelection()" ng-disabled="!vm.hasStacks()"><i></i> </label> </th> <th>Summary</th> <th class="number">Count</th> <th class="date hidden-xs">First</th> <th class="date">Last</th> </tr> </thead> <tbody> <tr class="row-clickable" ng-repeat="stack in vm.stacks track by stack.id" ng-if="vm.hasStacks()"> <td class="hidden-xs"> <label class="i-checks m-b-none"><input type="checkbox" checklist-model="vm.selectedIds" checklist-value="stack.id"><i></i></label> </td> <td ng-click="vm.open(stack.id, $event)"> <summary source="stack" show-type="vm.showType"></summary> </td> <td ng-click="vm.open(stack.id, $event)" class="number">{{stack.total | number:0}}</td> <td ng-click="vm.open(stack.id, $event)" class="hidden-xs"> <abbr title="{{::stack.first_occurrence | date : \'medium\'}}"> <timeago date="stack.first_occurrence"></timeago> </abbr> </td> <td ng-click="vm.open(stack.id, $event)"><abbr title="{{::stack.last_occurrence | date : \'medium\'}}"> <timeago date="stack.last_occurrence"></timeago> </abbr></td> </tr> <tr ng-if="!vm.hasStacks()"> <td class="hidden-xs"><label class="i-checks m-b-none"><input type="checkbox" disabled><i></i></label></td> <td colspan="4" class="hidden-xs"> <strong>No data found.</strong> </td> <td colspan="3" class="visible-xs"> <strong>No data found.</strong> </td> </tr> </tbody> </table> <div class="table-footer"> <div class="row"> <div class="col-sm-4 hidden-xs"> <div class="dropdown"> <button type="button" role="button" id="bulkActions" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> Bulk Action <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="bulkActions"> <li role="presentation"><a role="menuitem" tabindex="-1" ng-repeat="action in vm.actions" ng-click="vm.save(action)">{{::action.name}}</a></li> </ul> </div> </div> <div class="col-sm-4 text-center" ng-class="vm.previous || vm.next ? \'col-xs-8\': \'col-xs-12\'" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right" ng-if="vm.previous || vm.next"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"><a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a></li> <li ng-class="{\'disabled\': !vm.previous}"><a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a></li> <li ng-class="{\'disabled\': !vm.next}"><a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a></li> </ul> </div> </div> </div> </div>'),a.put("components/summary/templates/event-error-summary.tpl.html",'<div> <strong> <abbr title="{{::source.data.type_full_name}}">{{::source.data.type}}</abbr> <span ng-if="!source.data.method">:</span> </strong> <span ng-if="source.data.method"> in <strong> <abbr title="{{::source.data.method_full_name}}">{{::source.data.method}}</abbr> </strong> </span> <a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.message}}</a> </div> <div class="hidden-xs error-path" ng-if="source.data.path"><i class="fa fa-caret-right"></i> <span truncate>{{::source.data.path}}</span> </div>'),a.put("components/summary/templates/event-feature-summary.tpl.html",'<span ng-if="showType"><strong>Feature</strong>:&nbsp;</span><a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.source}}</a>'),a.put("components/summary/templates/event-log-summary.tpl.html",'<span ng-if="source.data.level" class="label label-default" ng-class="{ \'label-success\': isLevelSuccess, \'label-info\': isLevelInfo, \'label-warning\': isLevelWarning, \'label-danger\': isLevelError }">{{::source.data.level}}</span><strong ng-if="showType">Log</strong><span ng-if="showType && source.data.source">&nbsp;in&nbsp;</span><strong ng-if="source.data.source">{{::source.data.source}}</strong><span ng-if="showType || source.data.source">:&nbsp;</span><a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.message}}</a>'),a.put("components/summary/templates/event-notfound-summary.tpl.html",'<span ng-if="showType"><strong>404</strong>:&nbsp;</span><a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.source}}</a>'),a.put("components/summary/templates/event-session-summary.tpl.html",'<span ng-if="showType"><strong>Session</strong>:&nbsp;</span><a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.session_id}}</a>'),a.put("components/summary/templates/event-simple-summary.tpl.html",'<div> <strong> <abbr title="{{::source.data.type_full_name}}">{{::source.data.type}}</abbr>: </strong> <a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.message}}</a> </div> <div class="hidden-xs error-path" ng-if="source.data.path"><i class="fa fa-caret-right"></i> <span truncate>{{::source.data.path}}</span> </div>'),a.put("components/summary/templates/event-summary.tpl.html",'<strong ng-if="showType">{{::source.data.type}}</strong><span ng-if="showType && source.data.source">&nbsp;in&nbsp;</span><strong ng-if="source.data.source">{{::source.data.source}}</strong><span ng-if="showType || source.data.source">:&nbsp;</span><a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.message}}</a>'),a.put("components/summary/templates/stack-error-summary.tpl.html",'<div> <strong> <abbr title="{{::source.data.type_full_name}}">{{::source.data.type}}</abbr> <span ng-if="!source.data.method">:</span> </strong> <span ng-if="source.data.method"> in <strong> <abbr title="{{::source.data.method_full_name}}">{{::source.data.method}}</abbr> </strong> </span> <a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{::source.data.title}}</a> </div> <div class="hidden-xs error-path" ng-if="source.data.path"><i class="fa fa-caret-right"></i> <span truncate>{{::source.data.path}}</span> </div>'),a.put("components/summary/templates/stack-feature-summary.tpl.html",'<span ng-if="showType"><strong>Feature</strong>:&nbsp;</span><a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{::source.data.title}}</a>'),a.put("components/summary/templates/stack-log-summary.tpl.html",'<span ng-if="showType"><strong>Log source</strong>:&nbsp;</span><a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{::source.title}}</a>'),a.put("components/summary/templates/stack-notfound-summary.tpl.html",'<span ng-if="showType"><strong>404</strong>:&nbsp;</span><a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{source.data.title}}</a>'),a.put("components/summary/templates/stack-session-summary.tpl.html",'<span ng-if="showType"><strong>Session</strong>:&nbsp;</span><a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{source.data.title}}</a>'),a.put("components/summary/templates/stack-simple-summary.tpl.html",'<div> <strong> <abbr title="{{::source.data.type_full_name}}">{{::source.data.type}}</abbr>: </strong> <a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{::source.data.title}}</a> </div> <div class="hidden-xs error-path" ng-if="source.data.path"><i class="fa fa-caret-right"></i> <span truncate>{{::source.data.path}}</span> </div>'),a.put("components/summary/templates/stack-summary.tpl.html",'<strong ng-if="showType">{{::source.data.type}}</strong><span ng-if="showType && source.data.source">&nbsp;in&nbsp;</span><strong ng-if="source.data.source">{{::source.data.source}}</strong><span ng-if="showType || source.data.source">:&nbsp;</span><a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{::source.title}}</a>'),a.put("components/users/users-directive.tpl.html",'<div class="table-responsive"> <table class="table table-striped table-bordered table-fixed b-t" refresh-on="OrganizationChanged UserChanged" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="2500"> <thead> <tr> <th>Email Address</th> <th class="action">Actions</th> </tr> </thead> <tbody> <tr ng-repeat="user in vm.users"> <td> <span>{{::user.email_address}}</span> <span ng-if="user.has_admin_role" class="label label-info">Admin</span> <span ng-if="user.is_invite" class="label label-default">Invited</span> </td> <td> <div class="btn-group"> <button type="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-fw fa-edit"></i> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li ng-if="vm.settings.organizationId"><a ng-click="vm.resendNotification(user)"><i class="fa fa-envelope"></i> Resend Invite Email</a></li> <li ng-if="vm.settings.organizationId"><a ng-click="vm.remove(user)"><i class="fa fa-times"></i> {{user.is_invite ? \'Revoke Invite\' : \'Remove User\' }}</a></li> <li ng-if="!user.is_invite && vm.hasAdminRole(appVm.user)"> <a ng-click="vm.updateAdminRole(user)"><i class="fa fa-user"></i> {{vm.hasAdminRole(user)? \'Add Admin Role\' : \'Remove Admin Role\' }}</a> </li> </ul> </div> </td> </tr> <tr ng-if="!vm.hasUsers()"> <td colspan="2"> <strong>No users were found.</strong> </td> </tr> </tbody> </table> <div class="table-footer" ng-if="vm.previous || vm.next"> <div class="row"> <div class="col-sm-8 col-xs-8 text-center" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"><a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a></li> <li ng-class="{\'disabled\': !vm.previous}"><a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a></li> <li ng-class="{\'disabled\': !vm.next}"><a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a></li> </ul> </div> </div> </div> </div>'),a.put("components/web-hook/add-web-hook-dialog.tpl.html",'<form name="vm.addWebHookForm" role="form" class="form-validation" autocomplete="on"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title"><i class="fa fa-flash fa-fw"></i> Create New Web Hook</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="url">URL</label> <input id="url" name="url" type="url" class="form-control input-lg" placeholder="Enter the URL to call" ng-model="vm.data.url" ng-required="true" autofocus> <div class="error" ng-messages="vm.addWebHookForm.url.$error" ng-if="vm.addWebHookForm.$submitted || vm.addWebHookForm.url.$touched"> <small ng-message="required">URL is required.</small> <small ng-message="url">URL is required.</small> </div> </div> <p>Control when the web hook is called by choosing the event types below.</p> <div class="form-group"> <div class="checkbox checkbox-inline" ng-repeat="type in vm.eventTypes"> <label class="i-checks"> <input name="types" type="checkbox" checklist-model="vm.data.event_types" checklist-value="type.key" ng-required="!vm.hasEventTypeSelection()"> <i></i> <abbr title="{{::type.description}}">{{::type.name}}</abbr> </label> </div> <div class="error" ng-messages="vm.addWebHookForm.types.$error" ng-if="vm.addWebHookForm.$submitted || vm.addWebHookForm.types.$touched"> <small ng-message="required">Please choose one or more event types.</small> </div> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()">Cancel</button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save(vm.addWebHookForm.$valid)" value="Create Web Hook"> </div> </form>')}]);
//# sourceMappingURL=app.min.js.map